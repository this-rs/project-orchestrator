# =============================================================================
# Project Orchestrator — Configuration
# =============================================================================
#
# Copy this file to config.yaml and adjust values.
# Environment variables override YAML values (priority: env > yaml > default).
#
# IMPORTANT: If the "auth" section is absent, the server will deny ALL
# requests to /api/* and /ws/* endpoints (deny-by-default security).

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
server:
  port: 8080                    # SERVER_PORT env override
  workspace_path: "."           # WORKSPACE_PATH env override

# -----------------------------------------------------------------------------
# Neo4j — Knowledge graph database
# -----------------------------------------------------------------------------
neo4j:
  uri: "bolt://localhost:7687"  # NEO4J_URI env override
  user: "neo4j"                 # NEO4J_USER env override
  password: "orchestrator123"   # NEO4J_PASSWORD env override

# -----------------------------------------------------------------------------
# Meilisearch — Semantic search engine
# -----------------------------------------------------------------------------
meilisearch:
  url: "http://localhost:7700"              # MEILISEARCH_URL env override
  key: "orchestrator-meili-key-change-me"   # MEILISEARCH_KEY env override

# -----------------------------------------------------------------------------
# Chat — Claude Code integration (optional, uses env vars)
# -----------------------------------------------------------------------------
chat:
  default_model: "claude-opus-4-6"    # CHAT_DEFAULT_MODEL env override
  max_sessions: 10                     # CHAT_MAX_SESSIONS env override
  session_timeout_secs: 1800           # CHAT_SESSION_TIMEOUT_SECS env override
  max_turns: 50                        # CHAT_MAX_TURNS env override
  prompt_builder_model: "claude-opus-4-6"  # PROMPT_BUILDER_MODEL env override

# -----------------------------------------------------------------------------
# Authentication — Google OAuth + JWT
# -----------------------------------------------------------------------------
# Remove or comment out this entire section to activate deny-by-default mode.
#
# auth:
#   # Google OAuth2 credentials (from https://console.cloud.google.com)
#   google_client_id: "YOUR_CLIENT_ID.apps.googleusercontent.com"
#   google_client_secret: "YOUR_CLIENT_SECRET"
#   google_redirect_uri: "http://localhost:3000/auth/callback"
#
#   # JWT signing secret (min 32 characters, keep private!)
#   jwt_secret: "change-me-to-a-random-32-char-string!"
#
#   # Token lifetime in seconds (default: 28800 = 8 hours)
#   jwt_expiry_secs: 28800
#
#   # Optional: restrict to a specific email domain
#   allowed_email_domain: "ffs.holdings"
#
#   # Frontend URL for CORS and OAuth redirects
#   frontend_url: "http://localhost:3000"
