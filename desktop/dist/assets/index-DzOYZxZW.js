const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/window-DVaqaQD9.js","assets/core-DhEqZVGG.js","assets/event-DjZVAIBO.js","assets/index-BX8NxulX.js"])))=>i.map(i=>d[i]);
var QP=Object.defineProperty;var JP=(e,t,n)=>t in e?QP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Nn=(e,t,n)=>JP(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Og={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function eB(){if(p2)return Pc;p2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Pc.Fragment=t,Pc.jsx=n,Pc.jsxs=n,Pc}var m2;function tB(){return m2||(m2=1,Og.exports=eB()),Og.exports}var a=tB(),Dg={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function nB(){if(g2)return Ke;g2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function S($,H,I){this.props=$,this.context=H,this.refs=w,this.updater=I||y}S.prototype.isReactComponent={},S.prototype.setState=function($,H){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,H,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=S.prototype;function N($,H,I){this.props=$,this.context=H,this.refs=w,this.updater=I||y}var C=N.prototype=new j;C.constructor=N,_(C,S.prototype),C.isPureReactComponent=!0;var A=Array.isArray;function T(){}var M={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function U($,H,I){var V=I.ref;return{$$typeof:e,type:$,key:H,ref:V!==void 0?V:null,props:I}}function z($,H){return U($.type,H,$.props)}function R($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function q($){var H={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(I){return H[I]})}var Y=/\/+/g;function L($,H){return typeof $=="object"&&$!==null&&$.key!=null?q(""+$.key):H.toString(36)}function F($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(T,T):($.status="pending",$.then(function(H){$.status==="pending"&&($.status="fulfilled",$.value=H)},function(H){$.status==="pending"&&($.status="rejected",$.reason=H)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function B($,H,I,V,Z){var Q=typeof $;(Q==="undefined"||Q==="boolean")&&($=null);var ae=!1;if($===null)ae=!0;else switch(Q){case"bigint":case"string":case"number":ae=!0;break;case"object":switch($.$$typeof){case e:case t:ae=!0;break;case p:return ae=$._init,B(ae($._payload),H,I,V,Z)}}if(ae)return Z=Z($),ae=V===""?"."+L($,0):V,A(Z)?(I="",ae!=null&&(I=ae.replace(Y,"$&/")+"/"),B(Z,H,I,"",function(de){return de})):Z!=null&&(R(Z)&&(Z=z(Z,I+(Z.key==null||$&&$.key===Z.key?"":(""+Z.key).replace(Y,"$&/")+"/")+ae)),H.push(Z)),1;ae=0;var te=V===""?".":V+":";if(A($))for(var ne=0;ne<$.length;ne++)V=$[ne],Q=te+L(V,ne),ae+=B(V,H,I,Q,Z);else if(ne=b($),typeof ne=="function")for($=ne.call($),ne=0;!(V=$.next()).done;)V=V.value,Q=te+L(V,ne++),ae+=B(V,H,I,Q,Z);else if(Q==="object"){if(typeof $.then=="function")return B(F($),H,I,V,Z);throw H=String($),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ae}function X($,H,I){if($==null)return $;var V=[],Z=0;return B($,V,"","",function(Q){return H.call(I,Q,Z++)}),V}function W($){if($._status===-1){var H=$._result;H=H(),H.then(function(I){($._status===0||$._status===-1)&&($._status=1,$._result=I)},function(I){($._status===0||$._status===-1)&&($._status=2,$._result=I)}),$._status===-1&&($._status=0,$._result=H)}if($._status===1)return $._result.default;throw $._result}var K=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},D={map:X,forEach:function($,H,I){X($,function(){H.apply(this,arguments)},I)},count:function($){var H=0;return X($,function(){H++}),H},toArray:function($){return X($,function(H){return H})||[]},only:function($){if(!R($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ke.Activity=m,Ke.Children=D,Ke.Component=S,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=N,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ke.__COMPILER_RUNTIME={__proto__:null,c:function($){return M.H.useMemoCache($)}},Ke.cache=function($){return function(){return $.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function($,H,I){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var V=_({},$.props),Z=$.key;if(H!=null)for(Q in H.key!==void 0&&(Z=""+H.key),H)!P.call(H,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&H.ref===void 0||(V[Q]=H[Q]);var Q=arguments.length-2;if(Q===1)V.children=I;else if(1<Q){for(var ae=Array(Q),te=0;te<Q;te++)ae[te]=arguments[te+2];V.children=ae}return U($.type,Z,V)},Ke.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Ke.createElement=function($,H,I){var V,Z={},Q=null;if(H!=null)for(V in H.key!==void 0&&(Q=""+H.key),H)P.call(H,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(Z[V]=H[V]);var ae=arguments.length-2;if(ae===1)Z.children=I;else if(1<ae){for(var te=Array(ae),ne=0;ne<ae;ne++)te[ne]=arguments[ne+2];Z.children=te}if($&&$.defaultProps)for(V in ae=$.defaultProps,ae)Z[V]===void 0&&(Z[V]=ae[V]);return U($,Q,Z)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function($){return{$$typeof:u,render:$}},Ke.isValidElement=R,Ke.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:W}},Ke.memo=function($,H){return{$$typeof:f,type:$,compare:H===void 0?null:H}},Ke.startTransition=function($){var H=M.T,I={};M.T=I;try{var V=$(),Z=M.S;Z!==null&&Z(I,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(T,K)}catch(Q){K(Q)}finally{H!==null&&I.types!==null&&(H.types=I.types),M.T=H}},Ke.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ke.use=function($){return M.H.use($)},Ke.useActionState=function($,H,I){return M.H.useActionState($,H,I)},Ke.useCallback=function($,H){return M.H.useCallback($,H)},Ke.useContext=function($){return M.H.useContext($)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function($,H){return M.H.useDeferredValue($,H)},Ke.useEffect=function($,H){return M.H.useEffect($,H)},Ke.useEffectEvent=function($){return M.H.useEffectEvent($)},Ke.useId=function(){return M.H.useId()},Ke.useImperativeHandle=function($,H,I){return M.H.useImperativeHandle($,H,I)},Ke.useInsertionEffect=function($,H){return M.H.useInsertionEffect($,H)},Ke.useLayoutEffect=function($,H){return M.H.useLayoutEffect($,H)},Ke.useMemo=function($,H){return M.H.useMemo($,H)},Ke.useOptimistic=function($,H){return M.H.useOptimistic($,H)},Ke.useReducer=function($,H,I){return M.H.useReducer($,H,I)},Ke.useRef=function($){return M.H.useRef($)},Ke.useState=function($){return M.H.useState($)},Ke.useSyncExternalStore=function($,H,I){return M.H.useSyncExternalStore($,H,I)},Ke.useTransition=function(){return M.H.useTransition()},Ke.version="19.2.4",Ke}var x2;function Mu(){return x2||(x2=1,Dg.exports=nB()),Dg.exports}var E=Mu();const un=yl(E);var Lg={exports:{}},Bc={},Ig={exports:{}},zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function rB(){return b2||(b2=1,(function(e){function t(B,X){var W=B.length;B.push(X);e:for(;0<W;){var K=W-1>>>1,D=B[K];if(0<i(D,X))B[K]=X,B[W]=D,W=K;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var X=B[0],W=B.pop();if(W!==X){B[0]=W;e:for(var K=0,D=B.length,$=D>>>1;K<$;){var H=2*(K+1)-1,I=B[H],V=H+1,Z=B[V];if(0>i(I,W))V<D&&0>i(Z,I)?(B[K]=Z,B[V]=W,K=V):(B[K]=I,B[H]=W,K=H);else if(V<D&&0>i(Z,W))B[K]=Z,B[V]=W,K=V;else break e}}return X}function i(B,X){var W=B.sortIndex-X.sortIndex;return W!==0?W:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,g=3,b=!1,y=!1,_=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=B)r(f),X.sortIndex=X.expirationTime,t(d,X);else break;X=n(f)}}function A(B){if(_=!1,C(B),!y)if(n(d)!==null)y=!0,T||(T=!0,q());else{var X=n(f);X!==null&&F(A,X.startTime-B)}}var T=!1,M=-1,P=5,U=-1;function z(){return w?!0:!(e.unstable_now()-U<P)}function R(){if(w=!1,T){var B=e.unstable_now();U=B;var X=!0;try{e:{y=!1,_&&(_=!1,j(M),M=-1),b=!0;var W=g;try{t:{for(C(B),m=n(d);m!==null&&!(m.expirationTime>B&&z());){var K=m.callback;if(typeof K=="function"){m.callback=null,g=m.priorityLevel;var D=K(m.expirationTime<=B);if(B=e.unstable_now(),typeof D=="function"){m.callback=D,C(B),X=!0;break t}m===n(d)&&r(d),C(B)}else r(d);m=n(d)}if(m!==null)X=!0;else{var $=n(f);$!==null&&F(A,$.startTime-B),X=!1}}break e}finally{m=null,g=W,b=!1}X=void 0}}finally{X?q():T=!1}}}var q;if(typeof N=="function")q=function(){N(R)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,L=Y.port2;Y.port1.onmessage=R,q=function(){L.postMessage(null)}}else q=function(){S(R,0)};function F(B,X){M=S(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(B){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var W=g;g=X;try{return B()}finally{g=W}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=g;g=B;try{return X()}finally{g=W}},e.unstable_scheduleCallback=function(B,X,W){var K=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=W+D,B={id:p++,callback:X,priorityLevel:B,startTime:W,expirationTime:D,sortIndex:-1},W>K?(B.sortIndex=W,t(f,B),n(d)===null&&B===n(f)&&(_?(j(M),M=-1):_=!0,F(A,W-K))):(B.sortIndex=D,t(d,B),y||b||(y=!0,T||(T=!0,q()))),B},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(B){var X=g;return function(){var W=g;g=X;try{return B.apply(this,arguments)}finally{g=W}}}})(zg)),zg}var y2;function iB(){return y2||(y2=1,Ig.exports=rB()),Ig.exports}var Pg={exports:{}},or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function sB(){if(v2)return or;v2=1;var e=Mu();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,or.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},or.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},or.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},or.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},or.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},or.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},or.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},or.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},or.requestFormReset=function(d){r.d.r(d)},or.unstable_batchedUpdates=function(d,f){return d(f)},or.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},or.useFormStatus=function(){return l.H.useHostTransitionStatus()},or.version="19.2.4",or}var _2;function oO(){if(_2)return Pg.exports;_2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=sB(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function aB(){if(w2)return Bc;w2=1;var e=iB(),t=Mu(),n=oO();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var c=s,h=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(h=c.return),s=c.return;while(s)}return c.tag===3?h:null}function l(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=o(s),c===null)throw Error(r(188));return c!==s?null:s}for(var h=s,x=c;;){var v=h.return;if(v===null)break;var k=v.alternate;if(k===null){if(x=v.return,x!==null){h=x;continue}break}if(v.child===k.child){for(k=v.child;k;){if(k===h)return d(v),s;if(k===x)return d(v),c;k=k.sibling}throw Error(r(188))}if(h.return!==x.return)h=v,x=k;else{for(var O=!1,G=v.child;G;){if(G===h){O=!0,h=v,x=k;break}if(G===x){O=!0,x=v,h=k;break}G=G.sibling}if(!O){for(G=k.child;G;){if(G===h){O=!0,h=k,x=v;break}if(G===x){O=!0,x=k,h=v;break}G=G.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:c}function p(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=p(s),c!==null)return c;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),N=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Symbol.for("react.client.reference");function L(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Y?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case U:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case y:return"Portal";case N:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return c=s.displayName||null,c!==null?c:L(s.type)||"Memo";case P:c=s._payload,s=s._init;try{return L(s(c))}catch{}}return null}var F=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},K=[],D=-1;function $(s){return{current:s}}function H(s){0>D||(s.current=K[D],K[D]=null,D--)}function I(s,c){D++,K[D]=s.current,s.current=c}var V=$(null),Z=$(null),Q=$(null),ae=$(null);function te(s,c){switch(I(Q,c),I(Z,s),I(V,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?zk(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=zk(c),s=Pk(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(V),I(V,s)}function ne(){H(V),H(Z),H(Q)}function de(s){s.memoizedState!==null&&I(ae,s);var c=V.current,h=Pk(c,s.type);c!==h&&(I(Z,s),I(V,h))}function ge(s){Z.current===s&&(H(V),H(Z)),ae.current===s&&(H(ae),Dc._currentValue=W)}var re,ue;function _e(s){if(re===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);re=c&&c[1]||"",ue=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+s+ue}var we=!1;function be(s,c){if(!s||we)return"";we=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(fe){var ce=fe}Reflect.construct(s,[],ve)}else{try{ve.call()}catch(fe){ce=fe}s.call(ve.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(ve=s())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=x.DetermineComponentFrameRoot(),O=k[0],G=k[1];if(O&&G){var ee=O.split(`
`),le=G.split(`
`);for(v=x=0;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;for(;v<le.length&&!le[v].includes("DetermineComponentFrameRoot");)v++;if(x===ee.length||v===le.length)for(x=ee.length-1,v=le.length-1;1<=x&&0<=v&&ee[x]!==le[v];)v--;for(;1<=x&&0<=v;x--,v--)if(ee[x]!==le[v]){if(x!==1||v!==1)do if(x--,v--,0>v||ee[x]!==le[v]){var me=`
`+ee[x].replace(" at new "," at ");return s.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",s.displayName)),me}while(1<=x&&0<=v);break}}}finally{we=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?_e(h):""}function je(s,c){switch(s.tag){case 26:case 27:case 5:return _e(s.type);case 16:return _e("Lazy");case 13:return s.child!==c&&c!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return be(s.type,!1);case 11:return be(s.type.render,!1);case 1:return be(s.type,!0);case 31:return _e("Activity");default:return""}}function qe(s){try{var c="",h=null;do c+=je(s,h),h=s,s=s.return;while(s);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var it=Object.prototype.hasOwnProperty,Ht=e.unstable_scheduleCallback,mn=e.unstable_cancelCallback,rn=e.unstable_shouldYield,Dt=e.unstable_requestPaint,ht=e.unstable_now,Gn=e.unstable_getCurrentPriorityLevel,he=e.unstable_ImmediatePriority,Se=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,He=e.unstable_LowPriority,We=e.unstable_IdlePriority,Gt=e.log,qn=e.unstable_setDisableYieldValue,Lt=null,mt=null;function vn(s){if(typeof Gt=="function"&&qn(s),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(Lt,s)}catch{}}var gt=Math.clz32?Math.clz32:Ps,yr=Math.log,Rn=Math.LN2;function Ps(s){return s>>>=0,s===0?32:31-(yr(s)/Rn|0)|0}var bi=256,Bi=262144,tn=4194304;function It(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function J(s,c,h){var x=s.pendingLanes;if(x===0)return 0;var v=0,k=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var G=x&134217727;return G!==0?(x=G&~k,x!==0?v=It(x):(O&=G,O!==0?v=It(O):h||(h=G&~s,h!==0&&(v=It(h))))):(G=x&~k,G!==0?v=It(G):O!==0?v=It(O):h||(h=x&~s,h!==0&&(v=It(h)))),v===0?0:c!==0&&c!==v&&(c&k)===0&&(k=v&-v,h=c&-c,k>=h||k===32&&(h&4194048)!==0)?c:v}function pe(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Ee(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var s=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),s}function rt(s){for(var c=[],h=0;31>h;h++)c.push(s);return c}function lt(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Te(s,c,h,x,v,k){var O=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var G=s.entanglements,ee=s.expirationTimes,le=s.hiddenUpdates;for(h=O&~h;0<h;){var me=31-gt(h),ve=1<<me;G[me]=0,ee[me]=-1;var ce=le[me];if(ce!==null)for(le[me]=null,me=0;me<ce.length;me++){var fe=ce[me];fe!==null&&(fe.lane&=-536870913)}h&=~ve}x!==0&&Ae(s,x,0),k!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=k&~(O&~c))}function Ae(s,c,h){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-gt(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|h&261930}function Le(s,c){var h=s.entangledLanes|=c;for(s=s.entanglements;h;){var x=31-gt(h),v=1<<x;v&c|s[x]&c&&(s[x]|=c),h&=~v}}function _t(s,c){var h=c&-c;return h=(h&42)!==0?1:wt(h),(h&(s.suspendedLanes|c))!==0?0:h}function wt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Zn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qn(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:o2(s.type))}function vr(s,c){var h=X.p;try{return X.p=s,c()}finally{X.p=h}}var ir=Math.random().toString(36).slice(2),gn="__reactFiber$"+ir,Vn="__reactProps$"+ir,yi="__reactContainer$"+ir,Bs="__reactEvents$"+ir,ja="__reactListeners$"+ir,$s="__reactHandles$"+ir,xo="__reactResources$"+ir,ts="__reactMarker$"+ir;function Ca(s){delete s[gn],delete s[Vn],delete s[Bs],delete s[ja],delete s[$s]}function Jn(s){var c=s[gn];if(c)return c;for(var h=s.parentNode;h;){if(c=h[yi]||h[gn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(s=Gk(s);s!==null;){if(h=s[gn])return h;s=Gk(s)}return c}s=h,h=s.parentNode}return null}function vi(s){if(s=s[gn]||s[yi]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function _i(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function $i(s){var c=s[xo];return c||(c=s[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function _n(s){s[ts]=!0}var bo=new Set,ns={};function wi(s,c){Ne(s,c),Ne(s+"Capture",c)}function Ne(s,c){for(ns[s]=c,s=0;s<c.length;s++)bo.add(c[s])}var Pe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},Tt={};function xn(s){return it.call(Tt,s)?!0:it.call(Ze,s)?!1:Pe.test(s)?Tt[s]=!0:(Ze[s]=!0,!1)}function Kn(s,c,h){if(xn(c))if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+h)}}function fr(s,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+h)}}function sr(s,c,h,x){if(x===null)s.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(c,h,""+x)}}function Vt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hr(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function yo(s,c,h){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var v=x.get,k=x.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return v.call(this)},set:function(O){h=""+O,k.call(this,O)}}),Object.defineProperty(s,c,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Si(s){if(!s._valueTracker){var c=hr(s)?"checked":"value";s._valueTracker=yo(s,c,""+s[c])}}function Ta(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return s&&(x=hr(s)?s.checked?"true":"false":s.value),s=x,s!==h?(c.setValue(s),!0):!1}function rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Yl=/[\n"\\]/g;function ar(s){return s.replace(Yl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function is(s,c,h,x,v,k,O,G){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),c!=null?O==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Vt(c)):s.value!==""+Vt(c)&&(s.value=""+Vt(c)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),c!=null?Us(s,O,Vt(c)):h!=null?Us(s,O,Vt(h)):x!=null&&s.removeAttribute("value"),v==null&&k!=null&&(s.defaultChecked=!!k),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Vt(G):s.removeAttribute("name")}function ss(s,c,h,x,v,k,O,G){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.type=k),c!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||c!=null)){Si(s);return}h=h!=null?""+Vt(h):"",c=c!=null?""+Vt(c):h,G||c===s.value||(s.value=c),s.defaultValue=c}x=x??v,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=G?s.checked:!!x,s.defaultChecked=!!x,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Si(s)}function Us(s,c,h){c==="number"&&rs(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function On(s,c,h,x){if(s=s.options,c){c={};for(var v=0;v<h.length;v++)c["$"+h[v]]=!0;for(h=0;h<s.length;h++)v=c.hasOwnProperty("$"+s[h].value),s[h].selected!==v&&(s[h].selected=v),v&&x&&(s[h].defaultSelected=!0)}else{for(h=""+Vt(h),c=null,v=0;v<s.length;v++){if(s[v].value===h){s[v].selected=!0,x&&(s[v].defaultSelected=!0);return}c!==null||s[v].disabled||(c=s[v])}c!==null&&(c.selected=!0)}}function ad(s,c,h){if(c!=null&&(c=""+Vt(c),c!==s.value&&(s.value=c),h==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=h!=null?""+Vt(h):""}function vo(s,c,h,x){if(c==null){if(x!=null){if(h!=null)throw Error(r(92));if(F(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),c=h}h=Vt(c),s.defaultValue=h,x=s.textContent,x===h&&x!==""&&x!==null&&(s.value=x),Si(s)}function Ge(s,c){if(c){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=c;return}}s.textContent=c}var od=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dn(s,c,h){var x=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,h):typeof h!="number"||h===0||od.has(c)?c==="float"?s.cssFloat=h:s[c]=(""+h).trim():s[c]=h+"px"}function Bt(s,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var v in c)x=c[v],c.hasOwnProperty(v)&&h[v]!==x&&Dn(s,v,x)}else for(var k in c)c.hasOwnProperty(k)&&Dn(s,k,c[k])}function qs(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(s){return Wl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ce(){}var Ie=null;function Ye(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ct=null,bn=null;function Zr(s){var c=vi(s);if(c&&(s=c.stateNode)){var h=s[Vn]||null;e:switch(s=c.stateNode,c.type){case"input":if(is(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ar(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==s&&x.form===s.form){var v=x[Vn]||null;if(!v)throw Error(r(90));is(x,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<h.length;c++)x=h[c],x.form===s.form&&Ta(x)}break e;case"textarea":ad(s,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&On(s,!!h.multiple,c,!1)}}}var Xl=!1;function ld(s,c,h){if(Xl)return s(c,h);Xl=!0;try{var x=s(c);return x}finally{if(Xl=!1,(ct!==null||bn!==null)&&(Wd(),ct&&(c=ct,s=bn,bn=ct=null,Zr(c),s)))for(c=0;c<s.length;c++)Zr(s[c])}}function Zl(s,c){var h=s.stateNode;if(h===null)return null;var x=h[Vn]||null;if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=!1;if(os)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){Op=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Op=!1}var Hs=null,Dp=null,cd=null;function PS(){if(cd)return cd;var s,c=Dp,h=c.length,x,v="value"in Hs?Hs.value:Hs.textContent,k=v.length;for(s=0;s<h&&c[s]===v[s];s++);var O=h-s;for(x=1;x<=O&&c[h-x]===v[k-x];x++);return cd=v.slice(s,1<x?1-x:void 0)}function ud(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function dd(){return!0}function BS(){return!1}function _r(s){function c(h,x,v,k,O){this._reactName=h,this._targetInst=v,this.type=x,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(h=s[G],this[G]=h?h(k):k[G]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?dd:BS,this.isPropagationStopped=BS,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),c}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fd=_r(Aa),Jl=m({},Aa,{view:0,detail:0}),X6=_r(Jl),Lp,Ip,ec,hd=m({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ec&&(ec&&s.type==="mousemove"?(Lp=s.screenX-ec.screenX,Ip=s.screenY-ec.screenY):Ip=Lp=0,ec=s),Lp)},movementY:function(s){return"movementY"in s?s.movementY:Ip}}),$S=_r(hd),Z6=m({},hd,{dataTransfer:0}),Q6=_r(Z6),J6=m({},Jl,{relatedTarget:0}),zp=_r(J6),ez=m({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),tz=_r(ez),nz=m({},Aa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rz=_r(nz),iz=m({},Aa,{data:0}),US=_r(iz),sz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},az={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lz(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=oz[s])?!!c[s]:!1}function Pp(){return lz}var cz=m({},Jl,{key:function(s){if(s.key){var c=sz[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=ud(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?az[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(s){return s.type==="keypress"?ud(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ud(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),uz=_r(cz),dz=m({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qS=_r(dz),fz=m({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),hz=_r(fz),pz=m({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),mz=_r(pz),gz=m({},hd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),xz=_r(gz),bz=m({},Aa,{newState:0,oldState:0}),yz=_r(bz),vz=[9,13,27,32],Bp=os&&"CompositionEvent"in window,tc=null;os&&"documentMode"in document&&(tc=document.documentMode);var _z=os&&"TextEvent"in window&&!tc,FS=os&&(!Bp||tc&&8<tc&&11>=tc),HS=" ",GS=!1;function VS(s,c){switch(s){case"keyup":return vz.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var _o=!1;function wz(s,c){switch(s){case"compositionend":return KS(c);case"keypress":return c.which!==32?null:(GS=!0,HS);case"textInput":return s=c.data,s===HS&&GS?null:s;default:return null}}function Sz(s,c){if(_o)return s==="compositionend"||!Bp&&VS(s,c)?(s=PS(),cd=Dp=Hs=null,_o=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return FS&&c.locale!=="ko"?null:c.data;default:return null}}var Nz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YS(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Nz[s.type]:c==="textarea"}function WS(s,c,h,x){ct?bn?bn.push(x):bn=[x]:ct=x,c=nf(c,"onChange"),0<c.length&&(h=new fd("onChange","change",null,h,x),s.push({event:h,listeners:c}))}var nc=null,rc=null;function Ez(s){Mk(s,0)}function pd(s){var c=_i(s);if(Ta(c))return s}function XS(s,c){if(s==="change")return c}var ZS=!1;if(os){var $p;if(os){var Up="oninput"in document;if(!Up){var QS=document.createElement("div");QS.setAttribute("oninput","return;"),Up=typeof QS.oninput=="function"}$p=Up}else $p=!1;ZS=$p&&(!document.documentMode||9<document.documentMode)}function JS(){nc&&(nc.detachEvent("onpropertychange",eN),rc=nc=null)}function eN(s){if(s.propertyName==="value"&&pd(rc)){var c=[];WS(c,rc,s,Ye(s)),ld(Ez,c)}}function kz(s,c,h){s==="focusin"?(JS(),nc=c,rc=h,nc.attachEvent("onpropertychange",eN)):s==="focusout"&&JS()}function jz(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pd(rc)}function Cz(s,c){if(s==="click")return pd(c)}function Tz(s,c){if(s==="input"||s==="change")return pd(c)}function Az(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Lr=typeof Object.is=="function"?Object.is:Az;function ic(s,c){if(Lr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var h=Object.keys(s),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var v=h[x];if(!it.call(c,v)||!Lr(s[v],c[v]))return!1}return!0}function tN(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nN(s,c){var h=tN(s);s=0;for(var x;h;){if(h.nodeType===3){if(x=s+h.textContent.length,s<=c&&x>=c)return{node:h,offset:c-s};s=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=tN(h)}}function rN(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?rN(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function iN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=rs(s.document);c instanceof s.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)s=c.contentWindow;else break;c=rs(s.document)}return c}function qp(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Mz=os&&"documentMode"in document&&11>=document.documentMode,wo=null,Fp=null,sc=null,Hp=!1;function sN(s,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Hp||wo==null||wo!==rs(x)||(x=wo,"selectionStart"in x&&qp(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),sc&&ic(sc,x)||(sc=x,x=nf(Fp,"onSelect"),0<x.length&&(c=new fd("onSelect","select",null,c,h),s.push({event:c,listeners:x}),c.target=wo)))}function Ma(s,c){var h={};return h[s.toLowerCase()]=c.toLowerCase(),h["Webkit"+s]="webkit"+c,h["Moz"+s]="moz"+c,h}var So={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Gp={},aN={};os&&(aN=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Ra(s){if(Gp[s])return Gp[s];if(!So[s])return s;var c=So[s],h;for(h in c)if(c.hasOwnProperty(h)&&h in aN)return Gp[s]=c[h];return s}var oN=Ra("animationend"),lN=Ra("animationiteration"),cN=Ra("animationstart"),Rz=Ra("transitionrun"),Oz=Ra("transitionstart"),Dz=Ra("transitioncancel"),uN=Ra("transitionend"),dN=new Map,Vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vp.push("scrollEnd");function Ni(s,c){dN.set(s,c),wi(c,[s])}var md=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Qr=[],No=0,Kp=0;function gd(){for(var s=No,c=Kp=No=0;c<s;){var h=Qr[c];Qr[c++]=null;var x=Qr[c];Qr[c++]=null;var v=Qr[c];Qr[c++]=null;var k=Qr[c];if(Qr[c++]=null,x!==null&&v!==null){var O=x.pending;O===null?v.next=v:(v.next=O.next,O.next=v),x.pending=v}k!==0&&fN(h,v,k)}}function xd(s,c,h,x){Qr[No++]=s,Qr[No++]=c,Qr[No++]=h,Qr[No++]=x,Kp|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function Yp(s,c,h,x){return xd(s,c,h,x),bd(s)}function Oa(s,c){return xd(s,null,null,c),bd(s)}function fN(s,c,h){s.lanes|=h;var x=s.alternate;x!==null&&(x.lanes|=h);for(var v=!1,k=s.return;k!==null;)k.childLanes|=h,x=k.alternate,x!==null&&(x.childLanes|=h),k.tag===22&&(s=k.stateNode,s===null||s._visibility&1||(v=!0)),s=k,k=k.return;return s.tag===3?(k=s.stateNode,v&&c!==null&&(v=31-gt(h),s=k.hiddenUpdates,x=s[v],x===null?s[v]=[c]:x.push(c),c.lane=h|536870912),k):null}function bd(s){if(50<jc)throw jc=0,rg=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Eo={};function Lz(s,c,h,x){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(s,c,h,x){return new Lz(s,c,h,x)}function Wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ls(s,c){var h=s.alternate;return h===null?(h=Ir(s.tag,c,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=c,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,c=s.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function hN(s,c){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,c=h.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function yd(s,c,h,x,v,k){var O=0;if(x=s,typeof s=="function")Wp(s)&&(O=1);else if(typeof s=="string")O=$P(s,h,V.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case U:return s=Ir(31,h,c,v),s.elementType=U,s.lanes=k,s;case _:return Da(h.children,v,k,c);case w:O=8,v|=24;break;case S:return s=Ir(12,h,c,v|2),s.elementType=S,s.lanes=k,s;case A:return s=Ir(13,h,c,v),s.elementType=A,s.lanes=k,s;case T:return s=Ir(19,h,c,v),s.elementType=T,s.lanes=k,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:O=10;break e;case j:O=9;break e;case C:O=11;break e;case M:O=14;break e;case P:O=16,x=null;break e}O=29,h=Error(r(130,s===null?"null":typeof s,"")),x=null}return c=Ir(O,h,c,v),c.elementType=s,c.type=x,c.lanes=k,c}function Da(s,c,h,x){return s=Ir(7,s,x,c),s.lanes=h,s}function Xp(s,c,h){return s=Ir(6,s,null,c),s.lanes=h,s}function pN(s){var c=Ir(18,null,null,0);return c.stateNode=s,c}function Zp(s,c,h){return c=Ir(4,s.children!==null?s.children:[],s.key,c),c.lanes=h,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var mN=new WeakMap;function Jr(s,c){if(typeof s=="object"&&s!==null){var h=mN.get(s);return h!==void 0?h:(c={value:s,source:c,stack:qe(c)},mN.set(s,c),c)}return{value:s,source:c,stack:qe(c)}}var ko=[],jo=0,vd=null,ac=0,ei=[],ti=0,Gs=null,Ui=1,qi="";function cs(s,c){ko[jo++]=ac,ko[jo++]=vd,vd=s,ac=c}function gN(s,c,h){ei[ti++]=Ui,ei[ti++]=qi,ei[ti++]=Gs,Gs=s;var x=Ui;s=qi;var v=32-gt(x)-1;x&=~(1<<v),h+=1;var k=32-gt(c)+v;if(30<k){var O=v-v%5;k=(x&(1<<O)-1).toString(32),x>>=O,v-=O,Ui=1<<32-gt(c)+v|h<<v|x,qi=k+s}else Ui=1<<k|h<<v|x,qi=s}function Qp(s){s.return!==null&&(cs(s,1),gN(s,1,0))}function Jp(s){for(;s===vd;)vd=ko[--jo],ko[jo]=null,ac=ko[--jo],ko[jo]=null;for(;s===Gs;)Gs=ei[--ti],ei[ti]=null,qi=ei[--ti],ei[ti]=null,Ui=ei[--ti],ei[ti]=null}function xN(s,c){ei[ti++]=Ui,ei[ti++]=qi,ei[ti++]=Gs,Ui=c.id,qi=c.overflow,Gs=s}var er=null,sn=null,pt=!1,Vs=null,ni=!1,em=Error(r(519));function Ks(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oc(Jr(c,s)),em}function bN(s){var c=s.stateNode,h=s.type,x=s.memoizedProps;switch(c[gn]=s,c[Vn]=x,h){case"dialog":at("cancel",c),at("close",c);break;case"iframe":case"object":case"embed":at("load",c);break;case"video":case"audio":for(h=0;h<Tc.length;h++)at(Tc[h],c);break;case"source":at("error",c);break;case"img":case"image":case"link":at("error",c),at("load",c);break;case"details":at("toggle",c);break;case"input":at("invalid",c),ss(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":at("invalid",c);break;case"textarea":at("invalid",c),vo(c,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||x.suppressHydrationWarning===!0||Lk(c.textContent,h)?(x.popover!=null&&(at("beforetoggle",c),at("toggle",c)),x.onScroll!=null&&at("scroll",c),x.onScrollEnd!=null&&at("scrollend",c),x.onClick!=null&&(c.onclick=Ce),c=!0):c=!1,c||Ks(s,!0)}function yN(s){for(er=s.return;er;)switch(er.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:er=er.return}}function Co(s){if(s!==er)return!1;if(!pt)return yN(s),pt=!0,!1;var c=s.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||bg(s.type,s.memoizedProps)),h=!h),h&&sn&&Ks(s),yN(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));sn=Hk(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));sn=Hk(s)}else c===27?(c=sn,oa(s.type)?(s=Sg,Sg=null,sn=s):sn=c):sn=er?ii(s.stateNode.nextSibling):null;return!0}function La(){sn=er=null,pt=!1}function tm(){var s=Vs;return s!==null&&(Er===null?Er=s:Er.push.apply(Er,s),Vs=null),s}function oc(s){Vs===null?Vs=[s]:Vs.push(s)}var nm=$(null),Ia=null,us=null;function Ys(s,c,h){I(nm,c._currentValue),c._currentValue=h}function ds(s){s._currentValue=nm.current,H(nm)}function rm(s,c,h){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===h)break;s=s.return}}function im(s,c,h,x){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var k=v.dependencies;if(k!==null){var O=v.child;k=k.firstContext;e:for(;k!==null;){var G=k;k=v;for(var ee=0;ee<c.length;ee++)if(G.context===c[ee]){k.lanes|=h,G=k.alternate,G!==null&&(G.lanes|=h),rm(k.return,h,s),x||(O=null);break e}k=G.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=h,k=O.alternate,k!==null&&(k.lanes|=h),rm(O,h,s),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===s){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function To(s,c,h,x){s=null;for(var v=c,k=!1;v!==null;){if(!k){if((v.flags&524288)!==0)k=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var G=v.type;Lr(v.pendingProps.value,O.value)||(s!==null?s.push(G):s=[G])}}else if(v===ae.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Dc):s=[Dc])}v=v.return}s!==null&&im(c,s,h,x),c.flags|=262144}function _d(s){for(s=s.firstContext;s!==null;){if(!Lr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function za(s){Ia=s,us=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function tr(s){return vN(Ia,s)}function wd(s,c){return Ia===null&&za(s),vN(s,c)}function vN(s,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},us===null){if(s===null)throw Error(r(308));us=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else us=us.next=c;return h}var Iz=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(h,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(h){return h()})}},zz=e.unstable_scheduleCallback,Pz=e.unstable_NormalPriority,Ln={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sm(){return{controller:new Iz,data:new Map,refCount:0}}function lc(s){s.refCount--,s.refCount===0&&zz(Pz,function(){s.controller.abort()})}var cc=null,am=0,Ao=0,Mo=null;function Bz(s,c){if(cc===null){var h=cc=[];am=0,Ao=cg(),Mo={status:"pending",value:void 0,then:function(x){h.push(x)}}}return am++,c.then(_N,_N),c}function _N(){if(--am===0&&cc!==null){Mo!==null&&(Mo.status="fulfilled");var s=cc;cc=null,Ao=0,Mo=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function $z(s,c){var h=[],x={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var v=0;v<h.length;v++)(0,h[v])(c)},function(v){for(x.status="rejected",x.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),x}var wN=B.S;B.S=function(s,c){sk=ht(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Bz(s,c),wN!==null&&wN(s,c)};var Pa=$(null);function om(){var s=Pa.current;return s!==null?s:Qt.pooledCache}function Sd(s,c){c===null?I(Pa,Pa.current):I(Pa,c.pool)}function SN(){var s=om();return s===null?null:{parent:Ln._currentValue,pool:s}}var Ro=Error(r(460)),lm=Error(r(474)),Nd=Error(r(542)),Ed={then:function(){}};function NN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function EN(s,c,h){switch(h=s[h],h===void 0?s.push(c):h!==c&&(c.then(Ce,Ce),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,jN(s),s;default:if(typeof c.status=="string")c.then(Ce,Ce);else{if(s=Qt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=x}},function(x){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,jN(s),s}throw $a=c,Ro}}function Ba(s){try{var c=s._init;return c(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?($a=h,Ro):h}}var $a=null;function kN(){if($a===null)throw Error(r(459));var s=$a;return $a=null,s}function jN(s){if(s===Ro||s===Nd)throw Error(r(483))}var Oo=null,uc=0;function kd(s){var c=uc;return uc+=1,Oo===null&&(Oo=[]),EN(Oo,s,c)}function dc(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function jd(s,c){throw c.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function CN(s){function c(se,ie){if(s){var oe=se.deletions;oe===null?(se.deletions=[ie],se.flags|=16):oe.push(ie)}}function h(se,ie){if(!s)return null;for(;ie!==null;)c(se,ie),ie=ie.sibling;return null}function x(se){for(var ie=new Map;se!==null;)se.key!==null?ie.set(se.key,se):ie.set(se.index,se),se=se.sibling;return ie}function v(se,ie){return se=ls(se,ie),se.index=0,se.sibling=null,se}function k(se,ie,oe){return se.index=oe,s?(oe=se.alternate,oe!==null?(oe=oe.index,oe<ie?(se.flags|=67108866,ie):oe):(se.flags|=67108866,ie)):(se.flags|=1048576,ie)}function O(se){return s&&se.alternate===null&&(se.flags|=67108866),se}function G(se,ie,oe,xe){return ie===null||ie.tag!==6?(ie=Xp(oe,se.mode,xe),ie.return=se,ie):(ie=v(ie,oe),ie.return=se,ie)}function ee(se,ie,oe,xe){var $e=oe.type;return $e===_?me(se,ie,oe.props.children,xe,oe.key):ie!==null&&(ie.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===P&&Ba($e)===ie.type)?(ie=v(ie,oe.props),dc(ie,oe),ie.return=se,ie):(ie=yd(oe.type,oe.key,oe.props,null,se.mode,xe),dc(ie,oe),ie.return=se,ie)}function le(se,ie,oe,xe){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==oe.containerInfo||ie.stateNode.implementation!==oe.implementation?(ie=Zp(oe,se.mode,xe),ie.return=se,ie):(ie=v(ie,oe.children||[]),ie.return=se,ie)}function me(se,ie,oe,xe,$e){return ie===null||ie.tag!==7?(ie=Da(oe,se.mode,xe,$e),ie.return=se,ie):(ie=v(ie,oe),ie.return=se,ie)}function ve(se,ie,oe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Xp(""+ie,se.mode,oe),ie.return=se,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return oe=yd(ie.type,ie.key,ie.props,null,se.mode,oe),dc(oe,ie),oe.return=se,oe;case y:return ie=Zp(ie,se.mode,oe),ie.return=se,ie;case P:return ie=Ba(ie),ve(se,ie,oe)}if(F(ie)||q(ie))return ie=Da(ie,se.mode,oe,null),ie.return=se,ie;if(typeof ie.then=="function")return ve(se,kd(ie),oe);if(ie.$$typeof===N)return ve(se,wd(se,ie),oe);jd(se,ie)}return null}function ce(se,ie,oe,xe){var $e=ie!==null?ie.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $e!==null?null:G(se,ie,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return oe.key===$e?ee(se,ie,oe,xe):null;case y:return oe.key===$e?le(se,ie,oe,xe):null;case P:return oe=Ba(oe),ce(se,ie,oe,xe)}if(F(oe)||q(oe))return $e!==null?null:me(se,ie,oe,xe,null);if(typeof oe.then=="function")return ce(se,ie,kd(oe),xe);if(oe.$$typeof===N)return ce(se,ie,wd(se,oe),xe);jd(se,oe)}return null}function fe(se,ie,oe,xe,$e){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return se=se.get(oe)||null,G(ie,se,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return se=se.get(xe.key===null?oe:xe.key)||null,ee(ie,se,xe,$e);case y:return se=se.get(xe.key===null?oe:xe.key)||null,le(ie,se,xe,$e);case P:return xe=Ba(xe),fe(se,ie,oe,xe,$e)}if(F(xe)||q(xe))return se=se.get(oe)||null,me(ie,se,xe,$e,null);if(typeof xe.then=="function")return fe(se,ie,oe,kd(xe),$e);if(xe.$$typeof===N)return fe(se,ie,oe,wd(ie,xe),$e);jd(ie,xe)}return null}function Oe(se,ie,oe,xe){for(var $e=null,St=null,ze=ie,Qe=ie=0,dt=null;ze!==null&&Qe<oe.length;Qe++){ze.index>Qe?(dt=ze,ze=null):dt=ze.sibling;var Nt=ce(se,ze,oe[Qe],xe);if(Nt===null){ze===null&&(ze=dt);break}s&&ze&&Nt.alternate===null&&c(se,ze),ie=k(Nt,ie,Qe),St===null?$e=Nt:St.sibling=Nt,St=Nt,ze=dt}if(Qe===oe.length)return h(se,ze),pt&&cs(se,Qe),$e;if(ze===null){for(;Qe<oe.length;Qe++)ze=ve(se,oe[Qe],xe),ze!==null&&(ie=k(ze,ie,Qe),St===null?$e=ze:St.sibling=ze,St=ze);return pt&&cs(se,Qe),$e}for(ze=x(ze);Qe<oe.length;Qe++)dt=fe(ze,se,Qe,oe[Qe],xe),dt!==null&&(s&&dt.alternate!==null&&ze.delete(dt.key===null?Qe:dt.key),ie=k(dt,ie,Qe),St===null?$e=dt:St.sibling=dt,St=dt);return s&&ze.forEach(function(fa){return c(se,fa)}),pt&&cs(se,Qe),$e}function Fe(se,ie,oe,xe){if(oe==null)throw Error(r(151));for(var $e=null,St=null,ze=ie,Qe=ie=0,dt=null,Nt=oe.next();ze!==null&&!Nt.done;Qe++,Nt=oe.next()){ze.index>Qe?(dt=ze,ze=null):dt=ze.sibling;var fa=ce(se,ze,Nt.value,xe);if(fa===null){ze===null&&(ze=dt);break}s&&ze&&fa.alternate===null&&c(se,ze),ie=k(fa,ie,Qe),St===null?$e=fa:St.sibling=fa,St=fa,ze=dt}if(Nt.done)return h(se,ze),pt&&cs(se,Qe),$e;if(ze===null){for(;!Nt.done;Qe++,Nt=oe.next())Nt=ve(se,Nt.value,xe),Nt!==null&&(ie=k(Nt,ie,Qe),St===null?$e=Nt:St.sibling=Nt,St=Nt);return pt&&cs(se,Qe),$e}for(ze=x(ze);!Nt.done;Qe++,Nt=oe.next())Nt=fe(ze,se,Qe,Nt.value,xe),Nt!==null&&(s&&Nt.alternate!==null&&ze.delete(Nt.key===null?Qe:Nt.key),ie=k(Nt,ie,Qe),St===null?$e=Nt:St.sibling=Nt,St=Nt);return s&&ze.forEach(function(ZP){return c(se,ZP)}),pt&&cs(se,Qe),$e}function Wt(se,ie,oe,xe){if(typeof oe=="object"&&oe!==null&&oe.type===_&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:e:{for(var $e=oe.key;ie!==null;){if(ie.key===$e){if($e=oe.type,$e===_){if(ie.tag===7){h(se,ie.sibling),xe=v(ie,oe.props.children),xe.return=se,se=xe;break e}}else if(ie.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===P&&Ba($e)===ie.type){h(se,ie.sibling),xe=v(ie,oe.props),dc(xe,oe),xe.return=se,se=xe;break e}h(se,ie);break}else c(se,ie);ie=ie.sibling}oe.type===_?(xe=Da(oe.props.children,se.mode,xe,oe.key),xe.return=se,se=xe):(xe=yd(oe.type,oe.key,oe.props,null,se.mode,xe),dc(xe,oe),xe.return=se,se=xe)}return O(se);case y:e:{for($e=oe.key;ie!==null;){if(ie.key===$e)if(ie.tag===4&&ie.stateNode.containerInfo===oe.containerInfo&&ie.stateNode.implementation===oe.implementation){h(se,ie.sibling),xe=v(ie,oe.children||[]),xe.return=se,se=xe;break e}else{h(se,ie);break}else c(se,ie);ie=ie.sibling}xe=Zp(oe,se.mode,xe),xe.return=se,se=xe}return O(se);case P:return oe=Ba(oe),Wt(se,ie,oe,xe)}if(F(oe))return Oe(se,ie,oe,xe);if(q(oe)){if($e=q(oe),typeof $e!="function")throw Error(r(150));return oe=$e.call(oe),Fe(se,ie,oe,xe)}if(typeof oe.then=="function")return Wt(se,ie,kd(oe),xe);if(oe.$$typeof===N)return Wt(se,ie,wd(se,oe),xe);jd(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ie!==null&&ie.tag===6?(h(se,ie.sibling),xe=v(ie,oe),xe.return=se,se=xe):(h(se,ie),xe=Xp(oe,se.mode,xe),xe.return=se,se=xe),O(se)):h(se,ie)}return function(se,ie,oe,xe){try{uc=0;var $e=Wt(se,ie,oe,xe);return Oo=null,$e}catch(ze){if(ze===Ro||ze===Nd)throw ze;var St=Ir(29,ze,null,se.mode);return St.lanes=xe,St.return=se,St}finally{}}}var Ua=CN(!0),TN=CN(!1),Ws=!1;function cm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Zs(s,c,h){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(At&2)!==0){var v=x.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),x.pending=c,c=bd(s),fN(s,null,h),c}return xd(s,x,c,h),bd(s)}function fc(s,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,h|=x,c.lanes=h,Le(s,h)}}function dm(s,c){var h=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var v=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?v=k=O:k=k.next=O,h=h.next}while(h!==null);k===null?v=k=c:k=k.next=c}else v=k=c;h={baseState:x.baseState,firstBaseUpdate:v,lastBaseUpdate:k,shared:x.shared,callbacks:x.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=c}var fm=!1;function hc(){if(fm){var s=Mo;if(s!==null)throw s}}function pc(s,c,h,x){fm=!1;var v=s.updateQueue;Ws=!1;var k=v.firstBaseUpdate,O=v.lastBaseUpdate,G=v.shared.pending;if(G!==null){v.shared.pending=null;var ee=G,le=ee.next;ee.next=null,O===null?k=le:O.next=le,O=ee;var me=s.alternate;me!==null&&(me=me.updateQueue,G=me.lastBaseUpdate,G!==O&&(G===null?me.firstBaseUpdate=le:G.next=le,me.lastBaseUpdate=ee))}if(k!==null){var ve=v.baseState;O=0,me=le=ee=null,G=k;do{var ce=G.lane&-536870913,fe=ce!==G.lane;if(fe?(ut&ce)===ce:(x&ce)===ce){ce!==0&&ce===Ao&&(fm=!0),me!==null&&(me=me.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Oe=s,Fe=G;ce=c;var Wt=h;switch(Fe.tag){case 1:if(Oe=Fe.payload,typeof Oe=="function"){ve=Oe.call(Wt,ve,ce);break e}ve=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Fe.payload,ce=typeof Oe=="function"?Oe.call(Wt,ve,ce):Oe,ce==null)break e;ve=m({},ve,ce);break e;case 2:Ws=!0}}ce=G.callback,ce!==null&&(s.flags|=64,fe&&(s.flags|=8192),fe=v.callbacks,fe===null?v.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:G.tag,payload:G.payload,callback:G.callback,next:null},me===null?(le=me=fe,ee=ve):me=me.next=fe,O|=ce;if(G=G.next,G===null){if(G=v.shared.pending,G===null)break;fe=G,G=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);me===null&&(ee=ve),v.baseState=ee,v.firstBaseUpdate=le,v.lastBaseUpdate=me,k===null&&(v.shared.lanes=0),na|=O,s.lanes=O,s.memoizedState=ve}}function AN(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function MN(s,c){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)AN(h[s],c)}var Do=$(null),Cd=$(0);function RN(s,c){s=vs,I(Cd,s),I(Do,c),vs=s|c.baseLanes}function hm(){I(Cd,vs),I(Do,Do.current)}function pm(){vs=Cd.current,H(Do),H(Cd)}var zr=$(null),ri=null;function Qs(s){var c=s.alternate;I(Cn,Cn.current&1),I(zr,s),ri===null&&(c===null||Do.current!==null||c.memoizedState!==null)&&(ri=s)}function mm(s){I(Cn,Cn.current),I(zr,s),ri===null&&(ri=s)}function ON(s){s.tag===22?(I(Cn,Cn.current),I(zr,s),ri===null&&(ri=s)):Js()}function Js(){I(Cn,Cn.current),I(zr,zr.current)}function Pr(s){H(zr),ri===s&&(ri=null),H(Cn)}var Cn=$(0);function Td(s){for(var c=s;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||_g(h)||wg(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var fs=0,Xe=null,Kt=null,In=null,Ad=!1,Lo=!1,qa=!1,Md=0,mc=0,Io=null,Uz=0;function wn(){throw Error(r(321))}function gm(s,c){if(c===null)return!1;for(var h=0;h<c.length&&h<s.length;h++)if(!Lr(s[h],c[h]))return!1;return!0}function xm(s,c,h,x,v,k){return fs=k,Xe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,B.H=s===null||s.memoizedState===null?gE:Rm,qa=!1,k=h(x,v),qa=!1,Lo&&(k=LN(c,h,x,v)),DN(s),k}function DN(s){B.H=bc;var c=Kt!==null&&Kt.next!==null;if(fs=0,In=Kt=Xe=null,Ad=!1,mc=0,Io=null,c)throw Error(r(300));s===null||zn||(s=s.dependencies,s!==null&&_d(s)&&(zn=!0))}function LN(s,c,h,x){Xe=s;var v=0;do{if(Lo&&(Io=null),mc=0,Lo=!1,25<=v)throw Error(r(301));if(v+=1,In=Kt=null,s.updateQueue!=null){var k=s.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}B.H=xE,k=c(h,x)}while(Lo);return k}function qz(){var s=B.H,c=s.useState()[0];return c=typeof c.then=="function"?gc(c):c,s=s.useState()[0],(Kt!==null?Kt.memoizedState:null)!==s&&(Xe.flags|=1024),c}function bm(){var s=Md!==0;return Md=0,s}function ym(s,c,h){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~h}function vm(s){if(Ad){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Ad=!1}fs=0,In=Kt=Xe=null,Lo=!1,mc=Md=0,Io=null}function pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Xe.memoizedState=In=s:In=In.next=s,In}function Tn(){if(Kt===null){var s=Xe.alternate;s=s!==null?s.memoizedState:null}else s=Kt.next;var c=In===null?Xe.memoizedState:In.next;if(c!==null)In=c,Kt=s;else{if(s===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Kt=s,s={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},In===null?Xe.memoizedState=In=s:In=In.next=s}return In}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(s){var c=mc;return mc+=1,Io===null&&(Io=[]),s=EN(Io,s,c),c=Xe,(In===null?c.memoizedState:In.next)===null&&(c=c.alternate,B.H=c===null||c.memoizedState===null?gE:Rm),s}function Od(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return gc(s);if(s.$$typeof===N)return tr(s)}throw Error(r(438,String(s)))}function _m(s){var c=null,h=Xe.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var x=Xe.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Rd(),Xe.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(s),x=0;x<s;x++)h[x]=z;return c.index++,h}function hs(s,c){return typeof c=="function"?c(s):c}function Dd(s){var c=Tn();return wm(c,Kt,s)}function wm(s,c,h){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var v=s.baseQueue,k=x.pending;if(k!==null){if(v!==null){var O=v.next;v.next=k.next,k.next=O}c.baseQueue=v=k,x.pending=null}if(k=s.baseState,v===null)s.memoizedState=k;else{c=v.next;var G=O=null,ee=null,le=c,me=!1;do{var ve=le.lane&-536870913;if(ve!==le.lane?(ut&ve)===ve:(fs&ve)===ve){var ce=le.revertLane;if(ce===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ve===Ao&&(me=!0);else if((fs&ce)===ce){le=le.next,ce===Ao&&(me=!0);continue}else ve={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},ee===null?(G=ee=ve,O=k):ee=ee.next=ve,Xe.lanes|=ce,na|=ce;ve=le.action,qa&&h(k,ve),k=le.hasEagerState?le.eagerState:h(k,ve)}else ce={lane:ve,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},ee===null?(G=ee=ce,O=k):ee=ee.next=ce,Xe.lanes|=ve,na|=ve;le=le.next}while(le!==null&&le!==c);if(ee===null?O=k:ee.next=G,!Lr(k,s.memoizedState)&&(zn=!0,me&&(h=Mo,h!==null)))throw h;s.memoizedState=k,s.baseState=O,s.baseQueue=ee,x.lastRenderedState=k}return v===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Sm(s){var c=Tn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var x=h.dispatch,v=h.pending,k=c.memoizedState;if(v!==null){h.pending=null;var O=v=v.next;do k=s(k,O.action),O=O.next;while(O!==v);Lr(k,c.memoizedState)||(zn=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),h.lastRenderedState=k}return[k,x]}function IN(s,c,h){var x=Xe,v=Tn(),k=pt;if(k){if(h===void 0)throw Error(r(407));h=h()}else h=c();var O=!Lr((Kt||v).memoizedState,h);if(O&&(v.memoizedState=h,zn=!0),v=v.queue,km(BN.bind(null,x,v,s),[s]),v.getSnapshot!==c||O||In!==null&&In.memoizedState.tag&1){if(x.flags|=2048,zo(9,{destroy:void 0},PN.bind(null,x,v,h,c),null),Qt===null)throw Error(r(349));k||(fs&127)!==0||zN(x,c,h)}return h}function zN(s,c,h){s.flags|=16384,s={getSnapshot:c,value:h},c=Xe.updateQueue,c===null?(c=Rd(),Xe.updateQueue=c,c.stores=[s]):(h=c.stores,h===null?c.stores=[s]:h.push(s))}function PN(s,c,h,x){c.value=h,c.getSnapshot=x,$N(c)&&UN(s)}function BN(s,c,h){return h(function(){$N(c)&&UN(s)})}function $N(s){var c=s.getSnapshot;s=s.value;try{var h=c();return!Lr(s,h)}catch{return!0}}function UN(s){var c=Oa(s,2);c!==null&&kr(c,s,2)}function Nm(s){var c=pr();if(typeof s=="function"){var h=s;if(s=h(),qa){vn(!0);try{h()}finally{vn(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:s},c}function qN(s,c,h,x){return s.baseState=h,wm(s,Kt,typeof x=="function"?x:hs)}function Fz(s,c,h,x,v){if(zd(s))throw Error(r(485));if(s=c.action,s!==null){var k={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){k.listeners.push(O)}};B.T!==null?h(!0):k.isTransition=!1,x(k),h=c.pending,h===null?(k.next=c.pending=k,FN(c,k)):(k.next=h.next,c.pending=h.next=k)}}function FN(s,c){var h=c.action,x=c.payload,v=s.state;if(c.isTransition){var k=B.T,O={};B.T=O;try{var G=h(v,x),ee=B.S;ee!==null&&ee(O,G),HN(s,c,G)}catch(le){Em(s,c,le)}finally{k!==null&&O.types!==null&&(k.types=O.types),B.T=k}}else try{k=h(v,x),HN(s,c,k)}catch(le){Em(s,c,le)}}function HN(s,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){GN(s,c,x)},function(x){return Em(s,c,x)}):GN(s,c,h)}function GN(s,c,h){c.status="fulfilled",c.value=h,VN(c),s.state=h,c=s.pending,c!==null&&(h=c.next,h===c?s.pending=null:(h=h.next,c.next=h,FN(s,h)))}function Em(s,c,h){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=h,VN(c),c=c.next;while(c!==x)}s.action=null}function VN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function KN(s,c){return c}function YN(s,c){if(pt){var h=Qt.formState;if(h!==null){e:{var x=Xe;if(pt){if(sn){t:{for(var v=sn,k=ni;v.nodeType!==8;){if(!k){v=null;break t}if(v=ii(v.nextSibling),v===null){v=null;break t}}k=v.data,v=k==="F!"||k==="F"?v:null}if(v){sn=ii(v.nextSibling),x=v.data==="F!";break e}}Ks(x)}x=!1}x&&(c=h[0])}}return h=pr(),h.memoizedState=h.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:KN,lastRenderedState:c},h.queue=x,h=hE.bind(null,Xe,x),x.dispatch=h,x=Nm(!1),k=Mm.bind(null,Xe,!1,x.queue),x=pr(),v={state:c,dispatch:null,action:s,pending:null},x.queue=v,h=Fz.bind(null,Xe,v,k,h),v.dispatch=h,x.memoizedState=s,[c,h,!1]}function WN(s){var c=Tn();return XN(c,Kt,s)}function XN(s,c,h){if(c=wm(s,c,KN)[0],s=Dd(hs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=gc(c)}catch(O){throw O===Ro?Nd:O}else x=c;c=Tn();var v=c.queue,k=v.dispatch;return h!==c.memoizedState&&(Xe.flags|=2048,zo(9,{destroy:void 0},Hz.bind(null,v,h),null)),[x,k,s]}function Hz(s,c){s.action=c}function ZN(s){var c=Tn(),h=Kt;if(h!==null)return XN(c,h,s);Tn(),c=c.memoizedState,h=Tn();var x=h.queue.dispatch;return h.memoizedState=s,[c,x,!1]}function zo(s,c,h,x){return s={tag:s,create:h,deps:x,inst:c,next:null},c=Xe.updateQueue,c===null&&(c=Rd(),Xe.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=s.next=s:(x=h.next,h.next=s,s.next=x,c.lastEffect=s),s}function QN(){return Tn().memoizedState}function Ld(s,c,h,x){var v=pr();Xe.flags|=s,v.memoizedState=zo(1|c,{destroy:void 0},h,x===void 0?null:x)}function Id(s,c,h,x){var v=Tn();x=x===void 0?null:x;var k=v.memoizedState.inst;Kt!==null&&x!==null&&gm(x,Kt.memoizedState.deps)?v.memoizedState=zo(c,k,h,x):(Xe.flags|=s,v.memoizedState=zo(1|c,k,h,x))}function JN(s,c){Ld(8390656,8,s,c)}function km(s,c){Id(2048,8,s,c)}function Gz(s){Xe.flags|=4;var c=Xe.updateQueue;if(c===null)c=Rd(),Xe.updateQueue=c,c.events=[s];else{var h=c.events;h===null?c.events=[s]:h.push(s)}}function eE(s){var c=Tn().memoizedState;return Gz({ref:c,nextImpl:s}),function(){if((At&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function tE(s,c){return Id(4,2,s,c)}function nE(s,c){return Id(4,4,s,c)}function rE(s,c){if(typeof c=="function"){s=s();var h=c(s);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function iE(s,c,h){h=h!=null?h.concat([s]):null,Id(4,4,rE.bind(null,c,s),h)}function jm(){}function sE(s,c){var h=Tn();c=c===void 0?null:c;var x=h.memoizedState;return c!==null&&gm(c,x[1])?x[0]:(h.memoizedState=[s,c],s)}function aE(s,c){var h=Tn();c=c===void 0?null:c;var x=h.memoizedState;if(c!==null&&gm(c,x[1]))return x[0];if(x=s(),qa){vn(!0);try{s()}finally{vn(!1)}}return h.memoizedState=[x,c],x}function Cm(s,c,h){return h===void 0||(fs&1073741824)!==0&&(ut&261930)===0?s.memoizedState=c:(s.memoizedState=h,s=ok(),Xe.lanes|=s,na|=s,h)}function oE(s,c,h,x){return Lr(h,c)?h:Do.current!==null?(s=Cm(s,h,x),Lr(s,c)||(zn=!0),s):(fs&42)===0||(fs&1073741824)!==0&&(ut&261930)===0?(zn=!0,s.memoizedState=h):(s=ok(),Xe.lanes|=s,na|=s,c)}function lE(s,c,h,x,v){var k=X.p;X.p=k!==0&&8>k?k:8;var O=B.T,G={};B.T=G,Mm(s,!1,c,h);try{var ee=v(),le=B.S;if(le!==null&&le(G,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var me=$z(ee,x);xc(s,c,me,Ur(s))}else xc(s,c,x,Ur(s))}catch(ve){xc(s,c,{then:function(){},status:"rejected",reason:ve},Ur())}finally{X.p=k,O!==null&&G.types!==null&&(O.types=G.types),B.T=O}}function Vz(){}function Tm(s,c,h,x){if(s.tag!==5)throw Error(r(476));var v=cE(s).queue;lE(s,v,c,W,h===null?Vz:function(){return uE(s),h(x)})}function cE(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:W},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:h},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function uE(s){var c=cE(s);c.next===null&&(c=s.alternate.memoizedState),xc(s,c.next.queue,{},Ur())}function Am(){return tr(Dc)}function dE(){return Tn().memoizedState}function fE(){return Tn().memoizedState}function Kz(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ur();s=Xs(h);var x=Zs(c,s,h);x!==null&&(kr(x,c,h),fc(x,c,h)),c={cache:sm()},s.payload=c;return}c=c.return}}function Yz(s,c,h){var x=Ur();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},zd(s)?pE(c,h):(h=Yp(s,c,h,x),h!==null&&(kr(h,s,x),mE(h,c,x)))}function hE(s,c,h){var x=Ur();xc(s,c,h,x)}function xc(s,c,h,x){var v={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(zd(s))pE(c,v);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var O=c.lastRenderedState,G=k(O,h);if(v.hasEagerState=!0,v.eagerState=G,Lr(G,O))return xd(s,c,v,0),Qt===null&&gd(),!1}catch{}finally{}if(h=Yp(s,c,v,x),h!==null)return kr(h,s,x),mE(h,c,x),!0}return!1}function Mm(s,c,h,x){if(x={lane:2,revertLane:cg(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},zd(s)){if(c)throw Error(r(479))}else c=Yp(s,h,x,2),c!==null&&kr(c,s,2)}function zd(s){var c=s.alternate;return s===Xe||c!==null&&c===Xe}function pE(s,c){Lo=Ad=!0;var h=s.pending;h===null?c.next=c:(c.next=h.next,h.next=c),s.pending=c}function mE(s,c,h){if((h&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,h|=x,c.lanes=h,Le(s,h)}}var bc={readContext:tr,use:Od,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};bc.useEffectEvent=wn;var gE={readContext:tr,use:Od,useCallback:function(s,c){return pr().memoizedState=[s,c===void 0?null:c],s},useContext:tr,useEffect:JN,useImperativeHandle:function(s,c,h){h=h!=null?h.concat([s]):null,Ld(4194308,4,rE.bind(null,c,s),h)},useLayoutEffect:function(s,c){return Ld(4194308,4,s,c)},useInsertionEffect:function(s,c){Ld(4,2,s,c)},useMemo:function(s,c){var h=pr();c=c===void 0?null:c;var x=s();if(qa){vn(!0);try{s()}finally{vn(!1)}}return h.memoizedState=[x,c],x},useReducer:function(s,c,h){var x=pr();if(h!==void 0){var v=h(c);if(qa){vn(!0);try{h(c)}finally{vn(!1)}}}else v=c;return x.memoizedState=x.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},x.queue=s,s=s.dispatch=Yz.bind(null,Xe,s),[x.memoizedState,s]},useRef:function(s){var c=pr();return s={current:s},c.memoizedState=s},useState:function(s){s=Nm(s);var c=s.queue,h=hE.bind(null,Xe,c);return c.dispatch=h,[s.memoizedState,h]},useDebugValue:jm,useDeferredValue:function(s,c){var h=pr();return Cm(h,s,c)},useTransition:function(){var s=Nm(!1);return s=lE.bind(null,Xe,s.queue,!0,!1),pr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,h){var x=Xe,v=pr();if(pt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Qt===null)throw Error(r(349));(ut&127)!==0||zN(x,c,h)}v.memoizedState=h;var k={value:h,getSnapshot:c};return v.queue=k,JN(BN.bind(null,x,k,s),[s]),x.flags|=2048,zo(9,{destroy:void 0},PN.bind(null,x,k,h,c),null),h},useId:function(){var s=pr(),c=Qt.identifierPrefix;if(pt){var h=qi,x=Ui;h=(x&~(1<<32-gt(x)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Md++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=Uz++,c="_"+c+"r_"+h.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Am,useFormState:YN,useActionState:YN,useOptimistic:function(s){var c=pr();c.memoizedState=c.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Mm.bind(null,Xe,!0,h),h.dispatch=c,[s,c]},useMemoCache:_m,useCacheRefresh:function(){return pr().memoizedState=Kz.bind(null,Xe)},useEffectEvent:function(s){var c=pr(),h={impl:s};return c.memoizedState=h,function(){if((At&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Rm={readContext:tr,use:Od,useCallback:sE,useContext:tr,useEffect:km,useImperativeHandle:iE,useInsertionEffect:tE,useLayoutEffect:nE,useMemo:aE,useReducer:Dd,useRef:QN,useState:function(){return Dd(hs)},useDebugValue:jm,useDeferredValue:function(s,c){var h=Tn();return oE(h,Kt.memoizedState,s,c)},useTransition:function(){var s=Dd(hs)[0],c=Tn().memoizedState;return[typeof s=="boolean"?s:gc(s),c]},useSyncExternalStore:IN,useId:dE,useHostTransitionStatus:Am,useFormState:WN,useActionState:WN,useOptimistic:function(s,c){var h=Tn();return qN(h,Kt,s,c)},useMemoCache:_m,useCacheRefresh:fE};Rm.useEffectEvent=eE;var xE={readContext:tr,use:Od,useCallback:sE,useContext:tr,useEffect:km,useImperativeHandle:iE,useInsertionEffect:tE,useLayoutEffect:nE,useMemo:aE,useReducer:Sm,useRef:QN,useState:function(){return Sm(hs)},useDebugValue:jm,useDeferredValue:function(s,c){var h=Tn();return Kt===null?Cm(h,s,c):oE(h,Kt.memoizedState,s,c)},useTransition:function(){var s=Sm(hs)[0],c=Tn().memoizedState;return[typeof s=="boolean"?s:gc(s),c]},useSyncExternalStore:IN,useId:dE,useHostTransitionStatus:Am,useFormState:ZN,useActionState:ZN,useOptimistic:function(s,c){var h=Tn();return Kt!==null?qN(h,Kt,s,c):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:_m,useCacheRefresh:fE};xE.useEffectEvent=eE;function Om(s,c,h,x){c=s.memoizedState,h=h(x,c),h=h==null?c:m({},c,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Dm={enqueueSetState:function(s,c,h){s=s._reactInternals;var x=Ur(),v=Xs(x);v.payload=c,h!=null&&(v.callback=h),c=Zs(s,v,x),c!==null&&(kr(c,s,x),fc(c,s,x))},enqueueReplaceState:function(s,c,h){s=s._reactInternals;var x=Ur(),v=Xs(x);v.tag=1,v.payload=c,h!=null&&(v.callback=h),c=Zs(s,v,x),c!==null&&(kr(c,s,x),fc(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var h=Ur(),x=Xs(h);x.tag=2,c!=null&&(x.callback=c),c=Zs(s,x,h),c!==null&&(kr(c,s,h),fc(c,s,h))}};function bE(s,c,h,x,v,k,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,k,O):c.prototype&&c.prototype.isPureReactComponent?!ic(h,x)||!ic(v,k):!0}function yE(s,c,h,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==s&&Dm.enqueueReplaceState(c,c.state,null)}function Fa(s,c){var h=c;if("ref"in c){h={};for(var x in c)x!=="ref"&&(h[x]=c[x])}if(s=s.defaultProps){h===c&&(h=m({},h));for(var v in s)h[v]===void 0&&(h[v]=s[v])}return h}function vE(s){md(s)}function _E(s){console.error(s)}function wE(s){md(s)}function Pd(s,c){try{var h=s.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function SE(s,c,h){try{var x=s.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Lm(s,c,h){return h=Xs(h),h.tag=3,h.payload={element:null},h.callback=function(){Pd(s,c)},h}function NE(s){return s=Xs(s),s.tag=3,s}function EE(s,c,h,x){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var k=x.value;s.payload=function(){return v(k)},s.callback=function(){SE(c,h,x)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){SE(c,h,x),typeof v!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function Wz(s,c,h,x,v){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=h.alternate,c!==null&&To(c,h,v,!0),h=zr.current,h!==null){switch(h.tag){case 31:case 13:return ri===null?Xd():h.alternate===null&&Sn===0&&(Sn=3),h.flags&=-257,h.flags|=65536,h.lanes=v,x===Ed?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([x]):c.add(x),ag(s,x,v)),!1;case 22:return h.flags|=65536,x===Ed?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([x]):h.add(x)),ag(s,x,v)),!1}throw Error(r(435,h.tag))}return ag(s,x,v),Xd(),!1}if(pt)return c=zr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,x!==em&&(s=Error(r(422),{cause:x}),oc(Jr(s,h)))):(x!==em&&(c=Error(r(423),{cause:x}),oc(Jr(c,h))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,x=Jr(x,h),v=Lm(s.stateNode,x,v),dm(s,v),Sn!==4&&(Sn=2)),!1;var k=Error(r(520),{cause:x});if(k=Jr(k,h),kc===null?kc=[k]:kc.push(k),Sn!==4&&(Sn=2),c===null)return!0;x=Jr(x,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,s=v&-v,h.lanes|=s,s=Lm(h.stateNode,x,s),dm(h,s),!1;case 1:if(c=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ra===null||!ra.has(k))))return h.flags|=65536,v&=-v,h.lanes|=v,v=NE(v),EE(v,s,h,x),dm(h,v),!1}h=h.return}while(h!==null);return!1}var Im=Error(r(461)),zn=!1;function nr(s,c,h,x){c.child=s===null?TN(c,null,h,x):Ua(c,s.child,h,x)}function kE(s,c,h,x,v){h=h.render;var k=c.ref;if("ref"in x){var O={};for(var G in x)G!=="ref"&&(O[G]=x[G])}else O=x;return za(c),x=xm(s,c,h,O,k,v),G=bm(),s!==null&&!zn?(ym(s,c,v),ps(s,c,v)):(pt&&G&&Qp(c),c.flags|=1,nr(s,c,x,v),c.child)}function jE(s,c,h,x,v){if(s===null){var k=h.type;return typeof k=="function"&&!Wp(k)&&k.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=k,CE(s,c,k,x,v)):(s=yd(h.type,null,x,c,c.mode,v),s.ref=c.ref,s.return=c,c.child=s)}if(k=s.child,!Hm(s,v)){var O=k.memoizedProps;if(h=h.compare,h=h!==null?h:ic,h(O,x)&&s.ref===c.ref)return ps(s,c,v)}return c.flags|=1,s=ls(k,x),s.ref=c.ref,s.return=c,c.child=s}function CE(s,c,h,x,v){if(s!==null){var k=s.memoizedProps;if(ic(k,x)&&s.ref===c.ref)if(zn=!1,c.pendingProps=x=k,Hm(s,v))(s.flags&131072)!==0&&(zn=!0);else return c.lanes=s.lanes,ps(s,c,v)}return zm(s,c,h,x,v)}function TE(s,c,h,x){var v=x.children,k=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,s!==null){for(x=c.child=s.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;x=v&~k}else x=0,c.child=null;return AE(s,c,k,h,x)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&Sd(c,k!==null?k.cachePool:null),k!==null?RN(c,k):hm(),ON(c);else return x=c.lanes=536870912,AE(s,c,k!==null?k.baseLanes|h:h,h,x)}else k!==null?(Sd(c,k.cachePool),RN(c,k),Js(),c.memoizedState=null):(s!==null&&Sd(c,null),hm(),Js());return nr(s,c,v,h),c.child}function yc(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function AE(s,c,h,x,v){var k=om();return k=k===null?null:{parent:Ln._currentValue,pool:k},c.memoizedState={baseLanes:h,cachePool:k},s!==null&&Sd(c,null),hm(),ON(c),s!==null&&To(s,c,x,!0),c.childLanes=v,null}function Bd(s,c){return c=Ud({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function ME(s,c,h){return Ua(c,s.child,null,h),s=Bd(c,c.pendingProps),s.flags|=2,Pr(c),c.memoizedState=null,s}function Xz(s,c,h){var x=c.pendingProps,v=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(pt){if(x.mode==="hidden")return s=Bd(c,x),c.lanes=536870912,yc(null,s);if(mm(c),(s=sn)?(s=Fk(s,ni),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Gs!==null?{id:Ui,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},h=pN(s),h.return=c,c.child=h,er=c,sn=null)):s=null,s===null)throw Ks(c);return c.lanes=536870912,null}return Bd(c,x)}var k=s.memoizedState;if(k!==null){var O=k.dehydrated;if(mm(c),v)if(c.flags&256)c.flags&=-257,c=ME(s,c,h);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(zn||To(s,c,h,!1),v=(h&s.childLanes)!==0,zn||v){if(x=Qt,x!==null&&(O=_t(x,h),O!==0&&O!==k.retryLane))throw k.retryLane=O,Oa(s,O),kr(x,s,O),Im;Xd(),c=ME(s,c,h)}else s=k.treeContext,sn=ii(O.nextSibling),er=c,pt=!0,Vs=null,ni=!1,s!==null&&xN(c,s),c=Bd(c,x),c.flags|=4096;return c}return s=ls(s.child,{mode:x.mode,children:x.children}),s.ref=c.ref,c.child=s,s.return=c,s}function $d(s,c){var h=c.ref;if(h===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(c.flags|=4194816)}}function zm(s,c,h,x,v){return za(c),h=xm(s,c,h,x,void 0,v),x=bm(),s!==null&&!zn?(ym(s,c,v),ps(s,c,v)):(pt&&x&&Qp(c),c.flags|=1,nr(s,c,h,v),c.child)}function RE(s,c,h,x,v,k){return za(c),c.updateQueue=null,h=LN(c,x,h,v),DN(s),x=bm(),s!==null&&!zn?(ym(s,c,k),ps(s,c,k)):(pt&&x&&Qp(c),c.flags|=1,nr(s,c,h,k),c.child)}function OE(s,c,h,x,v){if(za(c),c.stateNode===null){var k=Eo,O=h.contextType;typeof O=="object"&&O!==null&&(k=tr(O)),k=new h(x,k),c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Dm,c.stateNode=k,k._reactInternals=c,k=c.stateNode,k.props=x,k.state=c.memoizedState,k.refs={},cm(c),O=h.contextType,k.context=typeof O=="object"&&O!==null?tr(O):Eo,k.state=c.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(Om(c,h,O,x),k.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(O=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),O!==k.state&&Dm.enqueueReplaceState(k,k.state,null),pc(c,x,k,v),hc(),k.state=c.memoizedState),typeof k.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){k=c.stateNode;var G=c.memoizedProps,ee=Fa(h,G);k.props=ee;var le=k.context,me=h.contextType;O=Eo,typeof me=="object"&&me!==null&&(O=tr(me));var ve=h.getDerivedStateFromProps;me=typeof ve=="function"||typeof k.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,me||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(G||le!==O)&&yE(c,k,x,O),Ws=!1;var ce=c.memoizedState;k.state=ce,pc(c,x,k,v),hc(),le=c.memoizedState,G||ce!==le||Ws?(typeof ve=="function"&&(Om(c,h,ve,x),le=c.memoizedState),(ee=Ws||bE(c,h,ee,x,ce,le,O))?(me||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(c.flags|=4194308)):(typeof k.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=le),k.props=x,k.state=le,k.context=O,x=ee):(typeof k.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{k=c.stateNode,um(s,c),O=c.memoizedProps,me=Fa(h,O),k.props=me,ve=c.pendingProps,ce=k.context,le=h.contextType,ee=Eo,typeof le=="object"&&le!==null&&(ee=tr(le)),G=h.getDerivedStateFromProps,(le=typeof G=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==ve||ce!==ee)&&yE(c,k,x,ee),Ws=!1,ce=c.memoizedState,k.state=ce,pc(c,x,k,v),hc();var fe=c.memoizedState;O!==ve||ce!==fe||Ws||s!==null&&s.dependencies!==null&&_d(s.dependencies)?(typeof G=="function"&&(Om(c,h,G,x),fe=c.memoizedState),(me=Ws||bE(c,h,me,x,ce,fe,ee)||s!==null&&s.dependencies!==null&&_d(s.dependencies))?(le||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,fe,ee),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,fe,ee)),typeof k.componentDidUpdate=="function"&&(c.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof k.componentDidUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(c.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=fe),k.props=x,k.state=fe,k.context=ee,x=me):(typeof k.componentDidUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(c.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(c.flags|=1024),x=!1)}return k=x,$d(s,c),x=(c.flags&128)!==0,k||x?(k=c.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:k.render(),c.flags|=1,s!==null&&x?(c.child=Ua(c,s.child,null,v),c.child=Ua(c,null,h,v)):nr(s,c,h,v),c.memoizedState=k.state,s=c.child):s=ps(s,c,v),s}function DE(s,c,h,x){return La(),c.flags|=256,nr(s,c,h,x),c.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(s){return{baseLanes:s,cachePool:SN()}}function $m(s,c,h){return s=s!==null?s.childLanes&~h:0,c&&(s|=$r),s}function LE(s,c,h){var x=c.pendingProps,v=!1,k=(c.flags&128)!==0,O;if((O=k)||(O=s!==null&&s.memoizedState===null?!1:(Cn.current&2)!==0),O&&(v=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,s===null){if(pt){if(v?Qs(c):Js(),(s=sn)?(s=Fk(s,ni),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Gs!==null?{id:Ui,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},h=pN(s),h.return=c,c.child=h,er=c,sn=null)):s=null,s===null)throw Ks(c);return wg(s)?c.lanes=32:c.lanes=536870912,null}var G=x.children;return x=x.fallback,v?(Js(),v=c.mode,G=Ud({mode:"hidden",children:G},v),x=Da(x,v,h,null),G.return=c,x.return=c,G.sibling=x,c.child=G,x=c.child,x.memoizedState=Bm(h),x.childLanes=$m(s,O,h),c.memoizedState=Pm,yc(null,x)):(Qs(c),Um(c,G))}var ee=s.memoizedState;if(ee!==null&&(G=ee.dehydrated,G!==null)){if(k)c.flags&256?(Qs(c),c.flags&=-257,c=qm(s,c,h)):c.memoizedState!==null?(Js(),c.child=s.child,c.flags|=128,c=null):(Js(),G=x.fallback,v=c.mode,x=Ud({mode:"visible",children:x.children},v),G=Da(G,v,h,null),G.flags|=2,x.return=c,G.return=c,x.sibling=G,c.child=x,Ua(c,s.child,null,h),x=c.child,x.memoizedState=Bm(h),x.childLanes=$m(s,O,h),c.memoizedState=Pm,c=yc(null,x));else if(Qs(c),wg(G)){if(O=G.nextSibling&&G.nextSibling.dataset,O)var le=O.dgst;O=le,x=Error(r(419)),x.stack="",x.digest=O,oc({value:x,source:null,stack:null}),c=qm(s,c,h)}else if(zn||To(s,c,h,!1),O=(h&s.childLanes)!==0,zn||O){if(O=Qt,O!==null&&(x=_t(O,h),x!==0&&x!==ee.retryLane))throw ee.retryLane=x,Oa(s,x),kr(O,s,x),Im;_g(G)||Xd(),c=qm(s,c,h)}else _g(G)?(c.flags|=192,c.child=s.child,c=null):(s=ee.treeContext,sn=ii(G.nextSibling),er=c,pt=!0,Vs=null,ni=!1,s!==null&&xN(c,s),c=Um(c,x.children),c.flags|=4096);return c}return v?(Js(),G=x.fallback,v=c.mode,ee=s.child,le=ee.sibling,x=ls(ee,{mode:"hidden",children:x.children}),x.subtreeFlags=ee.subtreeFlags&65011712,le!==null?G=ls(le,G):(G=Da(G,v,h,null),G.flags|=2),G.return=c,x.return=c,x.sibling=G,c.child=x,yc(null,x),x=c.child,G=s.child.memoizedState,G===null?G=Bm(h):(v=G.cachePool,v!==null?(ee=Ln._currentValue,v=v.parent!==ee?{parent:ee,pool:ee}:v):v=SN(),G={baseLanes:G.baseLanes|h,cachePool:v}),x.memoizedState=G,x.childLanes=$m(s,O,h),c.memoizedState=Pm,yc(s.child,x)):(Qs(c),h=s.child,s=h.sibling,h=ls(h,{mode:"visible",children:x.children}),h.return=c,h.sibling=null,s!==null&&(O=c.deletions,O===null?(c.deletions=[s],c.flags|=16):O.push(s)),c.child=h,c.memoizedState=null,h)}function Um(s,c){return c=Ud({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Ud(s,c){return s=Ir(22,s,null,c),s.lanes=0,s}function qm(s,c,h){return Ua(c,s.child,null,h),s=Um(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function IE(s,c,h){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),rm(s.return,c,h)}function Fm(s,c,h,x,v,k){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:v,treeForkCount:k}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=h,O.tailMode=v,O.treeForkCount=k)}function zE(s,c,h){var x=c.pendingProps,v=x.revealOrder,k=x.tail;x=x.children;var O=Cn.current,G=(O&2)!==0;if(G?(O=O&1|2,c.flags|=128):O&=1,I(Cn,O),nr(s,c,x,h),x=pt?ac:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&IE(s,h,c);else if(s.tag===19)IE(s,h,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(h=c.child,v=null;h!==null;)s=h.alternate,s!==null&&Td(s)===null&&(v=h),h=h.sibling;h=v,h===null?(v=c.child,c.child=null):(v=h.sibling,h.sibling=null),Fm(c,!1,v,h,k,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,v=c.child,c.child=null;v!==null;){if(s=v.alternate,s!==null&&Td(s)===null){c.child=v;break}s=v.sibling,v.sibling=h,h=v,v=s}Fm(c,!0,h,null,k,x);break;case"together":Fm(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function ps(s,c,h){if(s!==null&&(c.dependencies=s.dependencies),na|=c.lanes,(h&c.childLanes)===0)if(s!==null){if(To(s,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,h=ls(s,s.pendingProps),c.child=h,h.return=c;s.sibling!==null;)s=s.sibling,h=h.sibling=ls(s,s.pendingProps),h.return=c;h.sibling=null}return c.child}function Hm(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&_d(s)))}function Zz(s,c,h){switch(c.tag){case 3:te(c,c.stateNode.containerInfo),Ys(c,Ln,s.memoizedState.cache),La();break;case 27:case 5:de(c);break;case 4:te(c,c.stateNode.containerInfo);break;case 10:Ys(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,mm(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(Qs(c),c.flags|=128,null):(h&c.child.childLanes)!==0?LE(s,c,h):(Qs(c),s=ps(s,c,h),s!==null?s.sibling:null);Qs(c);break;case 19:var v=(s.flags&128)!==0;if(x=(h&c.childLanes)!==0,x||(To(s,c,h,!1),x=(h&c.childLanes)!==0),v){if(x)return zE(s,c,h);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),I(Cn,Cn.current),x)break;return null;case 22:return c.lanes=0,TE(s,c,h,c.pendingProps);case 24:Ys(c,Ln,s.memoizedState.cache)}return ps(s,c,h)}function PE(s,c,h){if(s!==null)if(s.memoizedProps!==c.pendingProps)zn=!0;else{if(!Hm(s,h)&&(c.flags&128)===0)return zn=!1,Zz(s,c,h);zn=(s.flags&131072)!==0}else zn=!1,pt&&(c.flags&1048576)!==0&&gN(c,ac,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(s=Ba(c.elementType),c.type=s,typeof s=="function")Wp(s)?(x=Fa(s,x),c.tag=1,c=OE(null,c,s,x,h)):(c.tag=0,c=zm(null,c,s,x,h));else{if(s!=null){var v=s.$$typeof;if(v===C){c.tag=11,c=kE(null,c,s,x,h);break e}else if(v===M){c.tag=14,c=jE(null,c,s,x,h);break e}}throw c=L(s)||s,Error(r(306,c,""))}}return c;case 0:return zm(s,c,c.type,c.pendingProps,h);case 1:return x=c.type,v=Fa(x,c.pendingProps),OE(s,c,x,v,h);case 3:e:{if(te(c,c.stateNode.containerInfo),s===null)throw Error(r(387));x=c.pendingProps;var k=c.memoizedState;v=k.element,um(s,c),pc(c,x,null,h);var O=c.memoizedState;if(x=O.cache,Ys(c,Ln,x),x!==k.cache&&im(c,[Ln],h,!0),hc(),x=O.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){c=DE(s,c,x,h);break e}else if(x!==v){v=Jr(Error(r(424)),c),oc(v),c=DE(s,c,x,h);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(sn=ii(s.firstChild),er=c,pt=!0,Vs=null,ni=!0,h=TN(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(La(),x===v){c=ps(s,c,h);break e}nr(s,c,x,h)}c=c.child}return c;case 26:return $d(s,c),s===null?(h=Wk(c.type,null,c.pendingProps,null))?c.memoizedState=h:pt||(h=c.type,s=c.pendingProps,x=rf(Q.current).createElement(h),x[gn]=c,x[Vn]=s,rr(x,h,s),_n(x),c.stateNode=x):c.memoizedState=Wk(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return de(c),s===null&&pt&&(x=c.stateNode=Vk(c.type,c.pendingProps,Q.current),er=c,ni=!0,v=sn,oa(c.type)?(Sg=v,sn=ii(x.firstChild)):sn=v),nr(s,c,c.pendingProps.children,h),$d(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&pt&&((v=x=sn)&&(x=jP(x,c.type,c.pendingProps,ni),x!==null?(c.stateNode=x,er=c,sn=ii(x.firstChild),ni=!1,v=!0):v=!1),v||Ks(c)),de(c),v=c.type,k=c.pendingProps,O=s!==null?s.memoizedProps:null,x=k.children,bg(v,k)?x=null:O!==null&&bg(v,O)&&(c.flags|=32),c.memoizedState!==null&&(v=xm(s,c,qz,null,null,h),Dc._currentValue=v),$d(s,c),nr(s,c,x,h),c.child;case 6:return s===null&&pt&&((s=h=sn)&&(h=CP(h,c.pendingProps,ni),h!==null?(c.stateNode=h,er=c,sn=null,s=!0):s=!1),s||Ks(c)),null;case 13:return LE(s,c,h);case 4:return te(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=Ua(c,null,x,h):nr(s,c,x,h),c.child;case 11:return kE(s,c,c.type,c.pendingProps,h);case 7:return nr(s,c,c.pendingProps,h),c.child;case 8:return nr(s,c,c.pendingProps.children,h),c.child;case 12:return nr(s,c,c.pendingProps.children,h),c.child;case 10:return x=c.pendingProps,Ys(c,c.type,x.value),nr(s,c,x.children,h),c.child;case 9:return v=c.type._context,x=c.pendingProps.children,za(c),v=tr(v),x=x(v),c.flags|=1,nr(s,c,x,h),c.child;case 14:return jE(s,c,c.type,c.pendingProps,h);case 15:return CE(s,c,c.type,c.pendingProps,h);case 19:return zE(s,c,h);case 31:return Xz(s,c,h);case 22:return TE(s,c,h,c.pendingProps);case 24:return za(c),x=tr(Ln),s===null?(v=om(),v===null&&(v=Qt,k=sm(),v.pooledCache=k,k.refCount++,k!==null&&(v.pooledCacheLanes|=h),v=k),c.memoizedState={parent:x,cache:v},cm(c),Ys(c,Ln,v)):((s.lanes&h)!==0&&(um(s,c),pc(c,null,null,h),hc()),v=s.memoizedState,k=c.memoizedState,v.parent!==x?(v={parent:x,cache:x},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),Ys(c,Ln,x)):(x=k.cache,Ys(c,Ln,x),x!==v.cache&&im(c,[Ln],h,!0))),nr(s,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ms(s){s.flags|=4}function Gm(s,c,h,x,v){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(dk())s.flags|=8192;else throw $a=Ed,lm}else s.flags&=-16777217}function BE(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!e2(c))if(dk())s.flags|=8192;else throw $a=Ed,lm}function qd(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?De():536870912,s.lanes|=c,Uo|=c)}function vc(s,c){if(!pt)switch(s.tailMode){case"hidden":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function an(s){var c=s.alternate!==null&&s.alternate.child===s.child,h=0,x=0;if(c)for(var v=s.child;v!==null;)h|=v.lanes|v.childLanes,x|=v.subtreeFlags&65011712,x|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)h|=v.lanes|v.childLanes,x|=v.subtreeFlags,x|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=x,s.childLanes=h,c}function Qz(s,c,h){var x=c.pendingProps;switch(Jp(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(c),null;case 1:return an(c),null;case 3:return h=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),ds(Ln),ne(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Co(c)?ms(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,tm())),an(c),null;case 26:var v=c.type,k=c.memoizedState;return s===null?(ms(c),k!==null?(an(c),BE(c,k)):(an(c),Gm(c,v,null,x,h))):k?k!==s.memoizedState?(ms(c),an(c),BE(c,k)):(an(c),c.flags&=-16777217):(s=s.memoizedProps,s!==x&&ms(c),an(c),Gm(c,v,s,x,h)),null;case 27:if(ge(c),h=Q.current,v=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&ms(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return an(c),null}s=V.current,Co(c)?bN(c):(s=Vk(v,x,h),c.stateNode=s,ms(c))}return an(c),null;case 5:if(ge(c),v=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&ms(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return an(c),null}if(k=V.current,Co(c))bN(c);else{var O=rf(Q.current);switch(k){case 1:k=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:k=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":k=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":k=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":k=O.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof x.is=="string"?O.createElement("select",{is:x.is}):O.createElement("select"),x.multiple?k.multiple=!0:x.size&&(k.size=x.size);break;default:k=typeof x.is=="string"?O.createElement(v,{is:x.is}):O.createElement(v)}}k[gn]=c,k[Vn]=x;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)k.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=k;e:switch(rr(k,v,x),v){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&ms(c)}}return an(c),Gm(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,h),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&ms(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(s=Q.current,Co(c)){if(s=c.stateNode,h=c.memoizedProps,x=null,v=er,v!==null)switch(v.tag){case 27:case 5:x=v.memoizedProps}s[gn]=c,s=!!(s.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||Lk(s.nodeValue,h)),s||Ks(c,!0)}else s=rf(s).createTextNode(x),s[gn]=c,c.stateNode=s}return an(c),null;case 31:if(h=c.memoizedState,s===null||s.memoizedState!==null){if(x=Co(c),h!==null){if(s===null){if(!x)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[gn]=c}else La(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;an(c),s=!1}else h=tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return c.flags&256?(Pr(c),c):(Pr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return an(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=Co(c),x!==null&&x.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[gn]=c}else La(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;an(c),v=!1}else v=tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(Pr(c),c):(Pr(c),null)}return Pr(c),(c.flags&128)!==0?(c.lanes=h,c):(h=x!==null,s=s!==null&&s.memoizedState!==null,h&&(x=c.child,v=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(v=x.alternate.memoizedState.cachePool.pool),k=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(k=x.memoizedState.cachePool.pool),k!==v&&(x.flags|=2048)),h!==s&&h&&(c.child.flags|=8192),qd(c,c.updateQueue),an(c),null);case 4:return ne(),s===null&&hg(c.stateNode.containerInfo),an(c),null;case 10:return ds(c.type),an(c),null;case 19:if(H(Cn),x=c.memoizedState,x===null)return an(c),null;if(v=(c.flags&128)!==0,k=x.rendering,k===null)if(v)vc(x,!1);else{if(Sn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(k=Td(s),k!==null){for(c.flags|=128,vc(x,!1),s=k.updateQueue,c.updateQueue=s,qd(c,s),c.subtreeFlags=0,s=h,h=c.child;h!==null;)hN(h,s),h=h.sibling;return I(Cn,Cn.current&1|2),pt&&cs(c,x.treeForkCount),c.child}s=s.sibling}x.tail!==null&&ht()>Kd&&(c.flags|=128,v=!0,vc(x,!1),c.lanes=4194304)}else{if(!v)if(s=Td(k),s!==null){if(c.flags|=128,v=!0,s=s.updateQueue,c.updateQueue=s,qd(c,s),vc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!pt)return an(c),null}else 2*ht()-x.renderingStartTime>Kd&&h!==536870912&&(c.flags|=128,v=!0,vc(x,!1),c.lanes=4194304);x.isBackwards?(k.sibling=c.child,c.child=k):(s=x.last,s!==null?s.sibling=k:c.child=k,x.last=k)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=ht(),s.sibling=null,h=Cn.current,I(Cn,v?h&1|2:h&1),pt&&cs(c,x.treeForkCount),s):(an(c),null);case 22:case 23:return Pr(c),pm(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(h&536870912)!==0&&(c.flags&128)===0&&(an(c),c.subtreeFlags&6&&(c.flags|=8192)):an(c),h=c.updateQueue,h!==null&&qd(c,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==h&&(c.flags|=2048),s!==null&&H(Pa),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ds(Ln),an(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function Jz(s,c){switch(Jp(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ds(Ln),ne(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return ge(c),null;case 31:if(c.memoizedState!==null){if(Pr(c),c.alternate===null)throw Error(r(340));La()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Pr(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));La()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return H(Cn),null;case 4:return ne(),null;case 10:return ds(c.type),null;case 22:case 23:return Pr(c),pm(),s!==null&&H(Pa),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ds(Ln),null;case 25:return null;default:return null}}function $E(s,c){switch(Jp(c),c.tag){case 3:ds(Ln),ne();break;case 26:case 27:case 5:ge(c);break;case 4:ne();break;case 31:c.memoizedState!==null&&Pr(c);break;case 13:Pr(c);break;case 19:H(Cn);break;case 10:ds(c.type);break;case 22:case 23:Pr(c),pm(),s!==null&&H(Pa);break;case 24:ds(Ln)}}function _c(s,c){try{var h=c.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var v=x.next;h=v;do{if((h.tag&s)===s){x=void 0;var k=h.create,O=h.inst;x=k(),O.destroy=x}h=h.next}while(h!==v)}}catch(G){Ut(c,c.return,G)}}function ea(s,c,h){try{var x=c.updateQueue,v=x!==null?x.lastEffect:null;if(v!==null){var k=v.next;x=k;do{if((x.tag&s)===s){var O=x.inst,G=O.destroy;if(G!==void 0){O.destroy=void 0,v=c;var ee=h,le=G;try{le()}catch(me){Ut(v,ee,me)}}}x=x.next}while(x!==k)}}catch(me){Ut(c,c.return,me)}}function UE(s){var c=s.updateQueue;if(c!==null){var h=s.stateNode;try{MN(c,h)}catch(x){Ut(s,s.return,x)}}}function qE(s,c,h){h.props=Fa(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(x){Ut(s,c,x)}}function wc(s,c){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof h=="function"?s.refCleanup=h(x):h.current=x}}catch(v){Ut(s,c,v)}}function Fi(s,c){var h=s.ref,x=s.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(v){Ut(s,c,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){Ut(s,c,v)}else h.current=null}function FE(s){var c=s.type,h=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(v){Ut(s,s.return,v)}}function Vm(s,c,h){try{var x=s.stateNode;_P(x,s.type,h,c),x[Vn]=c}catch(v){Ut(s,s.return,v)}}function HE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&oa(s.type)||s.tag===4}function Km(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||HE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&oa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ym(s,c,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(s),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ce));else if(x!==4&&(x===27&&oa(s.type)&&(h=s.stateNode,c=null),s=s.child,s!==null))for(Ym(s,c,h),s=s.sibling;s!==null;)Ym(s,c,h),s=s.sibling}function Fd(s,c,h){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?h.insertBefore(s,c):h.appendChild(s);else if(x!==4&&(x===27&&oa(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Fd(s,c,h),s=s.sibling;s!==null;)Fd(s,c,h),s=s.sibling}function GE(s){var c=s.stateNode,h=s.memoizedProps;try{for(var x=s.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);rr(c,x,h),c[gn]=s,c[Vn]=h}catch(k){Ut(s,s.return,k)}}var gs=!1,Pn=!1,Wm=!1,VE=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function eP(s,c){if(s=s.containerInfo,gg=df,s=iN(s),qp(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var v=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var O=0,G=-1,ee=-1,le=0,me=0,ve=s,ce=null;t:for(;;){for(var fe;ve!==h||v!==0&&ve.nodeType!==3||(G=O+v),ve!==k||x!==0&&ve.nodeType!==3||(ee=O+x),ve.nodeType===3&&(O+=ve.nodeValue.length),(fe=ve.firstChild)!==null;)ce=ve,ve=fe;for(;;){if(ve===s)break t;if(ce===h&&++le===v&&(G=O),ce===k&&++me===x&&(ee=O),(fe=ve.nextSibling)!==null)break;ve=ce,ce=ve.parentNode}ve=fe}h=G===-1||ee===-1?null:{start:G,end:ee}}else h=null}h=h||{start:0,end:0}}else h=null;for(xg={focusedElem:s,selectionRange:h},df=!1,Yn=c;Yn!==null;)if(c=Yn,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Yn=s;else for(;Yn!==null;){switch(c=Yn,k=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)v=s[h],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&k!==null){s=void 0,h=c,v=k.memoizedProps,k=k.memoizedState,x=h.stateNode;try{var Oe=Fa(h.type,v);s=x.getSnapshotBeforeUpdate(Oe,k),x.__reactInternalSnapshotBeforeUpdate=s}catch(Fe){Ut(h,h.return,Fe)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,h=s.nodeType,h===9)vg(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":vg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,Yn=s;break}Yn=c.return}}function KE(s,c,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:bs(s,h),x&4&&_c(5,h);break;case 1:if(bs(s,h),x&4)if(s=h.stateNode,c===null)try{s.componentDidMount()}catch(O){Ut(h,h.return,O)}else{var v=Fa(h.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(v,c,s.__reactInternalSnapshotBeforeUpdate)}catch(O){Ut(h,h.return,O)}}x&64&&UE(h),x&512&&wc(h,h.return);break;case 3:if(bs(s,h),x&64&&(s=h.updateQueue,s!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{MN(s,c)}catch(O){Ut(h,h.return,O)}}break;case 27:c===null&&x&4&&GE(h);case 26:case 5:bs(s,h),c===null&&x&4&&FE(h),x&512&&wc(h,h.return);break;case 12:bs(s,h);break;case 31:bs(s,h),x&4&&XE(s,h);break;case 13:bs(s,h),x&4&&ZE(s,h),x&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=cP.bind(null,h),TP(s,h))));break;case 22:if(x=h.memoizedState!==null||gs,!x){c=c!==null&&c.memoizedState!==null||Pn,v=gs;var k=Pn;gs=x,(Pn=c)&&!k?ys(s,h,(h.subtreeFlags&8772)!==0):bs(s,h),gs=v,Pn=k}break;case 30:break;default:bs(s,h)}}function YE(s){var c=s.alternate;c!==null&&(s.alternate=null,YE(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Ca(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ln=null,wr=!1;function xs(s,c,h){for(h=h.child;h!==null;)WE(s,c,h),h=h.sibling}function WE(s,c,h){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Lt,h)}catch{}switch(h.tag){case 26:Pn||Fi(h,c),xs(s,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Pn||Fi(h,c);var x=ln,v=wr;oa(h.type)&&(ln=h.stateNode,wr=!1),xs(s,c,h),Mc(h.stateNode),ln=x,wr=v;break;case 5:Pn||Fi(h,c);case 6:if(x=ln,v=wr,ln=null,xs(s,c,h),ln=x,wr=v,ln!==null)if(wr)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(h.stateNode)}catch(k){Ut(h,c,k)}else try{ln.removeChild(h.stateNode)}catch(k){Ut(h,c,k)}break;case 18:ln!==null&&(wr?(s=ln,Uk(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Wo(s)):Uk(ln,h.stateNode));break;case 4:x=ln,v=wr,ln=h.stateNode.containerInfo,wr=!0,xs(s,c,h),ln=x,wr=v;break;case 0:case 11:case 14:case 15:ea(2,h,c),Pn||ea(4,h,c),xs(s,c,h);break;case 1:Pn||(Fi(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"&&qE(h,c,x)),xs(s,c,h);break;case 21:xs(s,c,h);break;case 22:Pn=(x=Pn)||h.memoizedState!==null,xs(s,c,h),Pn=x;break;default:xs(s,c,h)}}function XE(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Wo(s)}catch(h){Ut(c,c.return,h)}}}function ZE(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wo(s)}catch(h){Ut(c,c.return,h)}}function tP(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new VE),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new VE),c;default:throw Error(r(435,s.tag))}}function Hd(s,c){var h=tP(s);c.forEach(function(x){if(!h.has(x)){h.add(x);var v=uP.bind(null,s,x);x.then(v,v)}})}function Sr(s,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var v=h[x],k=s,O=c,G=O;e:for(;G!==null;){switch(G.tag){case 27:if(oa(G.type)){ln=G.stateNode,wr=!1;break e}break;case 5:ln=G.stateNode,wr=!1;break e;case 3:case 4:ln=G.stateNode.containerInfo,wr=!0;break e}G=G.return}if(ln===null)throw Error(r(160));WE(k,O,v),ln=null,wr=!1,k=v.alternate,k!==null&&(k.return=null),v.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)QE(c,s),c=c.sibling}var Ei=null;function QE(s,c){var h=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Sr(c,s),Nr(s),x&4&&(ea(3,s,s.return),_c(3,s),ea(5,s,s.return));break;case 1:Sr(c,s),Nr(s),x&512&&(Pn||h===null||Fi(h,h.return)),x&64&&gs&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var v=Ei;if(Sr(c,s),Nr(s),x&512&&(Pn||h===null||Fi(h,h.return)),x&4){var k=h!==null?h.memoizedState:null;if(x=s.memoizedState,h===null)if(x===null)if(s.stateNode===null){e:{x=s.type,h=s.memoizedProps,v=v.ownerDocument||v;t:switch(x){case"title":k=v.getElementsByTagName("title")[0],(!k||k[ts]||k[gn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=v.createElement(x),v.head.insertBefore(k,v.querySelector("head > title"))),rr(k,x,h),k[gn]=s,_n(k),x=k;break e;case"link":var O=Qk("link","href",v).get(x+(h.href||""));if(O){for(var G=0;G<O.length;G++)if(k=O[G],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(G,1);break t}}k=v.createElement(x),rr(k,x,h),v.head.appendChild(k);break;case"meta":if(O=Qk("meta","content",v).get(x+(h.content||""))){for(G=0;G<O.length;G++)if(k=O[G],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(G,1);break t}}k=v.createElement(x),rr(k,x,h),v.head.appendChild(k);break;default:throw Error(r(468,x))}k[gn]=s,_n(k),x=k}s.stateNode=x}else Jk(v,s.type,s.stateNode);else s.stateNode=Zk(v,x,s.memoizedProps);else k!==x?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,x===null?Jk(v,s.type,s.stateNode):Zk(v,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Vm(s,s.memoizedProps,h.memoizedProps)}break;case 27:Sr(c,s),Nr(s),x&512&&(Pn||h===null||Fi(h,h.return)),h!==null&&x&4&&Vm(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Sr(c,s),Nr(s),x&512&&(Pn||h===null||Fi(h,h.return)),s.flags&32){v=s.stateNode;try{Ge(v,"")}catch(Oe){Ut(s,s.return,Oe)}}x&4&&s.stateNode!=null&&(v=s.memoizedProps,Vm(s,v,h!==null?h.memoizedProps:v)),x&1024&&(Wm=!0);break;case 6:if(Sr(c,s),Nr(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,h=s.stateNode;try{h.nodeValue=x}catch(Oe){Ut(s,s.return,Oe)}}break;case 3:if(of=null,v=Ei,Ei=sf(c.containerInfo),Sr(c,s),Ei=v,Nr(s),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Wo(c.containerInfo)}catch(Oe){Ut(s,s.return,Oe)}Wm&&(Wm=!1,JE(s));break;case 4:x=Ei,Ei=sf(s.stateNode.containerInfo),Sr(c,s),Nr(s),Ei=x;break;case 12:Sr(c,s),Nr(s);break;case 31:Sr(c,s),Nr(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Hd(s,x)));break;case 13:Sr(c,s),Nr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Vd=ht()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Hd(s,x)));break;case 22:v=s.memoizedState!==null;var ee=h!==null&&h.memoizedState!==null,le=gs,me=Pn;if(gs=le||v,Pn=me||ee,Sr(c,s),Pn=me,gs=le,Nr(s),x&8192)e:for(c=s.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(h===null||ee||gs||Pn||Ha(s)),h=null,c=s;;){if(c.tag===5||c.tag===26){if(h===null){ee=h=c;try{if(k=ee.stateNode,v)O=k.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{G=ee.stateNode;var ve=ee.memoizedProps.style,ce=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;G.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Oe){Ut(ee,ee.return,Oe)}}}else if(c.tag===6){if(h===null){ee=c;try{ee.stateNode.nodeValue=v?"":ee.memoizedProps}catch(Oe){Ut(ee,ee.return,Oe)}}}else if(c.tag===18){if(h===null){ee=c;try{var fe=ee.stateNode;v?qk(fe,!0):qk(ee.stateNode,!1)}catch(Oe){Ut(ee,ee.return,Oe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,Hd(s,h))));break;case 19:Sr(c,s),Nr(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Hd(s,x)));break;case 30:break;case 21:break;default:Sr(c,s),Nr(s)}}function Nr(s){var c=s.flags;if(c&2){try{for(var h,x=s.return;x!==null;){if(HE(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var v=h.stateNode,k=Km(s);Fd(s,k,v);break;case 5:var O=h.stateNode;h.flags&32&&(Ge(O,""),h.flags&=-33);var G=Km(s);Fd(s,G,O);break;case 3:case 4:var ee=h.stateNode.containerInfo,le=Km(s);Ym(s,le,ee);break;default:throw Error(r(161))}}catch(me){Ut(s,s.return,me)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function JE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;JE(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function bs(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)KE(s,c.alternate,c),c=c.sibling}function Ha(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:ea(4,c,c.return),Ha(c);break;case 1:Fi(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&qE(c,c.return,h),Ha(c);break;case 27:Mc(c.stateNode);case 26:case 5:Fi(c,c.return),Ha(c);break;case 22:c.memoizedState===null&&Ha(c);break;case 30:Ha(c);break;default:Ha(c)}s=s.sibling}}function ys(s,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,v=s,k=c,O=k.flags;switch(k.tag){case 0:case 11:case 15:ys(v,k,h),_c(4,k);break;case 1:if(ys(v,k,h),x=k,v=x.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(le){Ut(x,x.return,le)}if(x=k,v=x.updateQueue,v!==null){var G=x.stateNode;try{var ee=v.shared.hiddenCallbacks;if(ee!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ee.length;v++)AN(ee[v],G)}catch(le){Ut(x,x.return,le)}}h&&O&64&&UE(k),wc(k,k.return);break;case 27:GE(k);case 26:case 5:ys(v,k,h),h&&x===null&&O&4&&FE(k),wc(k,k.return);break;case 12:ys(v,k,h);break;case 31:ys(v,k,h),h&&O&4&&XE(v,k);break;case 13:ys(v,k,h),h&&O&4&&ZE(v,k);break;case 22:k.memoizedState===null&&ys(v,k,h),wc(k,k.return);break;case 30:break;default:ys(v,k,h)}c=c.sibling}}function Xm(s,c){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&lc(h))}function Zm(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&lc(s))}function ki(s,c,h,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ek(s,c,h,x),c=c.sibling}function ek(s,c,h,x){var v=c.flags;switch(c.tag){case 0:case 11:case 15:ki(s,c,h,x),v&2048&&_c(9,c);break;case 1:ki(s,c,h,x);break;case 3:ki(s,c,h,x),v&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&lc(s)));break;case 12:if(v&2048){ki(s,c,h,x),s=c.stateNode;try{var k=c.memoizedProps,O=k.id,G=k.onPostCommit;typeof G=="function"&&G(O,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ee){Ut(c,c.return,ee)}}else ki(s,c,h,x);break;case 31:ki(s,c,h,x);break;case 13:ki(s,c,h,x);break;case 23:break;case 22:k=c.stateNode,O=c.alternate,c.memoizedState!==null?k._visibility&2?ki(s,c,h,x):Sc(s,c):k._visibility&2?ki(s,c,h,x):(k._visibility|=2,Po(s,c,h,x,(c.subtreeFlags&10256)!==0||!1)),v&2048&&Xm(O,c);break;case 24:ki(s,c,h,x),v&2048&&Zm(c.alternate,c);break;default:ki(s,c,h,x)}}function Po(s,c,h,x,v){for(v=v&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var k=s,O=c,G=h,ee=x,le=O.flags;switch(O.tag){case 0:case 11:case 15:Po(k,O,G,ee,v),_c(8,O);break;case 23:break;case 22:var me=O.stateNode;O.memoizedState!==null?me._visibility&2?Po(k,O,G,ee,v):Sc(k,O):(me._visibility|=2,Po(k,O,G,ee,v)),v&&le&2048&&Xm(O.alternate,O);break;case 24:Po(k,O,G,ee,v),v&&le&2048&&Zm(O.alternate,O);break;default:Po(k,O,G,ee,v)}c=c.sibling}}function Sc(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=s,x=c,v=x.flags;switch(x.tag){case 22:Sc(h,x),v&2048&&Xm(x.alternate,x);break;case 24:Sc(h,x),v&2048&&Zm(x.alternate,x);break;default:Sc(h,x)}c=c.sibling}}var Nc=8192;function Bo(s,c,h){if(s.subtreeFlags&Nc)for(s=s.child;s!==null;)tk(s,c,h),s=s.sibling}function tk(s,c,h){switch(s.tag){case 26:Bo(s,c,h),s.flags&Nc&&s.memoizedState!==null&&UP(h,Ei,s.memoizedState,s.memoizedProps);break;case 5:Bo(s,c,h);break;case 3:case 4:var x=Ei;Ei=sf(s.stateNode.containerInfo),Bo(s,c,h),Ei=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=Nc,Nc=16777216,Bo(s,c,h),Nc=x):Bo(s,c,h));break;default:Bo(s,c,h)}}function nk(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Ec(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var x=c[h];Yn=x,ik(x,s)}nk(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rk(s),s=s.sibling}function rk(s){switch(s.tag){case 0:case 11:case 15:Ec(s),s.flags&2048&&ea(9,s,s.return);break;case 3:Ec(s);break;case 12:Ec(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Gd(s)):Ec(s);break;default:Ec(s)}}function Gd(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var x=c[h];Yn=x,ik(x,s)}nk(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:ea(8,c,c.return),Gd(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Gd(c));break;default:Gd(c)}s=s.sibling}}function ik(s,c){for(;Yn!==null;){var h=Yn;switch(h.tag){case 0:case 11:case 15:ea(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:lc(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,Yn=x;else e:for(h=s;Yn!==null;){x=Yn;var v=x.sibling,k=x.return;if(YE(x),x===h){Yn=null;break e}if(v!==null){v.return=k,Yn=v;break e}Yn=k}}}var nP={getCacheForType:function(s){var c=tr(Ln),h=c.data.get(s);return h===void 0&&(h=s(),c.data.set(s,h)),h},cacheSignal:function(){return tr(Ln).controller.signal}},rP=typeof WeakMap=="function"?WeakMap:Map,At=0,Qt=null,st=null,ut=0,$t=0,Br=null,ta=!1,$o=!1,Qm=!1,vs=0,Sn=0,na=0,Ga=0,Jm=0,$r=0,Uo=0,kc=null,Er=null,eg=!1,Vd=0,sk=0,Kd=1/0,Yd=null,ra=null,Fn=0,ia=null,qo=null,_s=0,tg=0,ng=null,ak=null,jc=0,rg=null;function Ur(){return(At&2)!==0&&ut!==0?ut&-ut:B.T!==null?cg():Qn()}function ok(){if($r===0)if((ut&536870912)===0||pt){var s=Bi;Bi<<=1,(Bi&3932160)===0&&(Bi=262144),$r=s}else $r=536870912;return s=zr.current,s!==null&&(s.flags|=32),$r}function kr(s,c,h){(s===Qt&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(Fo(s,0),sa(s,ut,$r,!1)),lt(s,h),((At&2)===0||s!==Qt)&&(s===Qt&&((At&2)===0&&(Ga|=h),Sn===4&&sa(s,ut,$r,!1)),Hi(s))}function lk(s,c,h){if((At&6)!==0)throw Error(r(327));var x=!h&&(c&127)===0&&(c&s.expiredLanes)===0||pe(s,c),v=x?aP(s,c):sg(s,c,!0),k=x;do{if(v===0){$o&&!x&&sa(s,c,0,!1);break}else{if(h=s.current.alternate,k&&!iP(h)){v=sg(s,c,!1),k=!1;continue}if(v===2){if(k=c,s.errorRecoveryDisabledLanes&k)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var G=s;v=kc;var ee=G.current.memoizedState.isDehydrated;if(ee&&(Fo(G,O).flags|=256),O=sg(G,O,!1),O!==2){if(Qm&&!ee){G.errorRecoveryDisabledLanes|=k,Ga|=k,v=4;break e}k=Er,Er=v,k!==null&&(Er===null?Er=k:Er.push.apply(Er,k))}v=O}if(k=!1,v!==2)continue}}if(v===1){Fo(s,0),sa(s,c,0,!0);break}e:{switch(x=s,k=v,k){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:sa(x,c,$r,!ta);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(v=Vd+300-ht(),10<v)){if(sa(x,c,$r,!ta),J(x,0,!0)!==0)break e;_s=c,x.timeoutHandle=Bk(ck.bind(null,x,h,Er,Yd,eg,c,$r,Ga,Uo,ta,k,"Throttled",-0,0),v);break e}ck(x,h,Er,Yd,eg,c,$r,Ga,Uo,ta,k,null,-0,0)}}break}while(!0);Hi(s)}function ck(s,c,h,x,v,k,O,G,ee,le,me,ve,ce,fe){if(s.timeoutHandle=-1,ve=c.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ce},tk(c,k,ve);var Oe=(k&62914560)===k?Vd-ht():(k&4194048)===k?sk-ht():0;if(Oe=qP(ve,Oe),Oe!==null){_s=k,s.cancelPendingCommit=Oe(xk.bind(null,s,c,k,h,x,v,O,G,ee,me,ve,null,ce,fe)),sa(s,k,O,!le);return}}xk(s,c,k,h,x,v,O,G,ee)}function iP(s){for(var c=s;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var v=h[x],k=v.getSnapshot;v=v.value;try{if(!Lr(k(),v))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function sa(s,c,h,x){c&=~Jm,c&=~Ga,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var v=c;0<v;){var k=31-gt(v),O=1<<k;x[k]=-1,v&=~O}h!==0&&Ae(s,h,c)}function Wd(){return(At&6)===0?(Cc(0),!1):!0}function ig(){if(st!==null){if($t===0)var s=st.return;else s=st,us=Ia=null,vm(s),Oo=null,uc=0,s=st;for(;s!==null;)$E(s.alternate,s),s=s.return;st=null}}function Fo(s,c){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,NP(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),_s=0,ig(),Qt=s,st=h=ls(s.current,null),ut=c,$t=0,Br=null,ta=!1,$o=pe(s,c),Qm=!1,Uo=$r=Jm=Ga=na=Sn=0,Er=kc=null,eg=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var v=31-gt(x),k=1<<v;c|=s[v],x&=~k}return vs=c,gd(),h}function uk(s,c){Xe=null,B.H=bc,c===Ro||c===Nd?(c=kN(),$t=3):c===lm?(c=kN(),$t=4):$t=c===Im?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Br=c,st===null&&(Sn=1,Pd(s,Jr(c,s.current)))}function dk(){var s=zr.current;return s===null?!0:(ut&4194048)===ut?ri===null:(ut&62914560)===ut||(ut&536870912)!==0?s===ri:!1}function fk(){var s=B.H;return B.H=bc,s===null?bc:s}function hk(){var s=B.A;return B.A=nP,s}function Xd(){Sn=4,ta||(ut&4194048)!==ut&&zr.current!==null||($o=!0),(na&134217727)===0&&(Ga&134217727)===0||Qt===null||sa(Qt,ut,$r,!1)}function sg(s,c,h){var x=At;At|=2;var v=fk(),k=hk();(Qt!==s||ut!==c)&&(Yd=null,Fo(s,c)),c=!1;var O=Sn;e:do try{if($t!==0&&st!==null){var G=st,ee=Br;switch($t){case 8:ig(),O=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(c=!0);var le=$t;if($t=0,Br=null,Ho(s,G,ee,le),h&&$o){O=0;break e}break;default:le=$t,$t=0,Br=null,Ho(s,G,ee,le)}}sP(),O=Sn;break}catch(me){uk(s,me)}while(!0);return c&&s.shellSuspendCounter++,us=Ia=null,At=x,B.H=v,B.A=k,st===null&&(Qt=null,ut=0,gd()),O}function sP(){for(;st!==null;)pk(st)}function aP(s,c){var h=At;At|=2;var x=fk(),v=hk();Qt!==s||ut!==c?(Yd=null,Kd=ht()+500,Fo(s,c)):$o=pe(s,c);e:do try{if($t!==0&&st!==null){c=st;var k=Br;t:switch($t){case 1:$t=0,Br=null,Ho(s,c,k,1);break;case 2:case 9:if(NN(k)){$t=0,Br=null,mk(c);break}c=function(){$t!==2&&$t!==9||Qt!==s||($t=7),Hi(s)},k.then(c,c);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:NN(k)?($t=0,Br=null,mk(c)):($t=0,Br=null,Ho(s,c,k,7));break;case 5:var O=null;switch(st.tag){case 26:O=st.memoizedState;case 5:case 27:var G=st;if(O?e2(O):G.stateNode.complete){$t=0,Br=null;var ee=G.sibling;if(ee!==null)st=ee;else{var le=G.return;le!==null?(st=le,Zd(le)):st=null}break t}}$t=0,Br=null,Ho(s,c,k,5);break;case 6:$t=0,Br=null,Ho(s,c,k,6);break;case 8:ig(),Sn=6;break e;default:throw Error(r(462))}}oP();break}catch(me){uk(s,me)}while(!0);return us=Ia=null,B.H=x,B.A=v,At=h,st!==null?0:(Qt=null,ut=0,gd(),Sn)}function oP(){for(;st!==null&&!rn();)pk(st)}function pk(s){var c=PE(s.alternate,s,vs);s.memoizedProps=s.pendingProps,c===null?Zd(s):st=c}function mk(s){var c=s,h=c.alternate;switch(c.tag){case 15:case 0:c=RE(h,c,c.pendingProps,c.type,void 0,ut);break;case 11:c=RE(h,c,c.pendingProps,c.type.render,c.ref,ut);break;case 5:vm(c);default:$E(h,c),c=st=hN(c,vs),c=PE(h,c,vs)}s.memoizedProps=s.pendingProps,c===null?Zd(s):st=c}function Ho(s,c,h,x){us=Ia=null,vm(c),Oo=null,uc=0;var v=c.return;try{if(Wz(s,v,c,h,ut)){Sn=1,Pd(s,Jr(h,s.current)),st=null;return}}catch(k){if(v!==null)throw st=v,k;Sn=1,Pd(s,Jr(h,s.current)),st=null;return}c.flags&32768?(pt||x===1?s=!0:$o||(ut&536870912)!==0?s=!1:(ta=s=!0,(x===2||x===9||x===3||x===6)&&(x=zr.current,x!==null&&x.tag===13&&(x.flags|=16384))),gk(c,s)):Zd(c)}function Zd(s){var c=s;do{if((c.flags&32768)!==0){gk(c,ta);return}s=c.return;var h=Qz(c.alternate,c,vs);if(h!==null){st=h;return}if(c=c.sibling,c!==null){st=c;return}st=c=s}while(c!==null);Sn===0&&(Sn=5)}function gk(s,c){do{var h=Jz(s.alternate,s);if(h!==null){h.flags&=32767,st=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(s=s.sibling,s!==null)){st=s;return}st=s=h}while(s!==null);Sn=6,st=null}function xk(s,c,h,x,v,k,O,G,ee){s.cancelPendingCommit=null;do Qd();while(Fn!==0);if((At&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(k=c.lanes|c.childLanes,k|=Kp,Te(s,h,k,O,G,ee),s===Qt&&(st=Qt=null,ut=0),qo=c,ia=s,_s=h,tg=k,ng=v,ak=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,dP(Re,function(){return wk(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=B.T,B.T=null,v=X.p,X.p=2,O=At,At|=4;try{eP(s,c,h)}finally{At=O,X.p=v,B.T=x}}Fn=1,bk(),yk(),vk()}}function bk(){if(Fn===1){Fn=0;var s=ia,c=qo,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=B.T,B.T=null;var x=X.p;X.p=2;var v=At;At|=4;try{QE(c,s);var k=xg,O=iN(s.containerInfo),G=k.focusedElem,ee=k.selectionRange;if(O!==G&&G&&G.ownerDocument&&rN(G.ownerDocument.documentElement,G)){if(ee!==null&&qp(G)){var le=ee.start,me=ee.end;if(me===void 0&&(me=le),"selectionStart"in G)G.selectionStart=le,G.selectionEnd=Math.min(me,G.value.length);else{var ve=G.ownerDocument||document,ce=ve&&ve.defaultView||window;if(ce.getSelection){var fe=ce.getSelection(),Oe=G.textContent.length,Fe=Math.min(ee.start,Oe),Wt=ee.end===void 0?Fe:Math.min(ee.end,Oe);!fe.extend&&Fe>Wt&&(O=Wt,Wt=Fe,Fe=O);var se=nN(G,Fe),ie=nN(G,Wt);if(se&&ie&&(fe.rangeCount!==1||fe.anchorNode!==se.node||fe.anchorOffset!==se.offset||fe.focusNode!==ie.node||fe.focusOffset!==ie.offset)){var oe=ve.createRange();oe.setStart(se.node,se.offset),fe.removeAllRanges(),Fe>Wt?(fe.addRange(oe),fe.extend(ie.node,ie.offset)):(oe.setEnd(ie.node,ie.offset),fe.addRange(oe))}}}}for(ve=[],fe=G;fe=fe.parentNode;)fe.nodeType===1&&ve.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<ve.length;G++){var xe=ve[G];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}df=!!gg,xg=gg=null}finally{At=v,X.p=x,B.T=h}}s.current=c,Fn=2}}function yk(){if(Fn===2){Fn=0;var s=ia,c=qo,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=B.T,B.T=null;var x=X.p;X.p=2;var v=At;At|=4;try{KE(s,c.alternate,c)}finally{At=v,X.p=x,B.T=h}}Fn=3}}function vk(){if(Fn===4||Fn===3){Fn=0,Dt();var s=ia,c=qo,h=_s,x=ak;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Fn=5:(Fn=0,qo=ia=null,_k(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(ra=null),Zn(h),c=c.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Lt,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=B.T,v=X.p,X.p=2,B.T=null;try{for(var k=s.onRecoverableError,O=0;O<x.length;O++){var G=x[O];k(G.value,{componentStack:G.stack})}}finally{B.T=c,X.p=v}}(_s&3)!==0&&Qd(),Hi(s),v=s.pendingLanes,(h&261930)!==0&&(v&42)!==0?s===rg?jc++:(jc=0,rg=s):jc=0,Cc(0)}}function _k(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,lc(c)))}function Qd(){return bk(),yk(),vk(),wk()}function wk(){if(Fn!==5)return!1;var s=ia,c=tg;tg=0;var h=Zn(_s),x=B.T,v=X.p;try{X.p=32>h?32:h,B.T=null,h=ng,ng=null;var k=ia,O=_s;if(Fn=0,qo=ia=null,_s=0,(At&6)!==0)throw Error(r(331));var G=At;if(At|=4,rk(k.current),ek(k,k.current,O,h),At=G,Cc(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Lt,k)}catch{}return!0}finally{X.p=v,B.T=x,_k(s,c)}}function Sk(s,c,h){c=Jr(h,c),c=Lm(s.stateNode,c,2),s=Zs(s,c,2),s!==null&&(lt(s,2),Hi(s))}function Ut(s,c,h){if(s.tag===3)Sk(s,s,h);else for(;c!==null;){if(c.tag===3){Sk(c,s,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ra===null||!ra.has(x))){s=Jr(h,s),h=NE(2),x=Zs(c,h,2),x!==null&&(EE(h,x,c,s),lt(x,2),Hi(x));break}}c=c.return}}function ag(s,c,h){var x=s.pingCache;if(x===null){x=s.pingCache=new rP;var v=new Set;x.set(c,v)}else v=x.get(c),v===void 0&&(v=new Set,x.set(c,v));v.has(h)||(Qm=!0,v.add(h),s=lP.bind(null,s,c,h),c.then(s,s))}function lP(s,c,h){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Qt===s&&(ut&h)===h&&(Sn===4||Sn===3&&(ut&62914560)===ut&&300>ht()-Vd?(At&2)===0&&Fo(s,0):Jm|=h,Uo===ut&&(Uo=0)),Hi(s)}function Nk(s,c){c===0&&(c=De()),s=Oa(s,c),s!==null&&(lt(s,c),Hi(s))}function cP(s){var c=s.memoizedState,h=0;c!==null&&(h=c.retryLane),Nk(s,h)}function uP(s,c){var h=0;switch(s.tag){case 31:case 13:var x=s.stateNode,v=s.memoizedState;v!==null&&(h=v.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),Nk(s,h)}function dP(s,c){return Ht(s,c)}var Jd=null,Go=null,og=!1,ef=!1,lg=!1,aa=0;function Hi(s){s!==Go&&s.next===null&&(Go===null?Jd=Go=s:Go=Go.next=s),ef=!0,og||(og=!0,hP())}function Cc(s,c){if(!lg&&ef){lg=!0;do for(var h=!1,x=Jd;x!==null;){if(s!==0){var v=x.pendingLanes;if(v===0)var k=0;else{var O=x.suspendedLanes,G=x.pingedLanes;k=(1<<31-gt(42|s)+1)-1,k&=v&~(O&~G),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,Ck(x,k))}else k=ut,k=J(x,x===Qt?k:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(k&3)===0||pe(x,k)||(h=!0,Ck(x,k));x=x.next}while(h);lg=!1}}function fP(){Ek()}function Ek(){ef=og=!1;var s=0;aa!==0&&SP()&&(s=aa);for(var c=ht(),h=null,x=Jd;x!==null;){var v=x.next,k=kk(x,c);k===0?(x.next=null,h===null?Jd=v:h.next=v,v===null&&(Go=h)):(h=x,(s!==0||(k&3)!==0)&&(ef=!0)),x=v}Fn!==0&&Fn!==5||Cc(s),aa!==0&&(aa=0)}function kk(s,c){for(var h=s.suspendedLanes,x=s.pingedLanes,v=s.expirationTimes,k=s.pendingLanes&-62914561;0<k;){var O=31-gt(k),G=1<<O,ee=v[O];ee===-1?((G&h)===0||(G&x)!==0)&&(v[O]=Ee(G,c)):ee<=c&&(s.expiredLanes|=G),k&=~G}if(c=Qt,h=ut,h=J(s,s===c?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,h===0||s===c&&($t===2||$t===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&mn(x),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||pe(s,h)){if(c=h&-h,c===s.callbackPriority)return c;switch(x!==null&&mn(x),Zn(h)){case 2:case 8:h=Se;break;case 32:h=Re;break;case 268435456:h=We;break;default:h=Re}return x=jk.bind(null,s),h=Ht(h,x),s.callbackPriority=c,s.callbackNode=h,c}return x!==null&&x!==null&&mn(x),s.callbackPriority=2,s.callbackNode=null,2}function jk(s,c){if(Fn!==0&&Fn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Qd()&&s.callbackNode!==h)return null;var x=ut;return x=J(s,s===Qt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(lk(s,x,c),kk(s,ht()),s.callbackNode!=null&&s.callbackNode===h?jk.bind(null,s):null)}function Ck(s,c){if(Qd())return null;lk(s,c,!0)}function hP(){EP(function(){(At&6)!==0?Ht(he,fP):Ek()})}function cg(){if(aa===0){var s=Ao;s===0&&(s=bi,bi<<=1,(bi&261888)===0&&(bi=256)),aa=s}return aa}function Tk(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fs(""+s)}function Ak(s,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,s.id&&h.setAttribute("form",s.id),c.parentNode.insertBefore(h,c),s=new FormData(s),h.parentNode.removeChild(h),s}function pP(s,c,h,x,v){if(c==="submit"&&h&&h.stateNode===v){var k=Tk((v[Vn]||null).action),O=x.submitter;O&&(c=(c=O[Vn]||null)?Tk(c.formAction):O.getAttribute("formAction"),c!==null&&(k=c,O=null));var G=new fd("action","action",null,x,v);s.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(aa!==0){var ee=O?Ak(v,O):new FormData(v);Tm(h,{pending:!0,data:ee,method:v.method,action:k},null,ee)}}else typeof k=="function"&&(G.preventDefault(),ee=O?Ak(v,O):new FormData(v),Tm(h,{pending:!0,data:ee,method:v.method,action:k},k,ee))},currentTarget:v}]})}}for(var ug=0;ug<Vp.length;ug++){var dg=Vp[ug],mP=dg.toLowerCase(),gP=dg[0].toUpperCase()+dg.slice(1);Ni(mP,"on"+gP)}Ni(oN,"onAnimationEnd"),Ni(lN,"onAnimationIteration"),Ni(cN,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Rz,"onTransitionRun"),Ni(Oz,"onTransitionStart"),Ni(Dz,"onTransitionCancel"),Ni(uN,"onTransitionEnd"),Ne("onMouseEnter",["mouseout","mouseover"]),Ne("onMouseLeave",["mouseout","mouseover"]),Ne("onPointerEnter",["pointerout","pointerover"]),Ne("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tc));function Mk(s,c){c=(c&4)!==0;for(var h=0;h<s.length;h++){var x=s[h],v=x.event;x=x.listeners;e:{var k=void 0;if(c)for(var O=x.length-1;0<=O;O--){var G=x[O],ee=G.instance,le=G.currentTarget;if(G=G.listener,ee!==k&&v.isPropagationStopped())break e;k=G,v.currentTarget=le;try{k(v)}catch(me){md(me)}v.currentTarget=null,k=ee}else for(O=0;O<x.length;O++){if(G=x[O],ee=G.instance,le=G.currentTarget,G=G.listener,ee!==k&&v.isPropagationStopped())break e;k=G,v.currentTarget=le;try{k(v)}catch(me){md(me)}v.currentTarget=null,k=ee}}}}function at(s,c){var h=c[Bs];h===void 0&&(h=c[Bs]=new Set);var x=s+"__bubble";h.has(x)||(Rk(c,s,2,!1),h.add(x))}function fg(s,c,h){var x=0;c&&(x|=4),Rk(h,s,x,c)}var tf="_reactListening"+Math.random().toString(36).slice(2);function hg(s){if(!s[tf]){s[tf]=!0,bo.forEach(function(h){h!=="selectionchange"&&(xP.has(h)||fg(h,!1,s),fg(h,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[tf]||(c[tf]=!0,fg("selectionchange",!1,c))}}function Rk(s,c,h,x){switch(o2(c)){case 2:var v=GP;break;case 8:v=VP;break;default:v=Cg}h=v.bind(null,c,h,s),v=void 0,!Op||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),x?v!==void 0?s.addEventListener(c,h,{capture:!0,passive:v}):s.addEventListener(c,h,!0):v!==void 0?s.addEventListener(c,h,{passive:v}):s.addEventListener(c,h,!1)}function pg(s,c,h,x,v){var k=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var O=x.tag;if(O===3||O===4){var G=x.stateNode.containerInfo;if(G===v)break;if(O===4)for(O=x.return;O!==null;){var ee=O.tag;if((ee===3||ee===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;G!==null;){if(O=Jn(G),O===null)return;if(ee=O.tag,ee===5||ee===6||ee===26||ee===27){x=k=O;continue e}G=G.parentNode}}x=x.return}ld(function(){var le=k,me=Ye(h),ve=[];e:{var ce=dN.get(s);if(ce!==void 0){var fe=fd,Oe=s;switch(s){case"keypress":if(ud(h)===0)break e;case"keydown":case"keyup":fe=uz;break;case"focusin":Oe="focus",fe=zp;break;case"focusout":Oe="blur",fe=zp;break;case"beforeblur":case"afterblur":fe=zp;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=$S;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Q6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=hz;break;case oN:case lN:case cN:fe=tz;break;case uN:fe=mz;break;case"scroll":case"scrollend":fe=X6;break;case"wheel":fe=xz;break;case"copy":case"cut":case"paste":fe=rz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=qS;break;case"toggle":case"beforetoggle":fe=yz}var Fe=(c&4)!==0,Wt=!Fe&&(s==="scroll"||s==="scrollend"),se=Fe?ce!==null?ce+"Capture":null:ce;Fe=[];for(var ie=le,oe;ie!==null;){var xe=ie;if(oe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||oe===null||se===null||(xe=Zl(ie,se),xe!=null&&Fe.push(Ac(ie,xe,oe))),Wt)break;ie=ie.return}0<Fe.length&&(ce=new fe(ce,Oe,null,h,me),ve.push({event:ce,listeners:Fe}))}}if((c&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",ce&&h!==Ie&&(Oe=h.relatedTarget||h.fromElement)&&(Jn(Oe)||Oe[yi]))break e;if((fe||ce)&&(ce=me.window===me?me:(ce=me.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(Oe=h.relatedTarget||h.toElement,fe=le,Oe=Oe?Jn(Oe):null,Oe!==null&&(Wt=o(Oe),Fe=Oe.tag,Oe!==Wt||Fe!==5&&Fe!==27&&Fe!==6)&&(Oe=null)):(fe=null,Oe=le),fe!==Oe)){if(Fe=$S,xe="onMouseLeave",se="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(Fe=qS,xe="onPointerLeave",se="onPointerEnter",ie="pointer"),Wt=fe==null?ce:_i(fe),oe=Oe==null?ce:_i(Oe),ce=new Fe(xe,ie+"leave",fe,h,me),ce.target=Wt,ce.relatedTarget=oe,xe=null,Jn(me)===le&&(Fe=new Fe(se,ie+"enter",Oe,h,me),Fe.target=oe,Fe.relatedTarget=Wt,xe=Fe),Wt=xe,fe&&Oe)t:{for(Fe=bP,se=fe,ie=Oe,oe=0,xe=se;xe;xe=Fe(xe))oe++;xe=0;for(var $e=ie;$e;$e=Fe($e))xe++;for(;0<oe-xe;)se=Fe(se),oe--;for(;0<xe-oe;)ie=Fe(ie),xe--;for(;oe--;){if(se===ie||ie!==null&&se===ie.alternate){Fe=se;break t}se=Fe(se),ie=Fe(ie)}Fe=null}else Fe=null;fe!==null&&Ok(ve,ce,fe,Fe,!1),Oe!==null&&Wt!==null&&Ok(ve,Wt,Oe,Fe,!0)}}e:{if(ce=le?_i(le):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var St=XS;else if(YS(ce))if(ZS)St=Tz;else{St=jz;var ze=kz}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&qs(le.elementType)&&(St=XS):St=Cz;if(St&&(St=St(s,le))){WS(ve,St,h,me);break e}ze&&ze(s,ce,le),s==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Us(ce,"number",ce.value)}switch(ze=le?_i(le):window,s){case"focusin":(YS(ze)||ze.contentEditable==="true")&&(wo=ze,Fp=le,sc=null);break;case"focusout":sc=Fp=wo=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,sN(ve,h,me);break;case"selectionchange":if(Mz)break;case"keydown":case"keyup":sN(ve,h,me)}var Qe;if(Bp)e:{switch(s){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else _o?VS(s,h)&&(dt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(dt="onCompositionStart");dt&&(FS&&h.locale!=="ko"&&(_o||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&_o&&(Qe=PS()):(Hs=me,Dp="value"in Hs?Hs.value:Hs.textContent,_o=!0)),ze=nf(le,dt),0<ze.length&&(dt=new US(dt,s,null,h,me),ve.push({event:dt,listeners:ze}),Qe?dt.data=Qe:(Qe=KS(h),Qe!==null&&(dt.data=Qe)))),(Qe=_z?wz(s,h):Sz(s,h))&&(dt=nf(le,"onBeforeInput"),0<dt.length&&(ze=new US("onBeforeInput","beforeinput",null,h,me),ve.push({event:ze,listeners:dt}),ze.data=Qe)),pP(ve,s,le,h,me)}Mk(ve,c)})}function Ac(s,c,h){return{instance:s,listener:c,currentTarget:h}}function nf(s,c){for(var h=c+"Capture",x=[];s!==null;){var v=s,k=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||k===null||(v=Zl(s,h),v!=null&&x.unshift(Ac(s,v,k)),v=Zl(s,c),v!=null&&x.push(Ac(s,v,k))),s.tag===3)return x;s=s.return}return[]}function bP(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Ok(s,c,h,x,v){for(var k=c._reactName,O=[];h!==null&&h!==x;){var G=h,ee=G.alternate,le=G.stateNode;if(G=G.tag,ee!==null&&ee===x)break;G!==5&&G!==26&&G!==27||le===null||(ee=le,v?(le=Zl(h,k),le!=null&&O.unshift(Ac(h,le,ee))):v||(le=Zl(h,k),le!=null&&O.push(Ac(h,le,ee)))),h=h.return}O.length!==0&&s.push({event:c,listeners:O})}var yP=/\r\n?/g,vP=/\u0000|\uFFFD/g;function Dk(s){return(typeof s=="string"?s:""+s).replace(yP,`
`).replace(vP,"")}function Lk(s,c){return c=Dk(c),Dk(s)===c}function Yt(s,c,h,x,v,k){switch(h){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||Ge(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&Ge(s,""+x);break;case"className":fr(s,"class",x);break;case"tabIndex":fr(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(s,h,x);break;case"style":Bt(s,x,k);break;case"data":if(c!=="object"){fr(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||h!=="href")){s.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(h);break}x=Fs(""+x),s.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(c!=="input"&&Yt(s,c,"name",v.name,v,null),Yt(s,c,"formEncType",v.formEncType,v,null),Yt(s,c,"formMethod",v.formMethod,v,null),Yt(s,c,"formTarget",v.formTarget,v,null)):(Yt(s,c,"encType",v.encType,v,null),Yt(s,c,"method",v.method,v,null),Yt(s,c,"target",v.target,v,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(h);break}x=Fs(""+x),s.setAttribute(h,x);break;case"onClick":x!=null&&(s.onclick=Ce);break;case"onScroll":x!=null&&at("scroll",s);break;case"onScrollEnd":x!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}h=Fs(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,""+x):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":x===!0?s.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(h,x):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(h,x):s.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(h):s.setAttribute(h,x);break;case"popover":at("beforetoggle",s),at("toggle",s),Kn(s,"popover",x);break;case"xlinkActuate":sr(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":sr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":sr(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":sr(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":sr(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":sr(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":sr(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":sr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":sr(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Kn(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=as.get(h)||h,Kn(s,h,x))}}function mg(s,c,h,x,v,k){switch(h){case"style":Bt(s,x,k);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof x=="string"?Ge(s,x):(typeof x=="number"||typeof x=="bigint")&&Ge(s,""+x);break;case"onScroll":x!=null&&at("scroll",s);break;case"onScrollEnd":x!=null&&at("scrollend",s);break;case"onClick":x!=null&&(s.onclick=Ce);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ns.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),c=h.slice(2,v?h.length-7:void 0),k=s[Vn]||null,k=k!=null?k[h]:null,typeof k=="function"&&s.removeEventListener(c,k,v),typeof x=="function")){typeof k!="function"&&k!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(c,x,v);break e}h in s?s[h]=x:x===!0?s.setAttribute(h,""):Kn(s,h,x)}}}function rr(s,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var x=!1,v=!1,k;for(k in h)if(h.hasOwnProperty(k)){var O=h[k];if(O!=null)switch(k){case"src":x=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Yt(s,c,k,O,h,null)}}v&&Yt(s,c,"srcSet",h.srcSet,h,null),x&&Yt(s,c,"src",h.src,h,null);return;case"input":at("invalid",s);var G=k=O=v=null,ee=null,le=null;for(x in h)if(h.hasOwnProperty(x)){var me=h[x];if(me!=null)switch(x){case"name":v=me;break;case"type":O=me;break;case"checked":ee=me;break;case"defaultChecked":le=me;break;case"value":k=me;break;case"defaultValue":G=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,c));break;default:Yt(s,c,x,me,h,null)}}ss(s,k,G,ee,le,O,v,!1);return;case"select":at("invalid",s),x=O=k=null;for(v in h)if(h.hasOwnProperty(v)&&(G=h[v],G!=null))switch(v){case"value":k=G;break;case"defaultValue":O=G;break;case"multiple":x=G;default:Yt(s,c,v,G,h,null)}c=k,h=O,s.multiple=!!x,c!=null?On(s,!!x,c,!1):h!=null&&On(s,!!x,h,!0);return;case"textarea":at("invalid",s),k=v=x=null;for(O in h)if(h.hasOwnProperty(O)&&(G=h[O],G!=null))switch(O){case"value":x=G;break;case"defaultValue":v=G;break;case"children":k=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Yt(s,c,O,G,h,null)}vo(s,x,v,k);return;case"option":for(ee in h)if(h.hasOwnProperty(ee)&&(x=h[ee],x!=null))switch(ee){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Yt(s,c,ee,x,h,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(x=0;x<Tc.length;x++)at(Tc[x],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in h)if(h.hasOwnProperty(le)&&(x=h[le],x!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Yt(s,c,le,x,h,null)}return;default:if(qs(c)){for(me in h)h.hasOwnProperty(me)&&(x=h[me],x!==void 0&&mg(s,c,me,x,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(x=h[G],x!=null&&Yt(s,c,G,x,h,null))}function _P(s,c,h,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,k=null,O=null,G=null,ee=null,le=null,me=null;for(fe in h){var ve=h[fe];if(h.hasOwnProperty(fe)&&ve!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":ee=ve;default:x.hasOwnProperty(fe)||Yt(s,c,fe,null,x,ve)}}for(var ce in x){var fe=x[ce];if(ve=h[ce],x.hasOwnProperty(ce)&&(fe!=null||ve!=null))switch(ce){case"type":k=fe;break;case"name":v=fe;break;case"checked":le=fe;break;case"defaultChecked":me=fe;break;case"value":O=fe;break;case"defaultValue":G=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,c));break;default:fe!==ve&&Yt(s,c,ce,fe,x,ve)}}is(s,O,G,ee,le,me,k,v);return;case"select":fe=O=G=ce=null;for(k in h)if(ee=h[k],h.hasOwnProperty(k)&&ee!=null)switch(k){case"value":break;case"multiple":fe=ee;default:x.hasOwnProperty(k)||Yt(s,c,k,null,x,ee)}for(v in x)if(k=x[v],ee=h[v],x.hasOwnProperty(v)&&(k!=null||ee!=null))switch(v){case"value":ce=k;break;case"defaultValue":G=k;break;case"multiple":O=k;default:k!==ee&&Yt(s,c,v,k,x,ee)}c=G,h=O,x=fe,ce!=null?On(s,!!h,ce,!1):!!x!=!!h&&(c!=null?On(s,!!h,c,!0):On(s,!!h,h?[]:"",!1));return;case"textarea":fe=ce=null;for(G in h)if(v=h[G],h.hasOwnProperty(G)&&v!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Yt(s,c,G,null,x,v)}for(O in x)if(v=x[O],k=h[O],x.hasOwnProperty(O)&&(v!=null||k!=null))switch(O){case"value":ce=v;break;case"defaultValue":fe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==k&&Yt(s,c,O,v,x,k)}ad(s,ce,fe);return;case"option":for(var Oe in h)if(ce=h[Oe],h.hasOwnProperty(Oe)&&ce!=null&&!x.hasOwnProperty(Oe))switch(Oe){case"selected":s.selected=!1;break;default:Yt(s,c,Oe,null,x,ce)}for(ee in x)if(ce=x[ee],fe=h[ee],x.hasOwnProperty(ee)&&ce!==fe&&(ce!=null||fe!=null))switch(ee){case"selected":s.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Yt(s,c,ee,ce,x,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in h)ce=h[Fe],h.hasOwnProperty(Fe)&&ce!=null&&!x.hasOwnProperty(Fe)&&Yt(s,c,Fe,null,x,ce);for(le in x)if(ce=x[le],fe=h[le],x.hasOwnProperty(le)&&ce!==fe&&(ce!=null||fe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,c));break;default:Yt(s,c,le,ce,x,fe)}return;default:if(qs(c)){for(var Wt in h)ce=h[Wt],h.hasOwnProperty(Wt)&&ce!==void 0&&!x.hasOwnProperty(Wt)&&mg(s,c,Wt,void 0,x,ce);for(me in x)ce=x[me],fe=h[me],!x.hasOwnProperty(me)||ce===fe||ce===void 0&&fe===void 0||mg(s,c,me,ce,x,fe);return}}for(var se in h)ce=h[se],h.hasOwnProperty(se)&&ce!=null&&!x.hasOwnProperty(se)&&Yt(s,c,se,null,x,ce);for(ve in x)ce=x[ve],fe=h[ve],!x.hasOwnProperty(ve)||ce===fe||ce==null&&fe==null||Yt(s,c,ve,ce,x,fe)}function Ik(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wP(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var v=h[x],k=v.transferSize,O=v.initiatorType,G=v.duration;if(k&&G&&Ik(O)){for(O=0,G=v.responseEnd,x+=1;x<h.length;x++){var ee=h[x],le=ee.startTime;if(le>G)break;var me=ee.transferSize,ve=ee.initiatorType;me&&Ik(ve)&&(ee=ee.responseEnd,O+=me*(ee<G?1:(G-le)/(ee-le)))}if(--x,c+=8*(k+O)/(v.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var gg=null,xg=null;function rf(s){return s.nodeType===9?s:s.ownerDocument}function zk(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pk(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function bg(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yg=null;function SP(){var s=window.event;return s&&s.type==="popstate"?s===yg?!1:(yg=s,!0):(yg=null,!1)}var Bk=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,$k=typeof Promise=="function"?Promise:void 0,EP=typeof queueMicrotask=="function"?queueMicrotask:typeof $k<"u"?function(s){return $k.resolve(null).then(s).catch(kP)}:Bk;function kP(s){setTimeout(function(){throw s})}function oa(s){return s==="head"}function Uk(s,c){var h=c,x=0;do{var v=h.nextSibling;if(s.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"||h==="/&"){if(x===0){s.removeChild(v),Wo(c);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")Mc(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Mc(h);for(var k=h.firstChild;k;){var O=k.nextSibling,G=k.nodeName;k[ts]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=O}}else h==="body"&&Mc(s.ownerDocument.body);h=v}while(h);Wo(c)}function qk(s,c){var h=s;s=0;do{var x=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=x}while(h)}function vg(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":vg(h),Ca(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function jP(s,c,h,x){for(;s.nodeType===1;){var v=h;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[ts])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(k=s.getAttribute("rel"),k==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(k!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(k=s.getAttribute("src"),(k!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&k&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var k=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===k)return s}else return s;if(s=ii(s.nextSibling),s===null)break}return null}function CP(s,c,h){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=ii(s.nextSibling),s===null))return null;return s}function Fk(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ii(s.nextSibling),s===null))return null;return s}function _g(s){return s.data==="$?"||s.data==="$~"}function wg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function TP(s,c){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||h.readyState!=="loading")c();else{var x=function(){c(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function ii(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var Sg=null;function Hk(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(c===0)return ii(s.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}s=s.nextSibling}return null}function Gk(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return s;c--}else h!=="/$"&&h!=="/&"||c++}s=s.previousSibling}return null}function Vk(s,c,h){switch(c=rf(h),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Mc(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Ca(s)}var si=new Map,Kk=new Set;function sf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ws=X.d;X.d={f:AP,r:MP,D:RP,C:OP,L:DP,m:LP,X:zP,S:IP,M:PP};function AP(){var s=ws.f(),c=Wd();return s||c}function MP(s){var c=vi(s);c!==null&&c.tag===5&&c.type==="form"?uE(c):ws.r(s)}var Vo=typeof document>"u"?null:document;function Yk(s,c,h){var x=Vo;if(x&&typeof c=="string"&&c){var v=ar(c);v='link[rel="'+s+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),Kk.has(v)||(Kk.add(v),s={rel:s,crossOrigin:h,href:c},x.querySelector(v)===null&&(c=x.createElement("link"),rr(c,"link",s),_n(c),x.head.appendChild(c)))}}function RP(s){ws.D(s),Yk("dns-prefetch",s,null)}function OP(s,c){ws.C(s,c),Yk("preconnect",s,c)}function DP(s,c,h){ws.L(s,c,h);var x=Vo;if(x&&s&&c){var v='link[rel="preload"][as="'+ar(c)+'"]';c==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+ar(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+ar(h.imageSizes)+'"]')):v+='[href="'+ar(s)+'"]';var k=v;switch(c){case"style":k=Ko(s);break;case"script":k=Yo(s)}si.has(k)||(s=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:s,as:c},h),si.set(k,s),x.querySelector(v)!==null||c==="style"&&x.querySelector(Rc(k))||c==="script"&&x.querySelector(Oc(k))||(c=x.createElement("link"),rr(c,"link",s),_n(c),x.head.appendChild(c)))}}function LP(s,c){ws.m(s,c);var h=Vo;if(h&&s){var x=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+ar(x)+'"][href="'+ar(s)+'"]',k=v;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Yo(s)}if(!si.has(k)&&(s=m({rel:"modulepreload",href:s},c),si.set(k,s),h.querySelector(v)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Oc(k)))return}x=h.createElement("link"),rr(x,"link",s),_n(x),h.head.appendChild(x)}}}function IP(s,c,h){ws.S(s,c,h);var x=Vo;if(x&&s){var v=$i(x).hoistableStyles,k=Ko(s);c=c||"default";var O=v.get(k);if(!O){var G={loading:0,preload:null};if(O=x.querySelector(Rc(k)))G.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":c},h),(h=si.get(k))&&Ng(s,h);var ee=O=x.createElement("link");_n(ee),rr(ee,"link",s),ee._p=new Promise(function(le,me){ee.onload=le,ee.onerror=me}),ee.addEventListener("load",function(){G.loading|=1}),ee.addEventListener("error",function(){G.loading|=2}),G.loading|=4,af(O,c,x)}O={type:"stylesheet",instance:O,count:1,state:G},v.set(k,O)}}}function zP(s,c){ws.X(s,c);var h=Vo;if(h&&s){var x=$i(h).hoistableScripts,v=Yo(s),k=x.get(v);k||(k=h.querySelector(Oc(v)),k||(s=m({src:s,async:!0},c),(c=si.get(v))&&Eg(s,c),k=h.createElement("script"),_n(k),rr(k,"link",s),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(v,k))}}function PP(s,c){ws.M(s,c);var h=Vo;if(h&&s){var x=$i(h).hoistableScripts,v=Yo(s),k=x.get(v);k||(k=h.querySelector(Oc(v)),k||(s=m({src:s,async:!0,type:"module"},c),(c=si.get(v))&&Eg(s,c),k=h.createElement("script"),_n(k),rr(k,"link",s),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(v,k))}}function Wk(s,c,h,x){var v=(v=Q.current)?sf(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Ko(h.href),h=$i(v).hoistableStyles,x=h.get(c),x||(x={type:"style",instance:null,count:0,state:null},h.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Ko(h.href);var k=$i(v).hoistableStyles,O=k.get(s);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(s,O),(k=v.querySelector(Rc(s)))&&!k._p&&(O.instance=k,O.state.loading=5),si.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},si.set(s,h),k||BP(v,s,h,O.state))),c&&x===null)throw Error(r(528,""));return O}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Yo(h),h=$i(v).hoistableScripts,x=h.get(c),x||(x={type:"script",instance:null,count:0,state:null},h.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ko(s){return'href="'+ar(s)+'"'}function Rc(s){return'link[rel="stylesheet"]['+s+"]"}function Xk(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function BP(s,c,h,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),rr(c,"link",h),_n(c),s.head.appendChild(c))}function Yo(s){return'[src="'+ar(s)+'"]'}function Oc(s){return"script[async]"+s}function Zk(s,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+ar(h.href)+'"]');if(x)return c.instance=x,_n(x),x;var v=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),_n(x),rr(x,"style",v),af(x,h.precedence,s),c.instance=x;case"stylesheet":v=Ko(h.href);var k=s.querySelector(Rc(v));if(k)return c.state.loading|=4,c.instance=k,_n(k),k;x=Xk(h),(v=si.get(v))&&Ng(x,v),k=(s.ownerDocument||s).createElement("link"),_n(k);var O=k;return O._p=new Promise(function(G,ee){O.onload=G,O.onerror=ee}),rr(k,"link",x),c.state.loading|=4,af(k,h.precedence,s),c.instance=k;case"script":return k=Yo(h.src),(v=s.querySelector(Oc(k)))?(c.instance=v,_n(v),v):(x=h,(v=si.get(k))&&(x=m({},h),Eg(x,v)),s=s.ownerDocument||s,v=s.createElement("script"),_n(v),rr(v,"link",x),s.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,af(x,h.precedence,s));return c.instance}function af(s,c,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=x.length?x[x.length-1]:null,k=v,O=0;O<x.length;O++){var G=x[O];if(G.dataset.precedence===c)k=G;else if(k!==v)break}k?k.parentNode.insertBefore(s,k.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(s,c.firstChild))}function Ng(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function Eg(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var of=null;function Qk(s,c,h){if(of===null){var x=new Map,v=of=new Map;v.set(h,x)}else v=of,x=v.get(h),x||(x=new Map,v.set(h,x));if(x.has(s))return x;for(x.set(s,null),h=h.getElementsByTagName(s),v=0;v<h.length;v++){var k=h[v];if(!(k[ts]||k[gn]||s==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var O=k.getAttribute(c)||"";O=s+O;var G=x.get(O);G?G.push(k):x.set(O,[k])}}return x}function Jk(s,c,h){s=s.ownerDocument||s,s.head.insertBefore(h,c==="title"?s.querySelector("head > title"):null)}function $P(s,c,h){if(h===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function e2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function UP(s,c,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var v=Ko(x.href),k=c.querySelector(Rc(v));if(k){c=k._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=lf.bind(s),c.then(s,s)),h.state.loading|=4,h.instance=k,_n(k);return}k=c.ownerDocument||c,x=Xk(x),(v=si.get(v))&&Ng(x,v),k=k.createElement("link"),_n(k);var O=k;O._p=new Promise(function(G,ee){O.onload=G,O.onerror=ee}),rr(k,"link",x),h.instance=k}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=lf.bind(s),c.addEventListener("load",h),c.addEventListener("error",h))}}var kg=0;function qP(s,c){return s.stylesheets&&s.count===0&&uf(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var x=setTimeout(function(){if(s.stylesheets&&uf(s,s.stylesheets),s.unsuspend){var k=s.unsuspend;s.unsuspend=null,k()}},6e4+c);0<s.imgBytes&&kg===0&&(kg=62500*wP());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&uf(s,s.stylesheets),s.unsuspend)){var k=s.unsuspend;s.unsuspend=null,k()}},(s.imgBytes>kg?50:800)+c);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(v)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var cf=null;function uf(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,cf=new Map,c.forEach(FP,s),cf=null,lf.call(s))}function FP(s,c){if(!(c.state.loading&4)){var h=cf.get(s);if(h)var x=h.get(null);else{h=new Map,cf.set(s,h);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<v.length;k++){var O=v[k];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),x=O)}x&&h.set(null,x)}v=c.instance,O=v.getAttribute("data-precedence"),k=h.get(O)||x,k===x&&h.set(null,v),h.set(O,v),this.count++,x=lf.bind(this),v.addEventListener("load",x),v.addEventListener("error",x),k?k.parentNode.insertBefore(v,k.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),c.state.loading|=4}}var Dc={$$typeof:N,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function HP(s,c,h,x,v,k,O,G,ee){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=x,this.onUncaughtError=v,this.onCaughtError=k,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function t2(s,c,h,x,v,k,O,G,ee,le,me,ve){return s=new HP(s,c,h,O,ee,le,me,ve,G),c=1,k===!0&&(c|=24),k=Ir(3,null,null,c),s.current=k,k.stateNode=s,c=sm(),c.refCount++,s.pooledCache=c,c.refCount++,k.memoizedState={element:x,isDehydrated:h,cache:c},cm(k),s}function n2(s){return s?(s=Eo,s):Eo}function r2(s,c,h,x,v,k){v=n2(v),x.context===null?x.context=v:x.pendingContext=v,x=Xs(c),x.payload={element:h},k=k===void 0?null:k,k!==null&&(x.callback=k),h=Zs(s,x,c),h!==null&&(kr(h,s,c),fc(h,s,c))}function i2(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<c?h:c}}function jg(s,c){i2(s,c),(s=s.alternate)&&i2(s,c)}function s2(s){if(s.tag===13||s.tag===31){var c=Oa(s,67108864);c!==null&&kr(c,s,67108864),jg(s,67108864)}}function a2(s){if(s.tag===13||s.tag===31){var c=Ur();c=wt(c);var h=Oa(s,c);h!==null&&kr(h,s,c),jg(s,c)}}var df=!0;function GP(s,c,h,x){var v=B.T;B.T=null;var k=X.p;try{X.p=2,Cg(s,c,h,x)}finally{X.p=k,B.T=v}}function VP(s,c,h,x){var v=B.T;B.T=null;var k=X.p;try{X.p=8,Cg(s,c,h,x)}finally{X.p=k,B.T=v}}function Cg(s,c,h,x){if(df){var v=Tg(x);if(v===null)pg(s,c,x,ff,h),l2(s,x);else if(YP(v,s,c,h,x))x.stopPropagation();else if(l2(s,x),c&4&&-1<KP.indexOf(s)){for(;v!==null;){var k=vi(v);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var O=It(k.pendingLanes);if(O!==0){var G=k;for(G.pendingLanes|=2,G.entangledLanes|=2;O;){var ee=1<<31-gt(O);G.entanglements[1]|=ee,O&=~ee}Hi(k),(At&6)===0&&(Kd=ht()+500,Cc(0))}}break;case 31:case 13:G=Oa(k,2),G!==null&&kr(G,k,2),Wd(),jg(k,2)}if(k=Tg(x),k===null&&pg(s,c,x,ff,h),k===v)break;v=k}v!==null&&x.stopPropagation()}else pg(s,c,x,null,h)}}function Tg(s){return s=Ye(s),Ag(s)}var ff=null;function Ag(s){if(ff=null,s=Jn(s),s!==null){var c=o(s);if(c===null)s=null;else{var h=c.tag;if(h===13){if(s=l(c),s!==null)return s;s=null}else if(h===31){if(s=u(c),s!==null)return s;s=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return ff=s,null}function o2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case he:return 2;case Se:return 8;case Re:case He:return 32;case We:return 268435456;default:return 32}default:return 32}}var Mg=!1,la=null,ca=null,ua=null,Lc=new Map,Ic=new Map,da=[],KP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l2(s,c){switch(s){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Lc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(c.pointerId)}}function zc(s,c,h,x,v,k){return s===null||s.nativeEvent!==k?(s={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:k,targetContainers:[v]},c!==null&&(c=vi(c),c!==null&&s2(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),s)}function YP(s,c,h,x,v){switch(c){case"focusin":return la=zc(la,s,c,h,x,v),!0;case"dragenter":return ca=zc(ca,s,c,h,x,v),!0;case"mouseover":return ua=zc(ua,s,c,h,x,v),!0;case"pointerover":var k=v.pointerId;return Lc.set(k,zc(Lc.get(k)||null,s,c,h,x,v)),!0;case"gotpointercapture":return k=v.pointerId,Ic.set(k,zc(Ic.get(k)||null,s,c,h,x,v)),!0}return!1}function c2(s){var c=Jn(s.target);if(c!==null){var h=o(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){s.blockedOn=c,vr(s.priority,function(){a2(h)});return}}else if(c===31){if(c=u(h),c!==null){s.blockedOn=c,vr(s.priority,function(){a2(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hf(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var h=Tg(s.nativeEvent);if(h===null){h=s.nativeEvent;var x=new h.constructor(h.type,h);Ie=x,h.target.dispatchEvent(x),Ie=null}else return c=vi(h),c!==null&&s2(c),s.blockedOn=h,!1;c.shift()}return!0}function u2(s,c,h){hf(s)&&h.delete(c)}function WP(){Mg=!1,la!==null&&hf(la)&&(la=null),ca!==null&&hf(ca)&&(ca=null),ua!==null&&hf(ua)&&(ua=null),Lc.forEach(u2),Ic.forEach(u2)}function pf(s,c){s.blockedOn===c&&(s.blockedOn=null,Mg||(Mg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WP)))}var mf=null;function d2(s){mf!==s&&(mf=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mf===s&&(mf=null);for(var c=0;c<s.length;c+=3){var h=s[c],x=s[c+1],v=s[c+2];if(typeof x!="function"){if(Ag(x||h)===null)continue;break}var k=vi(h);k!==null&&(s.splice(c,3),c-=3,Tm(k,{pending:!0,data:v,method:h.method,action:x},x,v))}}))}function Wo(s){function c(ee){return pf(ee,s)}la!==null&&pf(la,s),ca!==null&&pf(ca,s),ua!==null&&pf(ua,s),Lc.forEach(c),Ic.forEach(c);for(var h=0;h<da.length;h++){var x=da[h];x.blockedOn===s&&(x.blockedOn=null)}for(;0<da.length&&(h=da[0],h.blockedOn===null);)c2(h),h.blockedOn===null&&da.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var v=h[x],k=h[x+1],O=v[Vn]||null;if(typeof k=="function")O||d2(h);else if(O){var G=null;if(k&&k.hasAttribute("formAction")){if(v=k,O=k[Vn]||null)G=O.formAction;else if(Ag(v)!==null)continue}else G=O.action;typeof G=="function"?h[x+1]=G:(h.splice(x,3),x-=3),d2(h)}}}function f2(){function s(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function c(){v!==null&&(v(),v=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),v!==null&&(v(),v=null)}}}function Rg(s){this._internalRoot=s}gf.prototype.render=Rg.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,x=Ur();r2(h,x,s,c,null,null)},gf.prototype.unmount=Rg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;r2(s.current,2,null,s,null,null),Wd(),c[yi]=null}};function gf(s){this._internalRoot=s}gf.prototype.unstable_scheduleHydration=function(s){if(s){var c=Qn();s={blockedOn:null,target:s,priority:c};for(var h=0;h<da.length&&c!==0&&c<da[h].priority;h++);da.splice(h,0,s),h===0&&c2(s)}};var h2=t.version;if(h2!=="19.2.4")throw Error(r(527,h2,"19.2.4"));X.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var XP={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{Lt=xf.inject(XP),mt=xf}catch{}}return Bc.createRoot=function(s,c){if(!i(s))throw Error(r(299));var h=!1,x="",v=vE,k=_E,O=wE;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=t2(s,1,!1,null,null,h,x,null,v,k,O,f2),s[yi]=c.current,hg(s),new Rg(c)},Bc.hydrateRoot=function(s,c,h){if(!i(s))throw Error(r(299));var x=!1,v="",k=vE,O=_E,G=wE,ee=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(ee=h.formState)),c=t2(s,1,!0,c,h??null,x,v,ee,k,O,G,f2),c.context=n2(null),h=c.current,x=Ur(),x=wt(x),v=Xs(x),v.callback=null,Zs(h,v,x),h=x,c.current.lanes=h,lt(c,h),Hi(c),s[yi]=c.current,hg(s),new gf(c)},Bc.version="19.2.4",Bc}var S2;function oB(){if(S2)return Lg.exports;S2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lg.exports=aB(),Lg.exports}var lB=oB();const cB="modulepreload",uB=function(e){return"/"+e},N2={},ci=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=uB(f),f in N2)return;N2[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":cB,p||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),p)return new Promise((b,y)=>{g.addEventListener("load",b),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E2="popstate";function dB(e={}){function t(r,i){let{pathname:o,search:l,hash:u}=r.location;return l_("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fu(i)}return hB(t,n,null,e)}function dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ui(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fB(){return Math.random().toString(36).substring(2,10)}function k2(e,t){return{usr:e.state,key:e.key,idx:t}}function l_(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vl(t):t,state:n,key:t&&t.key||r||fB()}}function fu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function hB(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let w=p(),S=w==null?null:w-f;f=w,d&&d({action:u,location:_.location,delta:S})}function g(w,S){u="PUSH";let j=l_(_.location,w,S);f=p()+1;let N=k2(j,f),C=_.createHref(j);try{l.pushState(N,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(C)}o&&d&&d({action:u,location:_.location,delta:1})}function b(w,S){u="REPLACE";let j=l_(_.location,w,S);f=p();let N=k2(j,f),C=_.createHref(j);l.replaceState(N,"",C),o&&d&&d({action:u,location:_.location,delta:0})}function y(w){return pB(w)}let _={get action(){return u},get location(){return e(i,l)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(E2,m),d=w,()=>{i.removeEventListener(E2,m),d=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let S=y(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:b,go(w){return l.go(w)}};return _}function pB(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:fu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lO(e,t,n="/"){return mB(e,t,n,!1)}function mB(e,t,n,r){let i=typeof t=="string"?vl(t):t,o=Cs(i.pathname||"/",n);if(o==null)return null;let l=cO(e);gB(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=jB(o);u=EB(l[d],f,r)}return u}function cO(e,t=[],n=[],r="",i=!1){let o=(l,u,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;dn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=ks([r,p.relativePath]),g=n.concat(p);l.children&&l.children.length>0&&(dn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),cO(l.children,t,g,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:SB(m,l.index),routesMeta:g})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of uO(l.path))o(l,u,!0,f)}),t}function uO(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=uO(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function gB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:NB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xB=/^:[\w-]+$/,bB=3,yB=2,vB=1,_B=10,wB=-2,j2=e=>e==="*";function SB(e,t){let n=e.split("/"),r=n.length;return n.some(j2)&&(r+=wB),t&&(r+=yB),n.filter(i=>!j2(i)).reduce((i,o)=>i+(xB.test(o)?bB:o===""?vB:_B),r)}function NB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function EB(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=sh({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),g=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=sh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:ks([o,m.pathname]),pathnameBase:MB(ks([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=ks([o,m.pathnameBase]))}return l}function sh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kB(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},g)=>{if(p==="*"){let y=u[g]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const b=u[g];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function kB(e,t=!1,n=!0){ui(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function jB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ui(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var CB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function TB(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vl(e):e,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=C2(n.substring(1),"/"):o=C2(n,t)):o=t,{pathname:o,search:RB(r),hash:OB(i)}}function C2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function J_(e){let t=AB(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ew(e,t,n,r=!1){let i;typeof e=="string"?i=vl(e):(i={...e},dn(!i.pathname||!i.pathname.includes("?"),Bg("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),Bg("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),Bg("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}u=m>=0?t[m]:"/"}let d=TB(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var ks=e=>e.join("/").replace(/\/\/+/g,"/"),MB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,DB=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function LB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function IB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fO(e,t){let n=e;if(typeof n!="string"||!CB.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(dO)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),u=Cs(l.pathname,t);l.origin===o.origin&&u!=null?n=u+l.search+l.hash:i=!0}catch{ui(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hO=["POST","PUT","PATCH","DELETE"];new Set(hO);var zB=["GET",...hO];new Set(zB);var _l=E.createContext(null);_l.displayName="DataRouter";var Ih=E.createContext(null);Ih.displayName="DataRouterState";var PB=E.createContext(!1),pO=E.createContext({isTransitioning:!1});pO.displayName="ViewTransition";var BB=E.createContext(new Map);BB.displayName="Fetchers";var $B=E.createContext(null);$B.displayName="Await";var Xr=E.createContext(null);Xr.displayName="Navigation";var Ru=E.createContext(null);Ru.displayName="Location";var di=E.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var tw=E.createContext(null);tw.displayName="RouteError";var mO="REACT_ROUTER_ERROR",UB="REDIRECT",qB="ROUTE_ERROR_RESPONSE";function FB(e){if(e.startsWith(`${mO}:${UB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function HB(e){if(e.startsWith(`${mO}:${qB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new DB(t.status,t.statusText,t.data)}catch{}}function GB(e,{relative:t}={}){dn(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Xr),{hash:i,pathname:o,search:l}=Ou(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:ks([n,o])),r.createHref({pathname:u,search:l,hash:i})}function wl(){return E.useContext(Ru)!=null}function Ii(){return dn(wl(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ru).location}var gO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xO(e){E.useContext(Xr).static||E.useLayoutEffect(e)}function Mn(){let{isDataRoute:e}=E.useContext(di);return e?a9():VB()}function VB(){dn(wl(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(_l),{basename:t,navigator:n}=E.useContext(Xr),{matches:r}=E.useContext(di),{pathname:i}=Ii(),o=JSON.stringify(J_(r)),l=E.useRef(!1);return xO(()=>{l.current=!0}),E.useCallback((d,f={})=>{if(ui(l.current,gO),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=ew(d,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ks([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,i,e])}var KB=E.createContext(null);function YB(e){let t=E.useContext(di).outlet;return E.useMemo(()=>t&&E.createElement(KB.Provider,{value:e},t),[t,e])}function Sl(){let{matches:e}=E.useContext(di),t=e[e.length-1];return t?t.params:{}}function Ou(e,{relative:t}={}){let{matches:n}=E.useContext(di),{pathname:r}=Ii(),i=JSON.stringify(J_(n));return E.useMemo(()=>ew(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function WB(e,t){return bO(e,t)}function bO(e,t,n,r,i){var j;dn(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Xr),{matches:l}=E.useContext(di),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";vO(f,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=Ii(),b;if(t){let N=typeof t=="string"?vl(t):t;dn(p==="/"||((j=N.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=g;let y=b.pathname||"/",_=y;if(p!=="/"){let N=p.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=lO(e,{pathname:_});ui(m||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ui(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=e9(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ks([p,o.encodeLocation?o.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:ks([p,o.encodeLocation?o.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,i);return t&&S?E.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function XB(){let e=s9(),t=LB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,l)}var ZB=E.createElement(XB,null),yO=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=HB(e.digest);n&&(e=n)}let t=e!==void 0?E.createElement(di.Provider,{value:this.props.routeContext},E.createElement(tw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?E.createElement(QB,{error:e},t):t}};yO.contextType=PB;var $g=new WeakMap;function QB({children:e,error:t}){let{basename:n}=E.useContext(Xr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=FB(t.digest);if(r){let i=$g.get(t);if(i)throw i;let o=fO(r.location,n);if(dO&&!$g.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw $g.set(t,l),l}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function JB({routeContext:e,match:t,children:n}){let r=E.useContext(_l);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(di.Provider,{value:e},n)}function e9(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);dn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:g,errors:b}=n,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||y){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=n&&r?(p,m)=>{var g,b;r(p,{location:n.location,params:((b=(g=n.matches)==null?void 0:g[0])==null?void 0:b.params)??{},unstable_pattern:IB(n.matches),errorInfo:m})}:void 0;return o.reduceRight((p,m,g)=>{let b,y=!1,_=null,w=null;n&&(b=l&&m.route.id?l[m.route.id]:void 0,_=m.route.errorElement||ZB,u&&(d<0&&g===0?(vO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):d===g&&(y=!0,w=m.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,g+1)),j=()=>{let N;return b?N=_:y?N=w:m.route.Component?N=E.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=p,E.createElement(JB,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?E.createElement(yO,{location:n.location,revalidation:n.revalidation,component:_,error:b,children:j(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):j()},null)}function nw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t9(e){let t=E.useContext(_l);return dn(t,nw(e)),t}function n9(e){let t=E.useContext(Ih);return dn(t,nw(e)),t}function r9(e){let t=E.useContext(di);return dn(t,nw(e)),t}function rw(e){let t=r9(e),n=t.matches[t.matches.length-1];return dn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function i9(){return rw("useRouteId")}function s9(){var r;let e=E.useContext(tw),t=n9("useRouteError"),n=rw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function a9(){let{router:e}=t9("useNavigate"),t=rw("useNavigate"),n=E.useRef(!1);return xO(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{ui(n.current,gO),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var T2={};function vO(e,t,n){!t&&!T2[e]&&(T2[e]=!0,ui(!1,n))}E.memo(o9);function o9({routes:e,future:t,state:n,onError:r}){return bO(e,void 0,n,r,t)}function _O({to:e,replace:t,state:n,relative:r}){dn(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Xr);ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(di),{pathname:l}=Ii(),u=Mn(),d=ew(e,J_(o),l,r==="path"),f=JSON.stringify(d);return E.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function hu(e){return YB(e.context)}function En(e){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l9({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){dn(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof n=="string"&&(n=vl(n));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:b="default"}=n,y=E.useMemo(()=>{let _=Cs(f,u);return _==null?null:{location:{pathname:_,search:p,hash:m,state:g,key:b},navigationType:r}},[u,f,p,m,g,b,r]);return ui(y!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:E.createElement(Xr.Provider,{value:d},E.createElement(Ru.Provider,{children:t,value:y}))}function c9({children:e,location:t}){return WB(c_(e),t)}function c_(e,t=[]){let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let o=[...t,i];if(r.type===E.Fragment){n.push.apply(n,c_(r.props.children,o));return}dn(r.type===En,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=c_(r.props.children,o)),n.push(l)}),n}var Wf="get",Xf="application/x-www-form-urlencoded";function zh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function u9(e){return zh(e)&&e.tagName.toLowerCase()==="button"}function d9(e){return zh(e)&&e.tagName.toLowerCase()==="form"}function f9(e){return zh(e)&&e.tagName.toLowerCase()==="input"}function h9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p9(e,t){return e.button===0&&(!t||t==="_self")&&!h9(e)}function u_(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function m9(e,t){let n=u_(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var yf=null;function g9(){if(yf===null)try{new FormData(document.createElement("form"),0),yf=!1}catch{yf=!0}return yf}var x9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ug(e){return e!=null&&!x9.has(e)?(ui(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xf}"`),null):e}function b9(e,t){let n,r,i,o,l;if(d9(e)){let u=e.getAttribute("action");r=u?Cs(u,t):null,n=e.getAttribute("method")||Wf,i=Ug(e.getAttribute("enctype"))||Xf,o=new FormData(e)}else if(u9(e)||f9(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Cs(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Wf,i=Ug(e.getAttribute("formenctype"))||Ug(u.getAttribute("enctype"))||Xf,o=new FormData(u,e),!g9()){let{name:f,type:p,value:m}=e;if(p==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,m)}}else{if(zh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wf,r=null,i=Xf,l=e}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function y9(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Cs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function v9(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _9(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function w9(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await v9(o,n);return l.links?l.links():[]}return[]}));return k9(r.flat(1).filter(_9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function A2(e,t,n,r,i,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var p;return n[f].pathname!==d.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var m;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function S9(e,t,{includeHydrateFallback:n}={}){return N9(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function N9(e){return[...new Set(e)]}function E9(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function k9(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(E9(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function wO(){let e=E.useContext(_l);return iw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function j9(){let e=E.useContext(Ih);return iw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sw=E.createContext(void 0);sw.displayName="FrameworkContext";function SO(){let e=E.useContext(sw);return iw(e,"You must render this element inside a <HydratedRouter> element"),e}function C9(e,t){let n=E.useContext(sw),[r,i]=E.useState(!1),[o,l]=E.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,g=E.useRef(null);E.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=S=>{S.forEach(j=>{l(j.isIntersecting)})},w=new IntersectionObserver(_,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),E.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let b=()=>{i(!0)},y=()=>{i(!1),l(!1)};return n?e!=="intent"?[o,g,{}]:[o,g,{onFocus:$c(u,b),onBlur:$c(d,y),onMouseEnter:$c(f,b),onMouseLeave:$c(p,y),onTouchStart:$c(m,b)}]:[!1,g,{}]}function $c(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function T9({page:e,...t}){let{router:n}=wO(),r=E.useMemo(()=>lO(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(M9,{page:e,matches:r,...t}):null}function A9(e){let{manifest:t,routeModules:n}=SO(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return w9(e,t,n).then(l=>{o||i(l)}),()=>{o=!0}},[e,t,n]),r}function M9({page:e,matches:t,...n}){let r=Ii(),{future:i,manifest:o,routeModules:l}=SO(),{basename:u}=wO(),{loaderData:d,matches:f}=j9(),p=E.useMemo(()=>A2(e,t,f,o,r,"data"),[e,t,f,o,r]),m=E.useMemo(()=>A2(e,t,f,o,r,"assets"),[e,t,f,o,r]),g=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,w=!1;if(t.forEach(j=>{var C;let N=o.routes[j.route.id];!N||!N.hasLoader||(!p.some(A=>A.route.id===j.route.id)&&j.route.id in d&&((C=l[j.route.id])!=null&&C.shouldRevalidate)||N.hasClientLoader?w=!0:_.add(j.route.id))}),_.size===0)return[];let S=y9(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return w&&_.size>0&&S.searchParams.set("_routes",t.filter(j=>_.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[u,i.unstable_trailingSlashAwareDataRequests,d,r,o,p,t,e,l]),b=E.useMemo(()=>S9(m,o),[m,o]),y=A9(m);return E.createElement(E.Fragment,null,g.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),b.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:w})=>E.createElement("link",{key:_,nonce:n.nonce,...w,crossOrigin:w.crossOrigin??n.crossOrigin})))}function R9(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var O9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O9&&(window.__reactRouterVersion="7.13.0")}catch{}function D9({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=E.useRef();i.current==null&&(i.current=dB({window:r,v5Compat:!0}));let o=i.current,[l,u]=E.useState({action:o.action,location:o.location}),d=E.useCallback(f=>{n===!1?u(f):E.startTransition(()=>u(f))},[n]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.createElement(l9,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var NO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g,...b},y){let{basename:_,unstable_useTransitions:w}=E.useContext(Xr),S=typeof f=="string"&&NO.test(f),j=fO(f,_);f=j.to;let N=GB(f,{relative:i}),[C,A,T]=C9(r,b),M=z9(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:w});function P(z){t&&t(z),z.defaultPrevented||M(z)}let U=E.createElement("a",{...b,...T,href:j.absoluteURL||N,onClick:j.isExternal||o?t:P,ref:R9(y,A),target:d,"data-discover":!S&&n==="render"?"true":void 0});return C&&!S?E.createElement(E.Fragment,null,U,E.createElement(T9,{page:N})):U});jn.displayName="Link";var ah=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let m=Ou(l,{relative:f.relative}),g=Ii(),b=E.useContext(Ih),{navigator:y,basename:_}=E.useContext(Xr),w=b!=null&&q9(m)&&u===!0,S=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,j=g.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(j=j.toLowerCase(),N=N?N.toLowerCase():null,S=S.toLowerCase()),N&&_&&(N=Cs(N,_)||N);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let A=j===S||!i&&j.startsWith(S)&&j.charAt(C)==="/",T=N!=null&&(N===S||!i&&N.startsWith(S)&&N.charAt(S.length)==="/"),M={isActive:A,isPending:T,isTransitioning:w},P=A?t:void 0,U;typeof r=="function"?U=r(M):U=[r,A?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(M):o;return E.createElement(jn,{...f,"aria-current":P,className:U,ref:p,style:z,to:l,viewTransition:u},typeof d=="function"?d(M):d)});ah.displayName="NavLink";var L9=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Wf,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g,...b},y)=>{let{unstable_useTransitions:_}=E.useContext(Xr),w=$9(),S=U9(u,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&NO.test(u),C=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,M=(T==null?void 0:T.getAttribute("formmethod"))||l,P=()=>w(T||A.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g});_&&n!==!1?E.startTransition(()=>P()):P()};return E.createElement("form",{ref:y,method:j,action:S,onSubmit:r?d:C,...b,"data-discover":!N&&e==="render"?"true":void 0})});L9.displayName="Form";function I9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EO(e){let t=E.useContext(_l);return dn(t,I9(e)),t}function z9(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Mn(),p=Ii(),m=Ou(e,{relative:o});return E.useCallback(g=>{if(p9(g,t)){g.preventDefault();let b=n!==void 0?n:fu(p)===fu(m),y=()=>f(e,{replace:b,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?E.startTransition(()=>y()):y()}},[p,f,m,n,r,t,e,i,o,l,u,d])}function Du(e){ui(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(u_(e)),n=E.useRef(!1),r=Ii(),i=E.useMemo(()=>m9(r.search,n.current?null:t.current),[r.search]),o=Mn(),l=E.useCallback((u,d)=>{const f=u_(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,o("?"+f,d)},[o,i]);return[i,l]}var P9=0,B9=()=>`__${String(++P9)}__`;function $9(){let{router:e}=EO("useSubmit"),{basename:t}=E.useContext(Xr),n=i9(),r=e.fetch,i=e.navigate;return E.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:m}=b9(o,t);if(l.navigate===!1){let g=l.fetcherKey||B9();await r(g,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,t,n])}function U9(e,{relative:t}={}){let{basename:n}=E.useContext(Xr),r=E.useContext(di);dn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ou(e||".",{relative:t})},l=Ii();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ks([n,o.pathname])),fu(o)}function q9(e,{relative:t}={}){let n=E.useContext(pO);dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=EO("useViewTransitionState"),i=Ou(e,{relative:t});if(!n.isTransitioning)return!1;let o=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sh(i.pathname,l)!=null||sh(i.pathname,o)!=null}var li=oO();const Yi={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_HOSTS:"ffs.dev,localhost"};function kO(e){return"init"in e}function d_(e){return!!e.write}function M2(e){return"v"in e||"e"in e}function oh(e){if("e"in e)throw e.e;if((Yi?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}const lh=new WeakMap;function jO(e){var t;return ch(e)&&!!((t=lh.get(e))!=null&&t[0])}function F9(e){const t=lh.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))}function f_(e,t){let n=lh.get(e);if(!n){n=[!0,new Set],lh.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)}function ch(e){return typeof(e==null?void 0:e.then)=="function"}function CO(e,t,n){if(!n.p.has(e)){n.p.add(e);const r=()=>n.p.delete(e);t.then(r,r)}}function TO(e,t,n){var r;const i=new Set;for(const o of((r=n.get(e))==null?void 0:r.t)||[])i.add(o);for(const o of t.p)i.add(o);return i}const H9=(e,t,...n)=>t.read(...n),G9=(e,t,...n)=>t.write(...n),V9=(e,t)=>{var n;return(n=t.INTERNAL_onInit)==null?void 0:n.call(t,e)},K9=(e,t,n)=>{var r;return(r=t.onMount)==null?void 0:r.call(t,n)},Y9=(e,t)=>{var n;const r=cr(e),i=r[0],o=r[6],l=r[9];if((Yi?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let u=i.get(t);return u||(u={d:new Map,p:new Set,n:0},i.set(t,u),(n=o.i)==null||n.call(o,t),l==null||l(e,t)),u},W9=e=>{const t=cr(e),n=t[1],r=t[3],i=t[4],o=t[5],l=t[6],u=t[13],d=[],f=p=>{try{p()}catch(m){d.push(m)}};do{l.f&&f(l.f);const p=new Set,m=p.add.bind(p);r.forEach(g=>{var b;return(b=n.get(g))==null?void 0:b.l.forEach(m)}),r.clear(),o.forEach(m),o.clear(),i.forEach(m),i.clear(),p.forEach(f),r.size&&u(e)}while(r.size||o.size||i.size);if(d.length)throw new AggregateError(d)},X9=e=>{const t=cr(e),n=t[1],r=t[2],i=t[3],o=t[11],l=t[14],u=t[17],d=[],f=new WeakSet,p=new WeakSet,m=Array.from(i);for(;m.length;){const g=m[m.length-1],b=o(e,g);if(p.has(g)){m.pop();continue}if(f.has(g)){if(r.get(g)===b.n)d.push([g,b]);else if((Yi?"production":void 0)!=="production"&&r.has(g))throw new Error("[Bug] invalidated atom exists");p.add(g),m.pop();continue}f.add(g);for(const y of TO(g,b,n))f.has(y)||m.push(y)}for(let g=d.length-1;g>=0;--g){const[b,y]=d[g];let _=!1;for(const w of y.d.keys())if(w!==b&&i.has(w)){_=!0;break}_&&(l(e,b),u(e,b)),r.delete(b)}},h_=new WeakSet,Z9=(e,t)=>{var n,r;const i=cr(e),o=i[1],l=i[2],u=i[3],d=i[6],f=i[7],p=i[11],m=i[12],g=i[13],b=i[14],y=i[16],_=i[17],w=i[20],S=p(e,t);if(M2(S)){if(o.has(t)&&l.get(t)!==S.n)return S;let U=!1;for(const[z,R]of S.d)if(b(e,z).n!==R){U=!0;break}if(!U)return S}S.d.clear();let j=!0;function N(){o.has(t)&&(_(e,t),g(e),m(e))}function C(U){var z;if(U===t){const q=p(e,U);if(!M2(q))if(kO(U))w(e,U,U.init);else throw new Error("no atom init");return oh(q)}const R=b(e,U);try{return oh(R)}finally{S.d.set(U,R.n),jO(S.v)&&CO(t,S.v,R),o.has(t)&&((z=o.get(U))==null||z.t.add(t)),j||N()}}let A,T;const M={get signal(){return A||(A=new AbortController),A.signal},get setSelf(){return(Yi?"production":void 0)!=="production"&&console.warn("[DEPRECATED] setSelf is deprecated and will be removed in v3."),(Yi?"production":void 0)!=="production"&&!d_(t)&&console.warn("setSelf function cannot be used with read-only atom"),!T&&d_(t)&&(T=(...U)=>{if((Yi?"production":void 0)!=="production"&&j&&console.warn("setSelf function cannot be called in sync"),!j)try{return y(e,t,...U)}finally{g(e),m(e)}}),T}},P=S.n;try{(Yi?"production":void 0)!=="production"&&h_.delete(e);const U=f(e,t,C,M);return(Yi?"production":void 0)!=="production"&&h_.has(e)&&console.warn("Detected store mutation during atom read. This is not supported."),w(e,t,U),ch(U)&&(f_(U,()=>A==null?void 0:A.abort()),U.then(N,N)),(n=d.r)==null||n.call(d,t),S}catch(U){return delete S.v,S.e=U,++S.n,S}finally{j=!1,P!==S.n&&l.get(t)===P&&(l.set(t,S.n),u.add(t),(r=d.c)==null||r.call(d,t))}},Q9=(e,t)=>{const n=cr(e),r=n[1],i=n[2],o=n[11],l=[t];for(;l.length;){const u=l.pop(),d=o(e,u);for(const f of TO(u,d,r)){const p=o(e,f);i.set(f,p.n),l.push(f)}}},J9=(e,t,...n)=>{const r=cr(e),i=r[3],o=r[6],l=r[8],u=r[11],d=r[12],f=r[13],p=r[14],m=r[15],g=r[16],b=r[17],y=r[20];let _=!0;const w=j=>oh(p(e,j)),S=(j,...N)=>{var C;const A=u(e,j);try{if(j===t){if(!kO(j))throw new Error("atom not writable");(Yi?"production":void 0)!=="production"&&h_.add(e);const T=A.n,M=N[0];y(e,j,M),b(e,j),T!==A.n&&(i.add(j),m(e,j),(C=o.c)==null||C.call(o,j));return}else return g(e,j,...N)}finally{_||(f(e),d(e))}};try{return l(e,t,w,S,...n)}finally{_=!1}},e8=(e,t)=>{var n;const r=cr(e),i=r[1],o=r[3],l=r[6],u=r[11],d=r[15],f=r[18],p=r[19],m=u(e,t),g=i.get(t);if(g&&!jO(m.v)){for(const[b,y]of m.d)if(!g.d.has(b)){const _=u(e,b);f(e,b).t.add(t),g.d.add(b),y!==_.n&&(o.add(b),d(e,b),(n=l.c)==null||n.call(l,b))}for(const b of g.d)if(!m.d.has(b)){g.d.delete(b);const y=p(e,b);y==null||y.t.delete(t)}}},t8=(e,t)=>{var n;const r=cr(e),i=r[1],o=r[4],l=r[6],u=r[10],d=r[11],f=r[12],p=r[13],m=r[14],g=r[16],b=r[18],y=d(e,t);let _=i.get(t);if(!_){m(e,t);for(const w of y.d.keys())b(e,w).t.add(t);if(_={l:new Set,d:new Set(y.d.keys()),t:new Set},i.set(t,_),d_(t)){const w=()=>{let S=!0;const j=(...N)=>{try{return g(e,t,...N)}finally{S||(p(e),f(e))}};try{const N=u(e,t,j);N&&(_.u=()=>{S=!0;try{N()}finally{S=!1}})}finally{S=!1}};o.add(w)}(n=l.m)==null||n.call(l,t)}return _},n8=(e,t)=>{var n,r;const i=cr(e),o=i[1],l=i[5],u=i[6],d=i[11],f=i[19],p=d(e,t);let m=o.get(t);if(!m||m.l.size)return m;let g=!1;for(const b of m.t)if((n=o.get(b))!=null&&n.d.has(t)){g=!0;break}if(!g){m.u&&l.add(m.u),m=void 0,o.delete(t);for(const b of p.d.keys()){const y=f(e,b);y==null||y.t.delete(t)}(r=u.u)==null||r.call(u,t);return}return m},r8=(e,t,n)=>{const r=cr(e)[11],i=r(e,t),o="v"in i,l=i.v;if(ch(n))for(const u of i.d.keys())CO(t,n,r(e,u));i.v=n,delete i.e,(!o||!Object.is(l,i.v))&&(++i.n,ch(l)&&F9(l))},i8=(e,t)=>{const n=cr(e)[14];return oh(n(e,t))},s8=(e,t,...n)=>{const r=cr(e),i=r[12],o=r[13],l=r[16];try{return l(e,t,...n)}finally{o(e),i(e)}},a8=(e,t,n)=>{const r=cr(e),i=r[12],o=r[18],l=r[19],d=o(e,t).l;return d.add(n),i(e),()=>{d.delete(n),l(e,t),i(e)}},AO=new WeakMap,cr=e=>{const t=AO.get(e);if((Yi?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function o8(...e){const t={get(r){const i=cr(t)[21];return i(t,r)},set(r,...i){const o=cr(t)[22];return o(t,r,...i)},sub(r,i){const o=cr(t)[23];return o(t,r,i)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},H9,G9,V9,K9,Y9,W9,X9,Z9,Q9,J9,e8,t8,n8,r8,i8,s8,a8,void 0].map((r,i)=>e[i]||r);return AO.set(t,Object.freeze(n)),t}const MO={};let l8=0;function Me(e,t){const n=`atom${++l8}`,r={toString(){return(MO?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=c8,r.write=u8),t&&(r.write=t),r}function c8(e){return e(this)}function u8(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function RO(){return o8()}let Uc;function d8(){return Uc||(Uc=RO(),(MO?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Uc),globalThis.__JOTAI_DEFAULT_STORE__!==Uc&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Uc}const f8={},p_=E.createContext(void 0);function OO(e){return E.useContext(p_)||d8()}function h8({children:e,store:t}){const n=E.useRef(null);return t?E.createElement(p_.Provider,{value:t},e):(n.current===null&&(n.current=RO()),E.createElement(p_.Provider,{value:n.current},e))}const m_=e=>typeof(e==null?void 0:e.then)=="function",g_=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},p8=un.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(g_(e),e)}),qg=new WeakMap,R2=(e,t)=>{let n=qg.get(e);return n||(n=new Promise((r,i)=>{let o=e;const l=f=>p=>{o===f&&r(p)},u=f=>p=>{o===f&&i(p)},d=()=>{try{const f=t();m_(f)?(qg.set(f,n),o=f,f.then(l(f),u(f)),f_(f,d)):r(f)}catch(f){i(f)}};e.then(l(e),u(e)),f_(e,d)}),qg.set(e,n)),n};function Ve(e,t){const{delay:n,unstable_promiseStatus:r=!un.use}={},i=OO(),[[o,l,u],d]=E.useReducer(p=>{const m=i.get(e);return Object.is(p[0],m)&&p[1]===i&&p[2]===e?p:[m,i,e]},void 0,()=>[i.get(e),i,e]);let f=o;if((l!==i||u!==e)&&(d(),f=i.get(e)),E.useEffect(()=>{const p=i.sub(e,()=>{if(r)try{const m=i.get(e);m_(m)&&g_(R2(m,()=>i.get(e)))}catch{}if(typeof n=="number"){setTimeout(d,n);return}d()});return d(),p},[i,e,n,r]),E.useDebugValue(f),m_(f)){const p=R2(f,()=>i.get(e));return r&&g_(p),p8(p)}return f}function Rt(e,t){const n=OO();return E.useCallback((...i)=>{if((f8?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function Ct(e,t){return[Ve(e),Rt(e)]}const aw={},m8=Symbol((aw?"production":void 0)!=="production"?"RESET":""),DO=e=>typeof(e==null?void 0:e.then)=="function";function g8(e=()=>{try{return window.localStorage}catch(n){(aw?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,i;const o={getItem:(d,f)=>{var p,m;const g=y=>{if(y=y||"",r!==y){try{i=JSON.parse(y,t==null?void 0:t.reviver)}catch{return f}r=y}return i},b=(m=(p=e())==null?void 0:p.getItem(d))!=null?m:null;return DO(b)?b.then(g):g(b)},setItem:(d,f)=>{var p;return(p=e())==null?void 0:p.setItem(d,JSON.stringify(f,void 0))},removeItem:d=>{var f;return(f=e())==null?void 0:f.removeItem(d)}},l=d=>(f,p,m)=>d(f,g=>{let b;try{b=JSON.parse(g||"")}catch{b=m}p(b)});let u;try{u=(n=e())==null?void 0:n.subscribe}catch{}return!u&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(u=(d,f)=>{if(!(e()instanceof window.Storage))return()=>{};const p=m=>{m.storageArea===e()&&m.key===d&&f(m.newValue)};return window.addEventListener("storage",p),()=>{window.removeEventListener("storage",p)}}),u&&(o.subscribe=l(u)),o}const x8=g8();function LO(e,t,n=x8,r){const i=Me(t);return(aw?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.onMount=l=>{l(n.getItem(e,t));let u;return n.subscribe&&(u=n.subscribe(e,l,t)),u},Me(l=>l(i),(l,u,d)=>{const f=typeof d=="function"?d(l(i)):d;return f===m8?(u(i,t),n.removeItem(e)):DO(f)?f.then(p=>(u(i,p),n.setItem(e,p))):(u(i,f),n.setItem(e,f))})}const Lu=LO("auth_token",null),Nl=Me(null),eo=Me("required"),x_=Me([]),b_=Me(!1),IO=Me(!1),zO=Me(e=>e(eo)==="none"?!0:e(Lu)!==null),PO=Me([]),b8=Me(!1),y8=Me(null);Me(e=>{const t=e(y8);return e(PO).find(r=>r.slug===t)??null});Me(null);const BO=Me([]),v8=Me(!1),_8=Me(null);Me(e=>{const t=e(_8);return e(BO).find(r=>r.slug===t)??null});Me(null);const ow=Me([]),w8=Me(!1),S8=Me(null);Me(e=>{const t=e(S8);return e(ow).find(r=>r.id===t)??null});Me(null);Me(null);const $O=Me("all");Me(e=>{const t=e(ow),n=e($O);return n==="all"?t:t.filter(r=>r.status===n)});const Ph=Me([]),N8=Me(!1),E8=Me(null);Me(e=>{const t=e(E8);return e(Ph).find(r=>r.id===t)??null});Me(null);const UO=Me("all"),k8=Me([]),j8=Me(null);Me(e=>{const t=e(Ph),n=e(UO),r=e(k8),i=e(j8);return t.filter(o=>!(n!=="all"&&o.status!==n||r.length>0&&!r.some(l=>o.tags.includes(l))||i&&o.assigned_to!==i))});Me(e=>{const t=e(Ph);return{total:t.length,pending:t.filter(n=>n.status==="pending").length,in_progress:t.filter(n=>n.status==="in_progress").length,blocked:t.filter(n=>n.status==="blocked").length,completed:t.filter(n=>n.status==="completed").length,failed:t.filter(n=>n.status==="failed").length}});const lw=Me([]),C8=Me(!1),T8=Me(null);Me(e=>{const t=e(T8);return e(lw).find(r=>r.id===t)??null});const qO=Me("all"),FO=Me("all"),A8=Me("all");Me(e=>{const t=e(lw),n=e(qO),r=e(FO),i=e(A8);return t.filter(o=>!(n!=="all"&&o.note_type!==n||r!=="all"&&o.status!==r||i!=="all"&&o.importance!==i))});Me([]);const M8=Me(!1);Me("");Me(null);const y_=Me([]);LO("tasks-view-mode","list");const cw=Me(null),HO=Me("closed"),GO=Me(400),R8=Me(null),O8=Me(!1),D8=Me("disconnected"),L8=Me(!1),VO=Me(null),KO=Me("disconnected"),oo=Me(0),Sa=Me(0),Na=Me(0),El=Me(0),YO=Me(0),Bh=Me(0),WO=Me(0),pu={google:{label:"Google",description:"Google Workspace & Gmail accounts",discoveryUrl:"https://accounts.google.com/.well-known/openid-configuration",consoleUrl:"https://console.cloud.google.com/apis/credentials"},microsoft:{label:"Microsoft",description:"Azure AD & Microsoft 365",discoveryUrl:null,discoveryTemplate:"https://login.microsoftonline.com/{tenant}/v2.0/.well-known/openid-configuration",tenantLabel:"Tenant ID",tenantPlaceholder:"common or your-tenant-id",consoleUrl:"https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps"},okta:{label:"Okta",description:"Okta identity platform",discoveryUrl:null,discoveryTemplate:"https://{tenant}.okta.com/.well-known/openid-configuration",tenantLabel:"Okta Domain",tenantPlaceholder:"your-org (without .okta.com)",consoleUrl:"https://developer.okta.com/"},auth0:{label:"Auth0",description:"Auth0 by Okta",discoveryUrl:null,discoveryTemplate:"https://{tenant}.auth0.com/.well-known/openid-configuration",tenantLabel:"Auth0 Domain",tenantPlaceholder:"your-tenant (without .auth0.com)",consoleUrl:"https://manage.auth0.com/"},keycloak:{label:"Keycloak",description:"Self-hosted Keycloak server",discoveryUrl:null,discoveryTemplate:"{tenant}/realms/{realm}/.well-known/openid-configuration",tenantLabel:"Server URL",tenantPlaceholder:"https://keycloak.example.com",consoleUrl:void 0},custom:{label:"Custom",description:"Any OpenID Connect provider",discoveryUrl:null,consoleUrl:void 0}},I8={infraMode:"docker",neo4jUri:"bolt://localhost:7687",neo4jUser:"neo4j",neo4jPassword:"",meilisearchUrl:"http://localhost:7700",meilisearchKey:"",natsUrl:"nats://localhost:4222",natsEnabled:!0,serverPort:6600,serveFrontend:!0,publicUrl:"",authMode:"none",rootEmail:"",rootPassword:"",oidcProvider:"custom",oidcTenant:"",oidcDiscoveryUrl:"",oidcClientId:"",oidcClientSecret:"",oidcProviderName:"",oidcScopes:"openid email profile",oidcAuthEndpoint:"",oidcTokenEndpoint:"",oidcUserinfoEndpoint:"",allowedEmailDomain:"",allowedEmails:"",chatModel:"sonnet-4-5",chatMaxSessions:3,claudeCodeDetected:!1,mcpSetupStatus:"idle",mcpSetupMessage:"",hasOidcSecret:!1,hasNeo4jPassword:!1,hasMeilisearchKey:!1},Iu=Me({...I8}),XO=Me(0),uw=Me(null),ZO=Me(typeof window<"u"&&new URLSearchParams(window.location.search).get("from")==="tray"),z8=Me(null),P8={primary:"bg-indigo-600 hover:bg-indigo-500 text-white shadow-md shadow-indigo-500/20 hover:shadow-lg hover:shadow-indigo-500/30",secondary:"bg-white/[0.06] hover:bg-white/[0.1] text-gray-100 border border-white/[0.06]",danger:"bg-red-600 hover:bg-red-500 text-white shadow-md shadow-red-500/20",ghost:"hover:bg-white/[0.06] text-gray-300"},B8={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"},tt=E.forwardRef(({variant:e="primary",size:t="md",loading:n,disabled:r,className:i="",children:o,...l},u)=>a.jsxs("button",{ref:u,disabled:r||n,className:`
          inline-flex items-center justify-center font-medium rounded-lg
          transition-all duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-[#0f1117]
          disabled:opacity-50 disabled:cursor-not-allowed
          ${P8[e]}
          ${B8[t]}
          ${i}
        `,...l,children:[n&&a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]}));tt.displayName="Button";function kl(e={}){const{defaultPageSize:t=25,defaultPage:n=1}=e,[r,i]=Du(),o=E.useMemo(()=>{const g=r.get("page"),b=g?parseInt(g,10):n;return isNaN(b)||b<1?n:b},[r,n]),l=E.useMemo(()=>{const g=r.get("limit"),b=g?parseInt(g,10):t;return isNaN(b)||b<1?t:b},[r,t]),u=E.useMemo(()=>(o-1)*l,[o,l]),d=E.useCallback(g=>{i(b=>{const y=new URLSearchParams(b);return g===1?y.delete("page"):y.set("page",String(g)),y})},[i]),f=E.useCallback(g=>{i(b=>{const y=new URLSearchParams(b);return g===t?y.delete("limit"):y.set("limit",String(g)),y.delete("page"),y})},[i,t]),p=E.useCallback(g=>Math.ceil(g/l),[l]),m=E.useCallback(g=>({currentPage:o,totalPages:Math.ceil(g/l),totalItems:g,pageSize:l,onPageChange:d,onPageSizeChange:f}),[o,l,d,f]);return{page:o,pageSize:l,offset:u,setPage:d,setPageSize:f,totalPages:p,paginationProps:m}}function O2(e){const t={},n=e.get("milestone");n&&(t.milestone_id=n);const r=e.get("plan");r&&(t.plan_id=r);const i=e.get("assigned");i&&(t.assigned_to=i);const o=e.get("tags");o&&(t.tags=o.split(",").filter(Boolean));const l=e.get("priority_min");l&&(t.priority_min=Number(l));const u=e.get("priority_max");u&&(t.priority_max=Number(u));const d=e.get("exclude_projects");return d&&(t.exclude_projects=d.split(",").filter(Boolean)),e.get("hide_completed")==="1"&&(t.exclude_completed=!0),e.get("hide_failed")==="1"&&(t.exclude_failed=!0),t}function $8(e){var n,r;const t={};return e.milestone_id&&(t.milestone=e.milestone_id),e.plan_id&&(t.plan=e.plan_id),e.assigned_to&&(t.assigned=e.assigned_to),(n=e.tags)!=null&&n.length&&(t.tags=e.tags.join(",")),e.priority_min!==void 0&&(t.priority_min=String(e.priority_min)),e.priority_max!==void 0&&(t.priority_max=String(e.priority_max)),(r=e.exclude_projects)!=null&&r.length&&(t.exclude_projects=e.exclude_projects.join(",")),e.exclude_completed&&(t.hide_completed="1"),e.exclude_failed&&(t.hide_failed="1"),t}function U8(){const[e,t]=Du(),n=E.useMemo(()=>O2(e),[e]),r=E.useCallback((d,f)=>{const p={...O2(e),[d]:f};(f===void 0||f===""||Array.isArray(f)&&f.length===0)&&delete p[d],t(m=>{const g=new URLSearchParams,b=m.get("view");b&&g.set("view",b);const y=$8(p);for(const[_,w]of Object.entries(y))g.set(_,w);return g},{replace:!0})},[e,t]),i=E.useCallback(d=>{const f=n.exclude_projects||[],p=f.includes(d)?f.filter(m=>m!==d):[...f,d];r("exclude_projects",p.length>0?p:void 0)},[n.exclude_projects,r]),o=E.useCallback(()=>{t(d=>{const f=new URLSearchParams,p=d.get("view");return p&&f.set("view",p),f},{replace:!0})},[t]),l=E.useMemo(()=>{var f,p;let d=0;return n.milestone_id&&d++,n.plan_id&&d++,n.assigned_to&&d++,(f=n.tags)!=null&&f.length&&d++,n.priority_min!==void 0&&d++,n.priority_max!==void 0&&d++,(p=n.exclude_projects)!=null&&p.length&&d++,n.exclude_completed&&d++,n.exclude_failed&&d++,d},[n]),u=E.useCallback(()=>{var f;const d={};return n.plan_id&&(d.plan_id=n.plan_id),n.assigned_to&&(d.assigned_to=n.assigned_to),(f=n.tags)!=null&&f.length&&(d.tags=n.tags.join(",")),n.priority_min!==void 0&&(d.priority_min=n.priority_min),n.priority_max!==void 0&&(d.priority_max=n.priority_max),d},[n]);return{filters:n,setFilter:r,toggleExcludeProject:i,clearFilters:o,hasActiveFilters:l>0,activeFilterCount:l,buildApiParams:u}}function jl(e="list"){const[t,n]=Du(),r=t.get("view")||e,i=E.useCallback(o=>{n(l=>{const u=new URLSearchParams(l);return o===e?u.delete("view"):u.set("view",o),u},{replace:!0})},[n,e]);return[r,i]}function fi(){const[e,t]=E.useState(null),[n,r]=E.useState(null),i=E.useCallback(u=>{t(u),r(null)},[]),o=E.useCallback(()=>{t(null),r(null)},[]),l={open:e!==null,onClose:o,onConfirm:(e==null?void 0:e.onConfirm)??(()=>{}),title:(e==null?void 0:e.title)??"",description:e==null?void 0:e.description,confirmLabel:e==null?void 0:e.confirmLabel,variant:e==null?void 0:e.variant,progress:n};return{open:i,close:o,setProgress:r,dialogProps:l}}function Gr(){const[e,t]=E.useState({open:!1,title:""}),n=E.useCallback(i=>{t({open:!0,...i})},[]),r=E.useCallback(()=>{t(i=>({...i,open:!1}))},[]);return{open:n,close:r,isOpen:e.open,dialogProps:{open:e.open,onClose:r,title:e.title,submitLabel:e.submitLabel,size:e.size}}}function Cl(){const[e,t]=E.useState(!1),[n,r]=E.useState(""),[i,o]=E.useState("Link"),[l,u]=E.useState([]),[d,f]=E.useState(""),[p,m]=E.useState(""),[g,b]=E.useState(!1),[y,_]=E.useState(!1),w=E.useRef(null),S=E.useCallback(A=>{r(A.title),o(A.submitLabel||"Link"),f(""),m(""),u([]),t(!0),w.current=A.onLink,_(!0),A.fetchOptions().then(T=>u(T)).catch(()=>u([])).finally(()=>_(!1))},[]),j=E.useCallback(()=>{t(!1),w.current=null},[]),N=E.useCallback(async()=>{if(!(!d||!w.current)){b(!0);try{await w.current(d),j()}catch(A){console.error("Link action failed:",A)}finally{b(!1)}}},[d,j]),C=p?l.filter(A=>{const T=p.toLowerCase();return A.label.toLowerCase().includes(T)||A.description&&A.description.toLowerCase().includes(T)}):l;return{open:S,close:j,dialogProps:{open:e,onClose:j,title:n,submitLabel:i,options:C,selectedId:d,onSelect:f,onSubmit:N,loading:g,fetching:y,searchQuery:p,onSearchChange:m}}}function QO({onLoadMore:e,hasMore:t,loading:n,threshold:r=100}){const i=E.useRef(null),o=E.useRef(null),l=E.useRef(e);l.current=e;const u=E.useRef({hasMore:t,loading:n});u.current={hasMore:t,loading:n};const d=E.useCallback(f=>{o.current&&(o.current.disconnect(),o.current=null),i.current=f,f&&(o.current=new IntersectionObserver(p=>{const m=p[0];m!=null&&m.isIntersecting&&u.current.hasMore&&!u.current.loading&&l.current()},{rootMargin:`${r}px`}),o.current.observe(f))},[r]);return E.useEffect(()=>()=>{o.current&&o.current.disconnect()},[]),{sentinelRef:d}}function Wi({status:e,fetchFn:t,pageSize:n=20,filters:r={},enabled:i=!0,getId:o=u=>u.id,refreshTrigger:l=0}){const[u,d]=E.useState([]),[f,p]=E.useState(0),[m,g]=E.useState(!1),[b,y]=E.useState(!1),_=E.useRef(0),w=E.useRef(!1),S=JSON.stringify(r);E.useEffect(()=>{if(!i)return;let M=!1;_.current=0;async function P(){g(!0),w.current=!0;try{const U=JSON.parse(S),z=await t({...U,status:e,limit:n,offset:0});if(M)return;d(z.items||[]),p(z.total||0),_.current=(z.items||[]).length}catch(U){M||console.error(`Failed to fetch column ${e}:`,U)}finally{M||(g(!1),w.current=!1)}}return P(),()=>{M=!0}},[e,t,n,S,i,l]);const j=u.length<f,N=E.useCallback(async()=>{if(!(w.current||!j)){w.current=!0,y(!0);try{const M=JSON.parse(S),P=await t({...M,status:e,limit:n,offset:_.current});d(U=>[...U,...P.items||[]]),p(P.total||0),_.current+=(P.items||[]).length}catch(M){console.error(`Failed to load more for column ${e}:`,M)}finally{y(!1),w.current=!1}}},[e,t,n,S,j]),C=E.useCallback(M=>{d(P=>[M,...P]),p(P=>P+1)},[]),A=E.useCallback(M=>{d(P=>P.filter(U=>o(U)!==M)),p(P=>Math.max(0,P-1))},[o]),T=E.useCallback((M,P)=>{d(U=>U.map(z=>o(z)===M?{...z,...P}:z))},[o]);return{items:u,total:f,loading:m,loadingMore:b,hasMore:j,loadMore:N,addItem:C,removeItem:A,updateItem:T}}function hi(){const e=Rt(y_),t=E.useCallback((n,r)=>{const i=Math.random().toString(36).slice(2)+Date.now().toString(36);e(o=>[...o,{id:i,type:n,message:r}]),setTimeout(()=>{e(o=>o.filter(l=>l.id!==i))},4e3)},[e]);return{success:E.useCallback(n=>t("success",n),[t]),error:E.useCallback(n=>t("error",n),[t]),info:E.useCallback(n=>t("info",n),[t]),warning:E.useCallback(n=>t("warning",n),[t])}}function Tl(e){const[t,n]=E.useState(e[0]||"");return E.useEffect(()=>{if(e.length===0)return;const r=new IntersectionObserver(i=>{for(const o of i)o.isIntersecting&&n(o.target.id)},{rootMargin:"-20% 0px -70% 0px"});for(const i of e){const o=document.getElementById(i);o&&r.observe(o)}return()=>r.disconnect()},[e]),t}function JO(e){const[t,n]=E.useState(()=>window.matchMedia(e).matches);return E.useEffect(()=>{const r=window.matchMedia(e),i=o=>n(o.matches);return r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[e]),t}const dw=()=>!JO("(min-width: 768px)");function Al(e,t){const[n,r]=E.useState(new Set),i=E.useRef(e),o=E.useRef(null);E.useEffect(()=>{i.current!==e&&(r(new Set),o.current=null,i.current=e)},[e]);const l=E.useCallback((b,y)=>{const _=e.findIndex(w=>t(w)===b);if(y&&o.current!==null&&_!==-1){const w=Math.min(o.current,_),S=Math.max(o.current,_),j=e.slice(w,S+1).map(t);r(N=>{const C=new Set(N);for(const A of j)C.add(A);return C})}else r(w=>{const S=new Set(w);return S.has(b)?S.delete(b):S.add(b),S});o.current=_!==-1?_:null},[e,t]),u=E.useCallback(()=>{r(b=>{const y=e.map(t);return y.length>0&&y.every(w=>b.has(w))?new Set:new Set(y)}),o.current=null},[e,t]),d=E.useCallback(()=>{r(new Set),o.current=null},[]),f=E.useCallback(b=>n.has(b),[n]),p=E.useMemo(()=>e.length===0?!1:e.every(b=>n.has(t(b))),[e,n,t]),m=n.size,g=E.useMemo(()=>e.filter(b=>n.has(t(b))),[e,n,t]);return{selectedIds:n,toggle:l,toggleAll:u,clear:d,isSelected:f,isAllSelected:p,selectionCount:m,selectedItems:g}}const Xn=!!window.__TAURI_INTERNALS__,q8=6600;let $h=q8;function F8(e){$h=e}function H8(){return $h}function e3(){return Xn?`http://localhost:${$h}`:""}function fw(){return`${e3()}/api`}function t3(){return`${e3()}/auth`}function hw(e){return Xn?`ws://localhost:${$h}${e}`:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${e}`}async function pw(){const e=Xn?8:1,t=[200,400,600,800,1e3,1500,2e3,3e3];for(let n=0;n<e;n++)try{const r=await fetch(`${fw()}/setup-status`);return r.ok?(await r.json()).configured:null}catch{n<e-1&&await new Promise(r=>setTimeout(r,t[n]??2e3))}return null}const G8=Object.freeze(Object.defineProperty({__proto__:null,fetchSetupStatus:pw,getApiBase:fw,getAuthBase:t3,getBackendPort:H8,isTauri:Xn,setBackendPort:F8,wsUrl:hw},Symbol.toStringTag,{value:"Module"}));let n3="required";function uh(e){n3=e}function Uh(){return n3}function r3(){try{const e=localStorage.getItem("auth_token");return e?JSON.parse(e):null}catch{return null}}const D2=4,V8=[300,600,1200,2e3];let L2=!Xn;async function K8(e,t){if(L2)return fetch(e,t);let n;for(let r=0;r<=D2;r++)try{const i=await fetch(e,t);return L2=!0,i}catch(i){if(n=i,!(i instanceof TypeError))throw i;r<D2&&await new Promise(o=>setTimeout(o,V8[r]??2e3))}throw n}async function Ss(e,t={}){const n=`${t3()}${e}`,r={"Content-Type":"application/json"},i=r3();i&&(r.Authorization=`Bearer ${i}`);const o=await K8(n,{...t,headers:{...r,...t.headers}});if(!o.ok){const l=await o.text(),u=new Error(l||`HTTP ${o.status}`);throw u.status=o.status,u}return o.json()}const Ts={getProviders:()=>Ss("/providers"),loginWithPassword:(e,t)=>Ss("/login",{method:"POST",body:JSON.stringify({email:e,password:t})}),register:(e,t,n)=>Ss("/register",{method:"POST",body:JSON.stringify({email:e,password:t,name:n})}),getOidcAuthUrl:()=>Ss("/oidc"),exchangeOidcCode:e=>Ss("/oidc/callback",{method:"POST",body:JSON.stringify({code:e})}),getGoogleAuthUrl:()=>Ss("/google"),exchangeCode:e=>Ss("/google/callback",{method:"POST",body:JSON.stringify({code:e})}),me:()=>Ss("/me"),refresh:()=>Ss("/refresh",{method:"POST"})},I2=1e3,Y8=3e4;class W8{constructor(){Nn(this,"ws",null);Nn(this,"listeners",new Set);Nn(this,"statusListeners",new Set);Nn(this,"_status","disconnected");Nn(this,"reconnectDelay",I2);Nn(this,"reconnectTimer",null);Nn(this,"shouldReconnect",!0);Nn(this,"authenticated",!1)}get status(){return this._status}connect(){var t,n;((t=this.ws)==null?void 0:t.readyState)===WebSocket.OPEN||((n=this.ws)==null?void 0:n.readyState)===WebSocket.CONNECTING||(this.shouldReconnect=!0,this.authenticated=!1,Uh()==="none"?this.openSocket(null):gw().then(r=>{r?this.openSocket(r):As()}))}openSocket(t){const n=hw("/ws/events");try{this.ws=new WebSocket(n)}catch{this.scheduleReconnect();return}this.ws.onopen=()=>{this.reconnectDelay=I2,t&&this.ws&&this.ws.send(JSON.stringify({type:"auth",token:t}))},this.ws.onmessage=r=>{var i;try{const o=JSON.parse(r.data);if(!this.authenticated){if(o.type==="auth_ok"){this.authenticated=!0,this.setStatus("connected");return}if(o.type==="auth_error"){this.shouldReconnect=!1,(i=this.ws)==null||i.close(),As();return}}const l=o;for(const u of this.listeners)u(l)}catch{}},this.ws.onclose=()=>{this.ws=null,this.authenticated=!1,this.shouldReconnect?(this.setStatus("reconnecting"),this.scheduleReconnect()):this.setStatus("disconnected")},this.ws.onerror=()=>{}}disconnect(){this.shouldReconnect=!1,this.authenticated=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&(this.ws.close(),this.ws=null),this.setStatus("disconnected")}on(t){return this.listeners.add(t),()=>this.listeners.delete(t)}onStatus(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}scheduleReconnect(){this.reconnectTimer||(this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect()},this.reconnectDelay),this.reconnectDelay=Math.min(this.reconnectDelay*2,Y8))}}let Fg=null;function mw(){return Fg||(Fg=new W8),Fg}let v_=null,Fr=null;function X8(e){v_=e}function Z8(e){Fr=e}function Q8(e){try{const t=e.split(".");if(t.length!==3)return null;let n=t[1];n=n.replace(/-/g,"+").replace(/_/g,"/");const r=n.length%4;r&&(n+="=".repeat(4-r));const i=JSON.parse(atob(n));return typeof i.exp=="number"?i.exp:null}catch{return null}}let Hg=!1,vf=[];async function i3(){if(Hg)return new Promise((e,t)=>{vf.push({resolve:e,reject:t})});Hg=!0;try{const t=(await Ts.refresh()).token;localStorage.setItem("auth_token",JSON.stringify(t)),Fr==null||Fr.setToken(t);for(const n of vf)n.resolve(t);return t}catch(e){e.status===401&&As();for(const n of vf)n.reject(e);throw e}finally{Hg=!1,vf=[]}}const J8=30;async function gw(){if(Uh()==="none")return null;const e=r3();if(!e)return null;const t=Q8(e);if(t===null)return e;const n=Math.floor(Date.now()/1e3);if(t-n<J8)try{return await i3()}catch{return null}return e}let Gg=!1;function As(){if(!Gg){Gg=!0;try{localStorage.removeItem("auth_token"),Fr==null||Fr.setToken(null),Fr==null||Fr.setUser(null);try{mw().disconnect()}catch{}v_?v_("/login"):window.location.href="/login"}finally{Gg=!1}}}function e$(){function e(t){if(t.key==="auth_token")if(t.newValue===null||t.newValue==="null")As();else try{const n=JSON.parse(t.newValue);Fr==null||Fr.setToken(n)}catch{}}return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}class Vg extends Error{constructor(t,n){super(n),this.status=t,this.name="ApiError"}}const z2=4,t$=[300,600,1200,2e3];let P2=!Xn;async function n$(e,t){if(P2)return fetch(e,t);let n;for(let r=0;r<=z2;r++)try{const i=await fetch(e,t);return P2=!0,i}catch(i){if(n=i,!(i instanceof TypeError))throw i;if(r<z2){const o=t$[r]??2e3;await new Promise(l=>setTimeout(l,o))}}throw n}async function Jo(e,t={},n=!1){const r=`${fw()}${e}`,i={"Content-Type":"application/json",...t.headers},o=await gw();o&&(i.Authorization=`Bearer ${o}`);const l=await n$(r,{...t,headers:i});if(!l.ok){if(l.status===401&&Uh()==="required"){if(!n)try{return await i3(),Jo(e,t,!0)}catch{throw new Vg(401,"Session expired")}throw As(),new Vg(401,"Session expired")}const u=await l.text();throw new Vg(l.status,u||`HTTP ${l.status}`)}return l.status===204?{}:l.json()}const ye={get:e=>Jo(e),post:(e,t)=>Jo(e,{method:"POST",body:t?JSON.stringify(t):void 0}),patch:(e,t)=>Jo(e,{method:"PATCH",body:JSON.stringify(t)}),put:(e,t)=>Jo(e,{method:"PUT",body:t?JSON.stringify(t):void 0}),delete:e=>Jo(e,{method:"DELETE"})};function on(e){const t=new URLSearchParams;for(const[r,i]of Object.entries(e))i!=null&&i!==""&&t.append(r,String(i));const n=t.toString();return n?`?${n}`:""}const xt={list:(e={})=>ye.get(`/workspaces${on(e)}`),get:e=>ye.get(`/workspaces/${e}`),create:e=>ye.post("/workspaces",e),update:(e,t)=>ye.patch(`/workspaces/${e}`,t),delete:e=>ye.delete(`/workspaces/${e}`),getOverview:e=>ye.get(`/workspaces/${e}/overview`),listProjects:e=>ye.get(`/workspaces/${e}/projects`),addProject:(e,t)=>ye.post(`/workspaces/${e}/projects`,{project_id:t}),removeProject:(e,t)=>ye.delete(`/workspaces/${e}/projects/${t}`),listMilestones:(e,t={})=>ye.get(`/workspaces/${e}/milestones${on(t)}`),createMilestone:(e,t)=>ye.post(`/workspaces/${e}/milestones`,t),getMilestone:e=>ye.get(`/workspace-milestones/${e}`),updateMilestone:(e,t)=>ye.patch(`/workspace-milestones/${e}`,t),deleteMilestone:e=>ye.delete(`/workspace-milestones/${e}`),addTaskToMilestone:(e,t)=>ye.post(`/workspace-milestones/${e}/tasks`,{task_id:t}),listMilestoneTasks:e=>ye.get(`/workspace-milestones/${e}/tasks`),removeTaskFromMilestone:(e,t)=>ye.delete(`/workspace-milestones/${e}/tasks/${t}`),getMilestoneProgress:e=>ye.get(`/workspace-milestones/${e}/progress`),listResources:(e,t={})=>ye.get(`/workspaces/${e}/resources${on(t)}`),createResource:(e,t)=>ye.post(`/workspaces/${e}/resources`,t),getResource:e=>ye.get(`/resources/${e}`),deleteResource:e=>ye.delete(`/resources/${e}`),linkResourceToProject:(e,t,n)=>ye.post(`/resources/${e}/projects`,{project_id:t,link_type:n}),listComponents:(e,t={})=>ye.get(`/workspaces/${e}/components${on(t)}`),createComponent:(e,t)=>ye.post(`/workspaces/${e}/components`,t),getComponent:e=>ye.get(`/components/${e}`),deleteComponent:e=>ye.delete(`/components/${e}`),addComponentDependency:(e,t,n,r=!0)=>ye.post(`/components/${e}/dependencies`,{depends_on_id:t,protocol:n,required:r}),removeComponentDependency:(e,t)=>ye.delete(`/components/${e}/dependencies/${t}`),mapComponentToProject:(e,t)=>ye.put(`/components/${e}/project`,{project_id:t}),getTopology:e=>ye.get(`/workspaces/${e}/topology`)},jt={list:(e={})=>ye.get(`/projects${on(e)}`),get:e=>ye.get(`/projects/${e}`),create:e=>ye.post("/projects",e),delete:e=>ye.delete(`/projects/${e}`),sync:e=>ye.post(`/projects/${e}/sync`),listPlans:(e,t={})=>ye.get(`/plans${on({...t,project_slug:e})}`),getRoadmap:e=>ye.get(`/projects/${e}/roadmap`),listMilestones:(e,t={})=>ye.get(`/projects/${e}/milestones${on(t)}`),createMilestone:(e,t)=>ye.post(`/projects/${e}/milestones`,t),getMilestone:e=>ye.get(`/milestones/${e}`),updateMilestone:(e,t)=>ye.patch(`/milestones/${e}`,t),addTaskToMilestone:(e,t)=>ye.post(`/milestones/${e}/tasks`,{task_id:t}),getMilestoneProgress:e=>ye.get(`/milestones/${e}/progress`),listReleases:(e,t={})=>ye.get(`/projects/${e}/releases${on(t)}`),createRelease:(e,t)=>ye.post(`/projects/${e}/releases`,t),getRelease:e=>ye.get(`/releases/${e}`),updateRelease:(e,t)=>ye.patch(`/releases/${e}`,t),addTaskToRelease:(e,t)=>ye.post(`/releases/${e}/tasks`,{task_id:t}),addCommitToRelease:(e,t)=>ye.post(`/releases/${e}/commits`,{commit_sha:t})},kt={list:(e={})=>ye.get(`/plans${on(e)}`),get:e=>ye.get(`/plans/${e}`),create:e=>ye.post("/plans",e),updateStatus:(e,t)=>ye.patch(`/plans/${e}`,{status:t}),delete:e=>ye.delete(`/plans/${e}`),linkToProject:(e,t)=>ye.put(`/plans/${e}/project`,{project_id:t}),unlinkFromProject:e=>ye.delete(`/plans/${e}/project`),getDependencyGraph:e=>ye.get(`/plans/${e}/dependency-graph`),getCriticalPath:e=>ye.get(`/plans/${e}/critical-path`),createTask:(e,t)=>ye.post(`/plans/${e}/tasks`,t),getNextTask:e=>ye.get(`/plans/${e}/next-task`),listConstraints:e=>ye.get(`/plans/${e}/constraints`),addConstraint:(e,t)=>ye.post(`/plans/${e}/constraints`,t),deleteConstraint:e=>ye.delete(`/constraints/${e}`),getCommits:e=>ye.get(`/plans/${e}/commits`),linkCommit:(e,t)=>ye.post(`/plans/${e}/commits`,{commit_sha:t})},Mt={list:(e={})=>ye.get(`/tasks${on(e)}`),get:e=>ye.get(`/tasks/${e}`),update:(e,t)=>ye.patch(`/tasks/${e}`,t),delete:e=>ye.delete(`/tasks/${e}`),addDependencies:(e,t)=>ye.post(`/tasks/${e}/dependencies`,{dependency_ids:t}),removeDependency:(e,t)=>ye.delete(`/tasks/${e}/dependencies/${t}`),getBlockers:e=>ye.get(`/tasks/${e}/blockers`),getBlocking:e=>ye.get(`/tasks/${e}/blocking`),listSteps:e=>ye.get(`/tasks/${e}/steps`),addStep:(e,t)=>ye.post(`/tasks/${e}/steps`,t),updateStep:(e,t)=>ye.patch(`/steps/${e}`,{status:t}),deleteStep:e=>ye.delete(`/steps/${e}`),getStepProgress:e=>ye.get(`/tasks/${e}/steps/progress`),addDecision:(e,t)=>ye.post(`/tasks/${e}/decisions`,t),getCommits:e=>ye.get(`/tasks/${e}/commits`),linkCommit:(e,t)=>ye.post(`/tasks/${e}/commits`,{commit_sha:t}),getContext:(e,t)=>ye.get(`/plans/${e}/tasks/${t}/context`),getPrompt:(e,t)=>ye.get(`/plans/${e}/tasks/${t}/prompt`)},qc={list:(e={})=>ye.get(`/notes${on(e)}`),get:e=>ye.get(`/notes/${e}`),create:e=>ye.post("/notes",e),update:(e,t)=>ye.patch(`/notes/${e}`,t),delete:e=>ye.delete(`/notes/${e}`),search:e=>ye.get(`/notes/search${on(e)}`),getNeedsReview:e=>ye.get(`/notes/needs-review${on({project_id:e})}`),updateStaleness:()=>ye.post("/notes/update-staleness"),confirm:e=>ye.post(`/notes/${e}/confirm`),invalidate:(e,t)=>ye.post(`/notes/${e}/invalidate`,{reason:t}),supersede:(e,t)=>ye.post(`/notes/${e}/supersede`,t),linkToEntity:(e,t,n)=>ye.post(`/notes/${e}/links`,{entity_type:t,entity_id:n}),unlinkFromEntity:(e,t,n)=>ye.delete(`/notes/${e}/links/${t}/${n}`),getContextNotes:(e,t,n={})=>ye.get(`/notes/context${on({entity_type:e,entity_id:t,...n})}`),getProjectNotes:e=>ye.get(`/projects/${e}/notes`)},B2={search:(e,t={})=>ye.get(`/code/search${on({query:e,...t})}`),searchInProject:(e,t,n={})=>ye.get(`/projects/${e}/code/search${on({query:t,...n})}`),getFileSymbols:e=>ye.get(`/code/symbols/${encodeURIComponent(e)}`),findReferences:(e,t)=>ye.get(`/code/references${on({symbol:e,limit:t})}`),getFileDependencies:e=>ye.get(`/code/dependencies/${encodeURIComponent(e)}`),getCallGraph:(e,t)=>ye.get(`/code/callgraph${on({function:e,limit:t})}`),analyzeImpact:e=>ye.get(`/code/impact${on({target:e})}`),getArchitecture:()=>ye.get("/code/architecture"),findSimilarCode:(e,t)=>ye.post("/code/similar",{snippet:e,limit:t}),findTraitImplementations:(e,t)=>ye.get(`/code/trait-impls${on({trait_name:e,limit:t})}`),findTypeTraits:(e,t)=>ye.get(`/code/type-traits${on({type_name:e,limit:t})}`),getImplBlocks:(e,t)=>ye.get(`/code/impl-blocks${on({type_name:e,limit:t})}`)},Xa={createSession:e=>ye.post("/chat/sessions",e),listSessions:(e={})=>ye.get(`/chat/sessions${on(e)}`),getSession:e=>ye.get(`/chat/sessions/${e}`),deleteSession:e=>ye.delete(`/chat/sessions/${e}`),getMessages:(e,t={})=>ye.get(`/chat/sessions/${e}/messages${on(t)}`),searchMessages:e=>ye.get(`/chat/search${on(e)}`)},Kg=1e3,r$=3e4,i$=10;class s${constructor(){Nn(this,"ws",null);Nn(this,"_lastEventSeq",0);Nn(this,"reconnectAttempts",0);Nn(this,"reconnectDelay",Kg);Nn(this,"reconnectTimer",null);Nn(this,"shouldReconnect",!0);Nn(this,"_status","disconnected");Nn(this,"_sessionId",null);Nn(this,"_isReplaying",!1);Nn(this,"authenticated",!1);Nn(this,"onEvent",null);Nn(this,"onStatusChange",null);Nn(this,"onReplayComplete",null)}get status(){return this._status}get lastEventSeq(){return this._lastEventSeq}get sessionId(){return this._sessionId}get isReplaying(){return this._isReplaying}setCallbacks(t){t.onEvent&&(this.onEvent=t.onEvent),t.onStatusChange&&(this.onStatusChange=t.onStatusChange),t.onReplayComplete&&(this.onReplayComplete=t.onReplayComplete)}connect(t,n=0){var r,i;this.ws&&this._sessionId!==t&&this.disconnect(),!(((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN||((i=this.ws)==null?void 0:i.readyState)===WebSocket.CONNECTING)&&(this._sessionId=t,this._lastEventSeq=n,this.shouldReconnect=!0,this._isReplaying=!0,this.setStatus("connecting"),Uh()==="none"?this.openSocket(t,n,null):gw().then(o=>{o?this.openSocket(t,n,o):As()}))}openSocket(t,n,r){const i=hw(`/ws/chat/${t}?last_event=${n}`);try{this.ws=new WebSocket(i)}catch{this.scheduleReconnect();return}this.ws.onopen=()=>{this.reconnectDelay=Kg,this.reconnectAttempts=0,r&&this.ws&&this.ws.send(JSON.stringify({type:"auth",token:r}))},this.ws.onmessage=o=>{var l,u;try{const d=JSON.parse(o.data);if(!this.authenticated){if(d.type==="auth_ok"){this.authenticated=!0,this.setStatus("connected");return}if(d.type==="auth_error"){this.shouldReconnect=!1,(l=this.ws)==null||l.close(),As();return}}if(d.type==="replay_complete"){this._isReplaying=!1,(u=this.onReplayComplete)==null||u.call(this);return}if(d.type==="events_lagged"){console.warn(`Chat WS: lagged, ${d.skipped} events skipped`);return}if(d.type==="session_closed"){this.shouldReconnect=!1,this.setStatus("disconnected");return}typeof d.seq=="number"&&d.seq>this._lastEventSeq&&(this._lastEventSeq=d.seq),this.onEvent&&this.onEvent(d)}catch{}},this.ws.onclose=()=>{this.ws=null,this._isReplaying=!1,this.authenticated=!1,this.shouldReconnect?(this.setStatus("reconnecting"),this.scheduleReconnect()):this.setStatus("disconnected")},this.ws.onerror=()=>{}}disconnect(){this.shouldReconnect=!1,this._isReplaying=!1,this.authenticated=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&(this.ws.close(),this.ws=null),this._sessionId=null,this.reconnectAttempts=0,this.reconnectDelay=Kg,this.setStatus("disconnected")}send(t){return!this.ws||this.ws.readyState!==WebSocket.OPEN?(console.warn("Chat WS: cannot send, not connected"),!1):(this.ws.send(JSON.stringify(t)),!0)}sendUserMessage(t){return this.send({type:"user_message",content:t})}sendInterrupt(){return this.send({type:"interrupt"})}sendPermissionResponse(t,n){return this.send({type:"permission_response",id:t,allow:n})}sendInputResponse(t,n){return this.send({type:"input_response",id:t,content:n})}setStatus(t){var n;this._status=t,(n=this.onStatusChange)==null||n.call(this,t)}scheduleReconnect(){if(!this.reconnectTimer){if(this.reconnectAttempts++,this.reconnectAttempts>i$){console.error("Chat WS: max reconnect attempts reached"),this.setStatus("disconnected"),this.shouldReconnect=!1;return}this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this._sessionId&&this.shouldReconnect&&this.connect(this._sessionId,this._lastEventSeq)},this.reconnectDelay),this.reconnectDelay=Math.min(this.reconnectDelay*2,r$)}}}let a$=0;function jr(){return`block-${++a$}`}let o$=0;function Zf(){return`msg-${++o$}`}const Yg=50;function $2(e){const t=[];for(const n of e)t.push({id:n.id||Zf(),role:n.role,blocks:[{id:jr(),type:"text",content:n.content}],timestamp:new Date(n.created_at*1e3)});return t}function l$(){const[e,t]=Ct(R8),[n,r]=Ct(O8),[i,o]=Ct(D8),[l,u]=Ct(L8),[d,f]=E.useState([]),[p,m]=E.useState(!1),g=E.useRef(null),[b,y]=E.useState(!1),[_,w]=E.useState(!1),S=E.useRef({offset:0,totalCount:0}),j=E.useCallback(()=>(g.current||(g.current=new s$),g.current),[]),N=E.useCallback(R=>{var q;if(R.type==="streaming_status"){const Y=!!R.is_streaming;r(Y);return}if(R.type==="user_message"){const Y=R.replaying?((q=R.data)==null?void 0:q.content)??R.content:R.content;if(!Y)return;f(L=>{var F;for(let B=L.length-1;B>=Math.max(0,L.length-10);B--){const X=L[B];if(X.role==="user"&&((F=X.blocks[0])==null?void 0:F.content)===Y)return L}return[...L,{id:Zf(),role:"user",blocks:[{id:jr(),type:"text",content:Y}],timestamp:new Date}]});return}f(Y=>{var B,X,W;const L=[...Y];let F=L[L.length-1];switch(!F||F.role!=="assistant"?(F={id:Zf(),role:"assistant",blocks:[],timestamp:new Date},L.push(F)):(F={...F,blocks:[...F.blocks]},L[L.length-1]=F),R.type){case"stream_delta":{const K=F.blocks[F.blocks.length-1];K&&K.type==="text"?F.blocks[F.blocks.length-1]={...K,content:K.content+R.text}:F.blocks.push({id:jr(),type:"text",content:R.text});break}case"assistant_text":if(R.replaying){const K=R.content,D=R.data,$=(D==null?void 0:D.content)??K??"";$&&F.blocks.push({id:jr(),type:"text",content:$})}break;case"thinking":{const K=R.replaying?((B=R.data)==null?void 0:B.content)??R.content:R.content,D=F.blocks[F.blocks.length-1];!R.replaying&&D&&D.type==="thinking"?F.blocks[F.blocks.length-1]={...D,content:D.content+K}:F.blocks.push({id:jr(),type:"thinking",content:K});break}case"tool_use":{const K=R.replaying?R.data??R:R,D=K.tool??"",$=K.id??"",H=K.input??{};if(D==="AskUserQuestion"){const I=H==null?void 0:H.questions;I&&I.length>0&&F.blocks.push({id:jr(),type:"ask_user_question",content:I.map(V=>V.question).join(`
`),metadata:{tool_call_id:$,questions:I}})}else F.blocks.push({id:jr(),type:"tool_use",content:D,metadata:{tool_call_id:$,tool_name:D,tool_input:H}});break}case"tool_use_input_resolved":{const K=R.replaying?R.data??R:R,D=K.id,$=K.input??{};for(let H=L.length-1;H>=0;H--){const I=L[H];for(let V=0;V<I.blocks.length;V++){const Z=I.blocks[V];if(Z.type==="tool_use"&&((X=Z.metadata)==null?void 0:X.tool_call_id)===D){const Q={...I,blocks:[...I.blocks]};Q.blocks[V]={...Z,metadata:{...Z.metadata,tool_input:$}},L[H]=Q}}}break}case"tool_result":{const K=R.replaying?R.data??R:R,D=K.result,$=typeof D=="string"?D:JSON.stringify(D),H=K.id;F.blocks.push({id:jr(),type:"tool_result",content:$,metadata:{tool_call_id:H,is_error:K.is_error}});break}case"permission_request":{const K=R.replaying?R.data??R:R;F.blocks.push({id:jr(),type:"permission_request",content:`Tool "${K.tool}" wants to execute`,metadata:{tool_call_id:K.id,tool_name:K.tool,tool_input:K.input}});break}case"input_request":{const K=R.replaying?R.data??R:R;F.blocks.push({id:jr(),type:"input_request",content:K.prompt??"",metadata:{request_id:K.prompt,options:K.options}});break}case"ask_user_question":{const D=(R.replaying?R.data??R:R).questions;D&&D.length>0&&F.blocks.push({id:jr(),type:"ask_user_question",content:D.map($=>$.question).join(`
`),metadata:{questions:D}});break}case"error":{const K=R.replaying?R.data??R:R;F.blocks.push({id:jr(),type:"error",content:K.message??"Unknown error"});break}case"partial_text":{const K=R.replaying?((W=R.data)==null?void 0:W.content)??R.content:R.content;K&&F.blocks.push({id:jr(),type:"text",content:K});break}case"result":R.replaying||r(!1);break}return L})},[r]);E.useEffect(()=>{j().setCallbacks({onEvent:N,onStatusChange:o,onReplayComplete:()=>{u(!1),m(!1)}})},[j,N,o,u]),E.useEffect(()=>()=>{var R;(R=g.current)==null||R.disconnect()},[]),E.useEffect(()=>{if(!e)return;const R=j();if(R.sessionId===e&&R.status!=="disconnected")return;let q=!1;return m(!0),u(!0),f([]),S.current={offset:0,totalCount:0},y(!1),Xa.getMessages(e,{limit:1,offset:0}).then(Y=>{if(q)return;const L=Y.total_count;if(L===0){f([]),S.current={offset:0,totalCount:0},y(!1),m(!1),u(!1),R.connect(e,Number.MAX_SAFE_INTEGER);return}const F=Math.max(0,L-Yg);return Xa.getMessages(e,{limit:Yg,offset:F}).then(B=>{if(q)return;const X=$2(B.messages);f(X),S.current={offset:F,totalCount:B.total_count},y(F>0),m(!1),u(!1),R.connect(e,Number.MAX_SAFE_INTEGER)})}).catch(()=>{q||(m(!1),R.connect(e,0))}),()=>{q=!0}},[e,j,u]);const C=E.useCallback(async()=>{if(!(!e||_||!b)){w(!0);try{const{offset:R}=S.current,q=Math.max(0,R-Yg),Y=R-q;if(Y<=0){y(!1),w(!1);return}const L=await Xa.getMessages(e,{limit:Y,offset:q});if(L.messages.length>0){const F=$2(L.messages);f(B=>[...F,...B]),S.current={offset:q,totalCount:L.total_count},y(q>0)}else y(!1)}catch{}finally{w(!1)}}},[e,_,b]),A=E.useCallback(async(R,q)=>{if(f(Y=>[...Y,{id:Zf(),role:"user",blocks:[{id:jr(),type:"text",content:R}],timestamp:new Date}]),e){const Y=j();r(!0),Y.sendUserMessage(R)}else{const Y=await Xa.createSession({message:R,cwd:q.cwd,project_slug:q==null?void 0:q.projectSlug});t(Y.session_id),r(!0)}},[e,t,r,j]),T=E.useCallback(async(R,q)=>{if(!e)return;j().sendPermissionResponse(R,q)},[e,j]),M=E.useCallback(async(R,q)=>{if(!e)return;j().sendInputResponse(R,q)},[e,j]),P=E.useCallback(async()=>{if(!e)return;j().sendInterrupt()},[e,j]),U=E.useCallback(()=>{j().disconnect(),t(null),r(!1),u(!1),f([]),y(!1),S.current={offset:0,totalCount:0}},[j,t,r,u]),z=E.useCallback(async R=>{if(R===e)return;j().disconnect(),t(R),r(!1),f([]),m(!0),u(!0),y(!1),S.current={offset:0,totalCount:0}},[e,j,t,r,u]);return{messages:d,isStreaming:n,isLoadingHistory:p,isLoadingOlder:_,isReplaying:l,hasOlderMessages:b,wsStatus:i,sessionId:e,sendMessage:A,respondPermission:T,respondInput:M,interrupt:P,newSession:U,loadSession:z,loadOlderMessages:C}}function c$(e){const t=Rt(KO);E.useEffect(()=>{const n=mw(),r=n.onStatus(t);t(n.status),n.connect();let i;return e&&(i=n.on(e)),()=>{r(),i==null||i()}},[t,e])}const u$=500;function d$(){const e=Rt(oo),t=Rt(Sa),n=Rt(Na),r=Rt(El),i=Rt(YO),o=Rt(Bh),l=Rt(WO),u=E.useRef(new Map),d=E.useCallback(f=>{const p=f.entity_type,m=u.current.get(p);m&&clearTimeout(m),u.current.set(p,setTimeout(()=>{switch(u.current.delete(p),p){case"plan":case"decision":case"constraint":e(g=>g+1);break;case"task":case"step":t(g=>g+1);break;case"project":case"commit":case"release":n(g=>g+1);break;case"milestone":r(g=>g+1);break;case"note":i(g=>g+1);break;case"workspace":case"workspace_milestone":case"resource":case"component":o(g=>g+1);break;case"chat_session":l(g=>g+1);break}},u$))},[e,t,n,r,i,o,l]);c$(d)}function xw(e={}){const{closeOnScroll:t=!0}=e,[n,r]=E.useState(!1),i=E.useRef(null),o=E.useRef(null),[l,u]=E.useState({top:0,left:0,width:0}),d=E.useCallback(()=>{var _;if(!i.current)return;const m=i.current.getBoundingClientRect(),g=((_=o.current)==null?void 0:_.offsetHeight)||200,y=window.innerHeight-m.bottom<g&&m.top>g;u({top:y?m.top+window.scrollY-g-4:m.bottom+window.scrollY+4,left:m.left+window.scrollX,width:m.width})},[]),f=E.useCallback(()=>r(!1),[]),p=E.useCallback(()=>r(m=>!m),[]);return E.useEffect(()=>{if(!n)return;d();function m(y){const _=y.target;i.current&&!i.current.contains(_)&&o.current&&!o.current.contains(_)&&r(!1)}function g(y){y.key==="Escape"&&r(!1)}function b(y){t&&(o.current&&y.target instanceof Node&&o.current.contains(y.target)||r(!1))}return document.addEventListener("mousedown",m),document.addEventListener("keydown",g),window.addEventListener("scroll",b,!0),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",g),window.removeEventListener("scroll",b,!0)}},[n,d,t]),{isOpen:n,setIsOpen:r,toggle:p,close:f,position:l,triggerRef:i,menuRef:o}}const f$="this-rs/project-orchestrator",h$=1440*60*1e3,s3="orchestrator-update-dismissed",p$=1440*60*1e3;function U2(){return typeof window<"u"&&"__TAURI__"in window}function q2(e){const n=e.replace(/^v/,"").split(".").map(Number);return n.length!==3||n.some(isNaN)?null:n}function m$(e,t){const n=q2(e),r=q2(t);return!n||!r?!1:r[0]!==n[0]?r[0]>n[0]:r[1]!==n[1]?r[1]>n[1]:r[2]>n[2]}function g$(e){try{const t=localStorage.getItem(s3);if(!t)return!1;const n=JSON.parse(t);return n.version!==e?!1:Date.now()-n.timestamp<p$}catch{return!1}}function x$(e){try{localStorage.setItem(s3,JSON.stringify({version:e,timestamp:Date.now()}))}catch{}}function b$(){const[e,t]=E.useState(!1),[n,r]=E.useState(null),[i,o]=E.useState(null),[l,u]=E.useState(null),[d,f]=E.useState(!1),[p,m]=E.useState(!1),g=E.useRef(null),b=E.useCallback(async()=>{if(!U2())try{m(!0);const{getApiBase:_}=await ci(async()=>{const{getApiBase:T}=await Promise.resolve().then(()=>G8);return{getApiBase:T}},[]),w=await fetch(`${_()}/version`);if(!w.ok)return;const j=(await w.json()).version;o(j);const N=await fetch(`https://api.github.com/repos/${f$}/releases/latest`,{headers:{Accept:"application/vnd.github.v3+json"}});if(!N.ok)return;const C=await N.json(),A=C.tag_name.replace(/^v/,"");r(A),u(C.html_url),m$(j,A)?(t(!0),f(g$(A))):t(!1)}catch{}finally{m(!1)}},[]),y=E.useCallback(()=>{n&&x$(n),f(!0)},[n]);return E.useEffect(()=>{if(U2())return;const _=setTimeout(b,5e3);return g.current=setInterval(b,h$),()=>{clearTimeout(_),g.current&&clearInterval(g.current)}},[b]),{updateAvailable:e,latestVersion:n,currentVersion:i,releaseUrl:l,dismissed:d,dismiss:y,loading:p}}function y$(){const[e,t]=Du();E.useEffect(()=>{e.get("from")==="tray"&&t(n=>{const r=new URLSearchParams(n);return r.delete("from"),r},{replace:!0})},[e,t])}function a3(){return E.useCallback(e=>{if(!Xn||e.button!==0)return;const t=e.target;t.closest("button")||t.closest("a")||t.closest("input")||t.closest("select")||t.closest("textarea")||t.closest('[role="button"]')||t.closest("[data-no-drag]")||(e.preventDefault(),ci(async()=>{const{getCurrentWindow:n}=await import("./window-DVaqaQD9.js").then(r=>r.w);return{getCurrentWindow:n}},__vite__mapDeps([0,1,2])).then(({getCurrentWindow:n})=>{n().startDragging()}).catch(()=>{}))},[])}function qh({trigger:e,options:t,onSelect:n,disabled:r=!1,className:i=""}){const{isOpen:o,toggle:l,close:u,position:d,triggerRef:f,menuRef:p}=xw(),m=g=>{n(g),u()};return a.jsxs("div",{ref:f,className:`relative inline-block ${i}`,children:[a.jsx("div",{onClick:g=>{g.preventDefault(),g.stopPropagation(),r||l()},className:r?"cursor-not-allowed opacity-50":"cursor-pointer",children:e}),o&&li.createPortal(a.jsx("div",{ref:p,className:"fixed z-[9999] min-w-[120px] rounded-lg bg-[#232733] border border-white/[0.1] shadow-[0_4px_12px_rgba(0,0,0,0.4)] py-1",style:{top:d.top,left:d.left,position:"absolute"},children:t.map(g=>a.jsxs("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),m(g.value)},className:"w-full px-3 py-2 text-left text-sm text-gray-200 hover:bg-white/[0.06] flex items-center gap-2 transition-colors",children:[g.icon,g.label]},g.value))}),document.body)]})}const v$={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};function xr({size:e="md",className:t=""}){return a.jsxs("svg",{className:`animate-spin text-indigo-500 ${v$[e]} ${t}`,fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function Rr(){return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(xr,{size:"lg"})})}const _$={default:"bg-white/[0.08] text-gray-200 ring-gray-500/20",success:"bg-green-900/50 text-green-400 ring-green-500/20",warning:"bg-yellow-900/50 text-yellow-400 ring-yellow-500/20",error:"bg-red-900/50 text-red-400 ring-red-500/20",info:"bg-blue-900/50 text-blue-400 ring-blue-500/20",purple:"bg-purple-900/50 text-purple-400 ring-purple-500/20"};function zt({children:e,variant:t="default",className:n=""}){return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold ring-1 ring-inset ${_$[t]} ${n}`,children:e})}const lo={label:"Unknown",variant:"default"};function dh({status:e}){const t={pending:{label:"Pending",variant:"default"},in_progress:{label:"In Progress",variant:"info"},blocked:{label:"Blocked",variant:"warning"},completed:{label:"Completed",variant:"success"},failed:{label:"Failed",variant:"error"}},{label:n,variant:r}=e&&t[e]||lo;return a.jsx(zt,{variant:r,children:n})}function w$({status:e}){const t={active:{label:"Active",variant:"success"},needs_review:{label:"Needs Review",variant:"warning"},stale:{label:"Stale",variant:"default"},obsolete:{label:"Obsolete",variant:"error"},archived:{label:"Archived",variant:"default"}},{label:n,variant:r}=e&&t[e]||lo;return a.jsx(zt,{variant:r,children:n})}function S$({importance:e}){const t={low:{label:"Low",variant:"default"},medium:{label:"Medium",variant:"info"},high:{label:"High",variant:"warning"},critical:{label:"Critical",variant:"error"}},{label:n,variant:r}=e&&t[e]||lo;return a.jsx(zt,{variant:r,children:n})}function N$({status:e,onStatusChange:t,disabled:n=!1}){const[r,i]=E.useState(!1),o={planned:{label:"Planned",variant:"default"},open:{label:"Open",variant:"info"},in_progress:{label:"In Progress",variant:"warning"},completed:{label:"Completed",variant:"success"},closed:{label:"Closed",variant:"purple"}},l=[{value:"planned",label:"Planned"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"closed",label:"Closed"}],u=async m=>{if(m!==e){i(!0);try{await t(m)}finally{i(!1)}}},d=e==null?void 0:e.toLowerCase(),{label:f,variant:p}=d&&o[d]||lo;return r?a.jsxs(zt,{variant:p,children:[a.jsx(xr,{size:"sm",className:"mr-1"}),f]}):a.jsx(qh,{trigger:a.jsx(zt,{variant:p,className:"cursor-pointer hover:opacity-80",children:f}),options:l,onSelect:u,disabled:n})}function o3({status:e,onStatusChange:t,disabled:n=!1}){const[r,i]=E.useState(!1),o={draft:{label:"Draft",variant:"default"},approved:{label:"Approved",variant:"info"},in_progress:{label:"In Progress",variant:"purple"},completed:{label:"Completed",variant:"success"},cancelled:{label:"Cancelled",variant:"error"}},l=[{value:"draft",label:"Draft"},{value:"approved",label:"Approved"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],u=async p=>{if(p!==e){i(!0);try{await t(p)}finally{i(!1)}}},{label:d,variant:f}=e&&o[e]||lo;return r?a.jsxs(zt,{variant:f,children:[a.jsx(xr,{size:"sm",className:"mr-1"}),d]}):a.jsx(qh,{trigger:a.jsx(zt,{variant:f,className:"cursor-pointer hover:opacity-80",children:d}),options:l,onSelect:u,disabled:n})}function l3({status:e,onStatusChange:t,disabled:n=!1}){const[r,i]=E.useState(!1),o={pending:{label:"Pending",variant:"default"},in_progress:{label:"In Progress",variant:"info"},blocked:{label:"Blocked",variant:"warning"},completed:{label:"Completed",variant:"success"},failed:{label:"Failed",variant:"error"}},l=[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],u=async p=>{if(p!==e){i(!0);try{await t(p)}finally{i(!1)}}},{label:d,variant:f}=e&&o[e]||lo;return r?a.jsxs(zt,{variant:f,children:[a.jsx(xr,{size:"sm",className:"mr-1"}),d]}):a.jsx(qh,{trigger:a.jsx(zt,{variant:f,className:"cursor-pointer hover:opacity-80",children:d}),options:l,onSelect:u,disabled:n})}function E$({status:e,onStatusChange:t,disabled:n=!1}){const[r,i]=E.useState(!1),o={pending:{label:"Pending",variant:"default"},in_progress:{label:"In Progress",variant:"info"},completed:{label:"Completed",variant:"success"},skipped:{label:"Skipped",variant:"warning"}},l=[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"skipped",label:"Skipped"}],u=async p=>{if(p!==e){i(!0);try{await t(p)}finally{i(!1)}}},{label:d,variant:f}=e&&o[e]||lo;return r?a.jsxs(zt,{variant:f,children:[a.jsx(xr,{size:"sm",className:"mr-1"}),d]}):a.jsx(qh,{trigger:a.jsx(zt,{variant:f,className:"cursor-pointer hover:opacity-80",children:d}),options:l,onSelect:u,disabled:n})}function et({children:e,className:t="",onClick:n}){return a.jsx("div",{className:`bg-[#1a1d27] rounded-xl border border-white/[0.06] shadow-[0_1px_2px_rgba(0,0,0,0.3)] ${n?"cursor-pointer hover:border-white/[0.16] hover:shadow-[0_4px_12px_rgba(0,0,0,0.4)] transition-all duration-150":""} ${t}`,onClick:n,children:e})}function qt({children:e,className:t=""}){return a.jsx("div",{className:`px-4 py-3 border-b border-white/[0.06] ${t}`,children:e})}function Ft({children:e,className:t=""}){return a.jsx("h3",{className:`text-lg font-semibold text-gray-100 ${t}`,children:e})}function ft({children:e,className:t=""}){return a.jsx("div",{className:`p-4 ${t}`,children:e})}const nt=E.forwardRef(({label:e,error:t,className:n="",...r},i)=>a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:e}),a.jsx("input",{ref:i,className:`
            w-full px-3 py-2 bg-[#0f1117] border border-white/[0.1] rounded-lg
            text-gray-100 placeholder-gray-500
            focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent
            disabled:opacity-50 disabled:cursor-not-allowed
            ${t?"border-red-500":""}
            ${n}
          `,...r}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:t})]}));nt.displayName="Input";function k$({className:e="",...t}){return a.jsxs("div",{className:`relative ${e}`,children:[a.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx(nt,{className:"pl-10",placeholder:"Search...",...t})]})}const pi=E.forwardRef(({label:e,error:t,className:n="",...r},i)=>a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:e}),a.jsx("textarea",{ref:i,className:`
            w-full px-3 py-2 bg-[#0f1117] border border-white/[0.1] rounded-lg
            text-gray-100 placeholder-gray-500
            focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent
            disabled:opacity-50 disabled:cursor-not-allowed
            resize-vertical min-h-[80px]
            ${t?"border-red-500":""}
            ${n}
          `,...r}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:t})]}));pi.displayName="Textarea";function kn({options:e,value:t,onChange:n,label:r,error:i,disabled:o=!1,className:l="",placeholder:u,icon:d}){var U;const{isOpen:f,toggle:p,close:m,position:g,triggerRef:b,menuRef:y}=xw(),[_,w]=E.useState(-1),S=E.useId(),j=`${S}-listbox`,N=((U=e.find(z=>z.value===t))==null?void 0:U.label)||u||"",C=e.some(z=>z.value===t),A=z=>{n==null||n(z),m(),w(-1)},T=()=>{if(!o&&(p(),!f)){const z=e.findIndex(R=>R.value===t);w(z>=0?z:0)}},M=z=>{if(!o)switch(z.key){case"ArrowDown":if(z.preventDefault(),f)w(R=>R<e.length-1?R+1:0);else{p();const R=e.findIndex(q=>q.value===t);w(R>=0?R:0)}break;case"ArrowUp":z.preventDefault(),f&&w(R=>R>0?R-1:e.length-1);break;case"Enter":case" ":z.preventDefault(),f&&_>=0&&_<e.length?A(e[_].value):f||T();break;case"Escape":z.preventDefault(),m(),w(-1);break;case"Home":f&&(z.preventDefault(),w(0));break;case"End":f&&(z.preventDefault(),w(e.length-1));break}},P=_>=0?`${S}-option-${_}`:void 0;return a.jsxs("div",{className:`w-full ${l}`,children:[r&&a.jsx("label",{id:`${S}-label`,className:"block text-sm font-medium text-gray-300 mb-1",children:r}),a.jsx("div",{ref:b,className:"relative",children:a.jsxs("button",{type:"button",role:"combobox","aria-expanded":f,"aria-haspopup":"listbox","aria-controls":f?j:void 0,"aria-activedescendant":f?P:void 0,"aria-labelledby":r?`${S}-label`:void 0,onClick:T,onKeyDown:M,disabled:o,className:`
            w-full flex items-center gap-2 px-3 py-2 bg-[#0f1117] border rounded-lg
            text-left text-sm transition-colors
            focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent
            disabled:opacity-50 disabled:cursor-not-allowed
            ${f?"border-indigo-500 ring-2 ring-indigo-500":i?"border-red-500":"border-white/[0.1] hover:border-white/[0.2]"}
          `,children:[d&&a.jsx("span",{className:"shrink-0 text-gray-500",children:d}),a.jsx("span",{className:`flex-1 truncate ${C?"text-gray-100":"text-gray-500"}`,children:N}),a.jsx("svg",{className:`w-4 h-4 shrink-0 text-gray-500 transition-transform ${f?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]})}),i&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i}),f&&li.createPortal(a.jsx("div",{ref:y,id:j,role:"listbox","aria-labelledby":r?`${S}-label`:void 0,className:"fixed z-[9999] rounded-lg bg-[#232733] border border-white/[0.1] shadow-[0_4px_12px_rgba(0,0,0,0.4)] py-1 max-h-60 overflow-y-auto",style:{top:g.top,left:g.left,width:g.width,position:"absolute",minWidth:120},children:e.map((z,R)=>{const q=z.value===t,Y=R===_;return a.jsxs("button",{id:`${S}-option-${R}`,role:"option","aria-selected":q,onClick:L=>{L.preventDefault(),L.stopPropagation(),A(z.value)},onMouseEnter:()=>w(R),className:`
                    w-full px-3 py-2 text-left text-sm flex items-center gap-2 transition-colors
                    ${Y?"bg-white/[0.06]":""}
                    ${q?"text-indigo-400 font-medium":"text-gray-200"}
                  `,children:[q&&a.jsx("svg",{className:"w-3.5 h-3.5 shrink-0 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),!q&&a.jsx("span",{className:"w-3.5 shrink-0"}),z.label]},z.value)})}),document.body)]})}const j$={sm:"h-1",md:"h-2",lg:"h-3"};function Oi({value:e,max:t=100,showLabel:n=!1,size:r="md",className:i=""}){const o=Math.min(100,Math.max(0,e/t*100));return a.jsxs("div",{className:i,children:[n&&a.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[o.toFixed(0),"%"]})]}),a.jsx("div",{className:`w-full bg-white/[0.08] rounded-full overflow-hidden ${j$[r]}`,children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]})}function _a({icon:e,title:t,description:n,action:r}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center border-2 border-dashed border-white/[0.06] rounded-2xl",children:[e&&a.jsx("div",{className:"w-16 h-16 rounded-full bg-white/[0.03] flex items-center justify-center text-gray-500 mb-4",children:e}),a.jsx("h3",{className:"text-lg font-medium text-gray-200 mb-1",children:t}),n&&a.jsx("p",{className:"text-sm text-gray-400 mb-4 max-w-xs sm:max-w-md",children:n}),r]})}function Ml({currentPage:e,totalPages:t,totalItems:n,pageSize:r,onPageChange:i,onPageSizeChange:o,pageSizeOptions:l=[10,25,50,100],className:u=""}){const d=e>1,f=e<t,p=()=>{if(t<=7)return Array.from({length:t},(w,S)=>S+1);const b=[];b.push(1),e>3&&b.push("ellipsis");const y=Math.max(2,e-1),_=Math.min(t-1,e+1);for(let w=y;w<=_;w++)b.includes(w)||b.push(w);return e<t-2&&b.push("ellipsis"),b.includes(t)||b.push(t),b},m=n===0?0:(e-1)*r+1,g=Math.min(e*r,n);return a.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between gap-4 ${u}`,children:[a.jsx("div",{className:"text-sm text-gray-400",children:n===0?"No items":a.jsxs(a.Fragment,{children:["Showing ",a.jsx("span",{className:"font-medium text-gray-200",children:m})," to"," ",a.jsx("span",{className:"font-medium text-gray-200",children:g})," of"," ",a.jsx("span",{className:"font-medium text-gray-200",children:n})," items"]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Per page:"}),a.jsx(kn,{options:l.map(b=>({value:String(b),label:String(b)})),value:String(r),onChange:b=>o(Number(b)),className:"w-20"})]}),t>1&&a.jsxs("nav",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>i(e-1),disabled:!d,className:`px-3 py-2 md:py-1 rounded text-sm font-medium transition-colors ${d?"bg-white/[0.08] text-gray-200 hover:bg-white/[0.12]":"bg-white/[0.03] text-gray-500 cursor-not-allowed"}`,children:"Prev"}),a.jsxs("span",{className:"sm:hidden text-sm text-gray-400",children:[e," / ",t]}),a.jsx("div",{className:"hidden sm:flex items-center gap-1",children:p().map((b,y)=>b==="ellipsis"?a.jsx("span",{className:"px-2 text-gray-500",children:"..."},`ellipsis-${y}`):a.jsx("button",{onClick:()=>i(b),className:`min-w-[32px] px-2 py-1 rounded text-sm font-medium transition-colors ${b===e?"bg-indigo-600 text-white":"bg-white/[0.08] text-gray-200 hover:bg-white/[0.12]"}`,children:b},b))}),a.jsx("button",{onClick:()=>i(e+1),disabled:!f,className:`px-3 py-2 md:py-1 rounded text-sm font-medium transition-colors ${f?"bg-white/[0.08] text-gray-200 hover:bg-white/[0.12]":"bg-white/[0.03] text-gray-500 cursor-not-allowed"}`,children:"Next"})]})]})]})}function Rl({value:e,onChange:t,className:n=""}){return a.jsxs("div",{className:`inline-flex rounded-lg bg-[#1a1d27] p-0.5 ${n}`,role:"group",children:[a.jsxs("button",{type:"button",onClick:()=>t("list"),"aria-pressed":e==="list",className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="list"?"bg-indigo-600 text-white shadow-sm":"text-gray-400 hover:text-gray-200"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),"List"]}),a.jsxs("button",{type:"button",onClick:()=>t("kanban"),"aria-pressed":e==="kanban",className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="kanban"?"bg-indigo-600 text-white shadow-sm":"text-gray-400 hover:text-gray-200"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4v16M15 4v16M3 8h18M3 16h18"})}),"Board"]})]})}function C$(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const T$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,A$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,M$={};function F2(e,t){return(M$.jsx?A$:T$).test(e)}const R$=/[ \t\n\f\r]/g;function O$(e){return typeof e=="object"?e.type==="text"?H2(e.value):!1:H2(e)}function H2(e){return e.replace(R$,"")===""}class zu{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}zu.prototype.normal={};zu.prototype.property={};zu.prototype.space=void 0;function c3(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new zu(n,r,t)}function __(e){return e.toLowerCase()}class Or{constructor(t,n){this.attribute=n,this.property=t}}Or.prototype.attribute="";Or.prototype.booleanish=!1;Or.prototype.boolean=!1;Or.prototype.commaOrSpaceSeparated=!1;Or.prototype.commaSeparated=!1;Or.prototype.defined=!1;Or.prototype.mustUseProperty=!1;Or.prototype.number=!1;Or.prototype.overloadedBoolean=!1;Or.prototype.property="";Or.prototype.spaceSeparated=!1;Or.prototype.space=void 0;let D$=0;const Je=co(),Bn=co(),w_=co(),ke=co(),nn=co(),sl=co(),qr=co();function co(){return 2**++D$}const S_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Je,booleanish:Bn,commaOrSpaceSeparated:qr,commaSeparated:sl,number:ke,overloadedBoolean:w_,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),Wg=Object.keys(S_);class bw extends Or{constructor(t,n,r,i){let o=-1;if(super(t,n),G2(this,"space",i),typeof r=="number")for(;++o<Wg.length;){const l=Wg[o];G2(this,Wg[o],(r&S_[l])===S_[l])}}}bw.prototype.defined=!0;function G2(e,t,n){n&&(e[t]=n)}function Ol(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new bw(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[__(r)]=r,n[__(o.attribute)]=r}return new zu(t,n,e.space)}const u3=Ol({properties:{ariaActiveDescendant:null,ariaAtomic:Bn,ariaAutoComplete:null,ariaBusy:Bn,ariaChecked:Bn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:Bn,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:Bn,ariaFlowTo:nn,ariaGrabbed:Bn,ariaHasPopup:null,ariaHidden:Bn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:ke,ariaLive:null,ariaModal:Bn,ariaMultiLine:Bn,ariaMultiSelectable:Bn,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Bn,ariaReadOnly:Bn,ariaRelevant:null,ariaRequired:Bn,ariaRoleDescription:nn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Bn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function d3(e,t){return t in e?e[t]:t}function f3(e,t){return d3(e,t.toLowerCase())}const L$=Ol({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sl,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:Je,allowPaymentRequest:Je,allowUserMedia:Je,alt:null,as:null,async:Je,autoCapitalize:null,autoComplete:nn,autoFocus:Je,autoPlay:Je,blocking:nn,capture:null,charSet:null,checked:Je,cite:null,className:nn,cols:ke,colSpan:null,content:null,contentEditable:Bn,controls:Je,controlsList:nn,coords:ke|sl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Je,defer:Je,dir:null,dirName:null,disabled:Je,download:w_,draggable:Bn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Je,formTarget:null,headers:nn,height:ke,hidden:w_,high:ke,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inert:Je,inputMode:null,integrity:null,is:null,isMap:Je,itemId:null,itemProp:nn,itemRef:nn,itemScope:Je,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Je,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:Je,muted:Je,name:null,nonce:null,noModule:Je,noValidate:Je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Je,optimum:ke,pattern:null,ping:nn,placeholder:null,playsInline:Je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Je,referrerPolicy:null,rel:nn,required:Je,reversed:Je,rows:ke,rowSpan:ke,sandbox:nn,scope:null,scoped:Je,seamless:Je,selected:Je,shadowRootClonable:Je,shadowRootDelegatesFocus:Je,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Bn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:Je,useMap:null,value:Bn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Je,declare:Je,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:Je,noHref:Je,noShade:Je,noWrap:Je,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Bn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Je,disableRemotePlayback:Je,prefix:null,property:null,results:ke,security:null,unselectable:null},space:"html",transform:f3}),I$=Ol({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:qr,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:Je,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sl,g2:sl,glyphName:sl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:qr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qr,rev:qr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qr,requiredFeatures:qr,requiredFonts:qr,requiredFormats:qr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:qr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qr,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:d3}),h3=Ol({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),p3=Ol({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:f3}),m3=Ol({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),z$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},P$=/[A-Z]/g,V2=/-[a-z]/g,B$=/^data[-\w.:]+$/i;function $$(e,t){const n=__(t);let r=t,i=Or;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&B$.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(V2,q$);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!V2.test(o)){let l=o.replace(P$,U$);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=bw}return new i(r,t)}function U$(e){return"-"+e.toLowerCase()}function q$(e){return e.charAt(1).toUpperCase()}const F$=c3([u3,L$,h3,p3,m3],"html"),yw=c3([u3,I$,h3,p3,m3],"svg");function H$(e){return e.join(" ").trim()}var Xo={},Xg,K2;function G$(){if(K2)return Xg;K2=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",g="comment",b="declaration";function y(w,S){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];S=S||{};var j=1,N=1;function C(L){var F=L.match(t);F&&(j+=F.length);var B=L.lastIndexOf(d);N=~B?L.length-B:N+L.length}function A(){var L={line:j,column:N};return function(F){return F.position=new T(L),U(),F}}function T(L){this.start=L,this.end={line:j,column:N},this.source=S.source}T.prototype.content=w;function M(L){var F=new Error(S.source+":"+j+":"+N+": "+L);if(F.reason=L,F.filename=S.source,F.line=j,F.column=N,F.source=w,!S.silent)throw F}function P(L){var F=L.exec(w);if(F){var B=F[0];return C(B),w=w.slice(B.length),F}}function U(){P(n)}function z(L){var F;for(L=L||[];F=R();)F!==!1&&L.push(F);return L}function R(){var L=A();if(!(f!=w.charAt(0)||p!=w.charAt(1))){for(var F=2;m!=w.charAt(F)&&(p!=w.charAt(F)||f!=w.charAt(F+1));)++F;if(F+=2,m===w.charAt(F-1))return M("End of comment missing");var B=w.slice(2,F-2);return N+=2,C(B),w=w.slice(F),N+=2,L({type:g,comment:B})}}function q(){var L=A(),F=P(r);if(F){if(R(),!P(i))return M("property missing ':'");var B=P(o),X=L({type:b,property:_(F[0].replace(e,m)),value:B?_(B[0].replace(e,m)):m});return P(l),X}}function Y(){var L=[];z(L);for(var F;F=q();)F!==!1&&(L.push(F),z(L));return L}return U(),Y()}function _(w){return w?w.replace(u,m):m}return Xg=y,Xg}var Y2;function V$(){if(Y2)return Xo;Y2=1;var e=Xo&&Xo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.default=n;const t=e(G$());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const l=(0,t.default)(r),u=typeof i=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:p}=d;u?i(f,p,d):p&&(o=o||{},o[f]=p)}),o}return Xo}var Fc={},W2;function K$(){if(W2)return Fc;W2=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,p){return p.toUpperCase()},u=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),o(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return Fc.camelCase=d,Fc}var Hc,X2;function Y$(){if(X2)return Hc;X2=1;var e=Hc&&Hc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(V$()),n=K$();function r(i,o){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,d){u&&d&&(l[(0,n.camelCase)(u,o)]=d)}),l}return r.default=r,Hc=r,Hc}var W$=Y$();const X$=yl(W$),g3=x3("end"),vw=x3("start");function x3(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Z$(e){const t=vw(e),n=g3(e);if(t&&n)return{start:t,end:n}}function iu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Z2(e.position):"start"in e||"end"in e?Z2(e):"line"in e||"column"in e?N_(e):""}function N_(e){return Q2(e&&e.line)+":"+Q2(e&&e.column)}function Z2(e){return N_(e&&e.start)+"-"+N_(e&&e.end)}function Q2(e){return e&&typeof e=="number"?e:1}class dr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=iu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}dr.prototype.file="";dr.prototype.name="";dr.prototype.reason="";dr.prototype.message="";dr.prototype.stack="";dr.prototype.column=void 0;dr.prototype.line=void 0;dr.prototype.ancestors=void 0;dr.prototype.cause=void 0;dr.prototype.fatal=void 0;dr.prototype.place=void 0;dr.prototype.ruleId=void 0;dr.prototype.source=void 0;const _w={}.hasOwnProperty,Q$=new Map,J$=/[A-Z]/g,eU=new Set(["table","tbody","thead","tfoot","tr"]),tU=new Set(["td","th"]),b3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nU(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=uU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cU(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?yw:F$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=y3(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function y3(e,t,n){if(t.type==="element")return rU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return iU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return aU(e,t,n);if(t.type==="mdxjsEsm")return sU(e,t);if(t.type==="root")return oU(e,t,n);if(t.type==="text")return lU(e,t)}function rU(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=yw,e.schema=i),e.ancestors.push(t);const o=_3(e,t.tagName,!1),l=dU(e,t);let u=Sw(e,t);return eU.has(t.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!O$(d):!0})),v3(e,l,o,t),ww(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function iU(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}mu(e,t.position)}function sU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);mu(e,t.position)}function aU(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=yw,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:_3(e,t.name,!0),l=fU(e,t),u=Sw(e,t);return v3(e,l,o,t),ww(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function oU(e,t,n){const r={};return ww(r,Sw(e,t)),e.create(t,e.Fragment,r,n)}function lU(e,t){return t.value}function v3(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ww(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function cU(e,t,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function uU(e,t){return n;function n(r,i,o,l){const u=Array.isArray(o.children),d=vw(r);return t(i,o,l,u,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function dU(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&_w.call(t.properties,i)){const o=hU(e,i,t.properties[i]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&tU.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function fU(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else mu(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else mu(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Sw(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Q$;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=i.get(d)||0;l=d+"-"+f,i.set(d,f+1)}}const u=y3(e,o,l);u!==void 0&&n.push(u)}return n}function hU(e,t,n){const r=$$(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?C$(n):H$(n)),r.property==="style"){let i=typeof n=="object"?n:pU(e,String(n));return e.stylePropertyNameCase==="css"&&(i=mU(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?z$[r.property]||r.property:r.attribute,n]}}function pU(e,t){try{return X$(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new dr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=b3+"#cannot-parse-style-attribute",i}}function _3(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const u=F2(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=F2(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return _w.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);mu(e)}function mu(e,t){const n=new dr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=b3+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mU(e){const t={};let n;for(n in e)_w.call(e,n)&&(t[gU(n)]=e[n]);return t}function gU(e){let t=e.replace(J$,xU);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function xU(e){return"-"+e.toLowerCase()}const Zg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bU={};function Nw(e,t){const n=bU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return w3(e,r,i)}function w3(e,t,n){if(yU(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return J2(e.children,t,n)}return Array.isArray(e)?J2(e,t,n):""}function J2(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=w3(e[i],t,n);return r.join("")}function yU(e){return!!(e&&typeof e=="object")}const ej=document.createElement("i");function Ew(e){const t="&"+e+";";ej.innerHTML=t;const n=ej.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Vr(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function oi(e,t){return e.length>0?(Vr(e,e.length,0,t),e):t}const tj={}.hasOwnProperty;function S3(e){const t={};let n=-1;for(;++n<e.length;)vU(t,e[n]);return t}function vU(e,t){let n;for(n in t){const i=(tj.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){tj.call(i,l)||(i[l]=[]);const u=o[l];_U(i[l],Array.isArray(u)?u:u?[u]:[])}}}function _U(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Vr(e,0,0,r)}function N3(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ri(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const gr=Ea(/[A-Za-z]/),lr=Ea(/[\dA-Za-z]/),wU=Ea(/[#-'*+\--9=?A-Z^-~]/);function fh(e){return e!==null&&(e<32||e===127)}const E_=Ea(/\d/),SU=Ea(/[\dA-Fa-f]/),NU=Ea(/[!-/:-@[-`{-~]/);function Ue(e){return e!==null&&e<-2}function en(e){return e!==null&&(e<0||e===32)}function ot(e){return e===-2||e===-1||e===32}const Fh=Ea(new RegExp("\\p{P}|\\p{S}","u")),to=Ea(/\s/);function Ea(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Dl(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&lr(e.charCodeAt(n+1))&&lr(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function bt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(d){return ot(d)?(e.enter(n),u(d)):t(d)}function u(d){return ot(d)&&o++<i?(e.consume(d),u):(e.exit(n),t(d))}}const EU={tokenize:kU};function kU(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),bt(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Ue(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const jU={tokenize:CU},nj={tokenize:TU};function CU(e){const t=this,n=[];let r=0,i,o,l;return u;function u(N){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,d,f)(N)}return f(N)}function d(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&j();const C=t.events.length;let A=C,T;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){T=t.events[A][1].end;break}S(r);let M=C;for(;M<t.events.length;)t.events[M][1].end={...T},M++;return Vr(t.events,A+1,0,t.events.slice(C)),t.events.length=M,f(N)}return u(N)}function f(N){if(r===n.length){if(!i)return g(N);if(i.currentConstruct&&i.currentConstruct.concrete)return y(N);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(nj,p,m)(N)}function p(N){return i&&j(),S(r),g(N)}function m(N){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,y(N)}function g(N){return t.containerState={},e.attempt(nj,b,y)(N)}function b(N){return r++,n.push([t.currentConstruct,t.containerState]),g(N)}function y(N){if(N===null){i&&j(),S(0),e.consume(N);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),_(N)}function _(N){if(N===null){w(e.exit("chunkFlow"),!0),S(0),e.consume(N);return}return Ue(N)?(e.consume(N),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(N),_)}function w(N,C){const A=t.sliceStream(N);if(C&&A.push(null),N.previous=o,o&&(o.next=N),o=N,i.defineSkip(N.start),i.write(A),t.parser.lazy[N.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<l&&(!i.events[T][1].end||i.events[T][1].end.offset>l))return;const M=t.events.length;let P=M,U,z;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(U){z=t.events[P][1].end;break}U=!0}for(S(r),T=M;T<t.events.length;)t.events[T][1].end={...z},T++;Vr(t.events,P+1,0,t.events.slice(M)),t.events.length=T}}function S(N){let C=n.length;for(;C-- >N;){const A=n[C];t.containerState=A[1],A[0].exit.call(t,e)}n.length=N}function j(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function TU(e,t,n){return bt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cl(e){if(e===null||en(e)||to(e))return 1;if(Fh(e))return 2}function Hh(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const k_={name:"attention",resolveAll:AU,tokenize:MU};function AU(e,t){let n=-1,r,i,o,l,u,d,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},g={...e[n][1].start};rj(m,-d),rj(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},o={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=oi(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=oi(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=oi(f,Hh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=oi(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=oi(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Vr(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function MU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=cl(r);let o;return l;function l(d){return o=d,e.enter("attentionSequence"),u(d)}function u(d){if(d===o)return e.consume(d),u;const f=e.exit("attentionSequence"),p=cl(d),m=!p||p===2&&i||n.includes(d),g=!i||i===2&&p||n.includes(r);return f._open=!!(o===42?m:m&&(i||!g)),f._close=!!(o===42?g:g&&(p||!m)),t(d)}}function rj(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const RU={name:"autolink",tokenize:OU};function OU(e,t,n){let r=0;return i;function i(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(b){return gr(b)?(e.consume(b),l):b===64?n(b):f(b)}function l(b){return b===43||b===45||b===46||lr(b)?(r=1,u(b)):f(b)}function u(b){return b===58?(e.consume(b),r=0,d):(b===43||b===45||b===46||lr(b))&&r++<32?(e.consume(b),u):(r=0,f(b))}function d(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||fh(b)?n(b):(e.consume(b),d)}function f(b){return b===64?(e.consume(b),p):wU(b)?(e.consume(b),f):n(b)}function p(b){return lr(b)?m(b):n(b)}function m(b){return b===46?(e.consume(b),r=0,p):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):g(b)}function g(b){if((b===45||lr(b))&&r++<63){const y=b===45?g:m;return e.consume(b),y}return n(b)}}const Pu={partial:!0,tokenize:DU};function DU(e,t,n){return r;function r(o){return ot(o)?bt(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Ue(o)?t(o):n(o)}}const E3={continuation:{tokenize:IU},exit:zU,name:"blockQuote",tokenize:LU};function LU(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return ot(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function IU(e,t,n){const r=this;return i;function i(l){return ot(l)?bt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(E3,t,n)(l)}}function zU(e){e.exit("blockQuote")}const k3={name:"characterEscape",tokenize:PU};function PU(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return NU(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const j3={name:"characterReference",tokenize:BU};function BU(e,t,n){const r=this;let i=0,o,l;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),d}function d(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=lr,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=SU,p):(e.enter("characterReferenceValue"),o=7,l=E_,p(m))}function p(m){if(m===59&&i){const g=e.exit("characterReferenceValue");return l===lr&&!Ew(r.sliceSerialize(g))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(m)&&i++<o?(e.consume(m),p):n(m)}}const ij={partial:!0,tokenize:UU},sj={concrete:!0,name:"codeFenced",tokenize:$U};function $U(e,t,n){const r=this,i={partial:!0,tokenize:A};let o=0,l=0,u;return d;function d(T){return f(T)}function f(T){const M=r.events[r.events.length-1];return o=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,u=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(T)}function p(T){return T===u?(l++,e.consume(T),p):l<3?n(T):(e.exit("codeFencedFenceSequence"),ot(T)?bt(e,m,"whitespace")(T):m(T))}function m(T){return T===null||Ue(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(ij,_,C)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===null||Ue(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(T)):ot(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),bt(e,b,"whitespace")(T)):T===96&&T===u?n(T):(e.consume(T),g)}function b(T){return T===null||Ue(T)?m(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||Ue(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(T)):T===96&&T===u?n(T):(e.consume(T),y)}function _(T){return e.attempt(i,C,w)(T)}function w(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),S}function S(T){return o>0&&ot(T)?bt(e,j,"linePrefix",o+1)(T):j(T)}function j(T){return T===null||Ue(T)?e.check(ij,_,C)(T):(e.enter("codeFlowValue"),N(T))}function N(T){return T===null||Ue(T)?(e.exit("codeFlowValue"),j(T)):(e.consume(T),N)}function C(T){return e.exit("codeFenced"),t(T)}function A(T,M,P){let U=0;return z;function z(F){return T.enter("lineEnding"),T.consume(F),T.exit("lineEnding"),R}function R(F){return T.enter("codeFencedFence"),ot(F)?bt(T,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):q(F)}function q(F){return F===u?(T.enter("codeFencedFenceSequence"),Y(F)):P(F)}function Y(F){return F===u?(U++,T.consume(F),Y):U>=l?(T.exit("codeFencedFenceSequence"),ot(F)?bt(T,L,"whitespace")(F):L(F)):P(F)}function L(F){return F===null||Ue(F)?(T.exit("codeFencedFence"),M(F)):P(F)}}}function UU(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Qg={name:"codeIndented",tokenize:FU},qU={partial:!0,tokenize:HU};function FU(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),bt(e,o,"linePrefix",5)(f)}function o(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Ue(f)?e.attempt(qU,l,d)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||Ue(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function d(f){return e.exit("codeIndented"),t(f)}}function HU(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Ue(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):bt(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Ue(l)?i(l):n(l)}}const GU={name:"codeText",previous:KU,resolve:VU,tokenize:YU};function VU(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function KU(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function YU(e,t,n){let r=0,i,o;return l;function l(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),d):m===96?(o=e.enter("codeTextSequence"),i=0,p(m)):Ue(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Ue(m)?(e.exit("codeTextData"),d(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),i++,p):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(o.type="codeTextData",f(m))}}class WU{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Gc(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Gc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Gc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Gc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Gc(this.left,n.reverse())}}}function Gc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function C3(e){const t={};let n=-1,r,i,o,l,u,d,f;const p=new WU(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,XU(p,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},u=p.slice(i,n),u.unshift(r),p.splice(i,n-i+1,u))}}return Vr(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function XU(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,d=[],f={};let p,m,g=-1,b=n,y=0,_=0;const w=[_];for(;b;){for(;e.get(++i)[1]!==b;);o.push(i),b._tokenizer||(p=r.sliceStream(b),b.next||p.push(null),m&&l.defineSkip(b.start),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(_=g+1,w.push(_),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(l.events=[],b?(b._tokenizer=void 0,b.previous=void 0):w.pop(),g=w.length;g--;){const S=u.slice(w[g],w[g+1]),j=o.pop();d.push([j,j+S.length-1]),e.splice(j,2,S)}for(d.reverse(),g=-1;++g<d.length;)f[y+d[g][0]]=y+d[g][1],y+=d[g][1]-d[g][0]-1;return f}const ZU={resolve:JU,tokenize:eq},QU={partial:!0,tokenize:tq};function JU(e){return C3(e),e}function eq(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):Ue(u)?e.check(QU,l,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function tq(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),bt(e,o,"linePrefix")}function o(l){if(l===null||Ue(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function T3(e,t,n,r,i,o,l,u,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(S){return S===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(S),e.exit(o),g):S===null||S===32||S===41||fh(S)?n(S):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),_(S))}function g(S){return S===62?(e.enter(o),e.consume(S),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===62?(e.exit("chunkString"),e.exit(u),g(S)):S===null||S===60||Ue(S)?n(S):(e.consume(S),S===92?y:b)}function y(S){return S===60||S===62||S===92?(e.consume(S),b):b(S)}function _(S){return!p&&(S===null||S===41||en(S))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(S)):p<f&&S===40?(e.consume(S),p++,_):S===41?(e.consume(S),p--,_):S===null||S===32||S===40||fh(S)?n(S):(e.consume(S),S===92?w:_)}function w(S){return S===40||S===41||S===92?(e.consume(S),_):_(S)}}function A3(e,t,n,r,i,o){const l=this;let u=0,d;return f;function f(b){return e.enter(r),e.enter(i),e.consume(b),e.exit(i),e.enter(o),p}function p(b){return u>999||b===null||b===91||b===93&&!d||b===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(b):b===93?(e.exit(o),e.enter(i),e.consume(b),e.exit(i),e.exit(r),t):Ue(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||Ue(b)||u++>999?(e.exit("chunkString"),p(b)):(e.consume(b),d||(d=!ot(b)),b===92?g:m)}function g(b){return b===91||b===92||b===93?(e.consume(b),u++,m):m(b)}}function M3(e,t,n,r,i,o){let l;return u;function u(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),l=g===40?41:g,d):n(g)}function d(g){return g===l?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(o),f(g))}function f(g){return g===l?(e.exit(o),d(l)):g===null?n(g):Ue(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),bt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===l||g===null||Ue(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?m:p)}function m(g){return g===l||g===92?(e.consume(g),p):p(g)}}function su(e,t){let n;return r;function r(i){return Ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ot(i)?bt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const nq={name:"definition",tokenize:iq},rq={partial:!0,tokenize:sq};function iq(e,t,n){const r=this;let i;return o;function o(b){return e.enter("definition"),l(b)}function l(b){return A3.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function u(b){return i=Ri(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),d):n(b)}function d(b){return en(b)?su(e,f)(b):f(b)}function f(b){return T3(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return e.attempt(rq,m,m)(b)}function m(b){return ot(b)?bt(e,g,"whitespace")(b):g(b)}function g(b){return b===null||Ue(b)?(e.exit("definition"),r.parser.defined.push(i),t(b)):n(b)}}function sq(e,t,n){return r;function r(u){return en(u)?su(e,i)(u):n(u)}function i(u){return M3(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return ot(u)?bt(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Ue(u)?t(u):n(u)}}const aq={name:"hardBreakEscape",tokenize:oq};function oq(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Ue(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const lq={name:"headingAtx",resolve:cq,tokenize:uq};function cq(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Vr(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function uq(e,t,n){let r=0;return i;function i(p){return e.enter("atxHeading"),o(p)}function o(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||en(p)?(e.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(e.enter("atxHeadingSequence"),d(p)):p===null||Ue(p)?(e.exit("atxHeading"),t(p)):ot(p)?bt(e,u,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function d(p){return p===35?(e.consume(p),d):(e.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||en(p)?(e.exit("atxHeadingText"),u(p)):(e.consume(p),f)}}const dq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aj=["pre","script","style","textarea"],fq={concrete:!0,name:"htmlFlow",resolveTo:mq,tokenize:gq},hq={partial:!0,tokenize:bq},pq={partial:!0,tokenize:xq};function mq(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function gq(e,t,n){const r=this;let i,o,l,u,d;return f;function f(I){return p(I)}function p(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),m}function m(I){return I===33?(e.consume(I),g):I===47?(e.consume(I),o=!0,_):I===63?(e.consume(I),i=3,r.interrupt?t:D):gr(I)?(e.consume(I),l=String.fromCharCode(I),w):n(I)}function g(I){return I===45?(e.consume(I),i=2,b):I===91?(e.consume(I),i=5,u=0,y):gr(I)?(e.consume(I),i=4,r.interrupt?t:D):n(I)}function b(I){return I===45?(e.consume(I),r.interrupt?t:D):n(I)}function y(I){const V="CDATA[";return I===V.charCodeAt(u++)?(e.consume(I),u===V.length?r.interrupt?t:q:y):n(I)}function _(I){return gr(I)?(e.consume(I),l=String.fromCharCode(I),w):n(I)}function w(I){if(I===null||I===47||I===62||en(I)){const V=I===47,Z=l.toLowerCase();return!V&&!o&&aj.includes(Z)?(i=1,r.interrupt?t(I):q(I)):dq.includes(l.toLowerCase())?(i=6,V?(e.consume(I),S):r.interrupt?t(I):q(I)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):o?j(I):N(I))}return I===45||lr(I)?(e.consume(I),l+=String.fromCharCode(I),w):n(I)}function S(I){return I===62?(e.consume(I),r.interrupt?t:q):n(I)}function j(I){return ot(I)?(e.consume(I),j):z(I)}function N(I){return I===47?(e.consume(I),z):I===58||I===95||gr(I)?(e.consume(I),C):ot(I)?(e.consume(I),N):z(I)}function C(I){return I===45||I===46||I===58||I===95||lr(I)?(e.consume(I),C):A(I)}function A(I){return I===61?(e.consume(I),T):ot(I)?(e.consume(I),A):N(I)}function T(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),d=I,M):ot(I)?(e.consume(I),T):P(I)}function M(I){return I===d?(e.consume(I),d=null,U):I===null||Ue(I)?n(I):(e.consume(I),M)}function P(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||en(I)?A(I):(e.consume(I),P)}function U(I){return I===47||I===62||ot(I)?N(I):n(I)}function z(I){return I===62?(e.consume(I),R):n(I)}function R(I){return I===null||Ue(I)?q(I):ot(I)?(e.consume(I),R):n(I)}function q(I){return I===45&&i===2?(e.consume(I),B):I===60&&i===1?(e.consume(I),X):I===62&&i===4?(e.consume(I),$):I===63&&i===3?(e.consume(I),D):I===93&&i===5?(e.consume(I),K):Ue(I)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(hq,H,Y)(I)):I===null||Ue(I)?(e.exit("htmlFlowData"),Y(I)):(e.consume(I),q)}function Y(I){return e.check(pq,L,H)(I)}function L(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),F}function F(I){return I===null||Ue(I)?Y(I):(e.enter("htmlFlowData"),q(I))}function B(I){return I===45?(e.consume(I),D):q(I)}function X(I){return I===47?(e.consume(I),l="",W):q(I)}function W(I){if(I===62){const V=l.toLowerCase();return aj.includes(V)?(e.consume(I),$):q(I)}return gr(I)&&l.length<8?(e.consume(I),l+=String.fromCharCode(I),W):q(I)}function K(I){return I===93?(e.consume(I),D):q(I)}function D(I){return I===62?(e.consume(I),$):I===45&&i===2?(e.consume(I),D):q(I)}function $(I){return I===null||Ue(I)?(e.exit("htmlFlowData"),H(I)):(e.consume(I),$)}function H(I){return e.exit("htmlFlow"),t(I)}}function xq(e,t,n){const r=this;return i;function i(l){return Ue(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function bq(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Pu,t,n)}}const yq={name:"htmlText",tokenize:vq};function vq(e,t,n){const r=this;let i,o,l;return u;function u(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),d}function d(D){return D===33?(e.consume(D),f):D===47?(e.consume(D),A):D===63?(e.consume(D),N):gr(D)?(e.consume(D),P):n(D)}function f(D){return D===45?(e.consume(D),p):D===91?(e.consume(D),o=0,y):gr(D)?(e.consume(D),j):n(D)}function p(D){return D===45?(e.consume(D),b):n(D)}function m(D){return D===null?n(D):D===45?(e.consume(D),g):Ue(D)?(l=m,X(D)):(e.consume(D),m)}function g(D){return D===45?(e.consume(D),b):m(D)}function b(D){return D===62?B(D):D===45?g(D):m(D)}function y(D){const $="CDATA[";return D===$.charCodeAt(o++)?(e.consume(D),o===$.length?_:y):n(D)}function _(D){return D===null?n(D):D===93?(e.consume(D),w):Ue(D)?(l=_,X(D)):(e.consume(D),_)}function w(D){return D===93?(e.consume(D),S):_(D)}function S(D){return D===62?B(D):D===93?(e.consume(D),S):_(D)}function j(D){return D===null||D===62?B(D):Ue(D)?(l=j,X(D)):(e.consume(D),j)}function N(D){return D===null?n(D):D===63?(e.consume(D),C):Ue(D)?(l=N,X(D)):(e.consume(D),N)}function C(D){return D===62?B(D):N(D)}function A(D){return gr(D)?(e.consume(D),T):n(D)}function T(D){return D===45||lr(D)?(e.consume(D),T):M(D)}function M(D){return Ue(D)?(l=M,X(D)):ot(D)?(e.consume(D),M):B(D)}function P(D){return D===45||lr(D)?(e.consume(D),P):D===47||D===62||en(D)?U(D):n(D)}function U(D){return D===47?(e.consume(D),B):D===58||D===95||gr(D)?(e.consume(D),z):Ue(D)?(l=U,X(D)):ot(D)?(e.consume(D),U):B(D)}function z(D){return D===45||D===46||D===58||D===95||lr(D)?(e.consume(D),z):R(D)}function R(D){return D===61?(e.consume(D),q):Ue(D)?(l=R,X(D)):ot(D)?(e.consume(D),R):U(D)}function q(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),i=D,Y):Ue(D)?(l=q,X(D)):ot(D)?(e.consume(D),q):(e.consume(D),L)}function Y(D){return D===i?(e.consume(D),i=void 0,F):D===null?n(D):Ue(D)?(l=Y,X(D)):(e.consume(D),Y)}function L(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||en(D)?U(D):(e.consume(D),L)}function F(D){return D===47||D===62||en(D)?U(D):n(D)}function B(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):n(D)}function X(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),W}function W(D){return ot(D)?bt(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):K(D)}function K(D){return e.enter("htmlTextData"),l(D)}}const kw={name:"labelEnd",resolveAll:Nq,resolveTo:Eq,tokenize:kq},_q={tokenize:jq},wq={tokenize:Cq},Sq={tokenize:Tq};function Nq(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Vr(e,0,e.length,n),e}function Eq(e,t){let n=e.length,r=0,i,o,l,u;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const d={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",d,t],["enter",f,t]],u=oi(u,e.slice(o+1,o+r+3)),u=oi(u,[["enter",p,t]]),u=oi(u,Hh(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=oi(u,[["exit",p,t],e[l-2],e[l-1],["exit",f,t]]),u=oi(u,e.slice(l+1)),u=oi(u,[["exit",d,t]]),Vr(e,o,e.length,u),e}function kq(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(g){return o?o._inactive?m(g):(l=r.parser.defined.includes(Ri(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),d):n(g)}function d(g){return g===40?e.attempt(_q,p,l?p:m)(g):g===91?e.attempt(wq,p,l?f:m)(g):l?p(g):m(g)}function f(g){return e.attempt(Sq,p,m)(g)}function p(g){return t(g)}function m(g){return o._balanced=!0,n(g)}}function jq(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return en(m)?su(e,o)(m):o(m)}function o(m){return m===41?p(m):T3(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return en(m)?su(e,d)(m):p(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?M3(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return en(m)?su(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function Cq(e,t,n){const r=this;return i;function i(u){return A3.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(Ri(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function Tq(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const Aq={name:"labelStartImage",resolveAll:kw.resolveAll,tokenize:Mq};function Mq(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const Rq={name:"labelStartLink",resolveAll:kw.resolveAll,tokenize:Oq};function Oq(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Jg={name:"lineEnding",tokenize:Dq};function Dq(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),bt(e,t,"linePrefix")}}const Qf={name:"thematicBreak",tokenize:Lq};function Lq(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Ue(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===i?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),ot(f)?bt(e,u,"whitespace")(f):u(f))}}const Cr={continuation:{tokenize:Bq},exit:Uq,name:"list",tokenize:Pq},Iq={partial:!0,tokenize:qq},zq={partial:!0,tokenize:$q};function Pq(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(b){const y=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:E_(b)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(Qf,n,f)(b):f(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(b)}return n(b)}function d(b){return E_(b)&&++l<10?(e.consume(b),d):(!r.interrupt||l<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),f(b)):n(b)}function f(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(Pu,r.interrupt?n:p,e.attempt(Iq,g,m))}function p(b){return r.containerState.initialBlankLine=!0,o++,g(b)}function m(b){return ot(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),g):n(b)}function g(b){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function Bq(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Pu,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,bt(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!ot(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(zq,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,bt(e,e.attempt(Cr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function $q(e,t,n){const r=this;return bt(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function Uq(e){e.exit(this.containerState.type)}function qq(e,t,n){const r=this;return bt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!ot(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const oj={name:"setextUnderline",resolveTo:Fq,tokenize:Hq};function Fq(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function Hq(e,t,n){const r=this;let i;return o;function o(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),ot(f)?bt(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ue(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const Gq={tokenize:Vq};function Vq(e){const t=this,n=e.attempt(Pu,r,e.attempt(this.parser.constructs.flowInitial,i,bt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(ZU,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Kq={resolveAll:O3()},Yq=R3("string"),Wq=R3("text");function R3(e){return{resolveAll:O3(e==="text"?Xq:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,u);return l;function l(p){return f(p)?o(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),o(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const m=i[p];let g=-1;if(m)for(;++g<m.length;){const b=m[g];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function O3(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function Xq(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,u=0,d;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)d=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const Zq={42:Cr,43:Cr,45:Cr,48:Cr,49:Cr,50:Cr,51:Cr,52:Cr,53:Cr,54:Cr,55:Cr,56:Cr,57:Cr,62:E3},Qq={91:nq},Jq={[-2]:Qg,[-1]:Qg,32:Qg},e7={35:lq,42:Qf,45:[oj,Qf],60:fq,61:oj,95:Qf,96:sj,126:sj},t7={38:j3,92:k3},n7={[-5]:Jg,[-4]:Jg,[-3]:Jg,33:Aq,38:j3,42:k_,60:[RU,yq],91:Rq,92:[aq,k3],93:kw,95:k_,96:GU},r7={null:[k_,Kq]},i7={null:[42,95]},s7={null:[]},a7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:i7,contentInitial:Qq,disable:s7,document:Zq,flow:e7,flowInitial:Jq,insideSpan:r7,string:t7,text:n7},Symbol.toStringTag,{value:"Module"}));function o7(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const d={attempt:M(A),check:M(T),consume:j,enter:N,exit:C,interrupt:M(T,{interrupt:!0})},f={code:null,containerState:{},defineSkip:_,events:[],now:y,parser:e,previous:null,sliceSerialize:g,sliceStream:b,write:m};let p=t.tokenize.call(f,d);return t.resolveAll&&o.push(t),f;function m(R){return l=oi(l,R),w(),l[l.length-1]!==null?[]:(P(t,0),f.events=Hh(o,f.events,f),f.events)}function g(R,q){return c7(b(R),q)}function b(R){return l7(l,R)}function y(){const{_bufferIndex:R,_index:q,line:Y,column:L,offset:F}=r;return{_bufferIndex:R,_index:q,line:Y,column:L,offset:F}}function _(R){i[R.line]=R.column,z()}function w(){let R;for(;r._index<l.length;){const q=l[r._index];if(typeof q=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<q.length;)S(q.charCodeAt(r._bufferIndex));else S(q)}}function S(R){p=p(R)}function j(R){Ue(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,z()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=R}function N(R,q){const Y=q||{};return Y.type=R,Y.start=y(),f.events.push(["enter",Y,f]),u.push(Y),Y}function C(R){const q=u.pop();return q.end=y(),f.events.push(["exit",q,f]),q}function A(R,q){P(R,q.from)}function T(R,q){q.restore()}function M(R,q){return Y;function Y(L,F,B){let X,W,K,D;return Array.isArray(L)?H(L):"tokenize"in L?H([L]):$(L);function $(Q){return ae;function ae(te){const ne=te!==null&&Q[te],de=te!==null&&Q.null,ge=[...Array.isArray(ne)?ne:ne?[ne]:[],...Array.isArray(de)?de:de?[de]:[]];return H(ge)(te)}}function H(Q){return X=Q,W=0,Q.length===0?B:I(Q[W])}function I(Q){return ae;function ae(te){return D=U(),K=Q,Q.partial||(f.currentConstruct=Q),Q.name&&f.parser.constructs.disable.null.includes(Q.name)?Z():Q.tokenize.call(q?Object.assign(Object.create(f),q):f,d,V,Z)(te)}}function V(Q){return R(K,D),F}function Z(Q){return D.restore(),++W<X.length?I(X[W]):B}}}function P(R,q){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&Vr(f.events,q,f.events.length-q,R.resolve(f.events.slice(q),f)),R.resolveTo&&(f.events=R.resolveTo(f.events,f))}function U(){const R=y(),q=f.previous,Y=f.currentConstruct,L=f.events.length,F=Array.from(u);return{from:L,restore:B};function B(){r=R,f.previous=q,f.currentConstruct=Y,f.events.length=L,u=F,z()}}function z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function l7(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function c7(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function u7(e){const r={constructs:S3([a7,...(e||{}).extensions||[]]),content:i(EU),defined:[],document:i(jU),flow:i(Gq),lazy:{},string:i(Yq),text:i(Wq)};return r;function i(o){return l;function l(u){return o7(r,o,u)}}}function d7(e){for(;!C3(e););return e}const lj=/[\0\t\n\r]/g;function f7(){let e=1,t="",n=!0,r;return i;function i(o,l,u){const d=[];let f,p,m,g,b;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,t="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(lj.lastIndex=m,f=lj.exec(o),g=f&&f.index!==void 0?f.index:o.length,b=o.charCodeAt(g),!f){t=o.slice(m);break}if(b===10&&m===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<g&&(d.push(o.slice(m,g)),e+=g-m),b){case 0:{d.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,d.push(-2);e++<p;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}m=g+1}return u&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const h7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function p7(e){return e.replace(h7,m7)}function m7(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return N3(n.slice(o?2:1),o?16:10)}return Ew(n)||e}const D3={}.hasOwnProperty;function g7(e,t,n){return typeof t!="string"&&(n=t,t=void 0),x7(n)(d7(u7(n).document().write(f7()(e,t,!0))))}function x7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(it),autolinkProtocol:U,autolinkEmail:U,atxHeading:o(we),blockQuote:o(de),characterEscape:U,characterReference:U,codeFenced:o(ge),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(ge,l),codeText:o(re,l),codeTextData:U,data:U,codeFlowValue:U,definition:o(ue),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(_e),hardBreakEscape:o(be),hardBreakTrailing:o(be),htmlFlow:o(je,l),htmlFlowData:U,htmlText:o(je,l),htmlTextData:U,image:o(qe),label:l,link:o(it),listItem:o(mn),listItemValue:g,listOrdered:o(Ht,m),listUnordered:o(Ht),paragraph:o(rn),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(we),strong:o(Dt),thematicBreak:o(Gn)},exit:{atxHeading:d(),atxHeadingSequence:A,autolink:d(),autolinkEmail:ne,autolinkProtocol:te,blockQuote:d(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:Q,characterReference:ae,codeFenced:d(w),codeFencedFence:_,codeFencedFenceInfo:b,codeFencedFenceMeta:y,codeFlowValue:z,codeIndented:d(S),codeText:d(F),codeTextData:z,data:z,definition:d(),definitionDestinationString:C,definitionLabelString:j,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(q),hardBreakTrailing:d(q),htmlFlow:d(Y),htmlFlowData:z,htmlText:d(L),htmlTextData:z,image:d(X),label:K,labelText:W,lineEnding:R,link:d(B),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:D,resourceTitleString:$,resource:H,setextHeading:d(P),setextHeadingLineSequence:M,setextHeadingText:T,strong:d(),thematicBreak:d()}};L3(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(he){let Se={type:"root",children:[]};const Re={stack:[Se],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:p,data:n},He=[];let We=-1;for(;++We<he.length;)if(he[We][1].type==="listOrdered"||he[We][1].type==="listUnordered")if(he[We][0]==="enter")He.push(We);else{const Gt=He.pop();We=i(he,Gt,We)}for(We=-1;++We<he.length;){const Gt=t[he[We][0]];D3.call(Gt,he[We][1].type)&&Gt[he[We][1].type].call(Object.assign({sliceSerialize:he[We][2].sliceSerialize},Re),he[We][1])}if(Re.tokenStack.length>0){const Gt=Re.tokenStack[Re.tokenStack.length-1];(Gt[1]||cj).call(Re,void 0,Gt[0])}for(Se.position={start:ha(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:ha(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<t.transforms.length;)Se=t.transforms[We](Se)||Se;return Se}function i(he,Se,Re){let He=Se-1,We=-1,Gt=!1,qn,Lt,mt,vn;for(;++He<=Re;){const gt=he[He];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?We++:We--,vn=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(qn&&!vn&&!We&&!mt&&(mt=He),vn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vn=void 0}if(!We&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||We===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(qn){let yr=He;for(Lt=void 0;yr--;){const Rn=he[yr];if(Rn[1].type==="lineEnding"||Rn[1].type==="lineEndingBlank"){if(Rn[0]==="exit")continue;Lt&&(he[Lt][1].type="lineEndingBlank",Gt=!0),Rn[1].type="lineEnding",Lt=yr}else if(!(Rn[1].type==="linePrefix"||Rn[1].type==="blockQuotePrefix"||Rn[1].type==="blockQuotePrefixWhitespace"||Rn[1].type==="blockQuoteMarker"||Rn[1].type==="listItemIndent"))break}mt&&(!Lt||mt<Lt)&&(qn._spread=!0),qn.end=Object.assign({},Lt?he[Lt][1].start:gt[1].end),he.splice(Lt||He,0,["exit",qn,gt[2]]),He++,Re++}if(gt[1].type==="listItemPrefix"){const yr={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};qn=yr,he.splice(He,0,["enter",yr,gt[2]]),He++,Re++,mt=void 0,vn=!0}}}return he[Se][1]._spread=Gt,Re}function o(he,Se){return Re;function Re(He){u.call(this,he(He),He),Se&&Se.call(this,He)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(he,Se,Re){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Se,Re||void 0]),he.position={start:ha(Se.start),end:void 0}}function d(he){return Se;function Se(Re){he&&he.call(this,Re),f.call(this,Re)}}function f(he,Se){const Re=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==he.type&&(Se?Se.call(this,he,He[0]):(He[1]||cj).call(this,he,He[0]));else throw new Error("Cannot close `"+he.type+"` ("+iu({start:he.start,end:he.end})+"): its not open");Re.position.end=ha(he.end)}function p(){return Nw(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(he){if(this.data.expectingFirstListItemValue){const Se=this.stack[this.stack.length-2];Se.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function b(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.lang=he}function y(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.meta=he}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he.replace(/(\r?\n|\r)$/g,"")}function j(he){const Se=this.resume(),Re=this.stack[this.stack.length-1];Re.label=Se,Re.identifier=Ri(this.sliceSerialize(he)).toLowerCase()}function N(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.title=he}function C(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.url=he}function A(he){const Se=this.stack[this.stack.length-1];if(!Se.depth){const Re=this.sliceSerialize(he).length;Se.depth=Re}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function M(he){const Se=this.stack[this.stack.length-1];Se.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function U(he){const Re=this.stack[this.stack.length-1].children;let He=Re[Re.length-1];(!He||He.type!=="text")&&(He=ht(),He.position={start:ha(he.start),end:void 0},Re.push(He)),this.stack.push(He)}function z(he){const Se=this.stack.pop();Se.value+=this.sliceSerialize(he),Se.position.end=ha(he.end)}function R(he){const Se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=Se.children[Se.children.length-1];Re.position.end=ha(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Se.type)&&(U.call(this,he),z.call(this,he))}function q(){this.data.atHardBreak=!0}function Y(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function L(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function F(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function B(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Se=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Se,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function X(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Se=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Se,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function W(he){const Se=this.sliceSerialize(he),Re=this.stack[this.stack.length-2];Re.label=p7(Se),Re.identifier=Ri(Se).toLowerCase()}function K(){const he=this.stack[this.stack.length-1],Se=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const He=he.children;Re.children=He}else Re.alt=Se}function D(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.url=he}function $(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.title=he}function H(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function V(he){const Se=this.resume(),Re=this.stack[this.stack.length-1];Re.label=Se,Re.identifier=Ri(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function Z(he){this.data.characterReferenceType=he.type}function Q(he){const Se=this.sliceSerialize(he),Re=this.data.characterReferenceType;let He;Re?(He=N3(Se,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=Ew(Se);const We=this.stack[this.stack.length-1];We.value+=He}function ae(he){const Se=this.stack.pop();Se.position.end=ha(he.end)}function te(he){z.call(this,he);const Se=this.stack[this.stack.length-1];Se.url=this.sliceSerialize(he)}function ne(he){z.call(this,he);const Se=this.stack[this.stack.length-1];Se.url="mailto:"+this.sliceSerialize(he)}function de(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _e(){return{type:"emphasis",children:[]}}function we(){return{type:"heading",depth:0,children:[]}}function be(){return{type:"break"}}function je(){return{type:"html",value:""}}function qe(){return{type:"image",title:null,url:"",alt:null}}function it(){return{type:"link",title:null,url:"",children:[]}}function Ht(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function mn(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function rn(){return{type:"paragraph",children:[]}}function Dt(){return{type:"strong",children:[]}}function ht(){return{type:"text",value:""}}function Gn(){return{type:"thematicBreak"}}}function ha(e){return{line:e.line,column:e.column,offset:e.offset}}function L3(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?L3(e,r):b7(e,r)}}function b7(e,t){let n;for(n in t)if(D3.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function cj(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+iu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+iu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+iu({start:t.start,end:t.end})+") is still open")}function y7(e){const t=this;t.parser=n;function n(r){return g7(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function v7(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function _7(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function w7(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function S7(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function N7(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function E7(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Dl(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function k7(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function j7(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function I3(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function C7(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return I3(e,t);const i={src:Dl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function T7(e,t){const n={src:Dl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function A7(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function M7(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return I3(e,t);const i={href:Dl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function R7(e,t){const n={href:Dl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function O7(e,t,n){const r=e.all(t),i=n?D7(n):z3(t),o={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(i||u!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?l.push(...p.children):l.push(p)}const d=r[r.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function D7(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=z3(n[r])}return t}function z3(e){const t=e.spread;return t??e.children.length>1}function L7(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function I7(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function z7(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function P7(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function B7(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=vw(t.children[1]),d=g3(t.children[t.children.length-1]);u&&d&&(l.position={start:u,end:d}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function $7(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<u;){const m=t.children[d],g={},b=l?l[d]:void 0;b&&(g.align=b);let y={type:"element",tagName:o,properties:g,children:[]};m&&(y.children=e.all(m),e.patch(m,y),y=e.applyData(m,y)),f.push(y)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function U7(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const uj=9,dj=32;function q7(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(fj(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(fj(t.slice(i),i>0,!1)),o.join("")}function fj(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===uj||o===dj;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===uj||o===dj;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function F7(e,t){const n={type:"text",value:q7(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function H7(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const G7={blockquote:v7,break:_7,code:w7,delete:S7,emphasis:N7,footnoteReference:E7,heading:k7,html:j7,imageReference:C7,image:T7,inlineCode:A7,linkReference:M7,link:R7,listItem:O7,list:L7,paragraph:I7,root:z7,strong:P7,table:B7,tableCell:U7,tableRow:$7,text:F7,thematicBreak:H7,toml:_f,yaml:_f,definition:_f,footnoteDefinition:_f};function _f(){}const P3=-1,Gh=0,au=1,hh=2,jw=3,Cw=4,Tw=5,Aw=6,B3=7,$3=8,hj=typeof self=="object"?self:globalThis,V7=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case Gh:case P3:return n(l,i);case au:{const u=n([],i);for(const d of l)u.push(r(d));return u}case hh:{const u=n({},i);for(const[d,f]of l)u[r(d)]=r(f);return u}case jw:return n(new Date(l),i);case Cw:{const{source:u,flags:d}=l;return n(new RegExp(u,d),i)}case Tw:{const u=n(new Map,i);for(const[d,f]of l)u.set(r(d),r(f));return u}case Aw:{const u=n(new Set,i);for(const d of l)u.add(r(d));return u}case B3:{const{name:u,message:d}=l;return n(new hj[u](d),i)}case $3:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new hj[o](l),i)};return r},pj=e=>V7(new Map,e)(0),Zo="",{toString:K7}={},{keys:Y7}=Object,Vc=e=>{const t=typeof e;if(t!=="object"||!e)return[Gh,t];const n=K7.call(e).slice(8,-1);switch(n){case"Array":return[au,Zo];case"Object":return[hh,Zo];case"Date":return[jw,Zo];case"RegExp":return[Cw,Zo];case"Map":return[Tw,Zo];case"Set":return[Aw,Zo];case"DataView":return[au,n]}return n.includes("Array")?[au,n]:n.includes("Error")?[B3,n]:[hh,n]},wf=([e,t])=>e===Gh&&(t==="function"||t==="symbol"),W7=(e,t,n,r)=>{const i=(l,u)=>{const d=r.push(l)-1;return n.set(u,d),d},o=l=>{if(n.has(l))return n.get(l);let[u,d]=Vc(l);switch(u){case Gh:{let p=l;switch(d){case"bigint":u=$3,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return i([P3],l)}return i([u,p],l)}case au:{if(d){let g=l;return d==="DataView"?g=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(l)),i([d,[...g]],l)}const p=[],m=i([u,p],l);for(const g of l)p.push(o(g));return m}case hh:{if(d)switch(d){case"BigInt":return i([d,l.toString()],l);case"Boolean":case"Number":case"String":return i([d,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const p=[],m=i([u,p],l);for(const g of Y7(l))(e||!wf(Vc(l[g])))&&p.push([o(g),o(l[g])]);return m}case jw:return i([u,l.toISOString()],l);case Cw:{const{source:p,flags:m}=l;return i([u,{source:p,flags:m}],l)}case Tw:{const p=[],m=i([u,p],l);for(const[g,b]of l)(e||!(wf(Vc(g))||wf(Vc(b))))&&p.push([o(g),o(b)]);return m}case Aw:{const p=[],m=i([u,p],l);for(const g of l)(e||!wf(Vc(g)))&&p.push(o(g));return m}}const{message:f}=l;return i([u,{name:d,message:f}],l)};return o},mj=(e,{json:t,lossy:n}={})=>{const r=[];return W7(!(t||n),!!t,new Map,r)(e),r},ph=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?pj(mj(e,t)):structuredClone(e):(e,t)=>pj(mj(e,t));function X7(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Z7(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Q7(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||X7,r=e.options.footnoteBackLabel||Z7,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),g=Dl(m.toLowerCase());let b=0;const y=[],_=e.footnoteCounts.get(m);for(;_!==void 0&&++b<=_;){y.length>0&&y.push({type:"text",value:" "});let j=typeof n=="string"?n:n(d,b);typeof j=="string"&&(j={type:"text",value:j}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,b),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const w=p[p.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const j=w.children[w.children.length-1];j&&j.type==="text"?j.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...y)}else p.push(...y);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(p,!0)};e.patch(f,S),u.push(S)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ph(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Bu=(function(e){if(e==null)return nF;if(typeof e=="function")return Vh(e);if(typeof e=="object")return Array.isArray(e)?J7(e):eF(e);if(typeof e=="string")return tF(e);throw new Error("Expected function, string, or object as test")});function J7(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Bu(e[n]);return Vh(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function eF(e){const t=e;return Vh(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function tF(e){return Vh(t);function t(n){return n&&n.type===e}}function Vh(e){return t;function t(n,r,i){return!!(rF(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function nF(){return!0}function rF(e){return e!==null&&typeof e=="object"&&"type"in e}const U3=[],iF=!0,j_=!1,sF="skip";function q3(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Bu(i),l=r?-1:1;u(e,void 0,[])();function u(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=U3,y,_,w;if((!t||o(d,f,p[p.length-1]||void 0))&&(b=aF(n(d,p)),b[0]===j_))return b;if("children"in d&&d.children){const S=d;if(S.children&&b[0]!==sF)for(_=(r?S.children.length:-1)+l,w=p.concat(S);_>-1&&_<S.children.length;){const j=S.children[_];if(y=u(j,_,w)(),y[0]===j_)return y;_=typeof y[1]=="number"?y[1]:_+l}}return b}}}function aF(e){return Array.isArray(e)?e:typeof e=="number"?[iF,e]:e==null?U3:[e]}function Kh(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),q3(e,o,u,i);function u(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return l(d,m,p)}}const C_={}.hasOwnProperty,oF={};function lF(e,t){const n=t||oF,r=new Map,i=new Map,o=new Map,l={...G7,...n.handlers},u={all:f,applyData:uF,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:d,options:n,patch:cF,wrap:fF};return Kh(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:i,g=String(p.identifier).toUpperCase();m.has(g)||m.set(g,p)}}),u;function d(p,m){const g=p.type,b=u.handlers[g];if(C_.call(u.handlers,g)&&b)return b(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in p){const{children:_,...w}=p,S=ph(w);return S.children=u.all(p),S}return ph(p)}return(u.options.unknownHandler||dF)(u,p,m)}function f(p){const m=[];if("children"in p){const g=p.children;let b=-1;for(;++b<g.length;){const y=u.one(g[b],p);if(y){if(b&&g[b-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=gj(y.value)),!Array.isArray(y)&&y.type==="element")){const _=y.children[0];_&&_.type==="text"&&(_.value=gj(_.value))}Array.isArray(y)?m.push(...y):m.push(y)}}}return m}}function cF(e,t){e.position&&(t.position=Z$(e))}function uF(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,ph(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function dF(e,t){const n=t.data||{},r="value"in t&&!(C_.call(n,"hProperties")||C_.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fF(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function gj(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function xj(e,t){const n=lF(e,t),r=n.one(e,void 0),i=Q7(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function hF(e,t){return e&&"run"in e?async function(n,r){const i=xj(n,{file:r,...t});await e.run(i,r)}:function(n,r){return xj(n,{file:r,...e||t})}}function bj(e){if(e)throw e}var e0,yj;function pF(){if(yj)return e0;yj=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},l=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return e0=function d(){var f,p,m,g,b,y,_=arguments[0],w=1,S=arguments.length,j=!1;for(typeof _=="boolean"&&(j=_,_=arguments[1]||{},w=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});w<S;++w)if(f=arguments[w],f!=null)for(p in f)m=u(_,p),g=u(f,p),_!==g&&(j&&g&&(o(g)||(b=i(g)))?(b?(b=!1,y=m&&i(m)?m:[]):y=m&&o(m)?m:{},l(_,{name:p,newValue:d(j,y,g)})):typeof g<"u"&&l(_,{name:p,newValue:g}));return _},e0}var mF=pF();const t0=yl(mF);function T_(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function gF(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(d,...f){const p=e[++o];let m=-1;if(d){l(d);return}for(;++m<i.length;)(f[m]===null||f[m]===void 0)&&(f[m]=i[m]);i=f,p?xF(p,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function xF(e,t){let n;return r;function r(...l){const u=e.length>l.length;let d;u&&l.push(i);try{d=e.apply(this,l)}catch(f){const p=f;if(u&&n)throw p;return i(p)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,i):d instanceof Error?i(d):o(d))}function i(l,...u){n||(n=!0,t(l,...u))}function o(l){i(null,l)}}const Vi={basename:bF,dirname:yF,extname:vF,join:_F,sep:"/"};function bF(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$u(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function yF(e){if($u(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function vF(e){$u(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function _F(...e){let t=-1,n;for(;++t<e.length;)$u(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":wF(n)}function wF(e){$u(e);const t=e.codePointAt(0)===47;let n=SF(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function SF(e,t){let n="",r=0,i=-1,o=0,l=-1,u,d;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function $u(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const NF={cwd:EF};function EF(){return"/"}function A_(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function kF(e){if(typeof e=="string")e=new URL(e);else if(!A_(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return jF(e)}function jF(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const n0=["history","path","basename","stem","extname","dirname"];class F3{constructor(t){let n;t?A_(t)?n={path:t}:typeof t=="string"||CF(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":NF.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<n0.length;){const o=n0[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)n0.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Vi.basename(this.path):void 0}set basename(t){i0(t,"basename"),r0(t,"basename"),this.path=Vi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Vi.dirname(this.path):void 0}set dirname(t){vj(this.basename,"dirname"),this.path=Vi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Vi.extname(this.path):void 0}set extname(t){if(r0(t,"extname"),vj(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Vi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){A_(t)&&(t=kF(t)),i0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Vi.basename(this.path,this.extname):void 0}set stem(t){i0(t,"stem"),r0(t,"stem"),this.path=Vi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new dr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function r0(e,t){if(e&&e.includes(Vi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Vi.sep+"`")}function i0(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function vj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function CF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const TF=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),AF={}.hasOwnProperty;class Mw extends TF{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=gF()}copy(){const t=new Mw;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(t0(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(o0("data",this.frozen),this.namespace[t]=n,this):AF.call(this.namespace,t)&&this.namespace[t]||void 0:t?(o0("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Sf(t),r=this.parser||this.Parser;return s0("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),s0("process",this.parser||this.Parser),a0("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=Sf(t),d=r.parse(u);r.run(d,u,function(p,m,g){if(p||!m||!g)return f(p);const b=m,y=r.stringify(b,g);OF(y)?g.value=y:g.result=y,f(p,g)});function f(p,m){p||!m?l(p):o?o(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),s0("processSync",this.parser||this.Parser),a0("processSync",this.compiler||this.Compiler),this.process(t,i),wj("processSync","process",n),r;function i(o,l){n=!0,bj(o),r=l}}run(t,n,r){_j(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const d=Sf(n);i.run(t,d,f);function f(p,m,g){const b=m||t;p?u(p):l?l(b):r(void 0,b,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),wj("runSync","run",r),i;function o(l,u){bj(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=Sf(n),i=this.compiler||this.Compiler;return a0("stringify",i),_j(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(o0("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=t0(!0,i.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,g=-1;for(;++m<r.length;)if(r[m][0]===f){g=m;break}if(g===-1)r.push([f,...p]);else if(p.length>0){let[b,...y]=p;const _=r[g][1];T_(_)&&T_(b)&&(b=t0(!0,_,b)),r[g]=[f,b,...y]}}}}const MF=new Mw().freeze();function s0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function a0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function o0(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _j(e){if(!T_(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function wj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Sf(e){return RF(e)?e:new F3(e)}function RF(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function OF(e){return typeof e=="string"||DF(e)}function DF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const LF="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Sj=[],Nj={allowDangerousHtml:!0},IF=/^(https?|ircs?|mailto|xmpp)$/i,zF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H3(e){const t=PF(e),n=BF(e);return $F(t.runSync(t.parse(n),n),e)}function PF(e){const t=e.rehypePlugins||Sj,n=e.remarkPlugins||Sj,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Nj}:Nj;return MF().use(y7).use(n).use(hF,r).use(t)}function BF(e){const t=e.children||"",n=new F3;return typeof t=="string"&&(n.value=t),n}function $F(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,d=t.urlTransform||UF;for(const p of zF)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+LF+p.id,void 0);return Kh(e,f),nU(e,{Fragment:a.Fragment,components:i,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function f(p,m,g){if(p.type==="raw"&&g&&typeof m=="number")return l?g.children.splice(m,1):g.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let b;for(b in Zg)if(Object.hasOwn(Zg,b)&&Object.hasOwn(p.properties,b)){const y=p.properties[b],_=Zg[b];(_===null||_.includes(p.tagName))&&(p.properties[b]=d(String(y||""),b,p))}}if(p.type==="element"){let b=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!b&&r&&typeof m=="number"&&(b=!r(p,m,g)),b&&g&&typeof m=="number")return u&&p.children?g.children.splice(m,1,...p.children):g.children.splice(m,1),m}}}function UF(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||IF.test(e.slice(0,t))?e:""}function qF({content:e,maxHeight:t=120,className:n}){const[r,i]=E.useState(!1),[o,l]=E.useState(!1),u=f=>{f&&l(f.scrollHeight>t)},d=!r&&o;return a.jsxs("div",{className:n,children:[a.jsx("div",{ref:u,style:d?{maxHeight:t,overflow:"hidden",maskImage:"linear-gradient(to bottom, black 40%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, black 40%, transparent 100%)"}:void 0,children:a.jsx("div",{className:"prose prose-invert prose-sm max-w-none break-words overflow-x-auto",children:a.jsx(H3,{children:e})})}),o&&a.jsxs("button",{onClick:()=>i(!r),className:"mt-1.5 ml-auto text-xs text-gray-400 hover:text-indigo-400 transition-colors flex items-center gap-1",children:[a.jsx("svg",{className:`w-3 h-3 transition-transform duration-200 ${r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),r?"Show less":"Show more"]})]})}function mi({open:e,onClose:t,onConfirm:n,title:r,description:i,confirmLabel:o="Delete",cancelLabel:l="Cancel",variant:u="danger",progress:d}){const[f,p]=E.useState(!1),m=E.useRef(null);if(E.useEffect(()=>{var _;e&&((_=m.current)==null||_.focus())},[e]),E.useEffect(()=>{if(!e)return;const _=w=>{w.key==="Escape"&&!f&&t()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[e,t,f]),E.useEffect(()=>{if(e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[e]),!e)return null;const g=async()=>{p(!0);try{await n()}catch(_){console.error("Confirm action failed:",_)}finally{p(!1),t()}},b=u==="danger"?"text-red-400":"text-yellow-400",y=u==="danger"?"bg-red-500/10":"bg-yellow-500/10";return li.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:f?void 0:t}),a.jsxs("div",{className:"relative bg-[#232733] rounded-xl shadow-[0_8px_30px_rgba(0,0,0,0.5)] max-w-md w-full px-4 py-4 md:p-6 animate-in fade-in zoom-in-95 duration-150 border border-white/[0.06]",children:[a.jsxs("div",{className:"flex gap-3 md:gap-4",children:[a.jsx("div",{className:`shrink-0 w-9 h-9 md:w-10 md:h-10 rounded-full ${y} flex items-center justify-center`,children:a.jsx("svg",{className:`w-5 h-5 ${b}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{id:"confirm-title",className:"text-lg font-semibold text-gray-100",children:r}),i&&a.jsx("p",{className:"mt-2 text-sm text-gray-400",children:i}),f&&d&&d.total>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx(Oi,{value:d.current,max:d.total,size:"sm"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.current," / ",d.total]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4 md:mt-6",children:[a.jsx(tt,{ref:m,variant:"secondary",size:"sm",onClick:t,disabled:f,children:l}),a.jsx(tt,{variant:"danger",size:"sm",onClick:g,loading:f,children:o})]})]})]}),document.body)}const FF={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"};function Kr({open:e,onClose:t,onSubmit:n,title:r,children:i,submitLabel:o="Create",cancelLabel:l="Cancel",loading:u=!1,size:d="md"}){const f=E.useRef(null);if(E.useEffect(()=>{var m;e&&((m=f.current)==null||m.focus())},[e]),E.useEffect(()=>{if(!e)return;const m=g=>{g.key==="Escape"&&!u&&t()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,t,u]),E.useEffect(()=>{if(e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[e]),!e)return null;const p=async m=>{m.preventDefault(),await n()};return li.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"form-dialog-title",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:u?void 0:t}),a.jsxs("div",{className:`relative bg-[#232733] rounded-xl shadow-[0_8px_30px_rgba(0,0,0,0.5)] border border-white/[0.06] ${FF[d]} w-full animate-in fade-in zoom-in-95 duration-150`,children:[a.jsx("div",{className:"px-4 py-3 md:px-6 md:py-4 border-b border-white/[0.06]",children:a.jsx("h3",{id:"form-dialog-title",className:"text-lg font-semibold text-gray-100",children:r})}),a.jsxs("form",{onSubmit:p,children:[a.jsx("div",{className:"px-4 py-3 md:px-6 md:py-4 space-y-4 max-h-[70vh] md:max-h-[60vh] overflow-y-auto",children:i}),a.jsxs("div",{className:"flex justify-end gap-3 px-4 py-3 md:px-6 md:py-4 border-t border-white/[0.06]",children:[a.jsx(tt,{ref:f,variant:"secondary",size:"sm",onClick:t,disabled:u,type:"button",children:l}),a.jsx(tt,{variant:"primary",size:"sm",type:"submit",loading:u,children:o})]})]})]})]}),document.body)}function Ll({open:e,onClose:t,title:n,submitLabel:r="Link",options:i,selectedId:o,onSelect:l,onSubmit:u,loading:d,fetching:f,searchQuery:p,onSearchChange:m}){const g=E.useRef(null);return E.useEffect(()=>{e&&setTimeout(()=>{var b;return(b=g.current)==null?void 0:b.focus()},50)},[e]),E.useEffect(()=>{if(!e)return;const b=y=>{y.key==="Escape"&&!d&&t()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[e,t,d]),E.useEffect(()=>{if(e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[e]),e?li.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"link-dialog-title",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:d?void 0:t}),a.jsxs("div",{className:"relative bg-[#232733] rounded-xl shadow-[0_8px_30px_rgba(0,0,0,0.5)] border border-white/[0.06] max-w-lg w-full animate-in fade-in zoom-in-95 duration-150",children:[a.jsx("div",{className:"px-4 py-3 md:px-6 md:py-4 border-b border-white/[0.06]",children:a.jsx("h3",{id:"link-dialog-title",className:"text-lg font-semibold text-gray-100",children:n})}),a.jsxs("div",{className:"px-4 py-3 md:px-6 md:py-4",children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{ref:g,className:"w-full pl-10 pr-3 py-2 bg-[#0f1117] border border-white/[0.1] rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Search...",value:p,onChange:b=>m(b.target.value),disabled:d})]}),a.jsx("div",{className:"max-h-[50vh] md:max-h-[40vh] overflow-y-auto space-y-1",children:f?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(xr,{})}):i.length===0?a.jsx("div",{className:"flex items-center justify-center py-8 text-sm text-gray-500",children:"No items available"}):i.map(b=>a.jsxs("button",{type:"button",onClick:()=>l(b.value),className:`w-full text-left px-3 py-2.5 rounded-lg transition-colors ${o===b.value?"bg-indigo-500/20 ring-2 ring-indigo-500":"bg-white/[0.04] hover:bg-white/[0.08]"}`,children:[a.jsx("div",{className:"font-medium text-gray-200 text-sm",children:b.label}),b.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:b.description})]},b.value))})]}),a.jsxs("div",{className:"flex justify-end gap-3 px-4 py-3 md:px-6 md:py-4 border-t border-white/[0.06]",children:[a.jsx(tt,{variant:"secondary",size:"sm",onClick:t,disabled:d,children:"Cancel"}),a.jsx(tt,{variant:"primary",size:"sm",onClick:u,loading:d,disabled:!o||d,children:r})]})]})]}),document.body):null}function HF({label:e,entityType:t,onUnlink:n,linkTo:r}){const i=a.jsxs(a.Fragment,{children:[t&&a.jsxs("span",{className:"text-gray-500 mr-1",children:[t,":"]}),a.jsx("span",{className:"text-gray-200",children:e})]});return a.jsxs("span",{className:"inline-flex items-center gap-2 bg-white/[0.06] rounded-lg px-3 py-1.5 text-sm",children:[r?a.jsx(jn,{to:r,className:"hover:text-indigo-400 transition-colors",children:i}):i,a.jsx("button",{onClick:o=>{o.preventDefault(),o.stopPropagation(),n()},className:"text-gray-500 hover:text-red-400 transition-colors",title:"Unlink",children:""})]})}const GF={success:{bar:"bg-green-500",icon:a.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},error:{bar:"bg-red-500",icon:a.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})},info:{bar:"bg-blue-500",icon:a.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},warning:{bar:"bg-yellow-500",icon:a.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};function VF(){const e=Ve(y_),t=Rt(y_);if(e.length===0)return null;const n=r=>{t(i=>i.filter(o=>o.id!==r))};return a.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col-reverse gap-2 pointer-events-none",children:e.map(r=>{const i=GF[r.type];return a.jsxs("div",{className:"pointer-events-auto flex items-stretch bg-[#232733] rounded-xl shadow-[0_4px_12px_rgba(0,0,0,0.4)] border border-white/[0.06] overflow-hidden animate-[slideInRight_200ms_ease-out] min-w-[300px] max-w-[420px]",children:[a.jsx("div",{className:`w-1 shrink-0 ${i.bar}`}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 flex-1 min-w-0",children:[a.jsx("div",{className:"shrink-0",children:i.icon}),a.jsx("p",{className:"text-sm text-gray-200 flex-1 min-w-0",children:r.message}),a.jsx("button",{onClick:()=>n(r.id),className:"shrink-0 text-gray-500 hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5",children:a.jsx("div",{className:`h-full ${i.bar} opacity-40 animate-[shrinkWidth_4s_linear_forwards]`})})]},r.id)})})}function uo({actions:e,className:t=""}){const[n,r]=E.useState(!1),i=E.useRef(null),o=E.useRef(null),[l,u]=E.useState({top:0,left:0}),d=E.useCallback(()=>{var y,_;if(!i.current)return;const f=i.current.getBoundingClientRect(),p=((y=o.current)==null?void 0:y.offsetWidth)||140,m=((_=o.current)==null?void 0:_.offsetHeight)||200,b=window.innerHeight-f.bottom<m&&f.top>m;u({top:b?f.top+window.scrollY-m-4:f.bottom+window.scrollY+4,left:f.right+window.scrollX-p})},[]);return E.useEffect(()=>{if(!n)return;d();function f(g){const b=g.target;i.current&&!i.current.contains(b)&&o.current&&!o.current.contains(b)&&r(!1)}function p(g){g.key==="Escape"&&r(!1)}function m(){r(!1)}return document.addEventListener("mousedown",f),document.addEventListener("keydown",p),window.addEventListener("scroll",m,!0),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",p),window.removeEventListener("scroll",m,!0)}},[n,d]),a.jsxs("div",{ref:i,className:`relative inline-block ${t}`,children:[a.jsx("button",{onClick:f=>{f.preventDefault(),f.stopPropagation(),r(!n)},className:"flex items-center justify-center w-10 h-10 md:w-8 md:h-8 rounded-lg text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] transition-colors","aria-label":"More actions",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),n&&li.createPortal(a.jsx("div",{ref:o,className:"fixed z-[9999] min-w-[140px] rounded-lg bg-[#232733] border border-white/[0.1] shadow-[0_4px_12px_rgba(0,0,0,0.4)] py-1",style:{top:l.top,left:l.left,position:"absolute"},children:e.map(f=>a.jsx("button",{onClick:p=>{p.preventDefault(),p.stopPropagation(),r(!1),f.onClick()},className:`w-full px-3 py-2 text-left text-sm transition-colors ${f.variant==="danger"?"text-red-400 hover:bg-red-500/10":"text-gray-200 hover:bg-white/[0.06]"}`,children:f.label},f.label))}),document.body)]})}function Il({sections:e,activeSection:t}){const n=r=>{var i;(i=document.getElementById(r))==null||i.scrollIntoView({behavior:"smooth"})};return a.jsx("div",{className:"sticky top-0 z-10 bg-[#1a1d27]/90 backdrop-blur-sm border-b border-white/[0.06] -mx-4 px-4 md:-mx-6 md:px-6 mb-6",children:a.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:e.map(r=>a.jsxs("button",{onClick:()=>n(r.id),className:`px-2 py-2 text-xs md:px-3 md:py-2.5 md:text-sm font-medium whitespace-nowrap transition-colors border-b-2 ${t===r.id?"border-indigo-500 text-white":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[r.label,r.count!==void 0&&a.jsxs("span",{className:"ml-1.5 text-gray-500",children:["(",r.count,")"]})]},r.id))})})}function zl({title:e,description:t,status:n,metadata:r,actions:i,overflowActions:o,children:l}){return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight text-gray-100 truncate",children:e}),o&&o.length>0&&a.jsx(uo,{actions:o})]}),i&&a.jsx("div",{className:"flex items-center gap-2 shrink-0",children:i})]}),n&&a.jsx("div",{children:n}),t&&a.jsx(qF,{content:t,maxHeight:120}),r&&r.length>0&&a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.map(u=>a.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white/[0.05] rounded-full px-3 py-1 text-xs text-gray-400",children:[a.jsx("span",{className:"text-gray-500",children:u.label}),a.jsx("span",{className:"text-gray-300",children:(typeof u.value=="string",u.value)})]},u.label))}),l]})}function Yh({status:e,options:t,colorMap:n,onStatusChange:r}){var _;const{isOpen:i,toggle:o,close:l,position:u,triggerRef:d,menuRef:f}=xw(),[p,m]=E.useState(!1),g=async w=>{if(w===e){l();return}l(),m(!0);try{await r(w)}finally{m(!1)}},b=n[e]||{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},y=((_=t.find(w=>w.value===e))==null?void 0:_.label)||e;return a.jsxs("div",{ref:d,className:"relative inline-block",children:[a.jsxs("button",{onClick:()=>!p&&o(),disabled:p,className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-sm font-semibold transition-all ${b.bg} ${b.text} hover:opacity-90`,children:[p?a.jsx(xr,{size:"sm"}):a.jsx("span",{className:`w-2 h-2 rounded-full ${b.dot}`}),y,!p&&a.jsx("svg",{className:"w-3.5 h-3.5 opacity-60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),i&&li.createPortal(a.jsx("div",{ref:f,className:"fixed z-[9999] min-w-[160px] rounded-lg bg-[#232733] border border-white/[0.1] shadow-[0_4px_12px_rgba(0,0,0,0.4)] py-1",style:{top:u.top,left:u.left,position:"absolute"},children:t.map(w=>{const S=n[w.value];return a.jsxs("button",{onClick:()=>g(w.value),className:`w-full flex items-center gap-2 px-3 py-2 text-sm text-left transition-colors hover:bg-white/[0.06] ${w.value===e?"text-white font-medium":"text-gray-300"}`,children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${(S==null?void 0:S.dot)||"bg-gray-400"}`}),w.label]},w.value)})}),document.body)]})}function Pl({title:e,description:t,actions:n,filters:r,children:i}){return a.jsxs("div",{className:"pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-4 md:mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-gray-100",children:e}),t&&a.jsx("p",{className:"text-gray-400 mt-1",children:t})]}),n&&a.jsx("div",{className:"flex flex-wrap items-center gap-2 shrink-0",children:n})]}),r&&a.jsx("div",{className:"mb-6",children:r}),i]})}function Bl({selected:e,onToggle:t}){return a.jsx("div",{onClick:n=>{n.preventDefault(),n.stopPropagation(),t(n.shiftKey)},className:`
        flex items-center justify-center w-9 shrink-0 cursor-pointer
        transition-colors duration-150 rounded-l-xl
        ${e?"bg-indigo-500/20":"hover:bg-white/[0.06]"}
      `,children:a.jsx("div",{className:`
          w-5 h-5 rounded-full flex items-center justify-center
          transition-all duration-150 border-2
          ${e?"border-indigo-500 bg-indigo-500":"border-white/[0.08] hover:border-white/20"}
        `,children:e&&a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})})}function $l({count:e,onDelete:t,onClear:n,deleting:r}){return e===0?null:a.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 bg-[#232733] border border-white/[0.1] shadow-[0_4px_24px_rgba(0,0,0,0.5)] rounded-xl px-3 py-2 sm:px-5 sm:py-3 flex items-center gap-3 sm:gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-300 whitespace-nowrap",children:[e," selected"]}),a.jsx("button",{onClick:n,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors whitespace-nowrap",children:"Deselect"}),a.jsx(tt,{size:"sm",variant:"danger",onClick:t,disabled:r,children:r?"Deleting...":"Delete"})]})}function Ej(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function KF(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function YF(e,t,n){const i=Bu((n||{}).ignore||[]),o=WF(t);let l=-1;for(;++l<o.length;)q3(e,"text",u);function u(f,p){let m=-1,g;for(;++m<p.length;){const b=p[m],y=g?g.children:void 0;if(i(b,y?y.indexOf(b):void 0,g))return;g=b}if(g)return d(f,p)}function d(f,p){const m=p[p.length-1],g=o[l][0],b=o[l][1];let y=0;const w=m.children.indexOf(f);let S=!1,j=[];g.lastIndex=0;let N=g.exec(f.value);for(;N;){const C=N.index,A={index:N.index,input:N.input,stack:[...p,f]};let T=b(...N,A);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?g.lastIndex=C+1:(y!==C&&j.push({type:"text",value:f.value.slice(y,C)}),Array.isArray(T)?j.push(...T):T&&j.push(T),y=C+N[0].length,S=!0),!g.global)break;N=g.exec(f.value)}return S?(y<f.value.length&&j.push({type:"text",value:f.value.slice(y)}),m.children.splice(w,1,...j)):j=[f],w+j.length}}function WF(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([XF(i[0]),ZF(i[1])])}return t}function XF(e){return typeof e=="string"?new RegExp(KF(e),"g"):e}function ZF(e){return typeof e=="function"?e:function(){return e}}const l0="phrasing",c0=["autolink","link","image","label"];function QF(){return{transforms:[sH],enter:{literalAutolink:eH,literalAutolinkEmail:u0,literalAutolinkHttp:u0,literalAutolinkWww:u0},exit:{literalAutolink:iH,literalAutolinkEmail:rH,literalAutolinkHttp:tH,literalAutolinkWww:nH}}}function JF(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:l0,notInConstruct:c0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:l0,notInConstruct:c0},{character:":",before:"[ps]",after:"\\/",inConstruct:l0,notInConstruct:c0}]}}function eH(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function u0(e){this.config.enter.autolinkProtocol.call(this,e)}function tH(e){this.config.exit.autolinkProtocol.call(this,e)}function nH(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function rH(e){this.config.exit.autolinkEmail.call(this,e)}function iH(e){this.exit(e)}function sH(e){YF(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,aH],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),oH]],{ignore:["link","linkReference"]})}function aH(e,t,n,r,i){let o="";if(!G3(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!lH(n)))return!1;const l=cH(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function oH(e,t,n,r){return!G3(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function lH(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function cH(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Ej(e,"(");let o=Ej(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function G3(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||to(n)||Fh(n))&&(!t||n!==47)}V3.peek=bH;function uH(){this.buffer()}function dH(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function fH(){this.buffer()}function hH(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function pH(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ri(this.sliceSerialize(e)).toLowerCase(),n.label=t}function mH(e){this.exit(e)}function gH(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ri(this.sliceSerialize(e)).toLowerCase(),n.label=t}function xH(e){this.exit(e)}function bH(){return"["}function V3(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),l(),o+=i.move("]"),o}function yH(){return{enter:{gfmFootnoteCallString:uH,gfmFootnoteCall:dH,gfmFootnoteDefinitionLabelString:fH,gfmFootnoteDefinition:hH},exit:{gfmFootnoteCallString:pH,gfmFootnoteCall:mH,gfmFootnoteDefinitionLabelString:gH,gfmFootnoteDefinition:xH}}}function vH(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:V3},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const u=o.createTracker(l);let d=u.move("[^");const f=o.enter("footnoteDefinition"),p=o.enter("label");return d+=u.move(o.safe(o.associationId(r),{before:d,after:"]"})),p(),d+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),d+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?K3:_H))),f(),d}}function _H(e,t,n){return t===0?e:K3(e,t,n)}function K3(e,t,n){return(n?"":"    ")+e}const wH=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Y3.peek=jH;function SH(){return{canContainEols:["delete"],enter:{strikethrough:EH},exit:{strikethrough:kH}}}function NH(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:wH}],handlers:{delete:Y3}}}function EH(e){this.enter({type:"delete",children:[]},e)}function kH(e){this.exit(e)}function Y3(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function jH(){return"~"}function CH(e){return e.length}function TH(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||CH,o=[],l=[],u=[],d=[];let f=0,p=-1;for(;++p<e.length;){const _=[],w=[];let S=-1;for(e[p].length>f&&(f=e[p].length);++S<e[p].length;){const j=AH(e[p][S]);if(n.alignDelimiters!==!1){const N=i(j);w[S]=N,(d[S]===void 0||N>d[S])&&(d[S]=N)}_.push(j)}l[p]=_,u[p]=w}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<f;)o[m]=kj(r[m]);else{const _=kj(r);for(;++m<f;)o[m]=_}m=-1;const g=[],b=[];for(;++m<f;){const _=o[m];let w="",S="";_===99?(w=":",S=":"):_===108?w=":":_===114&&(S=":");let j=n.alignDelimiters===!1?1:Math.max(1,d[m]-w.length-S.length);const N=w+"-".repeat(j)+S;n.alignDelimiters!==!1&&(j=w.length+j+S.length,j>d[m]&&(d[m]=j),b[m]=j),g[m]=N}l.splice(1,0,g),u.splice(1,0,b),p=-1;const y=[];for(;++p<l.length;){const _=l[p],w=u[p];m=-1;const S=[];for(;++m<f;){const j=_[m]||"";let N="",C="";if(n.alignDelimiters!==!1){const A=d[m]-(w[m]||0),T=o[m];T===114?N=" ".repeat(A):T===99?A%2?(N=" ".repeat(A/2+.5),C=" ".repeat(A/2-.5)):(N=" ".repeat(A/2),C=N):C=" ".repeat(A)}n.delimiterStart!==!1&&!m&&S.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&j==="")&&(n.delimiterStart!==!1||m)&&S.push(" "),n.alignDelimiters!==!1&&S.push(N),S.push(j),n.alignDelimiters!==!1&&S.push(C),n.padding!==!1&&S.push(" "),(n.delimiterEnd!==!1||m!==f-1)&&S.push("|")}y.push(n.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return y.join(`
`)}function AH(e){return e==null?"":String(e)}function kj(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function MH(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),RH);return i(),l}function RH(e,t,n){return">"+(n?"":" ")+e}function OH(e,t){return jj(e,t.inConstruct,!0)&&!jj(e,t.notInConstruct,!1)}function jj(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Cj(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&OH(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function DH(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function LH(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function IH(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function zH(e,t,n,r){const i=IH(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(LH(e,n)){const m=n.enter("codeIndented"),g=n.indentLines(o,PH);return m(),g}const u=n.createTracker(r),d=i.repeat(Math.max(DH(o,i)+1,3)),f=n.enter("codeFenced");let p=u.move(d);if(e.lang){const m=n.enter(`codeFencedLang${l}`);p+=u.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...u.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${l}`);p+=u.move(" "),p+=u.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...u.current()})),m()}return p+=u.move(`
`),o&&(p+=u.move(o+`
`)),p+=u.move(d),f(),p}function PH(e,t,n){return(n?"":"    ")+e}function Rw(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function BH(e,t,n,r){const i=Rw(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=d.move(" "+i),f+=d.move(n.safe(e.title,{before:f,after:i,...d.current()})),f+=d.move(i),u()),l(),f}function $H(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function gu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function mh(e,t,n){const r=cl(e),i=cl(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}W3.peek=UH;function W3(e,t,n,r){const i=$H(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i);let d=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=d.charCodeAt(0),p=mh(r.before.charCodeAt(r.before.length-1),f,i);p.inside&&(d=gu(f)+d.slice(1));const m=d.charCodeAt(d.length-1),g=mh(r.after.charCodeAt(0),m,i);g.inside&&(d=d.slice(0,-1)+gu(m));const b=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:p.outside},u+d+b}function UH(e,t,n){return n.options.emphasis||"*"}function qH(e,t){let n=!1;return Kh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,j_}),!!((!e.depth||e.depth<3)&&Nw(e)&&(t.options.setext||n))}function FH(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(qH(e,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),g=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return m(),p(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=n.enter("headingAtx"),d=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=gu(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),u(),f}X3.peek=HH;function X3(e){return e.value||""}function HH(){return"<"}Z3.peek=GH;function Z3(e,t,n,r){const i=Rw(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=d.move(" "+i),f+=d.move(n.safe(e.title,{before:f,after:i,...d.current()})),f+=d.move(i),u()),f+=d.move(")"),l(),f}function GH(){return"!"}Q3.peek=VH;function Q3(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let d=u.move("![");const f=n.safe(e.alt,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...u.current()});return l(),n.stack=p,o(),i==="full"||!f||f!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function VH(){return"!"}J3.peek=KH;function J3(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let d;if(l.atBreak)for(;d=u.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return i+r+i}function KH(){return"`"}function eD(e,t){const n=Nw(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}tD.peek=YH;function tD(e,t,n,r){const i=Rw(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,d;if(eD(e,n)){const p=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(e,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=p,m}u=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${o}`),f+=l.move(" "+i),f+=l.move(n.safe(e.title,{before:f,after:i,...l.current()})),f+=l.move(i),d()),f+=l.move(")"),u(),f}function YH(e,t,n){return eD(e,n)?"<":"["}nD.peek=WH;function nD(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let d=u.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...u.current()});return l(),n.stack=p,o(),i==="full"||!f||f!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function WH(){return"["}function Ow(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function XH(e){const t=Ow(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function ZH(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function rD(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function QH(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?ZH(n):Ow(n);const u=e.ordered?l==="."?")":".":XH(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),rD(n)===l&&p){let m=-1;for(;++m<e.children.length;){const g=e.children[m];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=u),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),f}function JH(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function eG(e,t,n,r){const i=JH(n);let o=n.bulletCurrent||Ow(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),p);return d(),f;function p(m,g,b){return g?(b?"":" ".repeat(l))+m:(b?o:o+" ".repeat(l-o.length))+m}}function tG(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const nG=Bu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function rG(e,t,n,r){return(e.children.some(function(l){return nG(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function iG(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}iD.peek=sG;function iD(e,t,n,r){const i=iG(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i);let d=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const f=d.charCodeAt(0),p=mh(r.before.charCodeAt(r.before.length-1),f,i);p.inside&&(d=gu(f)+d.slice(1));const m=d.charCodeAt(d.length-1),g=mh(r.after.charCodeAt(0),m,i);g.inside&&(d=d.slice(0,-1)+gu(m));const b=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:p.outside},u+d+b}function sG(e,t,n){return n.options.strong||"*"}function aG(e,t,n,r){return n.safe(e.value,r)}function oG(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function lG(e,t,n){const r=(rD(n)+(n.options.ruleSpaces?" ":"")).repeat(oG(n));return n.options.ruleSpaces?r.slice(0,-1):r}const sD={blockquote:MH,break:Cj,code:zH,definition:BH,emphasis:W3,hardBreak:Cj,heading:FH,html:X3,image:Z3,imageReference:Q3,inlineCode:J3,link:tD,linkReference:nD,list:QH,listItem:eG,paragraph:tG,root:rG,strong:iD,text:aG,thematicBreak:lG};function cG(){return{enter:{table:uG,tableData:Tj,tableHeader:Tj,tableRow:fG},exit:{codeText:hG,table:dG,tableData:d0,tableHeader:d0,tableRow:d0}}}function uG(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function dG(e){this.exit(e),this.data.inTable=void 0}function fG(e){this.enter({type:"tableRow",children:[]},e)}function d0(e){this.exit(e)}function Tj(e){this.enter({type:"tableCell",children:[]},e)}function hG(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,pG));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function pG(e,t){return t==="|"?t:e}function mG(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:d,tableRow:u}};function l(b,y,_,w){return f(p(b,_,w),b.align)}function u(b,y,_,w){const S=m(b,_,w),j=f([S]);return j.slice(0,j.indexOf(`
`))}function d(b,y,_,w){const S=_.enter("tableCell"),j=_.enter("phrasing"),N=_.containerPhrasing(b,{...w,before:o,after:o});return j(),S(),N}function f(b,y){return TH(b,{align:y,alignDelimiters:r,padding:n,stringLength:i})}function p(b,y,_){const w=b.children;let S=-1;const j=[],N=y.enter("table");for(;++S<w.length;)j[S]=m(w[S],y,_);return N(),j}function m(b,y,_){const w=b.children;let S=-1;const j=[],N=y.enter("tableRow");for(;++S<w.length;)j[S]=d(w[S],b,y,_);return N(),j}function g(b,y,_){let w=sD.inlineCode(b,y,_);return _.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function gG(){return{exit:{taskListCheckValueChecked:Aj,taskListCheckValueUnchecked:Aj,paragraph:bG}}}function xG(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:yG}}}function Aj(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function bG(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const u=i[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function yG(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let d=sD.listItem(e,t,n,{...r,...u.current()});return o&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(p){return p+l}}function vG(){return[QF(),yH(),SH(),cG(),gG()]}function _G(e){return{extensions:[JF(),vH(e),NH(),mG(e),xG()]}}const wG={tokenize:CG,partial:!0},aD={tokenize:TG,partial:!0},oD={tokenize:AG,partial:!0},lD={tokenize:MG,partial:!0},SG={tokenize:RG,partial:!0},cD={name:"wwwAutolink",tokenize:kG,previous:dD},uD={name:"protocolAutolink",tokenize:jG,previous:fD},Os={name:"emailAutolink",tokenize:EG,previous:hD},Qi={};function NG(){return{text:Qi}}let Va=48;for(;Va<123;)Qi[Va]=Os,Va++,Va===58?Va=65:Va===91&&(Va=97);Qi[43]=Os;Qi[45]=Os;Qi[46]=Os;Qi[95]=Os;Qi[72]=[Os,uD];Qi[104]=[Os,uD];Qi[87]=[Os,cD];Qi[119]=[Os,cD];function EG(e,t,n){const r=this;let i,o;return l;function l(m){return!M_(m)||!hD.call(r,r.previous)||Dw(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(m))}function u(m){return M_(m)?(e.consume(m),u):m===64?(e.consume(m),d):n(m)}function d(m){return m===46?e.check(SG,p,f)(m):m===45||m===95||lr(m)?(o=!0,e.consume(m),d):p(m)}function f(m){return e.consume(m),i=!0,d}function p(m){return o&&i&&gr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function kG(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!dD.call(r,r.previous)||Dw(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wG,e.attempt(aD,e.attempt(oD,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function jG(e,t,n){const r=this;let i="",o=!1;return l;function l(m){return(m===72||m===104)&&fD.call(r,r.previous)&&!Dw(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(m),e.consume(m),u):n(m)}function u(m){if(gr(m)&&i.length<5)return i+=String.fromCodePoint(m),e.consume(m),u;if(m===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(m),d}return n(m)}function d(m){return m===47?(e.consume(m),o?f:(o=!0,d)):n(m)}function f(m){return m===null||fh(m)||en(m)||to(m)||Fh(m)?n(m):e.attempt(aD,e.attempt(oD,p),n)(m)}function p(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function CG(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function TG(e,t,n){let r,i,o;return l;function l(f){return f===46||f===95?e.check(lD,d,u)(f):f===null||en(f)||to(f)||f!==45&&Fh(f)?d(f):(o=!0,e.consume(f),l)}function u(f){return f===95?r=!0:(i=r,r=void 0),e.consume(f),l}function d(f){return i||r||!o?n(f):t(f)}}function AG(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(lD,t,o)(l):l===null||en(l)||to(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function MG(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),i):u===60||u===null||en(u)||to(u)?t(u):n(u)}function i(u){return u===null||u===40||u===91||en(u)||to(u)?t(u):r(u)}function o(u){return gr(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):gr(u)?(e.consume(u),l):n(u)}}function RG(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return lr(o)?n(o):t(o)}}function dD(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||en(e)}function fD(e){return!gr(e)}function hD(e){return!(e===47||M_(e))}function M_(e){return e===43||e===45||e===46||e===95||lr(e)}function Dw(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const OG={tokenize:UG,partial:!0};function DG(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:PG,continuation:{tokenize:BG},exit:$G}},text:{91:{name:"gfmFootnoteCall",tokenize:zG},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:LG,resolveTo:IG}}}}function LG(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const d=r.events[i][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return u;function u(d){if(!l||!l._balanced)return n(d);const f=Ri(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function IG(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function zG(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),d}function d(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(m){if(o>999||m===93&&!l||m===null||m===91||en(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(Ri(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return en(m)||(l=!0),o++,e.consume(m),m===92?p:f}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function PG(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return d;function d(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(y)}function p(y){if(l>999||y===93&&!u||y===null||y===91||en(y))return n(y);if(y===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return o=Ri(r.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return en(y)||(u=!0),l++,e.consume(y),y===92?m:p}function m(y){return y===91||y===92||y===93?(e.consume(y),l++,p):p(y)}function g(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(o)||i.push(o),bt(e,b,"gfmFootnoteDefinitionWhitespace")):n(y)}function b(y){return t(y)}}function BG(e,t,n){return e.check(Pu,t,e.attempt(OG,t,n))}function $G(e){e.exit("gfmFootnoteDefinition")}function UG(e,t,n){const r=this;return bt(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function qG(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,u){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},m={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},g=[["enter",p,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",m,u]],b=u.parser.constructs.insideSpan.null;b&&Vr(g,g.length,0,Hh(b,l.slice(f+1,d),u)),Vr(g,g.length,0,[["exit",m,u],["enter",l[d][1],u],["exit",l[d][1],u],["exit",p,u]]),Vr(l,f-1,d-f+3,g),d=f+g.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function o(l,u,d){const f=this.previous,p=this.events;let m=0;return g;function g(y){return f===126&&p[p.length-1][1].type!=="characterEscape"?d(y):(l.enter("strikethroughSequenceTemporary"),b(y))}function b(y){const _=cl(f);if(y===126)return m>1?d(y):(l.consume(y),m++,b);if(m<2&&!n)return d(y);const w=l.exit("strikethroughSequenceTemporary"),S=cl(y);return w._open=!S||S===2&&!!_,w._close=!_||_===2&&!!S,u(y)}}}class FG{constructor(){this.map=[]}add(t,n,r){HG(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function HG(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function GG(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function VG(){return{flow:{null:{name:"table",tokenize:KG,resolveAll:YG}}}}function KG(e,t,n){const r=this;let i=0,o=0,l;return u;function u(z){let R=r.events.length-1;for(;R>-1;){const L=r.events[R][1].type;if(L==="lineEnding"||L==="linePrefix")R--;else break}const q=R>-1?r.events[R][1].type:null,Y=q==="tableHead"||q==="tableRow"?T:d;return Y===T&&r.parser.lazy[r.now().line]?n(z):Y(z)}function d(z){return e.enter("tableHead"),e.enter("tableRow"),f(z)}function f(z){return z===124||(l=!0,o+=1),p(z)}function p(z){return z===null?n(z):Ue(z)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),b):n(z):ot(z)?bt(e,p,"whitespace")(z):(o+=1,l&&(l=!1,i+=1),z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),l=!0,p):(e.enter("data"),m(z)))}function m(z){return z===null||z===124||en(z)?(e.exit("data"),p(z)):(e.consume(z),z===92?g:m)}function g(z){return z===92||z===124?(e.consume(z),m):m(z)}function b(z){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(z):(e.enter("tableDelimiterRow"),l=!1,ot(z)?bt(e,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):y(z))}function y(z){return z===45||z===58?w(z):z===124?(l=!0,e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),_):A(z)}function _(z){return ot(z)?bt(e,w,"whitespace")(z):w(z)}function w(z){return z===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),S):z===45?(o+=1,S(z)):z===null||Ue(z)?C(z):A(z)}function S(z){return z===45?(e.enter("tableDelimiterFiller"),j(z)):A(z)}function j(z){return z===45?(e.consume(z),j):z===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(z))}function N(z){return ot(z)?bt(e,C,"whitespace")(z):C(z)}function C(z){return z===124?y(z):z===null||Ue(z)?!l||i!==o?A(z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(z)):A(z)}function A(z){return n(z)}function T(z){return e.enter("tableRow"),M(z)}function M(z){return z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),M):z===null||Ue(z)?(e.exit("tableRow"),t(z)):ot(z)?bt(e,M,"whitespace")(z):(e.enter("data"),P(z))}function P(z){return z===null||z===124||en(z)?(e.exit("data"),M(z)):(e.consume(z),z===92?U:P)}function U(z){return z===92||z===124?(e.consume(z),P):P(z)}}function YG(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,d=0,f,p,m;const g=new FG;for(;++n<e.length;){const b=e[n],y=b[1];b[0]==="enter"?y.type==="tableHead"?(u=!1,d!==0&&(Mj(g,t,d,f,p),p=void 0,d=0),f={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(n,0,[["enter",f,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,m=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,p={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(n,0,[["enter",p,t]])),i=y.type==="tableDelimiterRow"?2:p?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],m=Nf(g,t,o,i,void 0,m),o=[0,0,0,0]),l[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],m=Nf(g,t,o,i,void 0,m)),o=l,l=[o[1],n,0,0])):y.type==="tableHead"?(u=!0,d=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(d=n,o[1]!==0?(l[0]=l[1],m=Nf(g,t,o,i,n,m)):l[1]!==0&&(m=Nf(g,t,l,i,n,m)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&Mj(g,t,d,f,p),g.consume(t.events),n=-1;++n<t.events.length;){const b=t.events[n];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=GG(t.events,n))}return e}function Nf(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},el(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const d=el(t.events,n[1]);if(o={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=el(t.events,n[2]),p=el(t.events,n[3]),m={type:u,start:Object.assign({},f),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",m,t]]),r!==2){const g=t.events[n[2]],b=t.events[n[3]];if(g[1].end=Object.assign({},b[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,_=n[3]-n[2]-1;e.add(y,_,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return i!==void 0&&(o.end=Object.assign({},el(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function Mj(e,t,n,r,i){const o=[],l=el(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function el(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const WG={name:"tasklistCheck",tokenize:ZG};function XG(){return{text:{91:WG}}}function ZG(e,t,n){const r=this;return i;function i(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),o)}function o(d){return en(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(d)}function u(d){return Ue(d)?t(d):ot(d)?e.check({tokenize:QG},t,n)(d):n(d)}}function QG(e,t,n){return bt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function JG(e){return S3([NG(),DG(),qG(e),VG(),XG()])}const eV={};function tV(e){const t=this,n=e||eV,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(JG(n)),o.push(vG()),l.push(_G(n))}const Rj=(function(e,t,n){const r=Bu(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),fo=(function(e){if(e==null)return iV;if(typeof e=="string")return rV(e);if(typeof e=="object")return nV(e);if(typeof e=="function")return Lw(e);throw new Error("Expected function, string, or array as `test`")});function nV(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fo(e[n]);return Lw(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function rV(e){return Lw(t);function t(n){return n.tagName===e}}function Lw(e){return t;function t(n,r,i){return!!(sV(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function iV(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function sV(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Oj=/\n/g,Dj=/[\t ]+/g,R_=fo("br"),Lj=fo(hV),aV=fo("p"),Ij=fo("tr"),oV=fo(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",fV,pV]),pD=fo(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function lV(e,t){const n=t||{},r="children"in e?e.children:[],i=pD(e),o=xD(e,{whitespace:n.whitespace||"normal"}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...gD(e,{breakBefore:!0,breakAfter:!0}));let u=-1;for(;++u<r.length;)l.push(...mD(r[u],e,{whitespace:o,breakBefore:u?void 0:i,breakAfter:u<r.length-1?R_(r[u+1]):i}));const d=[];let f;for(u=-1;++u<l.length;){const p=l[u];typeof p=="number"?f!==void 0&&p>f&&(f=p):p&&(f!==void 0&&f>-1&&d.push(`
`.repeat(f)||" "),f=-1,d.push(p))}return d.join("")}function mD(e,t,n){return e.type==="element"?cV(e,t,n):e.type==="text"?n.whitespace==="normal"?gD(e,n):uV(e):[]}function cV(e,t,n){const r=xD(e,n),i=e.children||[];let o=-1,l=[];if(oV(e))return l;let u,d;for(R_(e)||Ij(e)&&Rj(t,e,Ij)?d=`
`:aV(e)?(u=2,d=2):pD(e)&&(u=1,d=1);++o<i.length;)l=l.concat(mD(i[o],e,{whitespace:r,breakBefore:o?void 0:u,breakAfter:o<i.length-1?R_(i[o+1]):d}));return Lj(e)&&Rj(t,e,Lj)&&l.push("	"),u&&l.unshift(u),d&&l.push(d),l}function gD(e,t){const n=String(e.value),r=[],i=[];let o=0;for(;o<=n.length;){Oj.lastIndex=o;const d=Oj.exec(n),f=d&&"index"in d?d.index:n.length;r.push(dV(n.slice(o,f).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,f===n.length?t.breakAfter:!0)),o=f+1}let l=-1,u;for(;++l<r.length;)r[l].charCodeAt(r[l].length-1)===8203||l<r.length-1&&r[l+1].charCodeAt(0)===8203?(i.push(r[l]),u=void 0):r[l]?(typeof u=="number"&&i.push(u),i.push(r[l]),u=0):(l===0||l===r.length-1)&&i.push(0);return i}function uV(e){return[String(e.value)]}function dV(e,t,n){const r=[];let i=0,o;for(;i<e.length;){Dj.lastIndex=i;const l=Dj.exec(e);o=l?l.index:e.length,!i&&!o&&l&&!t&&r.push(""),i!==o&&r.push(e.slice(i,o)),i=l?o+l[0].length:o}return i!==o&&!n&&r.push(""),r.join(" ")}function xD(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function fV(e){return!!(e.properties||{}).hidden}function hV(e){return e.tagName==="td"||e.tagName==="th"}function pV(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function mV(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",u={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},b=t.optional(i)+e.IDENT_RE+"\\s*\\(",y=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],_=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],w=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],S=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],C={type:_,keyword:y,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:w},A={className:"function.dispatch",relevance:0,keywords:{_hint:S},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},T=[A,m,u,n,e.C_BLOCK_COMMENT_MODE,p,f],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:C,contains:T.concat([{begin:/\(/,end:/\)/,keywords:C,contains:T.concat(["self"]),relevance:0}]),relevance:0},P={className:"function",begin:"("+l+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:C,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:C,relevance:0},{begin:b,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,p]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:C,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,p,u,{begin:/\(/,end:/\)/,keywords:C,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,p,u]}]},u,n,e.C_BLOCK_COMMENT_MODE,m]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:C,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,P,A,T,[m,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:C,contains:["self",u]},{begin:e.IDENT_RE+"::",keywords:C},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function gV(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=mV(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function xV(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},o=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),l={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},u={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(u);const d={match:/\\"/},f={className:"string",begin:/'/,end:/'/},p={match:/\\'/},m={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},g=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],b=e.SHEBANG({binary:`(${g.join("|")})`,relevance:10}),y={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},_=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],w=["true","false"],S={match:/(\/[a-z._-]+)+/},j=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],N=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],C=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],A=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:_,literal:w,built_in:[...j,...N,"set","shopt",...C,...A]},contains:[b,e.SHEBANG(),y,m,o,l,S,u,d,f,p,n]}}function bV(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",l="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",u={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},b=t.optional(i)+e.IDENT_RE+"\\s*\\(",w={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},S=[m,u,n,e.C_BLOCK_COMMENT_MODE,p,f],j={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:w,contains:S.concat([{begin:/\(/,end:/\)/,keywords:w,contains:S.concat(["self"]),relevance:0}]),relevance:0},N={begin:"("+l+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:w,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:w,relevance:0},{begin:b,returnBegin:!0,contains:[e.inherit(g,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,p,u,{begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,p,u]}]},u,n,e.C_BLOCK_COMMENT_MODE,m]};return{name:"C",aliases:["h"],keywords:w,disableAutodetect:!0,illegal:"</",contains:[].concat(j,N,S,[m,{begin:e.IDENT_RE+"::",keywords:w},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:m,strings:f,keywords:w}}}function yV(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",u={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},b=t.optional(i)+e.IDENT_RE+"\\s*\\(",y=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],_=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],w=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],S=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],C={type:_,keyword:y,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:w},A={className:"function.dispatch",relevance:0,keywords:{_hint:S},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},T=[A,m,u,n,e.C_BLOCK_COMMENT_MODE,p,f],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:C,contains:T.concat([{begin:/\(/,end:/\)/,keywords:C,contains:T.concat(["self"]),relevance:0}]),relevance:0},P={className:"function",begin:"("+l+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:C,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:C,relevance:0},{begin:b,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,p]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:C,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,p,u,{begin:/\(/,end:/\)/,keywords:C,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,p,u]}]},u,n,e.C_BLOCK_COMMENT_MODE,m]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:C,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,P,A,T,[m,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:C,contains:["self",u]},{begin:e.IDENT_RE+"::",keywords:C},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function vV(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],o=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],l={keyword:i.concat(o),built_in:t,literal:r},u=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},f={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},p={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},m=e.inherit(p,{illegal:/\n/}),g={className:"subst",begin:/\{/,end:/\}/,keywords:l},b=e.inherit(g,{illegal:/\n/}),y={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,b]},_={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]},w=e.inherit(_,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},b]});g.contains=[_,y,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,e.C_BLOCK_COMMENT_MODE],b.contains=[w,y,m,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const S={variants:[f,_,y,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},j={begin:"<",end:">",contains:[{beginKeywords:"in out"},u]},N=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",C={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:l,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},S,d,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},u,j,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[u,j,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+N+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:l,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,j],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,relevance:0,contains:[S,d,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},C]}}const _V=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),wV=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],SV=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],NV=[...wV,...SV],EV=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),kV=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),jV=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),CV=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function TV(e){const t=e.regex,n=_V(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",o=/@-?\w[\w]*(-\w+)*/,l="[a-zA-Z-][a-zA-Z0-9_-]*",u=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+l,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+kV.join("|")+")"},{begin:":(:)?("+jV.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+CV.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...u,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...u,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:EV.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...u,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+NV.join("|")+")\\b"}]}}function AV(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function MV(e){const o={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:o,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:o,illegal:/["']/}]}]}}function RV(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function OV(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},u={begin:/\[/,end:/\]/,contains:[r,o,i,l,n,"self"],relevance:0},d=/[A-Za-z0-9_-]+/,f=/"(\\"|[^"])*"/,p=/'[^']*'/,m=t.either(d,f,p),g=t.concat(m,"(\\s*\\.\\s*",m,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:g,className:"attr",starts:{end:/$/,contains:[r,u,o,i,l,n]}}]}}var tl="[0-9](_*[0-9])*",Ef=`\\.(${tl})`,kf="[0-9a-fA-F](_*[0-9a-fA-F])*",zj={className:"number",variants:[{begin:`(\\b(${tl})((${Ef})|\\.)?|(${Ef}))[eE][+-]?(${tl})[fFdD]?\\b`},{begin:`\\b(${tl})((${Ef})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ef})[fFdD]?\\b`},{begin:`\\b(${tl})[fFdD]\\b`},{begin:`\\b0[xX]((${kf})\\.?|(${kf})?\\.(${kf}))[pP][+-]?(${tl})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${kf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function bD(e,t,n){return n===-1?"":e.replace(t,r=>bD(e,t,n-1))}function DV(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+bD("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),d={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},f={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},p={className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:d,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[p,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:d,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[f,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,zj,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},zj,f]}}const Pj="[A-Za-z$_][0-9A-Za-z$_]*",LV=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],IV=["true","false","null","undefined","NaN","Infinity"],yD=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],vD=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],_D=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],zV=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],PV=[].concat(_D,yD,vD);function BV(e){const t=e.regex,n=(W,{after:K})=>{const D="</"+W[0].slice(1);return W.input.indexOf(D,K)!==-1},r=Pj,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,K)=>{const D=W[0].length+W.index,$=W.input[D];if($==="<"||$===","){K.ignoreMatch();return}$===">"&&(n(W,{after:D})||K.ignoreMatch());let H;const I=W.input.substring(D);if(H=I.match(/^\s*=/)){K.ignoreMatch();return}if((H=I.match(/^\s+extends\s+/))&&H.index===0){K.ignoreMatch();return}}},u={$pattern:Pj,keyword:LV,literal:IV,built_in:PV,"variable.language":zV},d="[0-9](_?[0-9])*",f=`\\.(${d})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${p})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${p})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:u,contains:[]},b={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},_={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},j={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},N=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,y,_,w,{match:/\$\d+/},m];g.contains=N.concat({begin:/\{/,end:/\}/,keywords:u,contains:["self"].concat(N)});const C=[].concat(j,g.contains),A=C.concat([{begin:/(\s*)\(/,end:/\)/,keywords:u,contains:["self"].concat(C)}]),T={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:A},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},P={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...yD,...vD]}},U={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},z={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function q(W){return t.concat("(?!",W.join("|"),")")}const Y={match:t.concat(/\b/,q([..._D,"super","import"].map(W=>`${W}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},L={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},F={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},B="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",X={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(B)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:u,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:P},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),U,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,y,_,w,j,{match:/\$\d+/},m,P,{scope:"attr",match:r+t.lookahead(":"),relevance:0},X,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[j,e.REGEXP_MODE,{className:"function",begin:B,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},L,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},Y,R,M,F,{match:/\$[(.]/}]}}function $V(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var nl="[0-9](_*[0-9])*",jf=`\\.(${nl})`,Cf="[0-9a-fA-F](_*[0-9a-fA-F])*",UV={className:"number",variants:[{begin:`(\\b(${nl})((${jf})|\\.)?|(${jf}))[eE][+-]?(${nl})[fFdD]?\\b`},{begin:`\\b(${nl})((${jf})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${jf})[fFdD]?\\b`},{begin:`\\b(${nl})[fFdD]\\b`},{begin:`\\b0[xX]((${Cf})\\.?|(${Cf})?\\.(${Cf}))[pP][+-]?(${nl})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Cf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function qV(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},l={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,o,i]}]};i.contains.push(l);const u={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},d={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(l,{className:"string"}),"self"]}]},f=UV,p=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),m={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},g=m;return g.variants[1].contains=[m],m.variants[1].contains=[g],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,p,n,r,u,d,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[m,e.C_LINE_COMMENT_MODE,p],relevance:0},e.C_LINE_COMMENT_MODE,p,u,d,l,e.C_NUMBER_MODE]},p]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},u,d]},l,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},f]}}const FV=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),HV=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],GV=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],VV=[...HV,...GV],KV=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),wD=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),SD=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),YV=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),WV=wD.concat(SD).sort().reverse();function XV(e){const t=FV(e),n=WV,r="and or not only",i="[\\w-]+",o="("+i+"|@\\{"+i+"\\})",l=[],u=[],d=function(N){return{className:"string",begin:"~?"+N+".*?"+N}},f=function(N,C,A){return{className:N,begin:C,relevance:A}},p={$pattern:/[a-z-]+/,keyword:r,attribute:KV.join(" ")},m={begin:"\\(",end:"\\)",contains:u,keywords:p,relevance:0};u.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,d("'"),d('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,m,f("variable","@@?"+i,10),f("variable","@\\{"+i+"\\}"),f("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const g=u.concat({begin:/\{/,end:/\}/,contains:l}),b={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(u)},y={begin:o+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+YV.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:u}}]},_={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:p,returnEnd:!0,contains:u,relevance:0}},w={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:g}},S={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:o,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,b,f("keyword","all\\b"),f("variable","@\\{"+i+"\\}"),{begin:"\\b("+VV.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,f("selector-tag",o,0),f("selector-id","#"+o),f("selector-class","\\."+o,0),f("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+wD.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+SD.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:g},{begin:"!important"},t.FUNCTION_DISPATCH]},j={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[S]};return l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,_,w,j,y,S,b,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:l}}function ZV(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function QV(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},l={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,o,l]}}function JV(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},o={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},l={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},u=/[A-Za-z][A-Za-z0-9+.-]*/,d={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,u,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},f={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},p={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},m=e.inherit(f,{contains:[]}),g=e.inherit(p,{contains:[]});f.contains.push(g),p.contains.push(m);let b=[n,d];return[f,p,m,g].forEach(S=>{S.contains=S.contains.concat(b)}),b=b.concat(f,p),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:b},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:b}]}]},n,o,f,p,{className:"quote",begin:"^>\\s+",contains:b,end:"$"},i,r,d,l,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function eK(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,u={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},d={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:u,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+d.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:d,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function tK(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},o={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},l={begin:/->\{/,end:/\}/},u={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},d={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[u]},f={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},p=[e.BACKSLASH_ESCAPE,o,d],m=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],g=(_,w,S="\\1")=>{const j=S==="\\1"?S:t.concat(S,w);return t.concat(t.concat("(?:",_,")"),w,/(?:\\.|[^\\\/])*?/,j,/(?:\\.|[^\\\/])*?/,S,r)},b=(_,w,S)=>t.concat(t.concat("(?:",_,")"),w,/(?:\\.|[^\\\/])*?/,S,r),y=[d,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),l,{className:"string",contains:p,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},f,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:g("s|tr|y",t.either(...m,{capture:!0}))},{begin:g("s|tr|y","\\(","\\)")},{begin:g("s|tr|y","\\[","\\]")},{begin:g("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:b("(?:m|qr)?",/\//,/\//)},{begin:b("m|qr",t.either(...m,{capture:!0}),/\1/)},{begin:b("m|qr",/\(/,/\)/)},{begin:b("m|qr",/\[/,/\]/)},{begin:b("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,u]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,u,f]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return o.contains=y,l.contains=y,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:y}}function nK(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o=t.concat(/[A-Z]+/,n),l={scope:"variable",match:"\\$+"+r},u={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},d={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},f=e.inherit(e.APOS_STRING_MODE,{illegal:null}),p=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(d)}),m={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(d),"on:begin":(L,F)=>{F.data._beginMatch=L[1]||L[2]},"on:end":(L,F)=>{F.data._beginMatch!==L[1]&&F.ignoreMatch()}},g=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),b=`[ 	
]`,y={scope:"string",variants:[p,f,m,g]},_={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},w=["false","null","true"],S=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],j=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],C={keyword:S,literal:(L=>{const F=[];return L.forEach(B=>{F.push(B),B.toLowerCase()===B?F.push(B.toUpperCase()):F.push(B.toLowerCase())}),F})(w),built_in:j},A=L=>L.map(F=>F.replace(/\|\d+$/,"")),T={variants:[{match:[/new/,t.concat(b,"+"),t.concat("(?!",A(j).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},M=t.concat(r,"\\b(?!\\()"),P={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),M],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),M],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},U={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},z={relevance:0,begin:/\(/,end:/\)/,keywords:C,contains:[U,l,P,e.C_BLOCK_COMMENT_MODE,y,_,T]},R={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",A(S).join("\\b|"),"|",A(j).join("\\b|"),"\\b)"),r,t.concat(b,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[z]};z.contains.push(R);const q=[U,P,e.C_BLOCK_COMMENT_MODE,y,_,T],Y={begin:t.concat(/#\[\s*\\?/,t.either(i,o)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:w,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:w,keyword:["new","array"]},contains:["self",...q]},...q,{scope:"meta",variants:[{match:i},{match:o}]}]};return{case_insensitive:!1,keywords:C,contains:[Y,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},u,{scope:"variable.language",match:/\$this\b/},l,R,P,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},T,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:C,contains:["self",Y,l,P,e.C_BLOCK_COMMENT_MODE,y,_]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},y,_]}}function rK(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function iK(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function sK(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],u={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},d={className:"meta",begin:/^(>>>|\.\.\.) /},f={className:"subst",begin:/\{/,end:/\}/,keywords:u,illegal:/#/},p={begin:/\{\{/,relevance:0},m={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,d,p,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,d,p,f]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,p,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,p,f]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},g="[0-9](_?[0-9])*",b=`(\\b(${g}))?\\.(${g})|\\b(${g})\\.`,y=`\\b|${r.join("|")}`,_={className:"number",relevance:0,variants:[{begin:`(\\b(${g})|(${b}))[eE][+-]?(${g})[jJ]?(?=${y})`},{begin:`(${b})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${y})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${y})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${y})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${y})`},{begin:`\\b(${g})[jJ](?=${y})`}]},w={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:u,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},S={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:["self",d,_,m,e.HASH_COMMENT_MODE]}]};return f.contains=[m,_,d],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:u,illegal:/(<\/|\?)|=>/,contains:[d,_,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},m,w,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[S]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[_,S,m]}]}}function aK(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function oK(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[o,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function lK(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),l={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},u={className:"doctag",begin:"@[A-Za-z]+"},d={begin:"#<",end:">"},f=[e.COMMENT("#","$",{contains:[u]}),e.COMMENT("^=begin","^=end",{contains:[u],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],p={className:"subst",begin:/#\{/,end:/\}/,keywords:l},m={className:"string",contains:[e.BACKSLASH_ESCAPE,p],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,p]})]}]},g="[1-9](_?[0-9])*|0",b="[0-9](_?[0-9])*",y={className:"number",relevance:0,variants:[{begin:`\\b(${g})(\\.(${b}))?([eE][+-]?(${b})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},_={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:l}]},T=[m,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:l},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:l},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[_]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[m,{begin:n}],relevance:0},y,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:l},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,p],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(d,f),relevance:0}].concat(d,f);p.contains=T,_.contains=T;const z=[{begin:/^\s*=>/,starts:{end:"$",contains:T}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:l,contains:T}}];return f.unshift(d),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:l,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(z).concat(f).concat(T)}}function cK(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),o={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},l="([ui](8|16|32|64|128|size)|f(32|64))?",u=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],d=["true","false","Some","None","Ok","Err"],f=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],p=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:p,keyword:u,literal:d,built_in:f},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+l},{begin:"\\b0o([0-7_]+)"+l},{begin:"\\b0x([A-Fa-f0-9_]+)"+l},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+l}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:f,type:p}},{className:"punctuation",begin:"->"},o]}}const uK=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),dK=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],fK=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],hK=[...dK,...fK],pK=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),mK=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),gK=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),xK=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function bK(e){const t=uK(e),n=gK,r=mK,i="@[a-z-]+",o="and or not only",u={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+hK.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},u,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+xK.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,u,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:pK.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},u,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function yK(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function vK(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},o=["true","false","unknown"],l=["double precision","large object","with timezone","without timezone"],u=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],d=["add","asc","collation","desc","final","first","last","view"],f=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],p=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],m=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],b=p,y=[...f,...d].filter(A=>!p.includes(A)),_={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},w={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},S={match:t.concat(/\b/,t.either(...b),/\s*\(/),relevance:0,keywords:{built_in:b}};function j(A){return t.concat(/\b/,t.either(...A.map(T=>T.replace(/\s+/,"\\s+"))),/\b/)}const N={scope:"keyword",match:j(g),relevance:0};function C(A,{exceptions:T,when:M}={}){const P=M;return T=T||[],A.map(U=>U.match(/\|\d+$/)||T.includes(U)?U:P(U)?`${U}|0`:U)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:C(y,{when:A=>A.length<3}),literal:o,type:u,built_in:m},contains:[{scope:"type",match:j(l)},N,S,_,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,w]}}function ND(e){return e?typeof e=="string"?e:e.source:null}function Kc(e){return Xt("(?=",e,")")}function Xt(...e){return e.map(n=>ND(n)).join("")}function _K(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function mr(...e){return"("+(_K(e).capture?"":"?:")+e.map(r=>ND(r)).join("|")+")"}const Iw=e=>Xt(/\b/,e,/\w$/.test(e)?/\b/:/\B/),wK=["Protocol","Type"].map(Iw),Bj=["init","self"].map(Iw),SK=["Any","Self"],f0=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],$j=["false","nil","true"],NK=["assignment","associativity","higherThan","left","lowerThan","none","right"],EK=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Uj=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ED=mr(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),kD=mr(ED,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),h0=Xt(ED,kD,"*"),jD=mr(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),gh=mr(jD,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Gi=Xt(jD,gh,"*"),Tf=Xt(/[A-Z]/,gh,"*"),kK=["attached","autoclosure",Xt(/convention\(/,mr("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Xt(/objc\(/,Gi,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],jK=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function CK(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,mr(...wK,...Bj)],className:{2:"keyword"}},o={match:Xt(/\./,mr(...f0)),relevance:0},l=f0.filter(be=>typeof be=="string").concat(["_|0"]),u=f0.filter(be=>typeof be!="string").concat(SK).map(Iw),d={variants:[{className:"keyword",match:mr(...u,...Bj)}]},f={$pattern:mr(/\b\w+/,/#\w+/),keyword:l.concat(EK),literal:$j},p=[i,o,d],m={match:Xt(/\./,mr(...Uj)),relevance:0},g={className:"built_in",match:Xt(/\b/,mr(...Uj),/(?=\()/)},b=[m,g],y={match:/->/,relevance:0},_={className:"operator",relevance:0,variants:[{match:h0},{match:`\\.(\\.|${kD})+`}]},w=[y,_],S="([0-9]_*)+",j="([0-9a-fA-F]_*)+",N={className:"number",relevance:0,variants:[{match:`\\b(${S})(\\.(${S}))?([eE][+-]?(${S}))?\\b`},{match:`\\b0x(${j})(\\.(${j}))?([pP][+-]?(${S}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},C=(be="")=>({className:"subst",variants:[{match:Xt(/\\/,be,/[0\\tnr"']/)},{match:Xt(/\\/,be,/u\{[0-9a-fA-F]{1,8}\}/)}]}),A=(be="")=>({className:"subst",match:Xt(/\\/,be,/[\t ]*(?:[\r\n]|\r\n)/)}),T=(be="")=>({className:"subst",label:"interpol",begin:Xt(/\\/,be,/\(/),end:/\)/}),M=(be="")=>({begin:Xt(be,/"""/),end:Xt(/"""/,be),contains:[C(be),A(be),T(be)]}),P=(be="")=>({begin:Xt(be,/"/),end:Xt(/"/,be),contains:[C(be),T(be)]}),U={className:"string",variants:[M(),M("#"),M("##"),M("###"),P(),P("#"),P("##"),P("###")]},z=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],R={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:z},q=be=>{const je=Xt(be,/\//),qe=Xt(/\//,be);return{begin:je,end:qe,contains:[...z,{scope:"comment",begin:`#(?!.*${qe})`,end:/$/}]}},Y={scope:"regexp",variants:[q("###"),q("##"),q("#"),R]},L={match:Xt(/`/,Gi,/`/)},F={className:"variable",match:/\$\d+/},B={className:"variable",match:`\\$${gh}+`},X=[L,F,B],W={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:jK,contains:[...w,N,U]}]}},K={scope:"keyword",match:Xt(/@/,mr(...kK),Kc(mr(/\(/,/\s+/)))},D={scope:"meta",match:Xt(/@/,Gi)},$=[W,K,D],H={match:Kc(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Xt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,gh,"+")},{className:"type",match:Tf,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Xt(/\s+&\s+/,Kc(Tf)),relevance:0}]},I={begin:/</,end:/>/,keywords:f,contains:[...r,...p,...$,y,H]};H.contains.push(I);const V={match:Xt(Gi,/\s*:/),keywords:"_|0",relevance:0},Z={begin:/\(/,end:/\)/,relevance:0,keywords:f,contains:["self",V,...r,Y,...p,...b,...w,N,U,...X,...$,H]},Q={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,H]},ae={begin:mr(Kc(Xt(Gi,/\s*:/)),Kc(Xt(Gi,/\s+/,Gi,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Gi}]},te={begin:/\(/,end:/\)/,keywords:f,contains:[ae,...r,...p,...w,N,U,...$,H,Z],endsParent:!0,illegal:/["']/},ne={match:[/(func|macro)/,/\s+/,mr(L.match,Gi,h0)],className:{1:"keyword",3:"title.function"},contains:[Q,te,t],illegal:[/\[/,/%/]},de={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Q,te,t],illegal:/\[|%/},ge={match:[/operator/,/\s+/,h0],className:{1:"keyword",3:"title"}},re={begin:[/precedencegroup/,/\s+/,Tf],className:{1:"keyword",3:"title"},contains:[H],keywords:[...NK,...$j],end:/}/},ue={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},_e={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},we={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Gi,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:f,contains:[Q,...p,{begin:/:/,end:/\{/,keywords:f,contains:[{scope:"title.class.inherited",match:Tf},...p],relevance:0}]};for(const be of U.variants){const je=be.contains.find(it=>it.label==="interpol");je.keywords=f;const qe=[...p,...b,...w,N,U,...X];je.contains=[...qe,{begin:/\(/,end:/\)/,contains:["self",...qe]}]}return{name:"Swift",keywords:f,contains:[...r,ne,de,ue,_e,we,ge,re,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},Y,...p,...b,...w,N,U,...X,...$,H,Z]}}const xh="[A-Za-z$_][0-9A-Za-z$_]*",CD=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],TD=["true","false","null","undefined","NaN","Infinity"],AD=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],MD=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],RD=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],OD=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],DD=[].concat(RD,AD,MD);function TK(e){const t=e.regex,n=(W,{after:K})=>{const D="</"+W[0].slice(1);return W.input.indexOf(D,K)!==-1},r=xh,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,K)=>{const D=W[0].length+W.index,$=W.input[D];if($==="<"||$===","){K.ignoreMatch();return}$===">"&&(n(W,{after:D})||K.ignoreMatch());let H;const I=W.input.substring(D);if(H=I.match(/^\s*=/)){K.ignoreMatch();return}if((H=I.match(/^\s+extends\s+/))&&H.index===0){K.ignoreMatch();return}}},u={$pattern:xh,keyword:CD,literal:TD,built_in:DD,"variable.language":OD},d="[0-9](_?[0-9])*",f=`\\.(${d})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${p})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${p})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:u,contains:[]},b={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},_={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},j={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},N=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,y,_,w,{match:/\$\d+/},m];g.contains=N.concat({begin:/\{/,end:/\}/,keywords:u,contains:["self"].concat(N)});const C=[].concat(j,g.contains),A=C.concat([{begin:/(\s*)\(/,end:/\)/,keywords:u,contains:["self"].concat(C)}]),T={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:A},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},P={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...AD,...MD]}},U={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},z={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function q(W){return t.concat("(?!",W.join("|"),")")}const Y={match:t.concat(/\b/,q([...RD,"super","import"].map(W=>`${W}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},L={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},F={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},B="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",X={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(B)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:u,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:P},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),U,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,y,_,w,j,{match:/\$\d+/},m,P,{scope:"attr",match:r+t.lookahead(":"),relevance:0},X,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[j,e.REGEXP_MODE,{className:"function",begin:B,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},L,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},Y,R,M,F,{match:/\$[(.]/}]}}function AK(e){const t=e.regex,n=TK(e),r=xh,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],o={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},l={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},u={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},d=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],f={$pattern:xh,keyword:CD.concat(d),literal:TD,built_in:DD.concat(i),"variable.language":OD},p={className:"meta",begin:"@"+r},m=(_,w,S)=>{const j=_.contains.findIndex(N=>N.label===w);if(j===-1)throw new Error("can not find mode to replace");_.contains.splice(j,1,S)};Object.assign(n.keywords,f),n.exports.PARAMS_CONTAINS.push(p);const g=n.contains.find(_=>_.scope==="attr"),b=Object.assign({},g,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,g,b]),n.contains=n.contains.concat([p,o,l,b]),m(n,"shebang",e.SHEBANG()),m(n,"use_strict",u);const y=n.contains.find(_=>_.label==="func.def");return y.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function MK(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,o=/\d{4}-\d{1,2}-\d{1,2}/,l=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,u=/\d{1,2}(:\d{1,2}){1,2}/,d={className:"literal",variants:[{begin:t.concat(/# */,t.either(o,i),/ *#/)},{begin:t.concat(/# */,u,/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,t.either(o,i),/ +/,t.either(l,u),/ *#/)}]},f={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},p={className:"label",begin:/^\w+:/},m=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),g=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,d,f,p,m,g,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[g]}]}}function RK(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},o={className:"variable",begin:/\$[\w_]+/},l={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},u={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},d={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},f={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},o,l,i,e.QUOTE_STRING_MODE,d,f,u]}}function OK(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},l=e.inherit(o,{begin:/\(/,end:/\)/}),u=e.inherit(e.APOS_STRING_MODE,{className:"string"}),d=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),f={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,d,u,l,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,l,d,u]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[d]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[f],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[f],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:f}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function DK(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},o={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},l={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},u=e.inherit(l,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),g={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},b={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},y={begin:/\{/,end:/\}/,contains:[b],illegal:"\\n",relevance:0},_={begin:"\\[",end:"\\]",contains:[b],illegal:"\\n",relevance:0},w=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},g,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},y,_,o,l],S=[...w];return S.pop(),S.push(u),b.contains=S,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:w}}const LK={arduino:gV,bash:xV,c:bV,cpp:yV,csharp:vV,css:TV,diff:AV,go:MV,graphql:RV,ini:OV,java:DV,javascript:BV,json:$V,kotlin:qV,less:XV,lua:ZV,makefile:QV,markdown:JV,objectivec:eK,perl:tK,php:nK,"php-template":rK,plaintext:iK,python:sK,"python-repl":aK,r:oK,ruby:lK,rust:cK,scss:bK,shell:yK,sql:vK,swift:CK,typescript:AK,vbnet:MK,wasm:RK,xml:OK,yaml:DK};var p0,qj;function IK(){if(qj)return p0;qj=1;function e(J){return J instanceof Map?J.clear=J.delete=J.set=function(){throw new Error("map is read-only")}:J instanceof Set&&(J.add=J.clear=J.delete=function(){throw new Error("set is read-only")}),Object.freeze(J),Object.getOwnPropertyNames(J).forEach(pe=>{const Ee=J[pe],De=typeof Ee;(De==="object"||De==="function")&&!Object.isFrozen(Ee)&&e(Ee)}),J}class t{constructor(pe){pe.data===void 0&&(pe.data={}),this.data=pe.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(J){return J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(J,...pe){const Ee=Object.create(null);for(const De in J)Ee[De]=J[De];return pe.forEach(function(De){for(const rt in De)Ee[rt]=De[rt]}),Ee}const i="</span>",o=J=>!!J.scope,l=(J,{prefix:pe})=>{if(J.startsWith("language:"))return J.replace("language:","language-");if(J.includes(".")){const Ee=J.split(".");return[`${pe}${Ee.shift()}`,...Ee.map((De,rt)=>`${De}${"_".repeat(rt+1)}`)].join(" ")}return`${pe}${J}`};class u{constructor(pe,Ee){this.buffer="",this.classPrefix=Ee.classPrefix,pe.walk(this)}addText(pe){this.buffer+=n(pe)}openNode(pe){if(!o(pe))return;const Ee=l(pe.scope,{prefix:this.classPrefix});this.span(Ee)}closeNode(pe){o(pe)&&(this.buffer+=i)}value(){return this.buffer}span(pe){this.buffer+=`<span class="${pe}">`}}const d=(J={})=>{const pe={children:[]};return Object.assign(pe,J),pe};class f{constructor(){this.rootNode=d(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(pe){this.top.children.push(pe)}openNode(pe){const Ee=d({scope:pe});this.add(Ee),this.stack.push(Ee)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(pe){return this.constructor._walk(pe,this.rootNode)}static _walk(pe,Ee){return typeof Ee=="string"?pe.addText(Ee):Ee.children&&(pe.openNode(Ee),Ee.children.forEach(De=>this._walk(pe,De)),pe.closeNode(Ee)),pe}static _collapse(pe){typeof pe!="string"&&pe.children&&(pe.children.every(Ee=>typeof Ee=="string")?pe.children=[pe.children.join("")]:pe.children.forEach(Ee=>{f._collapse(Ee)}))}}class p extends f{constructor(pe){super(),this.options=pe}addText(pe){pe!==""&&this.add(pe)}startScope(pe){this.openNode(pe)}endScope(){this.closeNode()}__addSublanguage(pe,Ee){const De=pe.root;Ee&&(De.scope=`language:${Ee}`),this.add(De)}toHTML(){return new u(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function m(J){return J?typeof J=="string"?J:J.source:null}function g(J){return _("(?=",J,")")}function b(J){return _("(?:",J,")*")}function y(J){return _("(?:",J,")?")}function _(...J){return J.map(Ee=>m(Ee)).join("")}function w(J){const pe=J[J.length-1];return typeof pe=="object"&&pe.constructor===Object?(J.splice(J.length-1,1),pe):{}}function S(...J){return"("+(w(J).capture?"":"?:")+J.map(De=>m(De)).join("|")+")"}function j(J){return new RegExp(J.toString()+"|").exec("").length-1}function N(J,pe){const Ee=J&&J.exec(pe);return Ee&&Ee.index===0}const C=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function A(J,{joinWith:pe}){let Ee=0;return J.map(De=>{Ee+=1;const rt=Ee;let lt=m(De),Te="";for(;lt.length>0;){const Ae=C.exec(lt);if(!Ae){Te+=lt;break}Te+=lt.substring(0,Ae.index),lt=lt.substring(Ae.index+Ae[0].length),Ae[0][0]==="\\"&&Ae[1]?Te+="\\"+String(Number(Ae[1])+rt):(Te+=Ae[0],Ae[0]==="("&&Ee++)}return Te}).map(De=>`(${De})`).join(pe)}const T=/\b\B/,M="[a-zA-Z]\\w*",P="[a-zA-Z_]\\w*",U="\\b\\d+(\\.\\d+)?",z="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",R="\\b(0b[01]+)",q="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Y=(J={})=>{const pe=/^#![ ]*\//;return J.binary&&(J.begin=_(pe,/.*\b/,J.binary,/\b.*/)),r({scope:"meta",begin:pe,end:/$/,relevance:0,"on:begin":(Ee,De)=>{Ee.index!==0&&De.ignoreMatch()}},J)},L={begin:"\\\\[\\s\\S]",relevance:0},F={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[L]},B={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[L]},X={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},W=function(J,pe,Ee={}){const De=r({scope:"comment",begin:J,end:pe,contains:[]},Ee);De.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const rt=S("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return De.contains.push({begin:_(/[ ]+/,"(",rt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),De},K=W("//","$"),D=W("/\\*","\\*/"),$=W("#","$"),H={scope:"number",begin:U,relevance:0},I={scope:"number",begin:z,relevance:0},V={scope:"number",begin:R,relevance:0},Z={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[L,{begin:/\[/,end:/\]/,relevance:0,contains:[L]}]},Q={scope:"title",begin:M,relevance:0},ae={scope:"title",begin:P,relevance:0},te={begin:"\\.\\s*"+P,relevance:0};var de=Object.freeze({__proto__:null,APOS_STRING_MODE:F,BACKSLASH_ESCAPE:L,BINARY_NUMBER_MODE:V,BINARY_NUMBER_RE:R,COMMENT:W,C_BLOCK_COMMENT_MODE:D,C_LINE_COMMENT_MODE:K,C_NUMBER_MODE:I,C_NUMBER_RE:z,END_SAME_AS_BEGIN:function(J){return Object.assign(J,{"on:begin":(pe,Ee)=>{Ee.data._beginMatch=pe[1]},"on:end":(pe,Ee)=>{Ee.data._beginMatch!==pe[1]&&Ee.ignoreMatch()}})},HASH_COMMENT_MODE:$,IDENT_RE:M,MATCH_NOTHING_RE:T,METHOD_GUARD:te,NUMBER_MODE:H,NUMBER_RE:U,PHRASAL_WORDS_MODE:X,QUOTE_STRING_MODE:B,REGEXP_MODE:Z,RE_STARTERS_RE:q,SHEBANG:Y,TITLE_MODE:Q,UNDERSCORE_IDENT_RE:P,UNDERSCORE_TITLE_MODE:ae});function ge(J,pe){J.input[J.index-1]==="."&&pe.ignoreMatch()}function re(J,pe){J.className!==void 0&&(J.scope=J.className,delete J.className)}function ue(J,pe){pe&&J.beginKeywords&&(J.begin="\\b("+J.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",J.__beforeBegin=ge,J.keywords=J.keywords||J.beginKeywords,delete J.beginKeywords,J.relevance===void 0&&(J.relevance=0))}function _e(J,pe){Array.isArray(J.illegal)&&(J.illegal=S(...J.illegal))}function we(J,pe){if(J.match){if(J.begin||J.end)throw new Error("begin & end are not supported with match");J.begin=J.match,delete J.match}}function be(J,pe){J.relevance===void 0&&(J.relevance=1)}const je=(J,pe)=>{if(!J.beforeMatch)return;if(J.starts)throw new Error("beforeMatch cannot be used with starts");const Ee=Object.assign({},J);Object.keys(J).forEach(De=>{delete J[De]}),J.keywords=Ee.keywords,J.begin=_(Ee.beforeMatch,g(Ee.begin)),J.starts={relevance:0,contains:[Object.assign(Ee,{endsParent:!0})]},J.relevance=0,delete Ee.beforeMatch},qe=["of","and","for","in","not","or","if","then","parent","list","value"],it="keyword";function Ht(J,pe,Ee=it){const De=Object.create(null);return typeof J=="string"?rt(Ee,J.split(" ")):Array.isArray(J)?rt(Ee,J):Object.keys(J).forEach(function(lt){Object.assign(De,Ht(J[lt],pe,lt))}),De;function rt(lt,Te){pe&&(Te=Te.map(Ae=>Ae.toLowerCase())),Te.forEach(function(Ae){const Le=Ae.split("|");De[Le[0]]=[lt,mn(Le[0],Le[1])]})}}function mn(J,pe){return pe?Number(pe):rn(J)?0:1}function rn(J){return qe.includes(J.toLowerCase())}const Dt={},ht=J=>{console.error(J)},Gn=(J,...pe)=>{console.log(`WARN: ${J}`,...pe)},he=(J,pe)=>{Dt[`${J}/${pe}`]||(console.log(`Deprecated as of ${J}. ${pe}`),Dt[`${J}/${pe}`]=!0)},Se=new Error;function Re(J,pe,{key:Ee}){let De=0;const rt=J[Ee],lt={},Te={};for(let Ae=1;Ae<=pe.length;Ae++)Te[Ae+De]=rt[Ae],lt[Ae+De]=!0,De+=j(pe[Ae-1]);J[Ee]=Te,J[Ee]._emit=lt,J[Ee]._multi=!0}function He(J){if(Array.isArray(J.begin)){if(J.skip||J.excludeBegin||J.returnBegin)throw ht("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Se;if(typeof J.beginScope!="object"||J.beginScope===null)throw ht("beginScope must be object"),Se;Re(J,J.begin,{key:"beginScope"}),J.begin=A(J.begin,{joinWith:""})}}function We(J){if(Array.isArray(J.end)){if(J.skip||J.excludeEnd||J.returnEnd)throw ht("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Se;if(typeof J.endScope!="object"||J.endScope===null)throw ht("endScope must be object"),Se;Re(J,J.end,{key:"endScope"}),J.end=A(J.end,{joinWith:""})}}function Gt(J){J.scope&&typeof J.scope=="object"&&J.scope!==null&&(J.beginScope=J.scope,delete J.scope)}function qn(J){Gt(J),typeof J.beginScope=="string"&&(J.beginScope={_wrap:J.beginScope}),typeof J.endScope=="string"&&(J.endScope={_wrap:J.endScope}),He(J),We(J)}function Lt(J){function pe(Te,Ae){return new RegExp(m(Te),"m"+(J.case_insensitive?"i":"")+(J.unicodeRegex?"u":"")+(Ae?"g":""))}class Ee{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Ae,Le){Le.position=this.position++,this.matchIndexes[this.matchAt]=Le,this.regexes.push([Le,Ae]),this.matchAt+=j(Ae)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Ae=this.regexes.map(Le=>Le[1]);this.matcherRe=pe(A(Ae,{joinWith:"|"}),!0),this.lastIndex=0}exec(Ae){this.matcherRe.lastIndex=this.lastIndex;const Le=this.matcherRe.exec(Ae);if(!Le)return null;const _t=Le.findIndex((Zn,Qn)=>Qn>0&&Zn!==void 0),wt=this.matchIndexes[_t];return Le.splice(0,_t),Object.assign(Le,wt)}}class De{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Ae){if(this.multiRegexes[Ae])return this.multiRegexes[Ae];const Le=new Ee;return this.rules.slice(Ae).forEach(([_t,wt])=>Le.addRule(_t,wt)),Le.compile(),this.multiRegexes[Ae]=Le,Le}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Ae,Le){this.rules.push([Ae,Le]),Le.type==="begin"&&this.count++}exec(Ae){const Le=this.getMatcher(this.regexIndex);Le.lastIndex=this.lastIndex;let _t=Le.exec(Ae);if(this.resumingScanAtSamePosition()&&!(_t&&_t.index===this.lastIndex)){const wt=this.getMatcher(0);wt.lastIndex=this.lastIndex+1,_t=wt.exec(Ae)}return _t&&(this.regexIndex+=_t.position+1,this.regexIndex===this.count&&this.considerAll()),_t}}function rt(Te){const Ae=new De;return Te.contains.forEach(Le=>Ae.addRule(Le.begin,{rule:Le,type:"begin"})),Te.terminatorEnd&&Ae.addRule(Te.terminatorEnd,{type:"end"}),Te.illegal&&Ae.addRule(Te.illegal,{type:"illegal"}),Ae}function lt(Te,Ae){const Le=Te;if(Te.isCompiled)return Le;[re,we,qn,je].forEach(wt=>wt(Te,Ae)),J.compilerExtensions.forEach(wt=>wt(Te,Ae)),Te.__beforeBegin=null,[ue,_e,be].forEach(wt=>wt(Te,Ae)),Te.isCompiled=!0;let _t=null;return typeof Te.keywords=="object"&&Te.keywords.$pattern&&(Te.keywords=Object.assign({},Te.keywords),_t=Te.keywords.$pattern,delete Te.keywords.$pattern),_t=_t||/\w+/,Te.keywords&&(Te.keywords=Ht(Te.keywords,J.case_insensitive)),Le.keywordPatternRe=pe(_t,!0),Ae&&(Te.begin||(Te.begin=/\B|\b/),Le.beginRe=pe(Le.begin),!Te.end&&!Te.endsWithParent&&(Te.end=/\B|\b/),Te.end&&(Le.endRe=pe(Le.end)),Le.terminatorEnd=m(Le.end)||"",Te.endsWithParent&&Ae.terminatorEnd&&(Le.terminatorEnd+=(Te.end?"|":"")+Ae.terminatorEnd)),Te.illegal&&(Le.illegalRe=pe(Te.illegal)),Te.contains||(Te.contains=[]),Te.contains=[].concat(...Te.contains.map(function(wt){return vn(wt==="self"?Te:wt)})),Te.contains.forEach(function(wt){lt(wt,Le)}),Te.starts&&lt(Te.starts,Ae),Le.matcher=rt(Le),Le}if(J.compilerExtensions||(J.compilerExtensions=[]),J.contains&&J.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return J.classNameAliases=r(J.classNameAliases||{}),lt(J)}function mt(J){return J?J.endsWithParent||mt(J.starts):!1}function vn(J){return J.variants&&!J.cachedVariants&&(J.cachedVariants=J.variants.map(function(pe){return r(J,{variants:null},pe)})),J.cachedVariants?J.cachedVariants:mt(J)?r(J,{starts:J.starts?r(J.starts):null}):Object.isFrozen(J)?r(J):J}var gt="11.11.1";class yr extends Error{constructor(pe,Ee){super(pe),this.name="HTMLInjectionError",this.html=Ee}}const Rn=n,Ps=r,bi=Symbol("nomatch"),Bi=7,tn=function(J){const pe=Object.create(null),Ee=Object.create(null),De=[];let rt=!0;const lt="Could not find the language '{}', did you forget to load/include a language module?",Te={disableAutodetect:!0,name:"Plain text",contains:[]};let Ae={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:p};function Le(Ne){return Ae.noHighlightRe.test(Ne)}function _t(Ne){let Pe=Ne.className+" ";Pe+=Ne.parentNode?Ne.parentNode.className:"";const Ze=Ae.languageDetectRe.exec(Pe);if(Ze){const Tt=Jn(Ze[1]);return Tt||(Gn(lt.replace("{}",Ze[1])),Gn("Falling back to no-highlight mode for this block.",Ne)),Tt?Ze[1]:"no-highlight"}return Pe.split(/\s+/).find(Tt=>Le(Tt)||Jn(Tt))}function wt(Ne,Pe,Ze){let Tt="",xn="";typeof Pe=="object"?(Tt=Ne,Ze=Pe.ignoreIllegals,xn=Pe.language):(he("10.7.0","highlight(lang, code, ...args) has been deprecated."),he("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),xn=Ne,Tt=Pe),Ze===void 0&&(Ze=!0);const Kn={code:Tt,language:xn};ns("before:highlight",Kn);const fr=Kn.result?Kn.result:Zn(Kn.language,Kn.code,Ze);return fr.code=Kn.code,ns("after:highlight",fr),fr}function Zn(Ne,Pe,Ze,Tt){const xn=Object.create(null);function Kn(Ce,Ie){return Ce.keywords[Ie]}function fr(){if(!Ge.keywords){Dn.addText(Bt);return}let Ce=0;Ge.keywordPatternRe.lastIndex=0;let Ie=Ge.keywordPatternRe.exec(Bt),Ye="";for(;Ie;){Ye+=Bt.substring(Ce,Ie.index);const ct=On.case_insensitive?Ie[0].toLowerCase():Ie[0],bn=Kn(Ge,ct);if(bn){const[Zr,Xl]=bn;if(Dn.addText(Ye),Ye="",xn[ct]=(xn[ct]||0)+1,xn[ct]<=Bi&&(qs+=Xl),Zr.startsWith("_"))Ye+=Ie[0];else{const ld=On.classNameAliases[Zr]||Zr;hr(Ie[0],ld)}}else Ye+=Ie[0];Ce=Ge.keywordPatternRe.lastIndex,Ie=Ge.keywordPatternRe.exec(Bt)}Ye+=Bt.substring(Ce),Dn.addText(Ye)}function sr(){if(Bt==="")return;let Ce=null;if(typeof Ge.subLanguage=="string"){if(!pe[Ge.subLanguage]){Dn.addText(Bt);return}Ce=Zn(Ge.subLanguage,Bt,!0,od[Ge.subLanguage]),od[Ge.subLanguage]=Ce._top}else Ce=vr(Bt,Ge.subLanguage.length?Ge.subLanguage:null);Ge.relevance>0&&(qs+=Ce.relevance),Dn.__addSublanguage(Ce._emitter,Ce.language)}function Vt(){Ge.subLanguage!=null?sr():fr(),Bt=""}function hr(Ce,Ie){Ce!==""&&(Dn.startScope(Ie),Dn.addText(Ce),Dn.endScope())}function yo(Ce,Ie){let Ye=1;const ct=Ie.length-1;for(;Ye<=ct;){if(!Ce._emit[Ye]){Ye++;continue}const bn=On.classNameAliases[Ce[Ye]]||Ce[Ye],Zr=Ie[Ye];bn?hr(Zr,bn):(Bt=Zr,fr(),Bt=""),Ye++}}function Si(Ce,Ie){return Ce.scope&&typeof Ce.scope=="string"&&Dn.openNode(On.classNameAliases[Ce.scope]||Ce.scope),Ce.beginScope&&(Ce.beginScope._wrap?(hr(Bt,On.classNameAliases[Ce.beginScope._wrap]||Ce.beginScope._wrap),Bt=""):Ce.beginScope._multi&&(yo(Ce.beginScope,Ie),Bt="")),Ge=Object.create(Ce,{parent:{value:Ge}}),Ge}function Ta(Ce,Ie,Ye){let ct=N(Ce.endRe,Ye);if(ct){if(Ce["on:end"]){const bn=new t(Ce);Ce["on:end"](Ie,bn),bn.isMatchIgnored&&(ct=!1)}if(ct){for(;Ce.endsParent&&Ce.parent;)Ce=Ce.parent;return Ce}}if(Ce.endsWithParent)return Ta(Ce.parent,Ie,Ye)}function rs(Ce){return Ge.matcher.regexIndex===0?(Bt+=Ce[0],1):(Fs=!0,0)}function Yl(Ce){const Ie=Ce[0],Ye=Ce.rule,ct=new t(Ye),bn=[Ye.__beforeBegin,Ye["on:begin"]];for(const Zr of bn)if(Zr&&(Zr(Ce,ct),ct.isMatchIgnored))return rs(Ie);return Ye.skip?Bt+=Ie:(Ye.excludeBegin&&(Bt+=Ie),Vt(),!Ye.returnBegin&&!Ye.excludeBegin&&(Bt=Ie)),Si(Ye,Ce),Ye.returnBegin?0:Ie.length}function ar(Ce){const Ie=Ce[0],Ye=Pe.substring(Ce.index),ct=Ta(Ge,Ce,Ye);if(!ct)return bi;const bn=Ge;Ge.endScope&&Ge.endScope._wrap?(Vt(),hr(Ie,Ge.endScope._wrap)):Ge.endScope&&Ge.endScope._multi?(Vt(),yo(Ge.endScope,Ce)):bn.skip?Bt+=Ie:(bn.returnEnd||bn.excludeEnd||(Bt+=Ie),Vt(),bn.excludeEnd&&(Bt=Ie));do Ge.scope&&Dn.closeNode(),!Ge.skip&&!Ge.subLanguage&&(qs+=Ge.relevance),Ge=Ge.parent;while(Ge!==ct.parent);return ct.starts&&Si(ct.starts,Ce),bn.returnEnd?0:Ie.length}function is(){const Ce=[];for(let Ie=Ge;Ie!==On;Ie=Ie.parent)Ie.scope&&Ce.unshift(Ie.scope);Ce.forEach(Ie=>Dn.openNode(Ie))}let ss={};function Us(Ce,Ie){const Ye=Ie&&Ie[0];if(Bt+=Ce,Ye==null)return Vt(),0;if(ss.type==="begin"&&Ie.type==="end"&&ss.index===Ie.index&&Ye===""){if(Bt+=Pe.slice(Ie.index,Ie.index+1),!rt){const ct=new Error(`0 width match regex (${Ne})`);throw ct.languageName=Ne,ct.badRule=ss.rule,ct}return 1}if(ss=Ie,Ie.type==="begin")return Yl(Ie);if(Ie.type==="illegal"&&!Ze){const ct=new Error('Illegal lexeme "'+Ye+'" for mode "'+(Ge.scope||"<unnamed>")+'"');throw ct.mode=Ge,ct}else if(Ie.type==="end"){const ct=ar(Ie);if(ct!==bi)return ct}if(Ie.type==="illegal"&&Ye==="")return Bt+=`
`,1;if(Wl>1e5&&Wl>Ie.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Bt+=Ye,Ye.length}const On=Jn(Ne);if(!On)throw ht(lt.replace("{}",Ne)),new Error('Unknown language: "'+Ne+'"');const ad=Lt(On);let vo="",Ge=Tt||ad;const od={},Dn=new Ae.__emitter(Ae);is();let Bt="",qs=0,as=0,Wl=0,Fs=!1;try{if(On.__emitTokens)On.__emitTokens(Pe,Dn);else{for(Ge.matcher.considerAll();;){Wl++,Fs?Fs=!1:Ge.matcher.considerAll(),Ge.matcher.lastIndex=as;const Ce=Ge.matcher.exec(Pe);if(!Ce)break;const Ie=Pe.substring(as,Ce.index),Ye=Us(Ie,Ce);as=Ce.index+Ye}Us(Pe.substring(as))}return Dn.finalize(),vo=Dn.toHTML(),{language:Ne,value:vo,relevance:qs,illegal:!1,_emitter:Dn,_top:Ge}}catch(Ce){if(Ce.message&&Ce.message.includes("Illegal"))return{language:Ne,value:Rn(Pe),illegal:!0,relevance:0,_illegalBy:{message:Ce.message,index:as,context:Pe.slice(as-100,as+100),mode:Ce.mode,resultSoFar:vo},_emitter:Dn};if(rt)return{language:Ne,value:Rn(Pe),illegal:!1,relevance:0,errorRaised:Ce,_emitter:Dn,_top:Ge};throw Ce}}function Qn(Ne){const Pe={value:Rn(Ne),illegal:!1,relevance:0,_top:Te,_emitter:new Ae.__emitter(Ae)};return Pe._emitter.addText(Ne),Pe}function vr(Ne,Pe){Pe=Pe||Ae.languages||Object.keys(pe);const Ze=Qn(Ne),Tt=Pe.filter(Jn).filter(_i).map(Vt=>Zn(Vt,Ne,!1));Tt.unshift(Ze);const xn=Tt.sort((Vt,hr)=>{if(Vt.relevance!==hr.relevance)return hr.relevance-Vt.relevance;if(Vt.language&&hr.language){if(Jn(Vt.language).supersetOf===hr.language)return 1;if(Jn(hr.language).supersetOf===Vt.language)return-1}return 0}),[Kn,fr]=xn,sr=Kn;return sr.secondBest=fr,sr}function ir(Ne,Pe,Ze){const Tt=Pe&&Ee[Pe]||Ze;Ne.classList.add("hljs"),Ne.classList.add(`language-${Tt}`)}function gn(Ne){let Pe=null;const Ze=_t(Ne);if(Le(Ze))return;if(ns("before:highlightElement",{el:Ne,language:Ze}),Ne.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",Ne);return}if(Ne.children.length>0&&(Ae.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(Ne)),Ae.throwUnescapedHTML))throw new yr("One of your code blocks includes unescaped HTML.",Ne.innerHTML);Pe=Ne;const Tt=Pe.textContent,xn=Ze?wt(Tt,{language:Ze,ignoreIllegals:!0}):vr(Tt);Ne.innerHTML=xn.value,Ne.dataset.highlighted="yes",ir(Ne,Ze,xn.language),Ne.result={language:xn.language,re:xn.relevance,relevance:xn.relevance},xn.secondBest&&(Ne.secondBest={language:xn.secondBest.language,relevance:xn.secondBest.relevance}),ns("after:highlightElement",{el:Ne,result:xn,text:Tt})}function Vn(Ne){Ae=Ps(Ae,Ne)}const yi=()=>{$s(),he("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Bs(){$s(),he("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let ja=!1;function $s(){function Ne(){$s()}if(document.readyState==="loading"){ja||window.addEventListener("DOMContentLoaded",Ne,!1),ja=!0;return}document.querySelectorAll(Ae.cssSelector).forEach(gn)}function xo(Ne,Pe){let Ze=null;try{Ze=Pe(J)}catch(Tt){if(ht("Language definition for '{}' could not be registered.".replace("{}",Ne)),rt)ht(Tt);else throw Tt;Ze=Te}Ze.name||(Ze.name=Ne),pe[Ne]=Ze,Ze.rawDefinition=Pe.bind(null,J),Ze.aliases&&vi(Ze.aliases,{languageName:Ne})}function ts(Ne){delete pe[Ne];for(const Pe of Object.keys(Ee))Ee[Pe]===Ne&&delete Ee[Pe]}function Ca(){return Object.keys(pe)}function Jn(Ne){return Ne=(Ne||"").toLowerCase(),pe[Ne]||pe[Ee[Ne]]}function vi(Ne,{languageName:Pe}){typeof Ne=="string"&&(Ne=[Ne]),Ne.forEach(Ze=>{Ee[Ze.toLowerCase()]=Pe})}function _i(Ne){const Pe=Jn(Ne);return Pe&&!Pe.disableAutodetect}function $i(Ne){Ne["before:highlightBlock"]&&!Ne["before:highlightElement"]&&(Ne["before:highlightElement"]=Pe=>{Ne["before:highlightBlock"](Object.assign({block:Pe.el},Pe))}),Ne["after:highlightBlock"]&&!Ne["after:highlightElement"]&&(Ne["after:highlightElement"]=Pe=>{Ne["after:highlightBlock"](Object.assign({block:Pe.el},Pe))})}function _n(Ne){$i(Ne),De.push(Ne)}function bo(Ne){const Pe=De.indexOf(Ne);Pe!==-1&&De.splice(Pe,1)}function ns(Ne,Pe){const Ze=Ne;De.forEach(function(Tt){Tt[Ze]&&Tt[Ze](Pe)})}function wi(Ne){return he("10.7.0","highlightBlock will be removed entirely in v12.0"),he("10.7.0","Please use highlightElement now."),gn(Ne)}Object.assign(J,{highlight:wt,highlightAuto:vr,highlightAll:$s,highlightElement:gn,highlightBlock:wi,configure:Vn,initHighlighting:yi,initHighlightingOnLoad:Bs,registerLanguage:xo,unregisterLanguage:ts,listLanguages:Ca,getLanguage:Jn,registerAliases:vi,autoDetection:_i,inherit:Ps,addPlugin:_n,removePlugin:bo}),J.debugMode=function(){rt=!1},J.safeMode=function(){rt=!0},J.versionString=gt,J.regex={concat:_,lookahead:g,either:S,optional:y,anyNumberOfTimes:b};for(const Ne in de)typeof de[Ne]=="object"&&e(de[Ne]);return Object.assign(J,de),J},It=tn({});return It.newInstance=()=>tn({}),p0=It,It.HighlightJS=It,It.default=It,p0}var zK=IK();const PK=yl(zK),Fj={},BK="hljs-";function $K(e){const t=PK.newInstance();return e&&o(e),{highlight:n,highlightAuto:r,listLanguages:i,register:o,registerAlias:l,registered:u};function n(d,f,p){const m=p||Fj,g=typeof m.prefix=="string"?m.prefix:BK;if(!t.getLanguage(d))throw new Error("Unknown language: `"+d+"` is not registered");t.configure({__emitter:UK,classPrefix:g});const b=t.highlight(f,{ignoreIllegals:!0,language:d});if(b.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:b.errorRaised});const y=b._emitter.root,_=y.data;return _.language=b.language,_.relevance=b.relevance,y}function r(d,f){const m=(f||Fj).subset||i();let g=-1,b=0,y;for(;++g<m.length;){const _=m[g];if(!t.getLanguage(_))continue;const w=n(_,d,f);w.data&&w.data.relevance!==void 0&&w.data.relevance>b&&(b=w.data.relevance,y=w)}return y||{type:"root",children:[],data:{language:void 0,relevance:b}}}function i(){return t.listLanguages()}function o(d,f){if(typeof d=="string")t.registerLanguage(d,f);else{let p;for(p in d)Object.hasOwn(d,p)&&t.registerLanguage(p,d[p])}}function l(d,f){if(typeof d=="string")t.registerAliases(typeof f=="string"?f:[...f],{languageName:d});else{let p;for(p in d)if(Object.hasOwn(d,p)){const m=d[p];t.registerAliases(typeof m=="string"?m:[...m],{languageName:p})}}}function u(d){return!!t.getLanguage(d)}}class UK{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],i=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(t){const n=this,r=t.split(".").map(function(l,u){return u?l+"_".repeat(u):n.options.classPrefix+l}),i=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const qK={};function FK(e){const t=e||qK,n=t.aliases,r=t.detect||!1,i=t.languages||LK,o=t.plainText,l=t.prefix,u=t.subset;let d="hljs";const f=$K(i);if(n&&f.registerAlias(n),l){const p=l.indexOf("-");d=p===-1?l:l.slice(0,p)}return function(p,m){Kh(p,"element",function(g,b,y){if(g.tagName!=="code"||!y||y.type!=="element"||y.tagName!=="pre")return;const _=HK(g);if(_===!1||!_&&!r||_&&o&&o.includes(_))return;Array.isArray(g.properties.className)||(g.properties.className=[]),g.properties.className.includes(d)||g.properties.className.unshift(d);const w=lV(g,{whitespace:"pre"});let S;try{S=_?f.highlight(_,w,{prefix:l}):f.highlightAuto(w,{prefix:l,subset:u})}catch(j){const N=j;if(_&&/Unknown language/.test(N.message)){m.message("Cannot highlight as `"+_+"`, its not registered",{ancestors:[y,g],cause:N,place:g.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw N}!_&&S.data&&S.data.language&&g.properties.className.push("language-"+S.data.language),S.children.length>0&&(g.children=S.children)})}}function HK(e){const t=e.properties.className;let n=-1;if(!Array.isArray(t))return;let r;for(;++n<t.length;){const i=String(t[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!r&&i.slice(0,5)==="lang-"&&(r=i.slice(5)),!r&&i.slice(0,9)==="language-"&&(r=i.slice(9))}return r}function GK({content:e,isStreaming:t}){const[n,r]=E.useState(!1);return a.jsxs("div",{className:"my-2",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-1.5 text-xs text-gray-500 hover:text-gray-400 transition-colors",children:[t&&a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),a.jsx("svg",{className:`w-3 h-3 transition-transform ${n?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),a.jsx("span",{children:t?"Thinking...":"Thought process"})]}),n&&a.jsx("div",{className:"mt-1.5 pl-4 border-l border-white/[0.06] text-xs text-gray-500 whitespace-pre-wrap",children:e})]})}function VK({toolInput:e,resultContent:t,isError:n,isLoading:r}){return a.jsxs("div",{className:"space-y-2",children:[Object.keys(e).length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-600 mb-1",children:"Input"}),a.jsx("pre",{className:"text-xs text-gray-500 bg-black/20 rounded p-2 overflow-x-auto max-h-40 overflow-y-auto",children:JSON.stringify(e,null,2)})]}),!r&&t!=null&&a.jsxs("div",{children:[a.jsx("div",{className:`text-[10px] uppercase tracking-wider mb-1 ${n?"text-red-400":"text-gray-600"}`,children:n?"Error":"Result"}),a.jsx("pre",{className:`text-xs rounded p-2 overflow-x-auto max-h-40 overflow-y-auto ${n?"text-red-400 bg-red-900/10":"text-gray-500 bg-black/20"}`,children:t.length>2e3?t.slice(0,2e3)+`
... (truncated)`:t})]})]})}const Af=2e3;function KK(e){const t=[];let n="";const r=e.split(/(\s+&&\s+|\s+\|\|\s+|\s*;\s+)/);for(const i of r){const o=i.trim();o==="&&"||o==="||"||o===";"?(n&&t.push(n.trim()+" "+o),n=""):n+=i}return n.trim()&&t.push(n.trim()),t.length>1?t:[e]}function YK(e){return/\s+&&\s+|\s+\|\|\s+|;\s+/.test(e)}function WK(e){return e.replace(/\x1B(?:[@-Z\\-_]|\[[0-?]*[ -/]*[@-~])/g,"")}function XK(e,t){if(e==null)return null;const n=e.match(/(?:^|\n)\s*(?:exit code|Exit code|EXIT CODE)[:\s]+(\d+)\s*(?:\n|$)/i);return n?parseInt(n[1],10):t?1:0}function ZK({toolInput:e,resultContent:t,isError:n,isLoading:r}){const i=(e.command??"").trim(),o=(e.description??"").trim(),l=e.timeout,u=e.run_in_background,[d,f]=E.useState(!1),p=!r&&t!=null?XK(t,n):null,m=i||(o?"":"(empty command)"),g=m&&YK(m)?KK(m):null,b=!r&&t!=null&&t.length>0,y=!r&&t!=null&&t.length===0&&!n,_=t!=null?WK(t):void 0,w=(_==null?void 0:_.length)??0,S=w>Af&&!d,j=S?_.slice(0,Af):_??"",N=w-Af,A=b||y||r?"rounded-t-md":"rounded-md";return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:`${A} font-mono text-xs ${n?"bg-red-950/30":"bg-black/30"} overflow-hidden`,children:[o&&a.jsxs("div",{className:"px-3 pt-2 text-gray-600 select-none text-[11px] leading-tight",children:["# ",o]}),(l!=null||u)&&a.jsxs("div",{className:"px-3 pt-1.5 flex items-center gap-1.5",children:[l!=null&&a.jsxs("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] bg-amber-900/25 text-amber-500/80 border border-amber-800/20 select-none",children:["timeout ",l>=1e3?`${(l/1e3).toFixed(0)}s`:`${l}ms`]}),u&&a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-purple-900/40 text-purple-400 border border-purple-800/30 select-none",children:"BG"})]}),a.jsx("div",{className:"px-3 py-2 text-gray-300 whitespace-pre-wrap break-all select-text",children:g?g.map((T,M)=>a.jsxs("div",{className:M>0?"pl-4":"",children:[M===0&&a.jsx("span",{className:"text-green-500/70 select-none",children:"$ "}),M>0&&a.jsx("span",{className:"text-gray-700 select-none",children:"  "}),T]},M)):a.jsxs("div",{children:[a.jsx("span",{className:"text-green-500/70 select-none",children:"$ "}),m||a.jsx("span",{className:"text-gray-600 italic",children:o||"(empty command)"})]})}),!r&&t!=null&&a.jsxs("div",{className:"px-3 pb-2 flex items-center gap-1.5",children:[a.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full ${n?"bg-red-500":"bg-green-500/80"}`}),p!=null&&p!==0?a.jsxs("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-red-900/40 text-red-400 border border-red-800/30 select-none",children:["exit ",p]}):p!=null?a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-green-900/40 text-green-400 border border-green-800/30 select-none",children:"exit 0"}):a.jsx("span",{className:`text-[10px] select-none ${n?"text-red-500/60":"text-gray-600"}`,children:n?"exited with error":"exited 0"})]})]}),b&&a.jsx("div",{className:`border-t font-mono text-xs overflow-x-auto ${d?"":"max-h-64"} overflow-y-auto ${n?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20 text-gray-500"} ${S?"":"rounded-b-md"}`,children:a.jsx("pre",{className:"px-3 py-2 whitespace-pre-wrap break-all select-text",children:j})}),b&&w>Af&&a.jsx("button",{type:"button",onClick:()=>f(T=>!T),className:`w-full border-t rounded-b-md text-[11px] px-3 py-1.5 text-center cursor-pointer select-none transition-colors ${n?"border-red-800/30 bg-red-950/15 text-red-400/60 hover:text-red-400/90 hover:bg-red-950/25":"border-white/[0.04] bg-black/15 text-gray-600 hover:text-gray-400 hover:bg-black/25"}`,children:d?"show less":`show ${N.toLocaleString()} more characters`}),y&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 italic select-none",children:"no output"})}),r&&a.jsxs("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-2 flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-500/70 animate-pulse"}),a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"running..."})]})]})}const QK={rs:"rust",ts:"typescript",tsx:"typescript",js:"javascript",jsx:"javascript",mjs:"javascript",cjs:"javascript",py:"python",go:"go",json:"json",jsonc:"json",md:"markdown",mdx:"markdown",toml:"toml",yaml:"yaml",yml:"yaml",css:"css",html:"html",sql:"sql",sh:"bash",bash:"bash",zsh:"bash"};function Uu(e){var n;const t=((n=e.split(".").pop())==null?void 0:n.toLowerCase())??"";return QK[t]??"plain"}const JK={rs:"bg-orange-900/40 text-orange-400 border-orange-800/30",ts:"bg-blue-900/40 text-blue-400 border-blue-800/30",tsx:"bg-blue-900/40 text-blue-400 border-blue-800/30",js:"bg-yellow-900/40 text-yellow-400 border-yellow-800/30",jsx:"bg-yellow-900/40 text-yellow-400 border-yellow-800/30",py:"bg-green-900/40 text-green-400 border-green-800/30",go:"bg-cyan-900/40 text-cyan-400 border-cyan-800/30",json:"bg-gray-800/40 text-gray-400 border-gray-700/30",md:"bg-gray-800/40 text-gray-400 border-gray-700/30",toml:"bg-gray-800/40 text-gray-400 border-gray-700/30",yaml:"bg-red-900/40 text-red-400 border-red-800/30",yml:"bg-red-900/40 text-red-400 border-red-800/30",css:"bg-purple-900/40 text-purple-400 border-purple-800/30",html:"bg-orange-900/40 text-orange-400 border-orange-800/30",sql:"bg-blue-900/40 text-blue-300 border-blue-800/30",sh:"bg-green-900/40 text-green-400 border-green-800/30"};function zw(e){const t=e.replace(/^\./,"").toLowerCase();return JK[t]??"bg-gray-800/40 text-gray-500 border-gray-700/30"}function Pw(e){const t=e.split("/").pop()??"",n=t.lastIndexOf(".");return n<0?"":t.slice(n)}const Zt={keyword:"text-purple-400",string:"text-green-400",comment:"text-gray-600 italic",number:"text-amber-400",type:"text-cyan-400",function:"text-blue-400",jsonKey:"text-blue-400",jsonValueStr:"text-green-400",punctuation:"text-gray-500",default:"text-gray-400",mdHeader:"text-purple-400 font-bold",mdBold:"text-gray-200 font-bold",mdLink:"text-blue-400 underline",mdCode:"text-green-400"},eY=new Set(["fn","let","mut","pub","use","impl","struct","enum","trait","async","await","match","if","else","for","while","return","self","Self","true","false","mod","crate","super","where","type","const","static","ref","move","loop","break","continue","in","as","unsafe","extern","dyn","Box","Vec","Option","Result","Some","None","Ok","Err","String"]),tY=new Set(["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","bool","char","str"]),nY=new Set(["const","let","var","function","return","if","else","for","while","class","interface","type","import","export","from","async","await","new","true","false","null","undefined","switch","case","break","continue","default","throw","try","catch","finally","typeof","instanceof","in","of","yield","void","delete","this","super","extends","implements","static","get","set","as","satisfies"]),rY=new Set(["def","class","import","from","return","if","elif","else","for","while","with","as","try","except","finally","raise","True","False","None","and","or","not","in","is","lambda","yield","pass","break","continue","global","nonlocal","del","assert","async","await"]),iY=new Set(["func","var","const","type","struct","interface","return","if","else","for","range","switch","case","default","break","continue","go","defer","select","chan","map","package","import","true","false","nil","make","new","len","cap","append","error"]);function Mf(e,t,n,r){const i=[],o=e.indexOf(r);let l=e,u="";if(o>=0){const m=e.slice(0,o),g=(m.match(/'/g)||[]).length,b=(m.match(/"/g)||[]).length;g%2===0&&b%2===0&&(l=e.slice(0,o),u=e.slice(o))}const d=/("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|`(?:[^`\\]|\\.)*`|\b\d+(?:\.\d+)?\b|[a-zA-Z_]\w*|\S)/g;let f,p=0;for(;(f=d.exec(l))!==null;){f.index>p&&i.push({text:l.slice(p,f.index),className:Zt.default}),p=d.lastIndex;const m=f[0];m.startsWith('"')||m.startsWith("'")||m.startsWith("`")?i.push({text:m,className:Zt.string}):/^\d/.test(m)?i.push({text:m,className:Zt.number}):t.has(m)?i.push({text:m,className:Zt.keyword}):n!=null&&n.has(m)?i.push({text:m,className:Zt.type}):/^[A-Z]/.test(m)&&m.length>1?i.push({text:m,className:Zt.type}):l[d.lastIndex]==="("?i.push({text:m,className:Zt.function}):i.push({text:m,className:Zt.default})}return p<l.length&&i.push({text:l.slice(p),className:Zt.default}),u&&i.push({text:u,className:Zt.comment}),i}function sY(e){const t=[],n=/("(?:[^"\\]|\\.)*")\s*(:)|("(?:[^"\\]|\\.)*")|\b(true|false|null)\b|\b(\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b|([{}[\],])|(\S)/g;let r,i=0;for(;(r=n.exec(e))!==null;)r.index>i&&t.push({text:e.slice(i,r.index),className:Zt.default}),i=n.lastIndex,r[1]&&r[2]?(t.push({text:r[1],className:Zt.jsonKey}),t.push({text:r[2],className:Zt.punctuation})):r[3]?t.push({text:r[3],className:Zt.jsonValueStr}):r[4]?t.push({text:r[4],className:Zt.keyword}):r[5]?t.push({text:r[5],className:Zt.number}):r[6]?t.push({text:r[6],className:Zt.punctuation}):r[7]&&t.push({text:r[7],className:Zt.default});return i<e.length&&t.push({text:e.slice(i),className:Zt.default}),t}function aY(e){if(/^#{1,6}\s/.test(e))return[{text:e,className:Zt.mdHeader}];const t=[],n=/(\*\*[^*]+\*\*|__[^_]+__)|(`[^`]+`)|(\[([^\]]+)\]\([^)]+\))/g;let r,i=0;for(;(r=n.exec(e))!==null;)r.index>i&&t.push({text:e.slice(i,r.index),className:Zt.default}),i=n.lastIndex,r[1]?t.push({text:r[1],className:Zt.mdBold}):r[2]?t.push({text:r[2],className:Zt.mdCode}):r[3]&&t.push({text:r[3],className:Zt.mdLink});return i<e.length&&t.push({text:e.slice(i),className:Zt.default}),t.length>0?t:[{text:e,className:Zt.default}]}function ul(e,t){if(e.length===0)return[{text:"",className:Zt.default}];switch(t){case"rust":return Mf(e,eY,tY,"//");case"typescript":case"javascript":return Mf(e,nY,null,"//");case"python":return Mf(e,rY,null,"#");case"go":return Mf(e,iY,null,"//");case"json":return sY(e);case"markdown":return aY(e);default:return[{text:e,className:Zt.default}]}}const Hj=30;function Gj(e,t){const n=e.split(`
`);return n.length<=t?{lines:n,truncated:0}:{lines:n.slice(0,t),truncated:n.length-t}}function oY({toolInput:e,resultContent:t,isError:n,isLoading:r}){const i=e.file_path??"",o=e.old_string??"",l=e.new_string??"",u=e.replace_all??!1,d=Pw(i),f=Uu(i),p=zw(d),m=o.split(`
`),g=l.split(`
`),b=o.length>0?m.length:0,y=l.length>0?g.length:0,_=Gj(o,Hj),w=Gj(l,Hj),S=Math.max(b,y,1),j=Math.max(3,String(S).length+1);return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs text-gray-500",children:[a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-amber-900/40 text-amber-400 border border-amber-800/30",children:"EDIT"}),d&&a.jsx("span",{className:`shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold border ${p}`,children:d}),a.jsx("span",{className:"truncate",children:i}),u&&a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-amber-900/40 text-amber-400 border border-amber-800/30",children:"replace all"}),a.jsxs("span",{className:"shrink-0 ml-auto text-[10px] text-gray-600",children:[b>0&&a.jsxs("span",{className:"text-red-500",children:["-",b," line",b!==1?"s":""]}),b>0&&y>0&&", ",y>0&&a.jsxs("span",{className:"text-green-500",children:["+",y," line",y!==1?"s":""]})]})]}),a.jsxs("div",{className:"border-t border-white/[0.04] bg-black/30 px-3 py-1 font-mono text-xs text-cyan-500/70 select-none",children:["@@ -",b>0?`1,${b}`:"0,0"," +",y>0?`1,${y}`:"0,0"," @@"]}),a.jsx("div",{className:"font-mono text-xs overflow-x-auto max-h-80 overflow-y-auto",children:a.jsxs("pre",{className:"whitespace-pre-wrap break-all",children:[o.length>0&&_.lines.map((N,C)=>{const A=C+1,T=ul(N,f);return a.jsxs("div",{className:"flex bg-red-950/25 hover:bg-red-950/35",children:[a.jsx("span",{className:"select-none text-red-800/60 text-right pr-1 shrink-0 bg-red-950/30",style:{width:`${j}ch`},children:A}),a.jsx("span",{className:"select-none text-right pr-1 shrink-0 bg-red-950/20",style:{width:`${j}ch`}}),a.jsx("span",{className:"select-none text-red-500/70 shrink-0 w-4 text-center font-bold",children:""}),a.jsx("span",{className:"flex-1 text-red-400/80",children:T.map((M,P)=>a.jsx("span",{className:M.className,style:{opacity:.7},children:M.text},P))})]},`old-${C}`)}),_.truncated>0&&a.jsxs("div",{className:"text-red-700/50 italic select-none pl-2 py-0.5 bg-red-950/15",children:["... ",_.truncated," more removed line",_.truncated>1?"s":""]}),l.length>0&&w.lines.map((N,C)=>{const A=C+1,T=ul(N,f);return a.jsxs("div",{className:"flex bg-green-950/25 hover:bg-green-950/35",children:[a.jsx("span",{className:"select-none text-right pr-1 shrink-0 bg-green-950/20",style:{width:`${j}ch`}}),a.jsx("span",{className:"select-none text-green-800/60 text-right pr-1 shrink-0 bg-green-950/30",style:{width:`${j}ch`},children:A}),a.jsx("span",{className:"select-none text-green-500/70 shrink-0 w-4 text-center font-bold",children:"+"}),a.jsx("span",{className:"flex-1",children:T.map((M,P)=>a.jsx("span",{className:M.className,children:M.text},P))})]},`new-${C}`)}),w.truncated>0&&a.jsxs("div",{className:"text-green-700/50 italic select-none pl-2 py-0.5 bg-green-950/15",children:["... ",w.truncated," more added line",w.truncated>1?"s":""]})]})}),!r&&t!=null&&t.length>0&&a.jsx("div",{className:`border-t rounded-b-md text-xs px-3 py-1.5 ${n?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20 text-gray-600"}`,children:t.length>500?t.slice(0,500)+"... (truncated)":t}),r&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"editing..."})})]})}const m0=25;function lY({toolInput:e,resultContent:t,isError:n,isLoading:r}){const i=e.file_path??"",o=e.offset,l=e.limit,u=Pw(i),d=Uu(i),f=zw(u),p=o??1;let m="";o!=null&&l!=null?m=`:${o}-${o+l}`:o!=null?m=`:${o}+`:l!=null&&(m=`:1-${l}`);const g=(t==null?void 0:t.split(`
`))??[],b=g.length>m0?g.length-m0:0,y=b>0?g.slice(0,m0):g,_=p+y.length-1,w=Math.max(3,String(_).length+1);return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs text-gray-500",children:[a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-blue-900/40 text-blue-400 border border-blue-800/30",children:"READ"}),u&&a.jsx("span",{className:`shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold border ${f}`,children:u}),a.jsx("span",{className:"truncate",children:i}),m&&a.jsx("span",{className:"shrink-0 text-gray-600",children:m})]}),!r&&t!=null&&t.length>0&&a.jsx("div",{className:`border-t font-mono text-xs overflow-x-auto max-h-72 overflow-y-auto ${n?"border-red-800/30 bg-red-950/20":"border-white/[0.04] bg-black/20"}`,children:a.jsxs("pre",{className:"py-1.5 whitespace-pre-wrap break-all",children:[y.map((S,j)=>{const N=p+j,C=n?[{text:S,className:"text-red-400"}]:ul(S,d);return a.jsxs("div",{className:"flex hover:bg-white/[0.02]",children:[a.jsx("span",{className:"select-none text-gray-700 text-right pr-3 pl-2 shrink-0",style:{width:`${w+1}ch`},children:N}),a.jsx("span",{className:"flex-1",children:C.map((A,T)=>a.jsx("span",{className:A.className,children:A.text},T))})]},j)}),b>0&&a.jsxs("div",{className:"text-gray-600 italic select-none pl-2 py-0.5",children:["... ",b," more line",b>1?"s":""]})]})}),!r&&t!=null&&t.length===0&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 italic",children:"empty file"})}),r&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"reading..."})})]})}const g0=25;function cY({toolInput:e,resultContent:t,isError:n,isLoading:r}){const i=e.file_path??"",o=e.content??"",l=Pw(i),u=Uu(i),d=zw(l),f=t!=null&&/creat/i.test(t),p=o.split(`
`),m=p.length,g=o.length,b=p.slice(0,g0),y=m>g0?m-g0:0,_=b.length,w=Math.max(3,String(_).length+1);return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs text-gray-500",children:[a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-green-900/40 text-green-400 border border-green-800/30",children:f?"CREATE":"WRITE"}),l&&a.jsx("span",{className:`shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold border ${d}`,children:l}),a.jsx("span",{className:"truncate",children:i}),a.jsxs("span",{className:"shrink-0 text-gray-600 text-[10px]",children:[m," line",m!==1?"s":"",", ",g.toLocaleString()," chars"]})]}),o.length>0&&a.jsx("div",{className:"border-t border-white/[0.04] bg-green-950/10 font-mono text-xs overflow-x-auto max-h-72 overflow-y-auto",children:a.jsxs("pre",{className:"py-1.5 whitespace-pre-wrap break-all",children:[b.map((S,j)=>{const N=j+1,C=ul(S,u);return a.jsxs("div",{className:"flex hover:bg-white/[0.02]",children:[a.jsx("span",{className:"select-none text-green-600/70 shrink-0 w-4 text-center",children:"+"}),a.jsx("span",{className:"select-none text-gray-700 text-right pr-3 shrink-0",style:{width:`${w}ch`},children:N}),a.jsx("span",{className:"flex-1",children:C.map((A,T)=>a.jsx("span",{className:A.className,children:A.text},T))})]},j)}),y>0&&a.jsxs("div",{className:"text-gray-600 italic select-none pl-2 py-0.5",children:["... ",y," more line",y>1?"s":""]})]})}),!r&&t!=null&&t.length>0&&a.jsx("div",{className:`border-t rounded-b-md text-xs px-3 py-1.5 ${n?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20 text-gray-600"}`,children:t.length>500?t.slice(0,500)+"... (truncated)":t}),r&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"writing..."})})]})}const x0=50;function LD(e){const t=e.split("/");return t[t.length-1]||e}function ID(e){const t=e.lastIndexOf("/");return t<0?"":e.slice(0,t+1)}function Vj(e,t){if(!t)return[e];let n;try{n=new RegExp(t,"gi")}catch{return[e]}const r=[];let i=0,o;for(n.lastIndex=0;(o=n.exec(e))!==null;){if(o[0].length===0){n.lastIndex++;continue}o.index>i&&r.push(e.slice(i,o.index)),r.push(a.jsx("mark",{className:"bg-amber-500/30 text-amber-300 rounded px-0.5",children:o[0]},`m-${o.index}`)),i=n.lastIndex}return i<e.length&&r.push(e.slice(i)),r.length>0?r:[e]}function uY(e){const t=[],n=[],r=new Map;for(const i of e){const o=i.match(/^(.+?):(\d+)([:-])(.*)$/);if(o){const[,l,u,,d]=o;let f=r.get(l);f||(f={file:l,lines:[]},r.set(l,f),t.push(f)),f.lines.push({lineNum:u,content:d})}else n.push(i)}return{groups:t,unparsed:n}}function dY(e){const t=[];for(const n of e){const r=n.match(/^(.+?):(\d+)$/);r&&t.push({file:r[1],count:r[2]})}return t}function fY(e){const t=new Map,n=[];for(const r of e){const i=ID(r),o=LD(r);t.has(i)||(t.set(i,[]),n.push(i)),t.get(i).push(o)}return n.map(r=>({dir:r,files:t.get(r)}))}function hY({tokens:e}){return a.jsx(a.Fragment,{children:e.map((t,n)=>a.jsx("span",{className:t.className,children:t.text},n))})}function pY({groups:e,unparsed:t,pattern:n,truncatedCount:r}){return a.jsxs("div",{className:"py-1",children:[e.map((i,o)=>{const l=Uu(i.file),u=ID(i.file),d=LD(i.file),f=Math.max(...i.lines.map(m=>m.lineNum.length),1),p=Math.max(3,f+1);return a.jsxs("div",{className:o>0?"mt-2":"",children:[a.jsxs("div",{className:"px-3 py-0.5 text-[10px] text-gray-600 select-none truncate",children:[u&&a.jsx("span",{className:"text-gray-700",children:u}),a.jsx("span",{className:"text-gray-400 font-medium",children:d})]}),a.jsx("pre",{className:"whitespace-pre-wrap break-all",children:i.lines.map((m,g)=>{const b=ul(m.content,l);return a.jsxs("div",{className:"flex hover:bg-white/[0.02]",children:[a.jsx("span",{className:"select-none text-gray-700 text-right pr-3 pl-2 shrink-0",style:{width:`${p+1}ch`},children:m.lineNum}),a.jsx("span",{className:"flex-1",children:n?Vj(b.map(y=>y.text).join(""),n):a.jsx(hY,{tokens:b})})]},g)})})]},o)}),t.length>0&&a.jsx("pre",{className:"px-3 py-1 whitespace-pre-wrap break-all text-gray-500",children:t.map((i,o)=>a.jsx("div",{children:n?Vj(i,n):i},`u-${o}`))}),r>0&&a.jsxs("div",{className:"px-3 py-1 text-gray-600 italic select-none text-[10px]",children:["... ",r," more result",r>1?"s":""]})]})}function mY({files:e,truncatedCount:t}){return a.jsxs("div",{className:"py-1",children:[e.map((n,r)=>a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-0.5 hover:bg-white/[0.02]",children:[a.jsx("span",{className:"text-gray-700 select-none shrink-0",children:"  "}),a.jsx("span",{className:"text-gray-500 truncate",children:n})]},r)),t>0&&a.jsxs("div",{className:"px-3 py-1 text-gray-600 italic select-none text-[10px]",children:["... ",t," more file",t>1?"s":""]})]})}function gY({entries:e,truncatedCount:t}){const n=Math.max(...e.map(r=>r.count.length),1);return a.jsxs("div",{className:"py-1",children:[e.map((r,i)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-0.5 hover:bg-white/[0.02]",children:[a.jsx("span",{className:"text-amber-400/70 text-right shrink-0 select-none",style:{width:`${n+1}ch`},children:r.count}),a.jsx("span",{className:"text-gray-500 truncate",children:r.file})]},i)),t>0&&a.jsxs("div",{className:"px-3 py-1 text-gray-600 italic select-none text-[10px]",children:["... ",t," more entr",t>1?"ies":"y"]})]})}function xY({groups:e,truncatedCount:t}){return a.jsxs("div",{className:"py-1",children:[e.map((n,r)=>a.jsxs("div",{className:r>0?"mt-1":"",children:[n.dir&&a.jsx("div",{className:"px-3 py-0.5 text-[10px] text-gray-600 select-none truncate",children:n.dir}),n.files.map((i,o)=>{const u=o===n.files.length-1?"":"";return a.jsxs("div",{className:"flex items-center gap-1 px-3 hover:bg-white/[0.02]",children:[a.jsx("span",{className:"text-gray-700 select-none shrink-0 w-8 text-right",children:n.dir?u:""}),a.jsx("span",{className:"text-gray-500",children:i})]},o)})]},r)),t>0&&a.jsxs("div",{className:"px-3 py-1 text-gray-600 italic select-none text-[10px]",children:["... ",t," more file",t>1?"s":""]})]})}function Kj({toolName:e,toolInput:t,resultContent:n,isError:r,isLoading:i}){const o=e==="Grep",l=t.pattern??"",u=t.pattern??"",d=t.path??"",f=t.output_mode??(o?"files_with_matches":""),p=t.glob??"",m=t.type??"",g=(n==null?void 0:n.split(`
`).filter(S=>S.trim().length>0))??[],b=g.length,y=b>x0?b-x0:0,_=y>0?g.slice(0,x0):g,w=o?f==="files_with_matches"?`${b} file${b!==1?"s":""}`:f==="count"?`${b} file${b!==1?"s":""}`:`${b} result${b!==1?"s":""}`:`${b} file${b!==1?"s":""}`;return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs text-gray-500 overflow-hidden",children:[o?a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-indigo-900/40 text-indigo-400 border border-indigo-800/30",children:"SEARCH"}):a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-cyan-900/40 text-cyan-400 border border-cyan-800/30",children:"GLOB"}),a.jsx("div",{className:"truncate min-w-0",children:o?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-600 select-none",children:"/"}),a.jsx("span",{className:"text-amber-400/80",children:l}),a.jsx("span",{className:"text-gray-600 select-none",children:"/"})]}):a.jsx("span",{className:"text-cyan-400/80",children:u})}),!i&&n!=null&&b>0&&!r&&a.jsx("span",{className:"shrink-0 ml-auto px-1.5 py-0.5 rounded text-[10px] font-medium bg-white/[0.04] text-gray-500 select-none",children:w})]}),(d||f&&o||p||m)&&a.jsxs("div",{className:"flex flex-wrap gap-2 px-3 py-1 bg-black/20 border-t border-white/[0.02] text-[10px] text-gray-600 font-mono",children:[d&&a.jsxs("span",{children:["in ",d]}),f&&o&&a.jsx("span",{className:"px-1 rounded bg-white/[0.04]",children:f}),p&&a.jsxs("span",{children:["glob: ",p]}),m&&a.jsxs("span",{children:["type: ",m]})]}),!i&&n!=null&&n.trim().length>0&&a.jsx("div",{className:`border-t font-mono text-xs overflow-x-auto max-h-72 overflow-y-auto ${r?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20 text-gray-500"}`,children:r?a.jsx("pre",{className:"px-3 py-1.5 whitespace-pre-wrap break-all text-red-400",children:n}):o?f==="count"?a.jsx(gY,{entries:dY(_),truncatedCount:y}):f==="content"?(()=>{const{groups:S,unparsed:j}=uY(_);return a.jsx(pY,{groups:S,unparsed:j,pattern:l,truncatedCount:y})})():a.jsx(mY,{files:_,truncatedCount:y}):a.jsx(xY,{groups:fY(_),truncatedCount:y})}),!i&&n!=null&&n.trim().length===0&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 italic",children:"no matches"})}),i&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"searching..."})})]})}const b0=40;function Rf(e){const t=[],n=/(`[^`]+`)|(\*\*[^*]+\*\*)|(\*[^*]+\*)|(\[[^\]]+\]\([^)]+\))/g;let r=0,i;for(;(i=n.exec(e))!==null;){i.index>r&&t.push(e.slice(r,i.index));const o=i[0];if(i[1]){const l=o.slice(1,-1);t.push(a.jsx("code",{className:"px-1 py-0.5 bg-white/[0.06] rounded text-[10px]",children:l},i.index))}else if(i[2]){const l=o.slice(2,-2);t.push(a.jsx("strong",{className:"text-gray-300",children:l},i.index))}else if(i[3]){const l=o.slice(1,-1);t.push(a.jsx("em",{children:l},i.index))}else if(i[4]){const l=o.match(/\[([^\]]+)\]\(([^)]+)\)/);l?t.push(a.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:l[1]},i.index)):t.push(o)}r=i.index+o.length}return r<e.length&&t.push(e.slice(r)),t.length>0?t:[e]}function bY(e){const t=e.split(`
`),n=[];let r=0;for(;r<t.length;){const i=t[r];if(i.trimStart().startsWith("```")){const o=[];for(r++;r<t.length&&!t[r].trimStart().startsWith("```");)o.push(t[r]),r++;r++,n.push(a.jsx("pre",{className:"bg-black/30 rounded p-2 text-[10px] font-mono overflow-x-auto my-1",children:o.join(`
`)},`code-${r}`));continue}if(i.startsWith("## ")){n.push(a.jsx("div",{className:"text-gray-400 font-medium text-xs mt-1.5",children:Rf(i.slice(3))},`h2-${r}`)),r++;continue}if(i.startsWith("# ")){n.push(a.jsx("div",{className:"text-gray-300 font-semibold text-sm mt-2",children:Rf(i.slice(2))},`h1-${r}`)),r++;continue}if(/^[\s]*[-*]\s/.test(i)&&!i.trimStart().startsWith("**")){const o=i.replace(/^[\s]*[-*]\s/,"");n.push(a.jsxs("div",{className:"flex gap-1.5 ml-1",children:[a.jsx("span",{className:"text-gray-600 select-none shrink-0",children:""}),a.jsx("span",{children:Rf(o)})]},`li-${r}`)),r++;continue}if(i.trim()===""){n.push(a.jsx("div",{className:"h-1"},`br-${r}`)),r++;continue}n.push(a.jsx("div",{children:Rf(i)},`p-${r}`)),r++}return n}function yY(e){const t=e.indexOf("Links:");if(t===-1)return null;const n=e.slice(t+6).trimStart(),r=n.indexOf("[");if(r===-1)return null;let i=0,o=-1;for(let u=r;u<n.length;u++)if(n[u]==="[")i++;else if(n[u]==="]"&&(i--,i===0)){o=u;break}if(o===-1)return null;const l=n.slice(r,o+1);try{const u=JSON.parse(l);if(!Array.isArray(u))return null;const d=u.filter(y=>typeof y=="object"&&y!==null&&typeof y.url=="string").map(y=>({title:String(y.title??y.url),url:String(y.url),snippet:y.snippet?String(y.snippet):void 0}));if(d.length===0)return null;const f=e.slice(0,t).trim(),p=t+6+o+1,m=e.slice(p).trim();let g=null;const b=f.match(/query:\s*"([^"]+)"/);return b&&(g=b[1]),{query:g,links:d,preamble:f,epilogue:m}}catch{return null}}function Yj({toolName:e,toolInput:t,resultContent:n,isError:r,isLoading:i}){const o=e==="WebSearch",[l,u]=E.useState(!1),d=t.url??"",f=t.prompt??"",p=t.query??"",m=t.allowed_domains,g=t.blocked_domains,b=(n==null?void 0:n.split(`
`))??[],y=b.length>b0?b.length-b0:0,_=y>0&&!l?b.slice(0,b0):b,w=o&&n?yY(n):null,S=!i&&n!=null&&n.length>0,N=S||i?"rounded-t-md":"rounded-md";return a.jsxs("div",{className:"space-y-0",children:[a.jsx("div",{className:`px-3 py-1.5 bg-black/30 ${N} font-mono text-xs overflow-hidden`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap mb-1",children:[a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-green-900/40 text-green-400 border border-green-800/30",children:"SEARCH"}),m&&Array.isArray(m)&&m.map((C,A)=>a.jsxs("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] bg-emerald-900/25 text-emerald-500/80 border border-emerald-800/20 select-none",children:["+",String(C)]},`a-${A}`)),g&&Array.isArray(g)&&g.map((C,A)=>a.jsxs("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] bg-red-900/25 text-red-500/80 border border-red-800/20 select-none",children:["-",String(C)]},`b-${A}`))]}),a.jsxs("div",{className:"text-gray-400",children:[a.jsx("span",{className:"text-gray-600 select-none",children:"query: "}),a.jsx("span",{className:"text-blue-400/80",children:p})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-blue-900/40 text-blue-400 border border-blue-800/30",children:"FETCH"})}),a.jsx("div",{className:"text-blue-400/80 truncate",children:d}),f&&a.jsx("div",{className:"text-gray-600 mt-1 text-[10px] truncate",children:f})]})}),S&&!r&&a.jsx("div",{className:"border-t border-white/[0.04] bg-black/20 text-gray-500 font-mono text-xs overflow-x-auto max-h-96 overflow-y-auto",children:a.jsxs("div",{className:"px-3 py-1.5",children:[o&&w?a.jsxs("div",{className:"space-y-2",children:[w.links.map((C,A)=>a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline text-xs",children:C.title}),a.jsx("div",{className:"text-[10px] text-gray-600 font-mono truncate",children:C.url}),C.snippet&&a.jsx("div",{className:"text-[11px] text-gray-500 leading-snug",children:C.snippet})]},A)),w.epilogue&&a.jsx("div",{className:"text-[11px] text-gray-500 mt-2 border-t border-white/[0.04] pt-2 whitespace-pre-wrap",children:w.epilogue})]}):o?a.jsx("pre",{className:"whitespace-pre-wrap break-all",children:_.map((C,A)=>a.jsx("div",{children:C},A))}):a.jsx("div",{className:"space-y-0.5 whitespace-pre-wrap break-words",children:bY(_.join(`
`))}),!w&&y>0&&!l&&a.jsxs("div",{className:"text-gray-600 italic select-none mt-1",children:["... ",y," more line",y>1?"s":""]})]})}),S&&r&&a.jsx("div",{className:"border-t border-red-800/30 bg-red-950/20 text-red-400 font-mono text-xs overflow-x-auto max-h-72 overflow-y-auto",children:a.jsxs("pre",{className:"px-3 py-1.5 whitespace-pre-wrap break-all",children:[_.map((C,A)=>a.jsx("div",{children:C},A)),y>0&&!l&&a.jsxs("div",{className:"text-gray-600 italic select-none",children:["... ",y," more line",y>1?"s":""]})]})}),S&&y>0&&!w&&a.jsx("button",{type:"button",onClick:()=>u(C=>!C),className:`w-full border-t rounded-b-md text-[11px] px-3 py-1.5 text-center cursor-pointer select-none transition-colors ${r?"border-red-800/30 bg-red-950/15 text-red-400/60 hover:text-red-400/90 hover:bg-red-950/25":"border-white/[0.04] bg-black/15 text-gray-600 hover:text-gray-400 hover:bg-black/25"}`,children:l?"show less":`show ${y} more line${y>1?"s":""}`}),i&&a.jsxs("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5 flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-500/70 animate-pulse"}),a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:o?"searching...":"fetching..."})]})]})}const vY={plan:e=>`/plans/${e}`,task:e=>`/tasks/${e}`,project:e=>`/projects/${e}`,milestone:e=>`/milestones/${e}`,project_milestone:e=>`/project-milestones/${e}`,workspace:e=>`/workspaces/${e}`,release:e=>`/plans/${e}`,note:()=>"/notes"};function An({entityType:e,id:t,children:n}){const r=vY[e];return!r||!t?a.jsx(a.Fragment,{children:n}):a.jsx(jn,{to:r(t),className:"hover:text-indigo-400 hover:underline decoration-indigo-400/30 underline-offset-2 transition-colors",children:n})}const _Y={draft:"bg-gray-700/50 text-gray-400 border-gray-600/30",approved:"bg-blue-900/40 text-blue-400 border-blue-700/30",in_progress:"bg-indigo-900/40 text-indigo-400 border-indigo-700/30",completed:"bg-green-900/40 text-green-400 border-green-700/30",cancelled:"bg-gray-700/40 text-gray-500 border-gray-600/30",pending:"bg-gray-700/50 text-gray-400 border-gray-600/30",blocked:"bg-amber-900/40 text-amber-400 border-amber-700/30",failed:"bg-red-900/40 text-red-400 border-red-700/30",skipped:"bg-gray-700/40 text-gray-500 border-gray-600/30",planned:"bg-gray-700/50 text-gray-400 border-gray-600/30",open:"bg-blue-900/40 text-blue-400 border-blue-700/30",closed:"bg-gray-700/40 text-gray-500 border-gray-600/30",released:"bg-green-900/40 text-green-400 border-green-700/30",active:"bg-green-900/40 text-green-400 border-green-700/30",needs_review:"bg-amber-900/40 text-amber-400 border-amber-700/30",stale:"bg-orange-900/40 text-orange-400 border-orange-700/30",obsolete:"bg-red-900/40 text-red-400 border-red-700/30",archived:"bg-gray-700/40 text-gray-500 border-gray-600/30",low:"bg-green-900/40 text-green-400 border-green-700/30",medium:"bg-amber-900/40 text-amber-400 border-amber-700/30",high:"bg-orange-900/40 text-orange-400 border-orange-700/30",critical:"bg-red-900/40 text-red-400 border-red-700/30"};function Pt({status:e}){const t=_Y[e]??"bg-gray-700/50 text-gray-400 border-gray-600/30";return a.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium border ${t}`,children:e.replace(/_/g," ")})}function Wh({priority:e}){const t=e>=9?"text-red-400":e>=7?"text-orange-400":e>=5?"text-amber-400":e>=3?"text-blue-400":"text-gray-500";return a.jsxs("span",{className:`text-[10px] font-mono ${t}`,children:["P",e]})}function Xh({tags:e}){return!e||e.length===0?null:a.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(t=>a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-white/[0.06] text-gray-400 border border-white/[0.04]",children:t},t))})}function Yr({label:e,children:t}){return a.jsxs("div",{className:"flex gap-2 text-xs",children:[a.jsx("span",{className:"text-gray-600 shrink-0 select-none min-w-[5rem]",children:e}),a.jsx("span",{className:"text-gray-400 break-all",children:t})]})}function yn({children:e,count:t}){return a.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase tracking-wider text-gray-600 py-1",children:[e,t!=null&&a.jsx("span",{className:"px-1 py-0.5 rounded bg-white/[0.04] text-gray-500 normal-case tracking-normal",children:t})]})}function Zh({completed:e,total:t}){const n=t>0?Math.round(e/t*100):0;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${n===100?"bg-green-500":n>0?"bg-indigo-500":"bg-gray-700"}`,style:{width:`${n}%`}})}),a.jsxs("span",{className:"text-[10px] text-gray-500 shrink-0 font-mono",children:[e,"/",t]})]})}function no({date:e}){if(!e)return a.jsx("span",{className:"text-gray-600 italic",children:""});try{const t=new Date(e),r=new Date().getTime()-t.getTime(),i=Math.floor(r/6e4),o=Math.floor(i/60),l=Math.floor(o/24);let u;return i<1?u="just now":i<60?u=`${i}m ago`:o<24?u=`${o}h ago`:l<7?u=`${l}d ago`:u=t.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),a.jsx("span",{className:"text-gray-500",title:t.toISOString(),children:u})}catch{return a.jsx("span",{className:"text-gray-600",children:e})}}function Dr({id:e,entityType:t}){if(!e)return null;const n=e.length>12?e.slice(0,8)+"...":e,r=a.jsx("span",{className:"font-mono text-[10px] text-gray-600",title:e,children:n});return t?a.jsx(An,{entityType:t,id:e,children:r}):r}function wY({total:e,offset:t,shown:n}){return e==null||e===0?null:a.jsxs("div",{className:"text-[10px] text-gray-600 pt-1",children:["showing ",n," of ",e,t!=null&&t>0&&a.jsxs("span",{children:[" (offset ",t,")"]})]})}function Ot({children:e}){return a.jsx("div",{className:"space-y-1.5 text-xs",children:e})}function SY({content:e}){return a.jsx("div",{className:"px-3 py-2 bg-red-950/20 border border-red-800/30 rounded-md text-xs text-red-400 font-mono whitespace-pre-wrap break-all max-h-40 overflow-y-auto",children:e.length>1500?e.slice(0,1500)+`
... (truncated)`:e})}function NY(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function yt(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function qu(e){const t=e.split("/");return t[t.length-1]||e}const zD={plan_id:"plan",task_id:"task",project_id:"project",milestone_id:"milestone",release_id:"release",note_id:"note",workspace_id:"workspace",step_id:"step",constraint_id:"plan",decision_id:"task",session_id:"plan"};function EY(e){return zD[e]??null}const kY=/^(?:create|get|update|delete|link|unlink|add|remove|sync|start|stop|list|search)_(.+?)(?:_to_.*|_from_.*)?$/;function PD(e){const t=kY.exec(e);if(!t)return null;const n=t[1];return{plans:"plan",tasks:"task",projects:"project",notes:"note",milestones:"milestone",releases:"release",steps:"step",constraints:"plan",decisions:"task",workspaces:"workspace",components:"workspace",resources:"workspace",plan_status:"plan",plan_to_project:"plan",task_dependencies:"task",task_to_milestone:"task",task_to_release:"task",commit_to_task:"task",commit_to_plan:"plan",note_to_entity:"note",resource_to_project:"project",component_dependency:"workspace",project_to_workspace:"project",commit:"plan"}[n]??zD[`${n}_id`]??n}function Ds({field:e,value:t}){if(!t)return null;const n=EY(e);return a.jsx(Dr,{id:t,entityType:n??void 0})}const jY={create:"bg-green-900/40 text-green-400 border-green-800/30",update:"bg-blue-900/40 text-blue-400 border-blue-800/30",delete:"bg-red-900/40 text-red-400 border-red-800/30",link:"bg-indigo-900/40 text-indigo-400 border-indigo-800/30",unlink:"bg-orange-900/40 text-orange-400 border-orange-800/30",add:"bg-indigo-900/40 text-indigo-400 border-indigo-800/30",remove:"bg-orange-900/40 text-orange-400 border-orange-800/30",get:"bg-gray-700/50 text-gray-400 border-gray-600/30",list:"bg-gray-700/50 text-gray-400 border-gray-600/30",search:"bg-purple-900/40 text-purple-400 border-purple-800/30",sync:"bg-cyan-900/40 text-cyan-400 border-cyan-800/30",start:"bg-green-900/40 text-green-400 border-green-800/30",stop:"bg-red-900/40 text-red-400 border-red-800/30",find:"bg-purple-900/40 text-purple-400 border-purple-800/30",analyze:"bg-purple-900/40 text-purple-400 border-purple-800/30",confirm:"bg-green-900/40 text-green-400 border-green-800/30",invalidate:"bg-red-900/40 text-red-400 border-red-800/30",supersede:"bg-amber-900/40 text-amber-400 border-amber-800/30",chat:"bg-indigo-900/40 text-indigo-400 border-indigo-800/30"};function CY(e){return e.split("_")[0]}function Of({action:e}){const t=CY(e),n=jY[t]??"bg-gray-700/50 text-gray-400 border-gray-600/30";return a.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-semibold border uppercase ${n}`,children:t})}function TY(e,t){if(!t||!e)return e;const n=t.trim().split(/\s+/).filter(Boolean);if(n.length===0)return e;const r=n.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),i=new RegExp(`(${r.join("|")})`,"gi"),o=e.split(i);return o.length<=1?e:a.jsx(a.Fragment,{children:o.map((l,u)=>i.test(l)?a.jsx("mark",{className:"bg-amber-500/30 text-amber-300 rounded px-0.5",children:l},u):l)})}function Ar({items:e,limit:t=3,renderItem:n,label:r="items"}){const[i,o]=E.useState(!1),l=i||e.length<=t,u=l?e:e.slice(0,t),d=e.length-t;return a.jsxs(a.Fragment,{children:[u.map((f,p)=>n(f,p)),!l&&d>0&&a.jsxs("button",{onClick:()=>o(!0),className:"text-[10px] text-indigo-400 hover:text-indigo-300 transition-colors py-0.5",children:["+ ",d," more ",r]}),i&&e.length>t&&a.jsx("button",{onClick:()=>o(!1),className:"text-[10px] text-gray-500 hover:text-gray-400 transition-colors py-0.5",children:"show less"})]})}function AY(e){if(!e||typeof e!="object")return null;const t=e;if(Array.isArray(t.items))return{items:t.items,total:typeof t.total=="number"?t.total:void 0,offset:typeof t.offset=="number"?t.offset:void 0,limit:typeof t.limit=="number"?t.limit:void 0};if(Array.isArray(t.messages))return{items:t.messages,total:typeof t.total_count=="number"?t.total_count:void 0,offset:typeof t.offset=="number"?t.offset:void 0,limit:typeof t.limit=="number"?t.limit:void 0};const n=["decisions","notes","hits","steps","tasks","constraints","milestones","releases","components","resources","sessions","workspaces","projects","plans"];for(const r of n)if(Array.isArray(t[r]))return{items:t[r],total:typeof t.total=="number"?t.total:t[r].length};return Array.isArray(e)?{items:e}:null}function ur(e,t,n){const r=n?yt(e,n):e;return t?TY(r,t):r}function Wj({item:e,searchQuery:t}){const n=String(e.slug??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"project",id:n,children:a.jsx("span",{className:"text-gray-300 font-medium truncate",children:ur(String(e.name??""),t)})}),a.jsx("span",{className:"text-[10px] font-mono text-gray-600",children:n})]}),e.description?a.jsx("div",{className:"text-[10px] text-gray-600 truncate mt-0.5",children:ur(String(e.description),t,80)}):null]}),a.jsx("div",{className:"shrink-0 text-right",children:a.jsx(no,{date:e.last_synced})})]})}function Xj({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"plan",id:n,children:a.jsx("span",{className:"text-gray-300 font-medium truncate",children:ur(String(e.title??"")||"Untitled plan",t)})}),e.status?a.jsx(Pt,{status:String(e.status)}):null,typeof e.priority=="number"&&a.jsx(Wh,{priority:e.priority})]}),e.description&&t?a.jsx("div",{className:"text-[10px] text-gray-600 truncate mt-0.5",children:ur(String(e.description),t,100)}):null]}),a.jsx(Dr,{id:n,entityType:"plan"})]})}function MY({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"task",id:n,children:a.jsx("span",{className:"text-gray-300 font-medium truncate",children:ur(String(e.title??"")||yt(String(e.description??""),60),t)})}),e.status?a.jsx(Pt,{status:String(e.status)}):null,typeof e.priority=="number"&&a.jsx(Wh,{priority:e.priority})]}),Array.isArray(e.tags)&&e.tags.length>0&&a.jsx("div",{className:"mt-1",children:a.jsx(Xh,{tags:e.tags})})]}),a.jsx(Dr,{id:n,entityType:"task"})]})}function RY({item:e,searchQuery:t}){const n=e.total_cost_usd;return a.jsx("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-300 truncate",children:ur(String(e.title??"")||String(e.preview??"")||"Untitled session",t)}),e.model?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-indigo-900/30 text-indigo-400 border border-indigo-800/20",children:String(e.model)}):null]}),a.jsxs("div",{className:"flex items-center gap-3 mt-0.5 text-[10px] text-gray-600",children:[typeof e.message_count=="number"&&a.jsxs("span",{children:[e.message_count," msg",e.message_count!==1?"s":""]}),n!=null&&n>0&&a.jsxs("span",{children:["$",n.toFixed(4)]}),a.jsx(no,{date:e.updated_at??e.created_at})]})]})})}function OY({item:e,searchQuery:t}){const n=e.role,r=e.content??"",i=n==="user";return a.jsxs("div",{className:`flex gap-2 px-2 py-1 ${i?"":"pl-4"}`,children:[a.jsx("span",{className:`shrink-0 text-[10px] font-mono w-6 ${i?"text-blue-500":"text-green-500"}`,children:i?"USR":"AST"}),a.jsx("span",{className:`text-gray-400 break-all ${i?"":"text-gray-500"}`,children:ur(r,t,200)})]})}function Ka({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsx(An,{entityType:"note",id:n,children:a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.note_type?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-purple-900/30 text-purple-400 border border-purple-800/20",children:String(e.note_type)}):null,e.importance?a.jsx(Pt,{status:String(e.importance)}):null,e.status?a.jsx(Pt,{status:String(e.status)}):null]}),a.jsx("div",{className:"text-gray-400 mt-0.5 truncate",children:ur(e.content??"",t,120)}),Array.isArray(e.tags)&&e.tags.length>0&&a.jsx("div",{className:"mt-1",children:a.jsx(Xh,{tags:e.tags})})]}),a.jsx(Dr,{id:n,entityType:"note"})]})})}function DY({item:e,index:t,searchQuery:n}){const r=e.status??"pending",i=r==="completed"?"":r==="skipped"?"":r==="in_progress"?"":"",o=r==="completed"?"text-green-400":r==="in_progress"?"text-indigo-400":"text-gray-600";return a.jsxs("div",{className:"flex items-start gap-2 px-2 py-1 hover:bg-white/[0.02] rounded",children:[a.jsx("span",{className:`shrink-0 font-mono text-[10px] ${o}`,children:i}),a.jsxs("span",{className:"text-gray-600 shrink-0 text-[10px] font-mono w-4",children:[t+1,"."]}),a.jsx("span",{className:"text-gray-400 break-all flex-1",children:ur(e.description??"",n,120)}),e.task_id?a.jsx(Ds,{field:"task_id",value:String(e.task_id)}):null,a.jsx(Pt,{status:r})]})}function y0({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"milestone",id:n,children:a.jsx("span",{className:"text-gray-300 font-medium truncate",children:ur(String(e.title??""),t)})}),e.status?a.jsx(Pt,{status:String(e.status)}):null]}),e.description&&t?a.jsx("div",{className:"text-[10px] text-gray-600 truncate mt-0.5",children:ur(String(e.description),t,100)}):null,e.target_date?a.jsxs("div",{className:"text-[10px] text-gray-600 mt-0.5",children:["target: ",String(e.target_date).slice(0,10)]}):null]}),a.jsx(Dr,{id:n,entityType:"milestone"})]})}function LY({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsx("span",{className:"font-mono text-indigo-400 text-[11px] shrink-0",children:String(e.version??"")}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"release",id:n,children:a.jsx("span",{className:"text-gray-300 truncate",children:ur(String(e.title??""),t)})}),e.status?a.jsx(Pt,{status:String(e.status)}):null]}),e.description&&t?a.jsx("div",{className:"text-[10px] text-gray-600 truncate mt-0.5",children:ur(String(e.description),t,100)}):null]}),a.jsx(Dr,{id:n,entityType:"release"}),a.jsx(no,{date:String(e.target_date??e.created_at??"")})]})}function IY({item:e,searchQuery:t}){return a.jsx("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.constraint_type?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-amber-900/30 text-amber-400 border border-amber-800/20",children:String(e.constraint_type)}):null,e.severity?a.jsx(Pt,{status:String(e.severity)}):null]}),a.jsx("div",{className:"text-gray-400 mt-0.5 truncate",children:ur(e.description??"",t,120)})]})})}function Qc({item:e,searchQuery:t,action:n}){const r=e.title??e.name??e.content??e.description??e.id,i=n?PD(n):void 0;return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center gap-2",children:[e.id&&i?a.jsx(An,{entityType:i,id:String(e.id),children:a.jsx("span",{className:"text-gray-300 truncate",children:ur(yt(String(r),100),t)})}):a.jsx("span",{className:"text-gray-300 truncate",children:ur(yt(String(r),100),t)}),e.status?a.jsx(Pt,{status:String(e.status)}):null]})}),e.id?a.jsx(Dr,{id:String(e.id),entityType:i??void 0}):null]})}const zY={list_projects:({item:e,searchQuery:t})=>a.jsx(Wj,{item:e,searchQuery:t}),list_plans:({item:e,searchQuery:t})=>a.jsx(Xj,{item:e,searchQuery:t}),list_project_plans:({item:e,searchQuery:t})=>a.jsx(Xj,{item:e,searchQuery:t}),list_tasks:({item:e,searchQuery:t})=>a.jsx(MY,{item:e,searchQuery:t}),list_chat_sessions:({item:e,searchQuery:t})=>a.jsx(RY,{item:e,searchQuery:t}),list_chat_messages:({item:e,searchQuery:t})=>a.jsx(OY,{item:e,searchQuery:t}),list_notes:({item:e,searchQuery:t})=>a.jsx(Ka,{item:e,searchQuery:t}),list_project_notes:({item:e,searchQuery:t})=>a.jsx(Ka,{item:e,searchQuery:t}),list_steps:({item:e,index:t,searchQuery:n})=>a.jsx(DY,{item:e,index:t,searchQuery:n}),list_milestones:({item:e,searchQuery:t})=>a.jsx(y0,{item:e,searchQuery:t}),list_workspace_milestones:({item:e,searchQuery:t})=>a.jsx(y0,{item:e,searchQuery:t}),list_all_workspace_milestones:({item:e,searchQuery:t})=>a.jsx(y0,{item:e,searchQuery:t}),list_releases:({item:e,searchQuery:t})=>a.jsx(LY,{item:e,searchQuery:t}),list_constraints:({item:e,searchQuery:t})=>a.jsx(IY,{item:e,searchQuery:t}),list_workspaces:({item:e,searchQuery:t,action:n})=>a.jsx(Qc,{item:e,searchQuery:t,action:n}),list_workspace_projects:({item:e,searchQuery:t})=>a.jsx(Wj,{item:e,searchQuery:t}),list_resources:({item:e,searchQuery:t,action:n})=>a.jsx(Qc,{item:e,searchQuery:t,action:n}),list_components:({item:e,searchQuery:t,action:n})=>a.jsx(Qc,{item:e,searchQuery:t,action:n}),search_decisions:({item:e,searchQuery:t,action:n})=>a.jsx(Qc,{item:e,searchQuery:t,action:n}),search_notes:({item:e,searchQuery:t})=>a.jsx(Ka,{item:e,searchQuery:t}),get_notes_needing_review:({item:e,searchQuery:t})=>a.jsx(Ka,{item:e,searchQuery:t}),get_entity_notes:({item:e,searchQuery:t})=>a.jsx(Ka,{item:e,searchQuery:t}),get_propagated_notes:({item:e,searchQuery:t})=>a.jsx(Ka,{item:e,searchQuery:t}),get_context_notes:({item:e,searchQuery:t})=>a.jsx(Ka,{item:e,searchQuery:t})};function PY({action:e,parsed:t,toolInput:n}){const r=AY(t),i=(n==null?void 0:n.query)??(n==null?void 0:n.search);if(!r||r.items.length===0)return a.jsx(Ot,{children:a.jsx("div",{className:"text-gray-600 italic px-2 py-1",children:"No results"})});const o=zY[e]??(({item:l,searchQuery:u,action:d})=>a.jsx(Qc,{item:l,searchQuery:u,action:d}));return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5",children:[a.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-white/[0.06] text-gray-400 border border-white/[0.04]",children:[r.items.length,r.total!=null&&r.total>r.items.length?` / ${r.total}`:""," result",r.items.length!==1?"s":""]}),i&&a.jsxs("span",{className:"text-[10px] text-gray-600 italic truncate",children:["matching ",i,""]})]}),a.jsx("div",{className:"divide-y divide-white/[0.04] max-h-72 overflow-y-auto",children:r.items.map((l,u)=>a.jsx(o,{item:l,index:u,searchQuery:i,action:e},l.id??u))}),a.jsx(wY,{total:r.total,offset:r.offset,limit:r.limit,shown:r.items.length})]})}function BY({data:e}){const t=e.tasks,n=e.constraints,r=(t==null?void 0:t.filter(o=>o.status==="completed").length)??0,i=String(e.id??"");return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"plan",id:i,children:a.jsx("span",{className:"text-gray-300 font-medium",children:String(e.title??"")})}),e.status?a.jsx(Pt,{status:String(e.status)}):null,typeof e.priority=="number"&&a.jsx(Wh,{priority:e.priority})]}),e.description?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:yt(String(e.description),300)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[a.jsx(Dr,{id:String(e.id??""),entityType:"plan"}),e.project_id?a.jsx(Yr,{label:"project",children:a.jsx(Ds,{field:"project_id",value:String(e.project_id)})}):null,a.jsx(Yr,{label:"created",children:a.jsx(no,{date:e.created_at})})]}),t&&t.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(yn,{count:t.length,children:"Tasks"}),a.jsx(Zh,{completed:r,total:t.length}),a.jsx("div",{className:"mt-1 space-y-0.5",children:a.jsx(Ar,{items:t,limit:5,label:"tasks",renderItem:o=>a.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[a.jsx(Pt,{status:o.status??"pending"}),a.jsx(An,{entityType:"task",id:String(o.id??""),children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:o.title||yt(o.description??"",60)})})]},o.id)})})]}),n&&n.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(yn,{count:n.length,children:"Constraints"}),a.jsx(Ar,{items:n,limit:3,label:"constraints",renderItem:(o,l)=>a.jsxs("div",{className:"text-[11px] text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-amber-500",children:""}),yt(o.description??"",100)]},l)})]})]})}function $Y({data:e}){const t=e.steps,n=e.decisions,r=e.acceptance_criteria,i=(t==null?void 0:t.filter(l=>l.status==="completed").length)??0,o=String(e.id??"");return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"task",id:o,children:a.jsx("span",{className:"text-gray-300 font-medium",children:String(e.title??"")||yt(String(e.description??""),80)})}),e.status?a.jsx(Pt,{status:String(e.status)}):null,typeof e.priority=="number"&&a.jsx(Wh,{priority:e.priority})]}),e.description&&e.title?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:yt(String(e.description),300)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[a.jsx(Dr,{id:e.id??"",entityType:"task"}),e.plan_id?a.jsx(Yr,{label:"plan",children:a.jsx(Ds,{field:"plan_id",value:String(e.plan_id)})}):null,Array.isArray(e.tags)&&e.tags.length>0&&a.jsx(Xh,{tags:e.tags})]}),r&&r.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(yn,{count:r.length,children:"Acceptance criteria"}),a.jsx(Ar,{items:r,limit:4,label:"criteria",renderItem:(l,u)=>a.jsxs("li",{className:"text-[11px] text-gray-500 flex items-start gap-1 list-none",children:[a.jsx("span",{className:"text-gray-600 select-none",children:""}),l]},u)})]}),t&&t.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(yn,{count:t.length,children:"Steps"}),a.jsx(Zh,{completed:i,total:t.length}),a.jsx("div",{className:"mt-1 space-y-0.5",children:a.jsx(Ar,{items:t,limit:5,label:"steps",renderItem:(l,u)=>{const d=l.status??"pending",f=d==="completed"?"":d==="in_progress"?"":d==="skipped"?"":"",p=d==="completed"?"text-green-400":d==="in_progress"?"text-indigo-400":"text-gray-600";return a.jsxs("div",{className:"flex items-start gap-1.5 text-[11px]",children:[a.jsx("span",{className:`shrink-0 ${p}`,children:f}),a.jsx("span",{className:"text-gray-400",children:yt(l.description??"",100)})]},l.id??u)}})})]}),n&&n.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(yn,{count:n.length,children:"Decisions"}),a.jsx(Ar,{items:n,limit:3,label:"decisions",renderItem:(l,u)=>a.jsxs("div",{className:"text-[11px] text-gray-500 mt-1",children:[a.jsx("span",{className:"text-gray-400",children:yt(l.description??"",100)}),l.chosen_option?a.jsxs("span",{className:"ml-1 text-indigo-400",children:[" ",String(l.chosen_option)]}):null]},u)})]})]})}function UY({data:e}){const t=String(e.slug??"");return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"project",id:t,children:a.jsx("span",{className:"text-gray-300 font-medium",children:String(e.name??"")})}),t?a.jsx("span",{className:"font-mono text-[10px] text-gray-600",children:t}):null]}),e.description?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:yt(String(e.description),200)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[e.root_path?a.jsx(Yr,{label:"path",children:a.jsx("span",{className:"font-mono text-[10px]",children:String(e.root_path)})}):null,a.jsx(Yr,{label:"synced",children:a.jsx(no,{date:e.last_synced})}),a.jsx(Yr,{label:"created",children:a.jsx(no,{date:e.created_at})})]})]})}function qY({data:e}){return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.note_type?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-purple-900/30 text-purple-400 border border-purple-800/20",children:String(e.note_type)}):null,e.importance?a.jsx(Pt,{status:String(e.importance)}):null,e.status?a.jsx(Pt,{status:String(e.status)}):null]}),a.jsx("div",{className:"text-gray-400 mt-1 whitespace-pre-wrap text-[11px] max-h-40 overflow-y-auto",children:yt(e.content??"",500)}),Array.isArray(e.tags)&&e.tags.length>0&&a.jsx("div",{className:"mt-1.5",children:a.jsx(Xh,{tags:e.tags})}),a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[a.jsx(Dr,{id:e.id??"",entityType:"note"}),e.project_id?a.jsx(Yr,{label:"project",children:a.jsx(Ds,{field:"project_id",value:String(e.project_id)})}):null]})]})}function Zj({data:e}){const t=e.tasks,n=(t==null?void 0:t.filter(i=>i.status==="completed").length)??0,r=String(e.id??"");return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"milestone",id:r,children:a.jsx("span",{className:"text-gray-300 font-medium",children:String(e.title??"")})}),e.status?a.jsx(Pt,{status:String(e.status)}):null]}),e.description?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:yt(String(e.description),200)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[e.target_date?a.jsx(Yr,{label:"target",children:String(e.target_date).slice(0,10)}):null,a.jsx(Dr,{id:e.id??"",entityType:"milestone"}),e.project_id?a.jsx(Yr,{label:"project",children:a.jsx(Ds,{field:"project_id",value:String(e.project_id)})}):null]}),t&&t.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(yn,{count:t.length,children:"Tasks"}),a.jsx(Zh,{completed:n,total:t.length}),a.jsx("div",{className:"mt-1 space-y-0.5",children:a.jsx(Ar,{items:t,limit:5,label:"tasks",renderItem:i=>a.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[a.jsx(Pt,{status:i.status??"pending"}),a.jsx(An,{entityType:"task",id:String(i.id??""),children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:i.title||yt(i.description??"",60)})})]},i.id)})})]})]})}function FY({data:e}){return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-indigo-400",children:String(e.version??"")}),e.title?a.jsx("span",{className:"text-gray-300",children:String(e.title)}):null,e.status?a.jsx(Pt,{status:String(e.status)}):null]}),e.description?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:yt(String(e.description),200)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[e.target_date?a.jsx(Yr,{label:"target",children:String(e.target_date).slice(0,10)}):null,a.jsx(Dr,{id:e.id??"",entityType:"release"}),e.project_id?a.jsx(Yr,{label:"project",children:a.jsx(Ds,{field:"project_id",value:String(e.project_id)})}):null]})]})}function BD({data:e}){const t=e.status??"pending",n=e.task_id?String(e.task_id):void 0;return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Pt,{status:t}),a.jsx("span",{className:"text-gray-400 text-[11px]",children:yt(e.description??"",200)}),n&&a.jsx(O_,{entityType:"task",entityId:n,label:"View parent task"})]}),e.verification?a.jsx(Yr,{label:"verify",children:a.jsx("span",{className:"text-[10px]",children:String(e.verification)})}):null,a.jsx(Dr,{id:e.id??""})]})}function $D(e){const t=["create_","update_","delete_","get_","link_","add_","remove_","unlink_"];for(const n of t)if(e.startsWith(n)){const r=e.slice(n.length);return r.startsWith("plan")?"plan":r.startsWith("task")?"task":r.startsWith("project")?"project":r.startsWith("milestone")||r.startsWith("workspace_milestone")?"milestone":r.startsWith("workspace")?"workspace":r.startsWith("note")?"note":r.startsWith("release")?"release":(r.startsWith("step")||r.startsWith("constraint")||r.startsWith("decision")||r.startsWith("commit"),void 0)}}function HY(e,t,n){const r=$D(e);if(r){const i=n!=null&&n.id?String(n.id):n!=null&&n.slug?String(n.slug):GY(e,t);if(i)return{entityType:r,entityId:i,entityLabel:r.replace(/_/g," ")}}if(e.includes("step")){const i=(t==null?void 0:t.task_id)??(n==null?void 0:n.task_id);if(i)return{entityType:"task",entityId:String(i),entityLabel:"parent task"}}if(e.includes("decision")){const i=(t==null?void 0:t.task_id)??(n==null?void 0:n.task_id);if(i)return{entityType:"task",entityId:String(i),entityLabel:"parent task"}}if(e.includes("constraint")){const i=(t==null?void 0:t.plan_id)??(n==null?void 0:n.plan_id);if(i)return{entityType:"plan",entityId:String(i),entityLabel:"parent plan"}}if(e.includes("commit")){const i=(t==null?void 0:t.task_id)??(n==null?void 0:n.task_id);if(i)return{entityType:"task",entityId:String(i),entityLabel:"linked task"};const o=(t==null?void 0:t.plan_id)??(n==null?void 0:n.plan_id);if(o)return{entityType:"plan",entityId:String(o),entityLabel:"linked plan"}}return null}function GY(e,t){if(!t)return;const n=$D(e);if(n){const r=`${n}_id`;if(t[r])return String(t[r])}if(t.plan_id)return String(t.plan_id);if(t.task_id)return String(t.task_id);if(t.note_id)return String(t.note_id);if(t.milestone_id)return String(t.milestone_id);if(t.release_id)return String(t.release_id);if(t.slug)return String(t.slug);if(t.id)return String(t.id)}function O_({entityType:e,entityId:t,label:n}){return a.jsx(An,{entityType:e,id:t,children:a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-[11px] font-medium bg-indigo-500/15 text-indigo-400 border border-indigo-500/20 hover:bg-indigo-500/25 hover:text-indigo-300 transition-colors cursor-pointer",children:[n||e.replace(/_/g," "),a.jsx("span",{className:"font-mono text-[9px] opacity-70",children:t.slice(0,8)}),a.jsx("span",{className:"text-[10px]",children:""})]})})}function VY({action:e,data:t,toolInput:n}){const r=e.startsWith("delete_"),i=e.startsWith("create_"),o=HY(e,n,t),l=n!=null&&n.status?String(n.status):void 0;if(t.updated===!0||t.deleted===!0||t.added===!0)return a.jsx(Ot,{children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`text-[10px] ${r?"text-red-400":"text-green-400"}`,children:r?"":""}),a.jsx("span",{className:"text-gray-400",children:r?"Deleted":"Updated"}),l&&a.jsx(Pt,{status:l}),o&&a.jsx(O_,{entityType:o.entityType,entityId:o.entityId,label:`View ${o.entityLabel}`})]})});const u=i?"Created":r?"Deleted":"Updated",d=t.title??t.name??t.version??t.content??t.description;return a.jsx(Ot,{children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`text-[10px] ${r?"text-red-400":"text-green-400"}`,children:r?"":""}),a.jsx("span",{className:"text-gray-400",children:u}),d&&a.jsx("span",{className:"text-gray-300 font-medium truncate max-w-[200px]",children:yt(d,60)}),t.status?a.jsx(Pt,{status:String(t.status)}):null,o&&a.jsx(O_,{entityType:o.entityType,entityId:o.entityId,label:`View ${o.entityLabel}`})]})})}function KY(e){return e.endsWith("_id")&&e!=="id"}function Ya({data:e}){const t=["title","name","version","content","description","status","slug","id"],n=Object.entries(e).filter(([,r])=>r!=null&&r!=="");return n.sort((r,i)=>{const o=t.indexOf(r[0]),l=t.indexOf(i[0]);return(o===-1?999:o)-(l===-1?999:l)}),a.jsxs(Ot,{children:[n.slice(0,8).map(([r,i])=>a.jsx(Yr,{label:r,children:r==="status"?a.jsx(Pt,{status:String(i)}):KY(r)?a.jsx(Ds,{field:r,value:String(i)}):typeof i=="object"?a.jsx("span",{className:"font-mono text-[10px]",children:yt(JSON.stringify(i),120)}):a.jsx("span",{children:yt(String(i),120)})},r)),n.length>8&&a.jsxs("div",{className:"text-[10px] text-gray-600",children:["+",n.length-8," more fields"]})]})}const Qj={get_plan:BY,get_task:$Y,get_project:UY,get_note:qY,get_milestone:Zj,get_workspace_milestone:Zj,get_release:FY,get_step:BD,get_constraint:({data:e})=>a.jsx(Ya,{data:e}),get_decision:({data:e})=>a.jsx(Ya,{data:e}),get_workspace:({data:e})=>a.jsx(Ya,{data:e}),get_component:({data:e})=>a.jsx(Ya,{data:e}),get_resource:({data:e})=>a.jsx(Ya,{data:e}),get_chat_session:({data:e})=>a.jsx(Ya,{data:e})};function YY({action:e,parsed:t,toolInput:n}){if(!t||typeof t!="object")return null;const r=t,i=Qj[e];if(i)return a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Of,{action:e}),a.jsx(i,{data:r})]});if(e.startsWith("create_")||e.startsWith("update_")||e.startsWith("delete_")||e.startsWith("link_")||e.startsWith("add_")||e.startsWith("remove_")||e.startsWith("unlink_")){if(e.startsWith("create_")&&r.id&&(r.title||r.name||r.content||r.description)){const o=PD(e),l=o?`get_${o}`:void 0,u=e==="create_step"?BD:l?Qj[l]:void 0;if(u)return a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Of,{action:e}),a.jsx("span",{className:"text-green-400 text-[10px]",children:""})]}),a.jsx(u,{data:r})]})}return a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Of,{action:e}),a.jsx(VY,{action:e,data:r,toolInput:n})]})}return a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Of,{action:e}),a.jsx(Ya,{data:r})]})}function UD(e){return e>=1?`$${e.toFixed(2)}`:e>=.01?`$${e.toFixed(3)}`:`$${e.toFixed(4)}`}function Df(e){const t=[],n=/(`[^`]+`)|(\*\*[^*]+\*\*)|(\*[^*]+\*)|(\[[^\]]+\]\([^)]+\))/g;let r=0,i;for(;(i=n.exec(e))!==null;){i.index>r&&t.push(e.slice(r,i.index));const o=i[0];if(i[1]){const l=o.slice(1,-1);t.push(a.jsx("code",{className:"px-1 py-0.5 bg-white/[0.08] rounded text-[10px] font-mono text-gray-300",children:l},i.index))}else if(i[2])t.push(a.jsx("strong",{className:"text-gray-300",children:o.slice(2,-2)},i.index));else if(i[3])t.push(a.jsx("em",{children:o.slice(1,-1)},i.index));else if(i[4]){const l=o.match(/\[([^\]]+)\]\(([^)]+)\)/);l?t.push(a.jsx("a",{href:l[2],target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:l[1]},i.index)):t.push(o)}r=i.index+o.length}return r<e.length&&t.push(e.slice(r)),t.length>0?t:[e]}function WY(e){const t=e.split(`
`),n=[];let r=0;for(;r<t.length;){const i=t[r];if(i.trimStart().startsWith("```")){const o=[];for(r++;r<t.length&&!t[r].trimStart().startsWith("```");)o.push(t[r]),r++;r++,n.push(a.jsx("pre",{className:"bg-black/30 rounded p-2 text-[10px] font-mono overflow-x-auto my-1 text-gray-400",children:o.join(`
`)},`code-${r}`));continue}if(i.startsWith("## ")){n.push(a.jsx("div",{className:"text-gray-400 font-semibold text-[11px] mt-1.5",children:Df(i.slice(3))},`h2-${r}`)),r++;continue}if(i.startsWith("# ")){n.push(a.jsx("div",{className:"text-gray-300 font-bold text-xs mt-2",children:Df(i.slice(2))},`h1-${r}`)),r++;continue}if(/^[\s]*[-*]\s/.test(i)&&!i.trimStart().startsWith("**")){const o=i.replace(/^[\s]*[-*]\s/,"");n.push(a.jsxs("div",{className:"flex gap-1.5 ml-1",children:[a.jsx("span",{className:"text-gray-600 select-none shrink-0",children:""}),a.jsx("span",{children:Df(o)})]},`li-${r}`)),r++;continue}if(i.trim()===""){n.push(a.jsx("div",{className:"h-1"},`br-${r}`)),r++;continue}n.push(a.jsx("div",{children:Df(i)},`p-${r}`)),r++}return n}function XY({data:e,toolInput:t}){const n=t==null?void 0:t.message,r=e.response,i=e.cost_usd,o=e.duration_ms,l=e.session_id;return a.jsxs(Ot,{children:[n&&a.jsxs("div",{className:"border-l-2 border-blue-500/40 pl-2.5 py-1",children:[a.jsx("div",{className:"text-[10px] text-blue-400/70 font-medium mb-0.5",children:"You"}),a.jsx("div",{className:"text-gray-500 text-[11px] whitespace-pre-wrap leading-relaxed",children:yt(n,500)})]}),r&&a.jsxs("div",{className:"border-l-2 border-green-500/40 pl-2.5 py-1",children:[a.jsx("div",{className:"text-[10px] text-green-400/70 font-medium mb-0.5",children:"Assistant"}),a.jsx("div",{className:"text-gray-400 text-[11px] max-h-60 overflow-y-auto leading-relaxed space-y-0.5",children:WY(yt(r,2e3))})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-1 border-t border-white/[0.04] text-[10px] text-gray-600",children:[o!=null&&a.jsxs("span",{children:[(o/1e3).toFixed(1),"s"]}),i!=null&&i>0&&a.jsx("span",{children:UD(i)}),l&&a.jsx(Ds,{field:"session_id",value:l})]})]})}function ZY({data:e}){const t=e.title??e.preview,n=e.model,r=e.total_cost_usd,i=e.message_count;return a.jsxs(Ot,{children:[t&&a.jsx("div",{className:"text-gray-300 font-medium",children:yt(t,100)}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[n&&a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-indigo-900/30 text-indigo-400 border border-indigo-800/20",children:n}),i!=null&&a.jsxs("span",{className:"text-[10px] text-gray-600",children:[i," message",i!==1?"s":""]}),r!=null&&r>0&&a.jsx("span",{className:"text-[10px] text-gray-600",children:UD(r)})]}),a.jsxs("div",{className:"space-y-0.5 mt-1.5 text-[10px]",children:[e.cwd?a.jsx("div",{className:"text-gray-600 font-mono truncate",children:String(e.cwd)}):null,a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(no,{date:String(e.updated_at??e.created_at??"")}),e.cli_session_id?a.jsx(Dr,{id:String(e.cli_session_id),entityType:"session"}):null]})]})]})}function QY({action:e,parsed:t,toolInput:n}){if(!t||typeof t!="object")return null;const r=t;switch(e){case"chat_send_message":return a.jsx(XY,{data:r,toolInput:n});case"get_chat_session":return a.jsx(ZY,{data:r});default:return null}}function Bw({path:e}){const[t,n]=E.useState(!1),r=i=>{i.stopPropagation(),navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),1500)};return a.jsx("button",{onClick:r,title:"Copy path",className:"shrink-0 p-0.5 rounded hover:bg-white/[0.08] text-gray-600 hover:text-gray-400 transition-colors",children:t?a.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}function JY({snippet:e,filePath:t}){const n=Uu(t),r=e.split(`
`).slice(0,6);return a.jsx("pre",{className:"mt-1 px-2 py-1.5 rounded bg-black/30 font-mono text-[10px] leading-relaxed overflow-x-auto whitespace-pre",children:r.map((i,o)=>a.jsx("div",{children:ul(i,n).map((l,u)=>a.jsx("span",{className:l.className,children:l.text},u))},o))})}function Lf({data:e}){const t=Array.isArray(e)?e:[];return t.length===0?a.jsx("div",{className:"text-gray-600 italic",children:"No results"}):a.jsxs(Ot,{children:[a.jsx(yn,{count:t.length,children:"Search results"}),a.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:a.jsx(Ar,{items:t,limit:5,label:"results",renderItem:(n,r)=>{const i=n.document??n,o=i.file_path??i.path??"",l=i.name??i.symbol_name??"",u=i.kind??i.symbol_type??"",d=i.docstrings??i.body??i.content??"";return a.jsxs("div",{className:"px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-indigo-400 text-[10px] truncate",children:qu(o)}),l&&a.jsx("span",{className:"text-gray-300 text-[11px] font-mono",children:l}),u&&a.jsx("span",{className:"px-1 py-0.5 rounded text-[9px] bg-white/[0.06] text-gray-500",children:u})]}),o&&a.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[a.jsx("span",{className:"font-mono text-[10px] text-gray-600 truncate",children:o}),a.jsx(Bw,{path:o})]}),d&&a.jsx(JY,{snippet:yt(d,300),filePath:o})]},r)}})})]})}function eW({data:e}){const n=["functions","structs","enums","traits","impls","macros","constants","type_aliases"].filter(r=>Array.isArray(e[r])&&e[r].length>0);return n.length===0?a.jsx("div",{className:"text-gray-600 italic",children:"No symbols found"}):a.jsx(Ot,{children:n.map(r=>{const i=e[r];return a.jsxs("div",{children:[a.jsx(yn,{count:i.length,children:r}),a.jsx("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:i.map((o,l)=>{const u=typeof o=="string"?o:o.name??o.symbol_name??"";return a.jsx("span",{className:"px-1.5 py-0.5 rounded font-mono text-[10px] bg-white/[0.04] text-gray-400 border border-white/[0.04]",children:u},l)})})]},r)})})}function tW({data:e}){const n=e.references??(Array.isArray(e)?e:[]);if(n.length===0)return a.jsx("div",{className:"text-gray-600 italic",children:"No references found"});const r=new Map;for(const o of n){const u=(o.file_path??o.path??"")||"(unknown)";r.has(u)||r.set(u,[]),r.get(u).push(o)}const i=Array.from(r.entries());return a.jsxs(Ot,{children:[a.jsx(yn,{count:n.length,children:"References"}),a.jsx("div",{className:"space-y-1.5 max-h-64 overflow-y-auto",children:a.jsx(Ar,{items:i,limit:5,label:"files",renderItem:([o,l],u)=>a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-1",children:[a.jsx("span",{className:"font-mono text-indigo-400 text-[10px] truncate",title:o,children:qu(o)}),a.jsxs("span",{className:"text-[9px] text-gray-600",children:["(",l.length,")"]}),a.jsx(Bw,{path:o})]}),l.map((d,f)=>{const p=d.line,m=d.context??d.ref_type??"";return a.jsxs("div",{className:"flex items-center gap-2 px-3 py-0.5 hover:bg-white/[0.02] rounded text-[11px]",children:[p!=null&&a.jsxs("span",{className:"font-mono text-gray-600 shrink-0",children:[":",p]}),m&&a.jsx("span",{className:"text-gray-500 truncate",children:m})]},f)})]},u)})})]})}function Jj({item:e,direction:t}){const n=String(e.name??e.function??""),r=String(e.file_path??""),i=typeof e.depth=="number"?e.depth:0,o=t==="caller"?"":"";return a.jsxs("div",{className:"flex items-center gap-1.5 py-0.5 text-[11px]",style:{paddingLeft:`${(i+1)*12}px`},children:[a.jsx("span",{className:"text-gray-700 shrink-0 font-mono text-[10px] select-none",children:i>0?"":""}),a.jsx("span",{className:"text-gray-600 shrink-0",children:o}),a.jsx("span",{className:"font-mono text-gray-400",children:n}),r&&a.jsx("span",{className:"font-mono text-gray-600 text-[10px]",children:qu(r)})]})}function nW({data:e}){const t=e.callers??e.called_by??[],n=e.callees??e.calls??[];return a.jsxs(Ot,{children:[t.length>0&&a.jsxs("div",{children:[a.jsx(yn,{count:t.length,children:"Called by"}),a.jsx("div",{className:"max-h-40 overflow-y-auto border-l border-gray-800/50 ml-1",children:a.jsx(Ar,{items:t,limit:8,label:"callers",renderItem:(r,i)=>a.jsx(Jj,{item:r,direction:"caller"},i)})})]}),n.length>0&&a.jsxs("div",{children:[a.jsx(yn,{count:n.length,children:"Calls"}),a.jsx("div",{className:"max-h-40 overflow-y-auto border-l border-gray-800/50 ml-1",children:a.jsx(Ar,{items:n,limit:8,label:"callees",renderItem:(r,i)=>a.jsx(Jj,{item:r,direction:"callee"},i)})})]}),t.length===0&&n.length===0&&a.jsx("div",{className:"text-gray-600 italic",children:"No call graph data"})]})}function rW({data:e}){const t=e.impact_level??e.level??"",n=e.target,r=e.caller_count,i=e.dependent_files??[];return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsx("span",{className:"font-mono text-gray-300",children:n}),t&&a.jsx(Pt,{status:t})]}),a.jsxs("div",{className:"space-y-0.5 mt-1",children:[r!=null&&a.jsxs("div",{className:"text-[11px] text-gray-500",children:[a.jsx("span",{className:"text-gray-600",children:"callers:"})," ",r]}),i.length>0&&a.jsxs("div",{children:[a.jsx(yn,{count:i.length,children:"Dependent files"}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:i.map((o,l)=>a.jsx("div",{className:"font-mono text-[10px] text-gray-500 px-2",children:o},l))})]})]})]})}function iW({data:e}){const t=e.top_files??e.files??[],n=e.languages,r=[...t].sort((o,l)=>{const u=typeof o.connections=="number"?o.connections:typeof o.count=="number"?o.count:0;return(typeof l.connections=="number"?l.connections:typeof l.count=="number"?l.count:0)-u}),i=r.reduce((o,l)=>{const u=typeof l.connections=="number"?l.connections:typeof l.count=="number"?l.count:0;return Math.max(o,u)},1);return a.jsxs(Ot,{children:[n&&Object.keys(n).length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5 mb-1",children:Object.entries(n).map(([o,l])=>a.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-indigo-900/30 text-indigo-400 border border-indigo-800/20",children:[o,": ",typeof l=="number"?l:String(l)]},o))}),r.length>0&&a.jsxs("div",{children:[a.jsx(yn,{count:r.length,children:"Most connected files"}),a.jsx("div",{className:"space-y-0.5 max-h-64 overflow-y-auto",children:a.jsx(Ar,{items:r,limit:8,label:"files",renderItem:(o,l)=>{const u=typeof o.connections=="number"?o.connections:typeof o.count=="number"?o.count:0,d=o.path??o.file_path??"",f=Math.round(u/i*100);return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px] group",title:d,children:[a.jsx("span",{className:"font-mono text-gray-600 shrink-0 w-6 text-right",children:u}),a.jsx("div",{className:"w-16 shrink-0 h-1.5 rounded-full bg-white/[0.04] overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-indigo-500/60",style:{width:`${f}%`}})}),a.jsx("span",{className:"font-mono text-gray-400 truncate",children:qu(d)})]},l)}})})]})]})}function v0({data:e,label:t}){const n=Array.isArray(e)?e:(e==null?void 0:e.implementations)??(e==null?void 0:e.traits)??(e==null?void 0:e.impls)??[],r=Array.isArray(n)?n:[];return r.length===0?a.jsxs("div",{className:"text-gray-600 italic",children:["No ",t," found"]}):a.jsxs(Ot,{children:[a.jsx(yn,{count:r.length,children:t}),a.jsx("div",{className:"space-y-0.5 max-h-48 overflow-y-auto",children:r.map((i,o)=>{const l=i.name??i.type_name??i.trait_name??"",u=i.file_path??"";return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px]",children:[a.jsx("span",{className:"font-mono text-gray-300",children:l}),u&&a.jsx("span",{className:"font-mono text-gray-600 text-[10px]",children:qu(u)})]},o)})})]})}function eC({path:e}){return a.jsxs("div",{className:"flex items-center gap-1 group px-2 hover:bg-white/[0.02] rounded",children:[a.jsx("span",{className:"font-mono text-[10px] text-gray-500 truncate",title:e,children:e}),a.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Bw,{path:e})})]})}function sW({data:e}){const t=e.imports??[],n=e.dependents??e.imported_by??[];return a.jsxs(Ot,{children:[t.length>0&&a.jsxs("div",{children:[a.jsx(yn,{count:t.length,children:"Imports"}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:a.jsx(Ar,{items:t,limit:6,label:"imports",renderItem:(r,i)=>a.jsx(eC,{path:r},i)})})]}),n.length>0&&a.jsxs("div",{children:[a.jsx(yn,{count:n.length,children:"Imported by"}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:a.jsx(Ar,{items:n,limit:6,label:"dependents",renderItem:(r,i)=>a.jsx(eC,{path:r},i)})})]})]})}const aW={search_code:({data:e})=>a.jsx(Lf,{data:e}),search_project_code:({data:e})=>a.jsx(Lf,{data:e}),search_workspace_code:({data:e})=>a.jsx(Lf,{data:e}),find_similar_code:({data:e})=>a.jsx(Lf,{data:e}),get_file_symbols:({data:e})=>a.jsx(eW,{data:e??{}}),find_references:({data:e})=>a.jsx(tW,{data:e}),get_call_graph:({data:e})=>a.jsx(nW,{data:e??{}}),analyze_impact:({data:e})=>a.jsx(rW,{data:e??{}}),get_architecture:({data:e})=>a.jsx(iW,{data:e??{}}),find_trait_implementations:({data:e})=>a.jsx(v0,{data:e,label:"Implementations"}),find_type_traits:({data:e})=>a.jsx(v0,{data:e,label:"Traits"}),get_impl_blocks:({data:e})=>a.jsx(v0,{data:e,label:"Impl blocks"}),get_file_dependencies:({data:e})=>a.jsx(sW,{data:e??{}})};function oW({action:e,parsed:t}){const n=aW[e];return n?a.jsx(n,{data:t}):null}function _0({data:e}){const t=e.completed??0,n=e.total??0,r=e.steps??[];return a.jsxs(Ot,{children:[a.jsx(Zh,{completed:t,total:n}),r.length>0&&a.jsx("div",{className:"space-y-0.5 mt-1.5 max-h-48 overflow-y-auto",children:r.map((i,o)=>{const l=i.status??"pending",u=l==="completed"?"":l==="in_progress"?"":l==="skipped"?"":"",d=l==="completed"?"text-green-400":l==="in_progress"?"text-indigo-400":"text-gray-600";return a.jsxs("div",{className:"flex items-start gap-1.5 text-[11px]",children:[a.jsx("span",{className:`shrink-0 ${d}`,children:u}),a.jsx("span",{className:"text-gray-400 flex-1",children:yt(i.description??"",120)}),a.jsx(Pt,{status:l})]},i.id??o)})})]})}function lW({data:e}){const t=e.nodes??e.tasks??e.items??[],n=e.edges??e.dependencies??[],r=new Map,i=new Map;for(const l of n){const u=String(l.from??l.source??l.dependency_id??""),d=String(l.to??l.target??l.task_id??"");u&&d&&(r.set(d,[...r.get(d)??[],u]),i.set(u,[...i.get(u)??[],d]))}const o=[...t].sort((l,u)=>{const d=(r.get(String(l.id??""))??[]).length,f=(r.get(String(u.id??""))??[]).length;return d-f});return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-600",children:[a.jsxs("span",{children:[t.length," task",t.length!==1?"s":""]}),a.jsxs("span",{children:[n.length," dependenc",n.length!==1?"ies":"y"]})]}),o.length>0&&a.jsx("div",{className:"space-y-0.5 mt-1.5 max-h-56 overflow-y-auto",children:a.jsx(Ar,{items:o,limit:10,label:"tasks",renderItem:(l,u)=>{const d=String(l.id??""),f=r.get(d)??[],p=i.get(d)??[];return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px]",children:[a.jsx(Pt,{status:l.status??"pending"}),a.jsx(An,{entityType:"task",id:d,children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:l.title||yt(l.description??"",50)})}),f.length>0&&a.jsxs("span",{className:"text-[9px] text-gray-600 shrink-0",title:`Depends on ${f.length} task(s)`,children:[" ",f.length]}),p.length>0&&a.jsxs("span",{className:"text-[9px] text-amber-600 shrink-0",title:`Blocks ${p.length} task(s)`,children:[" ",p.length]})]},u)}})})]})}function cW({data:e}){const t=e.path??e.critical_path??e.tasks??[],n=e.total_estimate;return a.jsxs(Ot,{children:[a.jsx(yn,{count:t.length,children:"Critical path"}),n!=null&&a.jsxs("div",{className:"text-[10px] text-gray-600",children:["estimated: ",n," units"]}),t.length>0&&a.jsx("div",{className:"space-y-0.5 mt-1 max-h-48 overflow-y-auto",children:t.map((r,i)=>{const o=String(r.id??"");return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px]",children:[a.jsxs("span",{className:"text-gray-600 font-mono shrink-0 w-4 text-right",children:[i+1,"."]}),a.jsx(Pt,{status:r.status??"pending"}),a.jsx(An,{entityType:"task",id:o,children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:r.title||yt(r.description??"",60)})}),i<t.length-1&&a.jsx("span",{className:"text-gray-700 text-[9px] shrink-0",children:""})]},i)})})]})}function tC({data:e,label:t}){const n=Array.isArray(e)?e:(e==null?void 0:e.blockers)??(e==null?void 0:e.blocked)??[],r=Array.isArray(n)?n:[];return r.length===0?a.jsx(Ot,{children:a.jsxs("div",{className:"text-gray-600 italic",children:["No ",t.toLowerCase()]})}):a.jsxs(Ot,{children:[a.jsx(yn,{count:r.length,children:t}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:r.map((i,o)=>{const l=String(i.id??"");return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px]",children:[a.jsx(Pt,{status:i.status??"pending"}),a.jsx(An,{entityType:"task",id:l,children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:i.title||yt(i.description??"",60)})})]},o)})})]})}function uW({data:e}){const t=e.task??e,n=e.plan,r=e.constraints??[],i=e.decisions??[],o=e.notes??[];return a.jsxs(Ot,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{entityType:"task",id:String(t.id??""),children:a.jsx("span",{className:"text-gray-300 font-medium hover:text-indigo-400",children:String(t.title??"")||yt(String(t.description??""),60)})}),t.status?a.jsx(Pt,{status:String(t.status)}):null]}),n&&a.jsxs("div",{className:"text-[10px] text-gray-600 mt-0.5 flex items-center gap-1",children:[a.jsx("span",{children:"Plan:"}),a.jsx(An,{entityType:"plan",id:String(n.id??""),children:a.jsx("span",{className:"hover:text-indigo-400",children:n.title||"Untitled"})}),n.id?a.jsx(Ds,{field:"plan_id",value:String(n.id)}):null]}),r.length>0&&a.jsxs("div",{className:"mt-1",children:[a.jsx(yn,{count:r.length,children:"Constraints"}),r.map((l,u)=>a.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-amber-500",children:""}),yt(l.description??"",80)]},u))]}),i.length>0&&a.jsxs("div",{className:"mt-1",children:[a.jsx(yn,{count:i.length,children:"Decisions"}),i.map((l,u)=>a.jsxs("div",{className:"text-[10px] text-gray-500",children:[yt(l.description??"",80),l.chosen_option?a.jsxs("span",{className:"text-indigo-400 ml-1",children:[" ",String(l.chosen_option)]}):null]},u))]}),o.length>0&&a.jsxs("div",{className:"mt-1",children:[a.jsx(yn,{count:o.length,children:"Notes"}),o.map((l,u)=>a.jsx("div",{className:"text-[10px] text-gray-500",children:yt(l.content??"",100)},u))]})]})}function dW({data:e}){const t=e.milestones??[],n=e.releases??[];return a.jsxs(Ot,{children:[t.length>0&&a.jsxs("div",{children:[a.jsx(yn,{count:t.length,children:"Milestones"}),a.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:t.map((r,i)=>a.jsxs("div",{className:"flex items-center gap-2 px-2 text-[11px]",children:[a.jsx(Pt,{status:r.status??"planned"}),a.jsx(An,{entityType:"milestone",id:String(r.id??""),children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:String(r.title??"")})}),r.progress!=null&&a.jsxs("span",{className:"text-gray-600 text-[10px] font-mono shrink-0",children:[String(r.progress),"%"]})]},i))})]}),n.length>0&&a.jsxs("div",{children:[a.jsx(yn,{count:n.length,children:"Releases"}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:n.map((r,i)=>a.jsxs("div",{className:"flex items-center gap-2 px-2 text-[11px]",children:[a.jsx("span",{className:"font-mono text-indigo-400",children:String(r.version??"")}),a.jsx(Pt,{status:String(r.status??"planned")}),r.title?a.jsx("span",{className:"text-gray-400 truncate",children:String(r.title)}):null]},i))})]})]})}const fW={get_step_progress:({data:e})=>a.jsx(_0,{data:e??{}}),get_milestone_progress:({data:e})=>a.jsx(_0,{data:e??{}}),get_workspace_milestone_progress:({data:e})=>a.jsx(_0,{data:e??{}}),get_dependency_graph:({data:e})=>a.jsx(lW,{data:e??{}}),get_critical_path:({data:e})=>a.jsx(cW,{data:e??{}}),get_task_blockers:({data:e})=>a.jsx(tC,{data:e,label:"Blockers"}),get_tasks_blocked_by:({data:e})=>a.jsx(tC,{data:e,label:"Blocked tasks"}),get_task_context:({data:e})=>a.jsx(uW,{data:e??{}}),get_task_prompt:({data:e})=>{const t=typeof e=="string"?e:(e==null?void 0:e.prompt)??JSON.stringify(e);return a.jsx(Ot,{children:a.jsx("pre",{className:"text-[10px] text-gray-500 whitespace-pre-wrap max-h-48 overflow-y-auto",children:yt(t,2e3)})})},get_project_roadmap:({data:e})=>a.jsx(dW,{data:e??{}}),get_next_task:({data:e})=>{const t=e??{};return a.jsx(Ot,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-300 font-medium",children:String(t.title??"")||yt(String(t.description??""),80)}),t.status?a.jsx(Pt,{status:String(t.status)}):null]})})}};function hW({action:e,parsed:t}){const n=fW[e];return n?a.jsx(n,{data:t}):null}const pW=new Set(["list_projects","list_plans","list_project_plans","list_tasks","list_chat_sessions","list_chat_messages","list_notes","list_project_notes","list_steps","list_milestones","list_workspace_milestones","list_all_workspace_milestones","list_releases","list_constraints","list_workspaces","list_workspace_projects","list_resources","list_components","search_decisions","search_notes","get_notes_needing_review","get_entity_notes","get_propagated_notes","get_context_notes"]),mW=new Set(["chat_send_message","get_chat_session"]),gW=new Set(["search_code","search_project_code","search_workspace_code","find_similar_code","get_file_symbols","find_references","get_call_graph","analyze_impact","get_architecture","find_trait_implementations","find_type_traits","get_impl_blocks","get_file_dependencies"]),xW=new Set(["get_step_progress","get_milestone_progress","get_workspace_milestone_progress","get_dependency_graph","get_critical_path","get_task_blockers","get_tasks_blocked_by","get_task_context","get_task_prompt","get_project_roadmap","get_next_task"]),bW=new Set(["get_plan","get_task","get_project","get_note","get_milestone","get_workspace_milestone","get_release","get_step","get_constraint","get_decision","get_workspace","get_component","get_resource","get_workspace_overview","get_workspace_topology","create_plan","create_task","create_step","create_project","create_note","create_milestone","create_release","create_commit","create_workspace","create_workspace_milestone","create_component","create_resource","update_plan_status","update_task","update_step","update_note","update_milestone","update_release","update_project","update_decision","update_constraint","update_workspace","update_workspace_milestone","update_component","update_resource","delete_plan","delete_task","delete_step","delete_note","delete_milestone","delete_release","delete_project","delete_decision","delete_constraint","delete_workspace","delete_workspace_milestone","delete_component","delete_resource","delete_chat_session","link_plan_to_project","unlink_plan_from_project","link_commit_to_task","link_commit_to_plan","link_note_to_entity","unlink_note_from_entity","link_resource_to_project","add_task_dependencies","remove_task_dependency","add_task_to_milestone","add_task_to_release","add_task_to_workspace_milestone","add_decision","add_constraint","add_project_to_workspace","remove_project_from_workspace","add_component_dependency","remove_component_dependency","map_component_to_project","add_commit_to_release","confirm_note","invalidate_note","supersede_note","sync_project","sync_directory","start_watch","stop_watch","watch_status","get_meilisearch_stats","delete_meilisearch_orphans","update_staleness_scores","get_plan_commits","get_task_commits"]);function yW(e){return pW.has(e)?"list":mW.has(e)?"chat":gW.has(e)?"code":xW.has(e)?"progress":bW.has(e)?"entity":e.startsWith("list_")?"list":e.startsWith("search_")?"code":e.startsWith("get_")&&e.endsWith("_progress")?"progress":e.startsWith("create_")||e.startsWith("update_")||e.startsWith("delete_")||e.startsWith("link_")||e.startsWith("add_")||e.startsWith("remove_")?"entity":"unknown"}const nC="mcp__project-orchestrator__",qD=new Set(["description","content","acceptance_criteria","affected_files","alternatives","anchors","scope","metadata","config"]),rC=120;function w0(e){return e.length<=rC?e:e.slice(0,rC)+"..."}function FD(e){return e==null?"":typeof e=="string"?w0(e):typeof e=="number"||typeof e=="boolean"?String(e):Array.isArray(e)?e.length===0?"[]":e.every(t=>typeof t=="string")?e.join(", "):w0(JSON.stringify(e)):w0(JSON.stringify(e))}function S0({toolInput:e,resultContent:t,isError:n,isLoading:r}){const i=typeof e.description=="string"?e.description:"",o=Object.entries(e).filter(([l,u])=>u!=null&&u!==""&&!qD.has(l));return a.jsxs("div",{className:"space-y-0",children:[o.length>0&&a.jsx("div",{className:"px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs space-y-0.5",children:o.map(([l,u])=>a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"text-gray-600 shrink-0 select-none",children:[l,":"]}),a.jsx("span",{className:"text-gray-400 break-all",children:FD(u)})]},l))}),i.length>0&&a.jsx("div",{className:"border-t border-white/[0.04] px-3 py-1.5 bg-black/20 text-xs text-gray-600",children:i.length>200?i.slice(0,200)+"...":i}),!r&&t!=null&&t.length>0&&a.jsx("div",{className:`border-t text-xs overflow-x-auto max-h-60 overflow-y-auto ${n?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20"}`,children:a.jsx("pre",{className:"px-3 py-1.5 font-mono text-gray-500 whitespace-pre-wrap break-all",children:t.length>2e3?t.slice(0,2e3)+`
... (truncated)`:t})}),r&&a.jsx("div",{className:`${o.length>0?"border-t border-white/[0.04]":""} rounded-b-md bg-black/20 px-3 py-1.5`,children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"processing..."})})]})}function vW(e){const{toolName:t,toolInput:n,resultContent:r,isError:i,isLoading:o}=e,l=t.startsWith(nC)?t.slice(nC.length):t;if(i&&r)return a.jsxs("div",{className:"space-y-1",children:[a.jsx(N0,{toolInput:n}),a.jsx(SY,{content:r})]});if(o)return a.jsxs("div",{className:"space-y-0",children:[a.jsx(N0,{toolInput:n}),a.jsx("div",{className:"rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"processing..."})})]});const u=NY(r);if(u==null&&r)return a.jsx(S0,{...e});const d=yW(l);let f=null;switch(d){case"list":f=a.jsx(PY,{action:l,parsed:u,toolInput:n});break;case"chat":f=a.jsx(QY,{action:l,parsed:u,toolInput:n});break;case"code":f=a.jsx(oW,{action:l,parsed:u,toolInput:n});break;case"progress":f=a.jsx(hW,{action:l,parsed:u,toolInput:n});break;case"entity":f=a.jsx(YY,{action:l,parsed:u,toolInput:n});break;default:return a.jsx(S0,{...e})}return f==null?a.jsx(S0,{...e}):a.jsxs("div",{className:"space-y-1",children:[a.jsx(N0,{toolInput:n}),f]})}function N0({toolInput:e}){const t=Object.entries(e).filter(([n,r])=>r!=null&&r!==""&&!qD.has(n));return t.length===0?null:a.jsx("div",{className:"px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs space-y-0.5",children:t.map(([n,r])=>a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"text-gray-600 shrink-0 select-none",children:[n,":"]}),a.jsx("span",{className:"text-gray-400 break-all",children:FD(r)})]},n))})}function Et(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function cn(e){const t=String(e??"");return t.length>12?t.slice(0,8)+"..":t}function _W(e){const t=e.description??"",n=e.command??"";return t||Et(n,60)}function xu(e){const t=e.split("/");return t[t.length-1]||e}function wW(e){const t=e.file_path??"",n=e.replace_all??!1,r=xu(t)||"file";return n?`${r} (replace all)`:r}function SW(e){const t=e.file_path??"",n=e.offset,r=e.limit,i=xu(t)||"file";return n!=null&&r!=null?`${i}:${n}-${n+r}`:n!=null?`${i}:${n}+`:r!=null?`${i}:1-${r}`:i}function NW(e){const t=e.file_path??"";return xu(t)||"file"}function EW(e){const t=e.pattern??"";return Et(t,50)||"glob"}function kW(e){const t=e.pattern??"",n=e.output_mode??"",r=Et(t,40)||"grep";return n&&n!=="files_with_matches"?`${r} (${n})`:r}function jW(e){const t=e.url??"";try{const n=new URL(t);return Et(n.hostname+n.pathname,50)}catch{return Et(t,50)||"fetch"}}function CW(e){const t=e.query??"";return Et(t,50)||"search"}const iC="mcp__project-orchestrator__",TW={create_plan:e=>`Plan  ${Et(String(e.title??""),40)}`,get_plan:e=>e.plan_id?`Plan ${cn(e.plan_id)}`:"Plan details",update_plan_status:e=>`Plan  ${e.status??"?"}`,delete_plan:e=>`Plan  ${cn(e.plan_id)}`,create_task:e=>{const t=Et(String(e.title??e.description??""),40);return e.priority?`Task  [P${e.priority}]: ${t}`:`Task  ${t}`},get_task:e=>e.task_id?`Task ${cn(e.task_id)}`:"Task details",update_task:e=>{const t=["Task"];return e.status&&t.push(" "+e.status),e.task_id&&t.push(cn(e.task_id)),t.join(" ")},delete_task:e=>`Task  ${cn(e.task_id)}`,get_next_task:()=>"Next task",create_step:e=>`Step  ${Et(String(e.description??""),40)}`,update_step:e=>e.status?`Step  ${e.status}`:"Update step",list_steps:()=>"List steps",get_step_progress:()=>"Get step progress",add_decision:e=>`Decision: ${Et(String(e.description??""),40)}`,search_code:e=>`Search code: ${Et(String(e.query??""),40)}`,search_project_code:e=>`Search: ${Et(String(e.query??""),40)}`,search_notes:e=>`Search notes: ${Et(String(e.query??""),40)}`,search_decisions:e=>`Search decisions: ${Et(String(e.query??""),40)}`,get_architecture:()=>"Architecture overview",analyze_impact:e=>`Impact: ${Et(String(e.target??""),40)}`,find_references:e=>`References: ${Et(String(e.symbol??""),40)}`,get_file_symbols:e=>`Symbols: ${xu(String(e.file_path??""))}`,get_call_graph:e=>`Call graph: ${Et(String(e.function??""),40)}`,sync_project:e=>`Sync project: ${e.slug??""}`,sync_directory:e=>`Sync: ${Et(String(e.path??""),40)}`,create_commit:e=>`Commit: ${Et(String(e.message??""),40)}`,link_commit_to_task:e=>`Commit ${String(e.commit_sha??"").slice(0,7)}  task`,link_commit_to_plan:e=>`Commit ${String(e.commit_sha??"").slice(0,7)}  plan`,create_project:e=>`Project  ${Et(String(e.name??""),40)}`,get_project:e=>`Project: ${e.slug??""}`,update_project:e=>`Project  ${e.slug??""}`,delete_project:e=>`Project  ${e.slug??""}`,create_note:e=>`Note  ${Et(String(e.content??""),40)}`,get_context_notes:e=>`Context notes: ${e.entity_type??""}`,create_milestone:e=>`Milestone  ${Et(String(e.title??""),40)}`,update_milestone:e=>{const t=["Milestone"];return e.status&&t.push(" "+e.status),t.join(" ")},delete_milestone:e=>`Milestone  ${cn(e.milestone_id)}`,create_release:e=>`Release  ${e.version??""}`,update_release:e=>{const t=["Release"];return e.status&&t.push(" "+e.status),t.join(" ")},delete_release:e=>`Release  ${cn(e.release_id)}`,get_dependency_graph:()=>"Dependency graph",get_critical_path:()=>"Critical path",get_task_context:()=>"Task context",get_task_prompt:()=>"Task prompt",add_task_dependencies:e=>{const t=e.dependency_ids;return`Add ${Array.isArray(t)?t.length:""} dep(s)`},list_tasks:e=>e.status?`Tasks (${e.status})`:"List tasks",list_plans:e=>e.status?`Plans (${e.status})`:"List plans",list_project_plans:e=>`Plans: ${e.project_slug??""}`,list_projects:()=>"List projects",list_chat_sessions:()=>"Chat sessions",list_chat_messages:()=>"Chat messages",list_notes:e=>e.note_type?`Notes (${e.note_type})`:"List notes",list_project_notes:()=>"Project notes",list_milestones:()=>"List milestones",list_releases:()=>"List releases",list_constraints:()=>"List constraints",list_workspaces:()=>"List workspaces",list_workspace_projects:()=>"Workspace projects",list_workspace_milestones:()=>"Workspace milestones",list_resources:()=>"List resources",list_components:()=>"List components",get_task_blockers:()=>"Task blockers",get_tasks_blocked_by:()=>"Blocked tasks",link_plan_to_project:e=>`Plan ${cn(e.plan_id)}  project`,unlink_plan_from_project:e=>`Unlink plan ${cn(e.plan_id)}`,add_constraint:e=>`Constraint  (${e.severity??e.constraint_type??""}): ${Et(String(e.description??""),30)}`,chat_send_message:e=>`Chat: ${Et(String(e.message??""),50)}`,get_chat_session:()=>"Session details",delete_chat_session:()=>"Delete session",create_workspace:e=>`Workspace: ${Et(String(e.name??""),40)}`,get_workspace:e=>`Workspace: ${e.slug??""}`,get_workspace_overview:e=>`Overview: ${e.slug??""}`,get_workspace_topology:e=>`Topology: ${e.slug??""}`,get_milestone:()=>"Milestone details",get_milestone_progress:()=>"Milestone progress",get_workspace_milestone:()=>"WS milestone",get_workspace_milestone_progress:()=>"WS milestone progress",get_release:()=>"Release details",get_project_roadmap:()=>"Project roadmap",get_note:e=>e.note_id?`Note ${cn(e.note_id)}`:"Note details",update_note:e=>`Note  ${cn(e.note_id)}`,delete_note:e=>`Note  ${cn(e.note_id)}`,confirm_note:e=>`Note  ${cn(e.note_id)}`,invalidate_note:e=>`Note  ${cn(e.note_id)}`,supersede_note:e=>`Note  ${cn(e.old_note_id)}`,get_notes_needing_review:()=>"Notes for review",update_staleness_scores:()=>"Update staleness",get_step:()=>"Step details",delete_step:()=>"Delete step",get_decision:()=>"Decision details",update_decision:()=>"Update decision",delete_decision:()=>"Delete decision",start_watch:e=>`Watch: ${Et(String(e.path??""),40)}`,stop_watch:()=>"Stop watcher",watch_status:()=>"Watch status",get_meilisearch_stats:()=>"Search stats",delete_meilisearch_orphans:()=>"Clean orphans",get_file_dependencies:e=>`Deps: ${xu(String(e.file_path??""))}`,find_similar_code:()=>"Similar code",find_trait_implementations:e=>`Impl: ${Et(String(e.trait_name??""),30)}`,find_type_traits:e=>`Traits: ${Et(String(e.type_name??""),30)}`,get_impl_blocks:e=>`Impl blocks: ${Et(String(e.type_name??""),30)}`,search_workspace_code:e=>`WS search: ${Et(String(e.query??""),35)}`,create_component:e=>`Component: ${Et(String(e.name??""),40)}`,create_resource:e=>`Resource: ${Et(String(e.name??""),40)}`,add_component_dependency:()=>"Component dep",map_component_to_project:()=>"Map component  project",add_task_to_milestone:e=>`Task ${cn(e.task_id)}  milestone`,add_task_to_release:e=>`Task ${cn(e.task_id)}  release`,add_task_to_workspace_milestone:e=>`Task ${cn(e.task_id)}  WS milestone`,link_note_to_entity:e=>`Note ${cn(e.note_id)}  ${e.entity_type??"entity"}`,unlink_note_from_entity:e=>`Unlink note ${cn(e.note_id)}`,link_resource_to_project:e=>`Resource  project ${cn(e.project_id)}`,add_project_to_workspace:e=>`Project ${cn(e.project_id)}  workspace`,remove_project_from_workspace:e=>`Remove project ${cn(e.project_id)}`,add_commit_to_release:e=>`Commit ${String(e.commit_sha??"").slice(0,7)}  release`,remove_task_dependency:e=>`Remove dep ${cn(e.dependency_id)}`,remove_component_dependency:()=>"Remove component dep",get_plan_commits:()=>"Plan commits",get_task_commits:()=>"Task commits"};function AW(e,t){const n=e.startsWith(iC)?e.slice(iC.length):e,r=TW[n];return r?r(t):n.replace(/_/g," ")}const bu="mcp__project-orchestrator__",If={Bash:ZK,Edit:oY,Read:lY,Write:cY,Glob:Kj,Grep:Kj,WebFetch:Yj,WebSearch:Yj,__mcp__:vW},MW={Bash:_W,Edit:wW,Read:SW,Write:NW,Glob:EW,Grep:kW,WebFetch:jW,WebSearch:CW};function RW(e,t){const n=MW[e];if(n)return n(t);if(e.startsWith(bu))return AW(e,t)}const sC={Bash:"$",Edit:"",Read:"",Write:"",Glob:"",Grep:"",WebFetch:"",WebSearch:""};function OW(e){const t=e.startsWith(bu)?e.slice(bu.length):e;return/^(create|add)/.test(t)?"+":/^update/.test(t)?"":/^delete/.test(t)?"":/^get/.test(t)?"":/^list/.test(t)?"":/^(search|find)/.test(t)?"":/^link/.test(t)?"":/^sync/.test(t)?"":""}function DW(e){if(sC[e])return sC[e];if(e.startsWith(bu))return OW(e)}function LW(e){const{toolName:t}=e;if(If[t]){const n=If[t];return a.jsx(n,{...e})}if(t.startsWith(bu)&&If.__mcp__){const n=If.__mcp__;return a.jsx(n,{...e})}return a.jsx(VK,{...e})}const D_="mcp__project-orchestrator__";function IW(e){const t=e.startsWith(D_)?e.slice(D_.length):e;return/^(create|add)/.test(t)?"bg-green-400":/^update/.test(t)?"bg-blue-400":/^delete/.test(t)?"bg-red-400":/^(search|find|list)/.test(t)?"bg-gray-400":/^link/.test(t)?"bg-indigo-400":null}function aC({block:e,resultBlock:t}){var b,y,_;const[n,r]=E.useState(!1),i=((b=e.metadata)==null?void 0:b.tool_name)||e.content,o=((y=e.metadata)==null?void 0:y.tool_input)??{},l=(_=t==null?void 0:t.metadata)==null?void 0:_.is_error,u=!t,d=DW(i),p=RW(i,o)||i,g=i.startsWith(D_)?IW(i):null;return a.jsxs("div",{className:"my-2 rounded-lg bg-white/[0.04] border border-white/[0.06] overflow-hidden",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 w-full px-3 py-2 text-left text-xs hover:bg-white/[0.02] transition-colors",children:[a.jsx("div",{className:`w-0.5 h-4 rounded-full shrink-0 ${l?"bg-red-400":u?"bg-amber-400 animate-pulse":"bg-green-400"}`}),a.jsx("svg",{className:`w-3 h-3 text-gray-500 transition-transform shrink-0 ${n?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d&&a.jsx("span",{className:"font-mono text-gray-600 shrink-0 text-[10px]",children:d}),g&&a.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${g}`}),a.jsx("span",{className:"font-mono text-gray-400 truncate",children:p}),u&&a.jsx("span",{className:"ml-auto text-gray-600 shrink-0",children:"running..."})]}),n&&a.jsx("div",{className:"px-3 pb-2",children:a.jsx(LW,{toolName:i,toolInput:o,resultContent:t==null?void 0:t.content,isError:l,isLoading:u})})]})}function zW({toolBlocks:e,allBlocks:t}){const[n,r]=E.useState(!1),i=m=>t.find(g=>{var b,y;return g.type==="tool_result"&&((b=g.metadata)==null?void 0:b.tool_call_id)===((y=m.metadata)==null?void 0:y.tool_call_id)}),o=e.filter(m=>i(m)).length,l=e.length-o,u=e.some(m=>{var b;const g=i(m);return(b=g==null?void 0:g.metadata)==null?void 0:b.is_error});if(e.length===1)return a.jsx(aC,{block:e[0],resultBlock:i(e[0])});const d=e.map(m=>{var g;return((g=m.metadata)==null?void 0:g.tool_name)||m.content}),f=[...new Set(d)],p=f.length<=3?f.join(", "):`${f.slice(0,2).join(", ")} +${f.length-2} more`;return a.jsxs("div",{className:"my-2 rounded-lg bg-white/[0.04] border border-white/[0.06] overflow-hidden",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 w-full px-3 py-2 text-left text-xs hover:bg-white/[0.02] transition-colors",children:[a.jsx("div",{className:`w-0.5 h-4 rounded-full shrink-0 ${u?"bg-red-400":l>0?"bg-amber-400 animate-pulse":"bg-green-400"}`}),a.jsx("svg",{className:`w-3 h-3 text-gray-500 transition-transform shrink-0 ${n?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),a.jsxs("span",{className:"font-mono text-gray-400",children:[e.length," tools",a.jsxs("span",{className:"text-gray-600 ml-2",children:["(",p,")"]})]}),l>0&&a.jsxs("span",{className:"ml-auto text-gray-600 shrink-0",children:[l," running..."]})]}),n&&a.jsx("div",{className:"px-2 pb-2 space-y-1",children:e.map(m=>a.jsx(aC,{block:m,resultBlock:i(m)},m.id))})]})}function PW({block:e,onRespond:t,disabled:n}){var o,l;const r=(o=e.metadata)==null?void 0:o.tool_call_id,i=(l=e.metadata)==null?void 0:l.tool_name;return a.jsxs("div",{className:"my-2 rounded-lg bg-amber-900/10 border border-amber-500/20 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("svg",{className:"w-4 h-4 text-amber-400 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),a.jsx("span",{className:"text-xs text-amber-400 font-medium",children:"Permission requested"})]}),a.jsx("p",{className:"text-sm text-gray-300 mb-1",children:e.content}),i&&a.jsx("p",{className:"text-xs text-gray-500 mb-3 font-mono",children:i}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>t(r,!0),disabled:n,className:"px-3 py-1 text-xs font-medium rounded bg-green-600/20 text-green-400 hover:bg-green-600/30 transition-colors disabled:opacity-50",children:"Allow"}),a.jsx("button",{onClick:()=>t(r,!1),disabled:n,className:"px-3 py-1 text-xs font-medium rounded bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-colors disabled:opacity-50",children:"Deny"})]})]})}function BW({block:e,onRespond:t,disabled:n}){var u;const[r,i]=E.useState(""),o=(u=e.metadata)==null?void 0:u.request_id,l=()=>{r.trim()&&(t(o,r.trim()),i(""))};return a.jsxs("div",{className:"my-2 rounded-lg bg-indigo-900/10 border border-indigo-500/20 p-3",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:e.content}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),onKeyDown:d=>d.key==="Enter"&&l(),disabled:n,className:"flex-1 px-2 py-1 text-sm bg-black/20 border border-white/[0.06] rounded text-gray-200 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40",placeholder:"Type your response..."}),a.jsx("button",{onClick:l,disabled:n||!r.trim(),className:"px-3 py-1 text-xs font-medium rounded bg-indigo-600/20 text-indigo-400 hover:bg-indigo-600/30 transition-colors disabled:opacity-50",children:"Send"})]})]})}function $W({block:e,onRespond:t,disabled:n}){var _,w;const r=((_=e.metadata)==null?void 0:_.questions)||[],[i,o]=E.useState(()=>new Map),[l,u]=E.useState(""),[d,f]=E.useState(!1),p=E.useCallback((S,j,N)=>{o(C=>{const A=new Map(C),T=A.get(S)||new Set;if(N){const M=new Set(T);M.has(j)?M.delete(j):M.add(j),A.set(S,M)}else A.set(S,new Set([j]));return A})},[]),m=E.useCallback(()=>{const S=[];return r.forEach((j,N)=>{const C=i.get(N)||new Set,A=Array.from(C).map(T=>{var M;return(M=j.options[T])==null?void 0:M.label}).filter(Boolean);if(A.length>0)if(r.length===1)S.push(A.join(", "));else{const T=j.header||j.question;S.push(`${T}: ${A.join(", ")}`)}}),l.trim()&&S.push(l.trim()),S.join(`
`)},[r,i,l]),g=E.useCallback(()=>{var N;const S=m();if(!S)return;f(!0);const j=((N=e.metadata)==null?void 0:N.tool_call_id)||e.id;t(j,S)},[m,t,e.id,(w=e.metadata)==null?void 0:w.tool_call_id]),b=Array.from(i.values()).some(S=>S.size>0)||l.trim().length>0,y=n||d;return r.length===0?a.jsx("div",{className:"my-2 rounded-lg bg-indigo-900/10 border border-indigo-500/20 p-3",children:a.jsx("p",{className:"text-sm text-gray-300",children:e.content})}):a.jsxs("div",{className:"my-2 rounded-lg bg-indigo-900/10 border border-indigo-500/20 p-3 space-y-4",children:[r.map((S,j)=>{const N=i.get(j)||new Set;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[S.header&&a.jsx("span",{className:"shrink-0 px-2 py-0.5 text-xs font-medium rounded bg-indigo-600/30 text-indigo-300",children:S.header}),a.jsx("p",{className:"text-sm text-gray-200",children:S.question})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:S.options.map((C,A)=>{const T=N.has(A);return a.jsxs("button",{onClick:()=>p(j,A,S.multiSelect),disabled:y,className:`
                      group flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-colors
                      ${T?"bg-indigo-600/20 border border-indigo-500/40 text-indigo-300":"bg-white/[0.03] border border-white/[0.06] text-gray-300 hover:bg-white/[0.06]"}
                      disabled:opacity-50 disabled:cursor-not-allowed
                    `,children:[a.jsx("span",{className:`
                      w-3.5 h-3.5 flex items-center justify-center border transition-colors
                      ${S.multiSelect?"rounded-sm":"rounded-full"}
                      ${T?"border-indigo-500 bg-indigo-600":"border-gray-500 group-hover:border-gray-400"}
                    `,children:T&&(S.multiSelect?a.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 12 12",children:a.jsx("path",{d:"M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"})}):a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white"}))}),a.jsxs("span",{className:"flex flex-col items-start",children:[a.jsx("span",{children:C.label}),C.description&&a.jsx("span",{className:"text-xs text-gray-500",children:C.description})]})]},A)})})]},j)}),!d&&a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("input",{type:"text",value:l,onChange:S=>u(S.target.value),onKeyDown:S=>S.key==="Enter"&&b&&g(),disabled:y,placeholder:"Ou tapez votre rponse...",className:"flex-1 px-3 py-1.5 text-sm bg-black/20 border border-white/[0.06] rounded-lg text-gray-200 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40"}),a.jsx("button",{onClick:g,disabled:y||!b,className:"px-4 py-1.5 text-sm font-medium rounded-lg bg-indigo-600/20 text-indigo-400 hover:bg-indigo-600/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"})]}),d&&a.jsx("div",{className:"pt-2 border-t border-white/[0.06]",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Responded: ",a.jsx("span",{className:"text-gray-400",children:m()})]})})]})}function UW(e){const t=[];let n=[];for(const r of e)if(r.type==="tool_use")n.push(r);else{if(r.type==="tool_result")continue;n.length>0&&(t.push(n),n=[]),t.push(r)}return n.length>0&&t.push(n),t}function qW({message:e,isStreaming:t,highlighted:n,onRespondPermission:r,onRespondInput:i}){var u;const o=n?"ring-2 ring-amber-400/50 bg-amber-400/[0.06] rounded-xl transition-all duration-500":"transition-all duration-1000";if(e.role==="user")return a.jsx("div",{className:`flex justify-end mb-4 ${o}`,children:a.jsx("div",{className:"max-w-[85%] px-3 py-2 rounded-xl bg-indigo-600/20 text-sm text-gray-200 whitespace-pre-wrap",children:(u=e.blocks[0])==null?void 0:u.content})});const l=UW(e.blocks);return a.jsx("div",{className:`mb-4 ${o}`,children:a.jsxs("div",{className:"max-w-full",children:[l.map((d,f)=>{if(Array.isArray(d))return a.jsx(zW,{toolBlocks:d,allBlocks:e.blocks},`tool-group-${f}`);const p=d;switch(p.type){case"text":return!p.content&&p.metadata?null:a.jsx("div",{className:"chat-markdown prose prose-invert prose-sm max-w-none break-words overflow-x-auto [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",children:a.jsx(H3,{remarkPlugins:[tV],rehypePlugins:[FK],children:p.content})},p.id);case"thinking":{const m=f===l.length-1;return a.jsx(GK,{content:p.content,isStreaming:t&&m},p.id)}case"permission_request":return a.jsx(PW,{block:p,onRespond:r},p.id);case"input_request":return a.jsx(BW,{block:p,onRespond:i},p.id);case"ask_user_question":return a.jsx($W,{block:p,onRespond:i},p.id);case"error":return a.jsx("div",{className:"my-2 px-3 py-2 rounded-lg bg-red-900/10 border border-red-500/20 text-sm text-red-400",children:p.content},p.id);default:return null}}),t&&e.blocks.length===0&&a.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 text-sm",children:[a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-indigo-400 animate-pulse"}),a.jsx("span",{children:"Thinking..."})]})]})})}const FW=80;function oC({messages:e,isStreaming:t,isLoadingHistory:n,isReplaying:r,hasOlderMessages:i,isLoadingOlder:o,onLoadOlder:l,onRespondPermission:u,onRespondInput:d}){var j;const f=E.useRef(null),p=E.useRef(!0),[m,g]=Ct(VO),[b,y]=E.useState(null),_=E.useRef(0),w=E.useRef(!1);E.useEffect(()=>{w.current=!!o},[o]);const S=E.useCallback(()=>{if(!f.current)return;const{scrollTop:N,scrollHeight:C,clientHeight:A}=f.current;p.current=C-N-A<100,N<FW&&i&&!w.current&&l&&(_.current=C,l())},[i,l]);return E.useEffect(()=>{if(!o&&_.current>0&&f.current){const C=f.current.scrollHeight-_.current;C>0&&(f.current.scrollTop+=C),_.current=0}},[o,e]),E.useEffect(()=>{if(!r&&p.current&&f.current){if(m!==null)return;f.current.scrollTop=f.current.scrollHeight}},[e,r,m]),E.useEffect(()=>{if(!r&&e.length>0&&f.current){if(m!==null)return;f.current.scrollTop=f.current.scrollHeight}},[r,e.length,m]),E.useEffect(()=>{if(r||m===null||e.length===0)return;const N=m*2;if(N>=e.length){g(null);return}requestAnimationFrame(()=>{var A;const C=(A=f.current)==null?void 0:A.querySelector(`[data-msg-index="${N}"]`);C&&(C.scrollIntoView({behavior:"smooth",block:"center"}),y(N),setTimeout(()=>y(null),2500)),g(null)})},[r,m,e.length,g]),e.length===0?n||r?a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Loading messages..."})]})}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-600 text-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"mb-1",children:"Start a conversation"}),a.jsx("p",{className:"text-xs",children:"The assistant can create tasks, plans, and more."})]})}):a.jsxs("div",{ref:f,onScroll:S,className:"flex-1 overflow-y-auto px-4 py-4",children:[o&&a.jsxs("div",{className:"flex items-center justify-center py-3",children:[a.jsxs("svg",{className:"w-4 h-4 animate-spin text-gray-500",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Loading older messages..."})]}),!i&&e.length>0&&!o&&a.jsx("div",{className:"text-center text-[10px] text-gray-600 py-2 mb-2",children:" Beginning of conversation "}),e.map((N,C)=>a.jsx("div",{"data-msg-index":C,children:a.jsx(qW,{message:N,isStreaming:t&&C===e.length-1&&N.role==="assistant",highlighted:b===C,onRespondPermission:u,onRespondInput:d})},N.id)),t&&((j=e[e.length-1])==null?void 0:j.role)==="user"&&a.jsxs("div",{className:"mb-4 flex items-center gap-1.5",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 animate-[bounce_1s_ease-in-out_infinite]"}),a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 animate-[bounce_1s_ease-in-out_0.15s_infinite]"}),a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 animate-[bounce_1s_ease-in-out_0.3s_infinite]"})]})]})}function lC({onSend:e,onInterrupt:t,isStreaming:n,disabled:r}){const[i,o]=E.useState(""),l=E.useRef(null),u=E.useCallback(()=>{const p=l.current;p&&(p.style.height="auto",p.style.height=Math.min(p.scrollHeight,150)+"px")},[]);E.useEffect(()=>{u()},[i,u]);const d=()=>{const p=i.trim();p&&(e(p),o(""))},f=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),d())};return a.jsx("div",{className:"border-t border-white/[0.06] p-3",children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("textarea",{ref:l,value:i,onChange:p=>o(p.target.value),onKeyDown:f,disabled:r,rows:1,placeholder:"Send a message...",className:"flex-1 resize-none bg-white/[0.04] border border-white/[0.06] rounded-lg px-3 py-2 text-sm text-gray-200 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40 disabled:opacity-50"}),a.jsx("div",{className:`shrink-0 overflow-hidden transition-all duration-200 ease-in-out ${n?"w-8 opacity-100":"w-0 opacity-0"}`,children:a.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-lg bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-colors",title:"Stop generating",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})})}),a.jsx("button",{onClick:d,disabled:r||!i.trim(),className:"shrink-0 w-8 h-8 flex items-center justify-center rounded-lg bg-indigo-600/20 text-indigo-400 hover:bg-indigo-600/30 transition-colors disabled:opacity-30",title:"Send message",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14M12 5l7 7-7 7"})})})]})})}const HW=30;function GW(e){const t=new Date(e),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),i=new Date(r);i.setDate(i.getDate()-1);const o=new Date(r);o.setDate(o.getDate()-7);const l=new Date(r);return l.setDate(l.getDate()-30),t>=r?"Today":t>=i?"Yesterday":t>=o?"This week":t>=l?"This month":"Older"}function VW(e){const t=new Map,n=["Today","Yesterday","This week","This month","Older"];for(const r of e){const i=GW(r.updated_at);t.has(i)||t.set(i,[]),t.get(i).push(r)}return n.filter(r=>t.has(r)).map(r=>({group:r,sessions:t.get(r)}))}function E0({activeSessionId:e,onSelect:t,onClose:n,embedded:r}){const[i,o]=E.useState([]),[l,u]=E.useState(!0),[d,f]=E.useState(!1),[p,m]=E.useState(!1),g=E.useRef(0),b=E.useRef(null),y=Ve(WO),[_,w]=E.useState(()=>new Set);E.useEffect(()=>{const ue=mw().on(_e=>{_e.entity_type==="chat_session"&&_e.action==="updated"&&_e.payload&&typeof _e.payload.is_streaming=="boolean"&&w(we=>{const be=new Set(we);return _e.payload.is_streaming?be.add(_e.entity_id):be.delete(_e.entity_id),be})});return()=>{ue()}},[]);const[S,j]=E.useState([]),[N,C]=E.useState([]),[A,T]=E.useState(""),[M,P]=E.useState(""),[U,z]=E.useState([]),[R,q]=E.useState(""),[Y,L]=E.useState(""),[F,B]=E.useState([]),[X,W]=E.useState(!1),K=E.useRef(null),D=Y.trim().length>0;E.useEffect(()=>{const re=setTimeout(()=>{L(R)},300);return()=>clearTimeout(re)},[R]),E.useEffect(()=>{jt.list({limit:100}).then(re=>{j(re.items||[])}),xt.list({limit:100}).then(re=>{C(re.items||[])})},[]),E.useEffect(()=>{if(!A){z([]);return}xt.listProjects(A).then(re=>{z((re.items||[]).map(ue=>({id:ue.id,slug:ue.slug})))})},[A]);const $=E.useCallback(async(re=!1)=>{re?m(!0):(u(!0),g.current=0);try{const ue={limit:HW,offset:re?g.current:0};M&&(ue.project_slug=M);const _e=await Xa.listSessions(ue),we=_e.items||[];o(re?be=>[...be,...we]:we),g.current=(re?g.current:0)+we.length,f(!!_e.has_more)}catch{}finally{re?m(!1):u(!1)}},[M]);E.useEffect(()=>{$(!1)},[$,y]),E.useEffect(()=>{const re=b.current;if(!re)return;const ue=new IntersectionObserver(_e=>{_e[0].isIntersecting&&d&&!p&&!l&&$(!0)},{threshold:.1});return ue.observe(re),()=>ue.disconnect()},[d,p,l,$]),E.useEffect(()=>{if(!Y.trim()){B([]),W(!1);return}let re=!1;return W(!0),Xa.searchMessages({q:Y,project_slug:M||void 0,limit:15}).then(ue=>{re||B(ue)}).catch(()=>{re||B([])}).finally(()=>{re||W(!1)}),()=>{re=!0}},[Y,M]);const H=E.useMemo(()=>{if(!A||U.length===0)return i;const re=new Set(U.map(ue=>ue.slug));return i.filter(ue=>ue.project_slug&&re.has(ue.project_slug))},[i,A,U]),I=E.useMemo(()=>VW(H),[H]),V=E.useMemo(()=>{if(!A||U.length===0)return S;const re=new Set(U.map(ue=>ue.id));return S.filter(ue=>re.has(ue.id))},[S,A,U]),Z=async(re,ue)=>{re.stopPropagation(),await Xa.deleteSession(ue),o(_e=>_e.filter(we=>we.id!==ue))},Q=re=>{T(re),P("")},ae=()=>{var re;q(""),L(""),B([]),(re=K.current)==null||re.focus()},te=re=>{const ue=new Date(re),we=new Date().getTime()-ue.getTime(),be=Math.floor(we/6e4);if(be<1)return"just now";if(be<60)return`${be}m ago`;const je=Math.floor(be/60);return je<24?`${je}h ago`:`${Math.floor(je/24)}d ago`},ne=re=>{const ue=new Date(re*1e3),we=new Date().getTime()-ue.getTime(),be=Math.floor(we/6e4);if(be<1)return"just now";if(be<60)return`${be}m ago`;const je=Math.floor(be/60);return je<24?`${je}h ago`:`${Math.floor(je/24)}d ago`},de=re=>re?`$${re.toFixed(2)}`:null,ge=re=>{const ue=re.id===e,_e=re.title||`Session ${re.id.slice(0,8)}`;return a.jsxs("div",{role:"button",tabIndex:0,onClick:()=>ue?n():t(re.id,void 0,_e),onKeyDown:we=>{(we.key==="Enter"||we.key===" ")&&(we.preventDefault(),ue?n():t(re.id,void 0,_e))},className:`w-full text-left px-3 py-2.5 transition-all group flex items-start gap-2 cursor-pointer ${ue?"bg-indigo-500/[0.08] border-l-2 border-indigo-500 pl-2.5":"hover:bg-white/[0.04] border-l-2 border-transparent"}`,children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[_.has(re.id)&&a.jsx("span",{className:"shrink-0 w-2 h-2 rounded-full bg-emerald-400 animate-pulse",title:"Streaming..."}),a.jsx("span",{className:`text-sm truncate ${ue?"text-gray-200 font-medium":"text-gray-300"}`,children:_e})]}),_.has(re.id)?a.jsx("div",{className:"text-[10px] text-emerald-400/70 mt-0.5",children:"Working..."}):re.preview&&re.preview!==re.title&&a.jsx("div",{className:"text-xs text-gray-500 truncate mt-0.5",children:re.preview}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-1 flex-wrap overflow-hidden",children:[a.jsx("span",{className:"text-[10px] text-gray-600 shrink-0",children:te(re.updated_at)}),a.jsx("span",{className:"text-[10px] text-gray-700 shrink-0",children:""}),a.jsxs("span",{className:"text-[10px] text-gray-600 shrink-0",children:[re.message_count," msgs"]}),re.model&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-[10px] text-gray-700 shrink-0",children:""}),a.jsx("span",{className:"text-[10px] text-gray-600 truncate max-w-[80px]",children:re.model})]}),de(re.total_cost_usd)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-[10px] text-gray-700 shrink-0",children:""}),a.jsx("span",{className:"text-[10px] text-gray-600 shrink-0",children:de(re.total_cost_usd)})]}),re.project_slug&&a.jsx("span",{className:"text-[10px] bg-indigo-500/10 text-indigo-400 px-1.5 py-0.5 rounded-full ml-auto truncate max-w-[100px]",children:re.project_slug})]})]}),a.jsx("button",{onClick:we=>Z(we,re.id),className:"shrink-0 p-1 text-gray-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",title:"Delete session",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},re.id)};return a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[!r&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.06]",children:[a.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Sessions"}),a.jsx("button",{onClick:n,className:"text-xs text-gray-500 hover:text-gray-300 transition-colors",children:"Back"})]}),a.jsxs("div",{className:"px-3 py-2 border-b border-white/[0.06] space-y-1.5",children:[a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{ref:K,type:"text",value:R,onChange:re=>q(re.target.value),placeholder:"Search conversations...",className:"w-full pl-7 pr-7 py-1.5 text-xs bg-white/[0.03] border border-white/[0.06] rounded-md text-gray-300 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40 focus:bg-white/[0.05] transition-colors"}),R&&a.jsx("button",{onClick:ae,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx(kn,{value:A,onChange:Q,options:[{value:"",label:"All workspaces"},...N.map(re=>({value:re.slug,label:re.name}))],placeholder:"All workspaces",icon:a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),a.jsx(kn,{value:M,onChange:P,options:[{value:"",label:"All projects"},...V.map(re=>({value:re.slug,label:re.name}))],placeholder:"All projects",icon:a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:D?X?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-600 text-sm",children:[a.jsxs("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:4}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):F.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-600 text-sm",children:[a.jsx("svg",{className:"w-6 h-6 mb-2 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"No results for ",Y,""]}):a.jsxs("div",{className:"py-1",children:[a.jsxs("div",{className:"px-4 py-1.5 text-[10px] text-gray-600 uppercase tracking-wider",children:[F.length," session",F.length!==1?"s":""," found"]}),F.map(re=>a.jsxs("div",{className:"border-b border-white/[0.03] last:border-b-0",children:[a.jsxs("button",{onClick:()=>t(re.session_id,void 0,re.session_title),className:"w-full text-left px-4 py-2 hover:bg-white/[0.04] transition-colors",children:[a.jsx("div",{className:"text-sm text-gray-300 truncate",children:re.session_title||`Session ${re.session_id.slice(0,8)}`}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[a.jsxs("span",{className:"text-[10px] text-gray-600",children:[re.hits.length," match",re.hits.length!==1?"es":""]}),re.project_slug&&a.jsx("span",{className:"text-[10px] bg-indigo-500/10 text-indigo-400 px-1.5 py-0.5 rounded-full",children:re.project_slug})]})]}),re.hits.slice(0,3).map(ue=>a.jsx("button",{onClick:()=>t(re.session_id,ue.turn_index,re.session_title),className:"w-full text-left px-4 pl-7 py-1.5 hover:bg-indigo-500/[0.06] transition-colors group",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:`shrink-0 text-[9px] mt-0.5 px-1 py-0.5 rounded font-medium ${ue.role==="user"?"bg-blue-500/10 text-blue-400":"bg-emerald-500/10 text-emerald-400"}`,children:ue.role==="user"?"U":"A"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs text-gray-400 line-clamp-2",children:ue.content_snippet}),a.jsx("span",{className:"text-[10px] text-gray-600 mt-0.5",children:ne(ue.created_at)})]}),a.jsx("svg",{className:"w-3 h-3 text-gray-700 group-hover:text-indigo-400 shrink-0 mt-1 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})},ue.message_id)),re.hits.length>3&&a.jsxs("button",{onClick:()=>t(re.session_id,void 0,re.session_title),className:"w-full text-left px-4 pl-7 py-1 text-[10px] text-gray-600 hover:text-gray-400 transition-colors",children:["+",re.hits.length-3," more match",re.hits.length-3!==1?"es":"","..."]})]},re.session_id||re.conversation_id))]}):l?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-600 text-sm",children:[a.jsxs("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:4}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):H.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-600 text-sm",children:[a.jsx("svg",{className:"w-6 h-6 mb-2 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"No conversations yet"]}):a.jsxs("div",{className:"py-1",children:[I.map(({group:re,sessions:ue})=>a.jsxs("div",{children:[a.jsxs("div",{className:"px-4 pt-3 pb-1.5 flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wider",children:re}),a.jsx("div",{className:"flex-1 h-px bg-white/[0.04]"}),a.jsx("span",{className:"text-[10px] text-gray-600",children:ue.length})]}),ue.map(ge)]},re)),d&&a.jsx("div",{ref:b,className:"flex items-center justify-center py-3",children:p?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-3.5 h-3.5 animate-spin text-gray-500",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"ml-1.5 text-[10px] text-gray-600",children:"Loading more..."})]}):a.jsx("span",{className:"text-[10px] text-gray-700",children:"Scroll for more"})})]})})]})}function cC({value:e,onChange:t}){var f;const n=Ve(cw),[r,i]=E.useState([]),[o,l]=E.useState(!0),[u,d]=E.useState(!1);return E.useEffect(()=>{jt.list({limit:100}).then(p=>{const m=p.items||[];if(i(m),l(!1),!u&&m.length>0){if(d(!0),n){const g=m.find(b=>b.id===n);if(g){t(g);return}}t(m[0])}}).catch(()=>l(!1))},[]),o?a.jsx("div",{className:"px-4 py-2",children:a.jsx("div",{className:"text-xs text-gray-500",children:"Loading projects..."})}):r.length===0?a.jsx("div",{className:"px-4 py-2",children:a.jsx("div",{className:"text-xs text-red-400",children:"No projects found. Create a project first."})}):a.jsxs("div",{className:"px-4 py-2 border-b border-white/[0.06]",children:[a.jsx("label",{className:"text-[10px] uppercase tracking-wider text-gray-500 mb-1 block",children:"Project"}),a.jsx(kn,{options:r.map(p=>({value:p.id,label:p.name})),value:e||"",onChange:p=>{const m=r.find(g=>g.id===p)||null;t(m)}}),e&&a.jsx("div",{className:"text-[10px] text-gray-600 mt-1 truncate font-mono",children:(f=r.find(p=>p.id===e))==null?void 0:f.root_path})]})}const KW=320,YW=800,WW=768;function uC({status:e}){return e==="connected"?a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:"Connected"}):e==="reconnecting"||e==="connecting"?a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse shrink-0",title:"Reconnecting..."}):a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-500 shrink-0",title:"Disconnected"})}function XW(){const[e,t]=Ct(HO),[n,r]=Ct(GO),[i,o]=E.useState(!1),[l,u]=E.useState(!1),[d,f]=E.useState(null),[p,m]=E.useState(!1),[g,b]=E.useState(null),[y,_]=E.useState(!1),w=l$(),S=E.useRef(null),j=Rt(VO),N=e!=="closed",C=e==="fullscreen",A=!w.sessionId;E.useEffect(()=>{const R=window.matchMedia(`(max-width: ${WW-1}px)`);_(R.matches);const q=Y=>{_(Y.matches),Y.matches||u(!1)};return R.addEventListener("change",q),()=>R.removeEventListener("change",q)},[]),E.useEffect(()=>{if(!w.sessionId){b(null);return}},[w.sessionId]);const T=E.useCallback(R=>{R.preventDefault(),m(!0)},[]);E.useEffect(()=>{if(!p)return;const R=Y=>{const L=window.innerWidth-Y.clientX;r(Math.min(YW,Math.max(KW,L)))},q=()=>{m(!1)};return document.addEventListener("mousemove",R),document.addEventListener("mouseup",q),document.body.style.cursor="col-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",q),document.body.style.cursor="",document.body.style.userSelect=""}},[p,r]);const M=R=>{A&&!d||w.sendMessage(R,A?{cwd:d.root_path,projectSlug:d.slug}:void 0)},P=()=>{w.newSession(),f(null),b(null)},U=(R,q,Y)=>{j(q??null),w.loadSession(R),b(Y??null),C||o(!1),y&&u(!1)},z=A?"New Chat":g||"Chat";return C?a.jsxs("div",{ref:S,className:`fixed inset-0 z-30 bg-[#1a1d27] flex ${p?"":"transition-transform duration-300 ease-in-out"} ${N?"translate-x-0":"translate-x-full"}`,children:[a.jsxs("div",{className:"hidden md:flex w-72 shrink-0 border-r border-white/[0.06] flex-col",children:[a.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-white/[0.06] shrink-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Conversations"}),a.jsx("button",{onClick:P,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"New conversation",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})})]}),a.jsx(E0,{activeSessionId:w.sessionId,onSelect:U,onClose:()=>{},embedded:!0})]}),y&&l&&a.jsxs("div",{className:"fixed inset-0 z-40 flex flex-col bg-[#1a1d27]",children:[a.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-white/[0.06] shrink-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Conversations"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("button",{onClick:()=>u(!1),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Back to chat",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})})]}),a.jsx("div",{className:"px-3 py-2 border-b border-white/[0.06]",children:a.jsxs("button",{onClick:()=>{P(),u(!1)},className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-indigo-500/10 hover:bg-indigo-500/20 text-indigo-400 text-sm font-medium transition-colors",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"New conversation"]})}),a.jsx(E0,{activeSessionId:w.sessionId,onSelect:U,onClose:()=>u(!1),embedded:!0})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-white/[0.06] shrink-0",children:[a.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[a.jsx("button",{onClick:()=>y?u(!0):void 0,className:`shrink-0 p-1.5 rounded-md transition-colors md:hidden ${l?"text-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-200 hover:bg-white/[0.04]"}`,title:"Sessions",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),!A&&a.jsx(uC,{status:w.wsStatus}),a.jsx("span",{className:"text-sm font-medium text-gray-300 truncate",children:z})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:P,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors md:hidden",title:"New chat",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),a.jsx("button",{onClick:()=>t("open"),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Exit fullscreen",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9L4 4m0 0v5m0-5h5m6 6l5 5m0 0v-5m0 5h-5"})})}),a.jsx("button",{onClick:()=>t("closed"),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Close",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),!A&&w.wsStatus==="reconnecting"&&a.jsxs("div",{className:"px-4 py-1.5 bg-amber-500/10 border-b border-amber-500/20 text-amber-400 text-xs flex items-center gap-1.5",children:[a.jsxs("svg",{className:"w-3 h-3 animate-spin shrink-0",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Reconnecting..."})]}),!A&&w.wsStatus==="disconnected"&&w.sessionId&&a.jsx("div",{className:"px-4 py-1.5 bg-red-500/10 border-b border-red-500/20 text-red-400 text-xs flex items-center gap-1.5",children:a.jsx("span",{children:"Connection lost"})}),A&&a.jsx(cC,{value:(d==null?void 0:d.id)||null,onChange:f}),a.jsx(oC,{messages:w.messages,isStreaming:w.isStreaming,isLoadingHistory:w.isLoadingHistory,isReplaying:w.isReplaying,hasOlderMessages:w.hasOlderMessages,isLoadingOlder:w.isLoadingOlder,onLoadOlder:w.loadOlderMessages,onRespondPermission:w.respondPermission,onRespondInput:w.respondInput}),a.jsx(lC,{onSend:M,onInterrupt:w.interrupt,isStreaming:w.isStreaming,disabled:A&&!d})]})]}):a.jsxs("div",{ref:S,className:`fixed z-30 bg-[#1a1d27] border-l border-white/[0.06] flex flex-col ${p?"":"transition-transform duration-300 ease-in-out"} ${N?"translate-x-0":"translate-x-full"} top-0 right-0 bottom-0 w-full`,style:{maxWidth:y?void 0:n},children:[a.jsx("div",{onMouseDown:T,className:`absolute left-0 top-0 bottom-0 w-1 cursor-col-resize z-10 hover:bg-indigo-500/40 transition-colors hidden md:block ${p?"bg-indigo-500/50":""}`}),a.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-white/[0.06] shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("button",{onClick:()=>o(!i),className:`shrink-0 p-1.5 rounded-md transition-colors ${i?"text-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-200 hover:bg-white/[0.04]"}`,title:"Sessions",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("div",{className:"min-w-0 flex items-center gap-1.5",children:[!A&&a.jsx(uC,{status:w.wsStatus}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-300 truncate block",children:z}),!A&&d&&a.jsx("span",{className:"text-[10px] text-gray-500 truncate block",children:d.name})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:P,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"New chat",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),a.jsx("button",{onClick:()=>t("fullscreen"),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors hidden md:flex",title:"Fullscreen",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})}),a.jsx("button",{onClick:()=>t("closed"),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Close",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),!A&&w.wsStatus==="reconnecting"&&a.jsxs("div",{className:"px-4 py-1.5 bg-amber-500/10 border-b border-amber-500/20 text-amber-400 text-xs flex items-center gap-1.5",children:[a.jsxs("svg",{className:"w-3 h-3 animate-spin shrink-0",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Reconnecting..."})]}),!A&&w.wsStatus==="disconnected"&&w.sessionId&&a.jsx("div",{className:"px-4 py-1.5 bg-red-500/10 border-b border-red-500/20 text-red-400 text-xs flex items-center gap-1.5",children:a.jsx("span",{children:"Connection lost"})}),i?a.jsx(E0,{activeSessionId:w.sessionId,onSelect:U,onClose:()=>o(!1)}):a.jsxs(a.Fragment,{children:[A&&a.jsx(cC,{value:(d==null?void 0:d.id)||null,onChange:f}),a.jsx(oC,{messages:w.messages,isStreaming:w.isStreaming,isLoadingHistory:w.isLoadingHistory,isReplaying:w.isReplaying,hasOlderMessages:w.hasOlderMessages,isLoadingOlder:w.isLoadingOlder,onLoadOlder:w.loadOlderMessages,onRespondPermission:w.respondPermission,onRespondInput:w.respondInput}),a.jsx(lC,{onSend:M,onInterrupt:w.interrupt,isStreaming:w.isStreaming,disabled:A&&!d})]})]})}function ZW(){const e=Ve(eo),t=Ve(Nl),[n,r]=E.useState(!1),i=E.useRef(null);if(E.useEffect(()=>{if(!n)return;function u(d){i.current&&!i.current.contains(d.target)&&r(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[n]),E.useEffect(()=>{if(!n)return;function u(d){d.key==="Escape"&&r(!1)}return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n]),e==="none"||!t)return null;const o=t.name.split(" ").map(u=>u[0]).join("").slice(0,2).toUpperCase(),l=()=>{As()};return a.jsxs("div",{className:"relative",ref:i,children:[a.jsx("button",{onClick:()=>r(!n),className:"flex items-center gap-2 rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-white/[0.06] hover:text-gray-200",children:t.picture_url?a.jsx("img",{src:t.picture_url,alt:t.name,className:"h-7 w-7 rounded-full",referrerPolicy:"no-referrer"}):a.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-indigo-600 text-xs font-medium text-white",children:o})}),n&&a.jsxs("div",{className:"absolute right-0 top-full z-50 mt-2 w-56 rounded-lg border border-white/[0.08] bg-[#1e2130] py-1 shadow-xl",children:[a.jsxs("div",{className:"border-b border-white/[0.06] px-4 py-3",children:[a.jsx("p",{className:"truncate text-sm font-medium text-gray-200",children:t.name}),a.jsx("p",{className:"truncate text-xs text-gray-500",children:t.email})]}),a.jsxs("button",{onClick:l,className:"flex w-full items-center gap-2 px-4 py-2.5 text-sm text-gray-400 transition-colors hover:bg-white/[0.06] hover:text-gray-200",children:[a.jsx(QW,{className:"h-4 w-4"}),"Sign out"]})]})]})}function QW({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}const JW=[{label:"Organize",items:[{name:"Workspaces",href:"/workspaces",icon:rX},{name:"Projects",href:"/projects",icon:sX},{name:"Milestones",href:"/milestones",icon:iX}]},{label:"Plan",items:[{name:"Plans",href:"/plans",icon:aX},{name:"Tasks",href:"/tasks",icon:oX}]},{label:"Knowledge",items:[{name:"Notes",href:"/notes",icon:lX},{name:"Code",href:"/code",icon:cX}]}];function dC({collapsed:e}){return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center h-16 px-4 border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold",children:"PO"})}),!e&&a.jsx("span",{className:"font-semibold text-gray-100",children:"Project Orchestrator"})]})}),a.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:a.jsx("div",{className:"space-y-5 px-2",children:JW.map(t=>a.jsxs("div",{children:[e?a.jsx("div",{className:"h-px bg-white/[0.06] mx-2 mb-2"}):a.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500 px-3 mb-1.5",children:t.label}),a.jsx("ul",{className:"space-y-0.5",children:t.items.map(n=>a.jsx("li",{children:a.jsxs(ah,{to:n.href,className:({isActive:r})=>`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${r?"bg-indigo-500/15 text-indigo-400 font-medium border-l-[3px] border-indigo-500 -ml-[3px]":"text-gray-400 hover:bg-white/[0.06] hover:text-gray-200"}`,children:[a.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),!e&&a.jsx("span",{children:n.name})]})},n.name))})]},t.label))})})]})}function eX(){const[e,t]=Ct(M8),[n,r]=Ct(HO),[i]=Ct(GO),[o,l]=E.useState(!1),u=Ii(),d=JO("(min-width: 640px)"),f=n==="open",p=n==="fullscreen",m=Ve(KO);d$();const g=a3();return E.useEffect(()=>{l(!1)},[u.pathname]),E.useEffect(()=>{if(o)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[o]),a.jsxs("div",{className:"flex min-h-0 flex-1 bg-[#0f1117]",children:[a.jsxs("aside",{className:`${e?"w-16":"w-64"} hidden md:flex flex-col bg-[#1a1d27] border-r border-white/[0.06] transition-all duration-200`,children:[a.jsx(dC,{collapsed:e}),a.jsx("div",{className:"p-4 border-t border-white/[0.06]",children:a.jsx("button",{onClick:()=>t(!e),className:"w-full flex items-center justify-center p-2 text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] rounded-lg transition-colors",children:e?a.jsx(uX,{className:"w-5 h-5"}):a.jsx(fC,{className:"w-5 h-5"})})})]}),a.jsxs("div",{className:`fixed inset-0 z-50 md:hidden transition-opacity duration-200 ${o?"opacity-100":"opacity-0 pointer-events-none"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>l(!1)}),a.jsxs("aside",{className:`absolute left-0 top-0 bottom-0 w-64 flex flex-col bg-[#1a1d27] border-r border-white/[0.06] transition-transform duration-200 ${o?"translate-x-0":"-translate-x-full"}`,children:[a.jsx(dC,{collapsed:!1}),a.jsx("div",{className:"p-4 border-t border-white/[0.06]",children:a.jsx("button",{onClick:()=>l(!1),className:"w-full flex items-center justify-center p-2 text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] rounded-lg transition-colors",children:a.jsx(fC,{className:"w-5 h-5"})})})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden transition-[margin] duration-300",style:{marginRight:f&&!p&&d?i:0},children:[a.jsxs("header",{className:"h-16 flex items-center px-4 md:px-6 border-b border-white/[0.06] bg-[#1a1d27]/80 backdrop-blur-sm",onMouseDown:g,children:[a.jsx("button",{className:"mr-3 p-2 text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] rounded-lg transition-colors md:hidden",onClick:()=>l(!0),children:a.jsx(nX,{className:"w-5 h-5"})}),a.jsx(tX,{pathname:u.pathname}),a.jsxs("div",{className:"ml-auto flex items-center gap-1.5",children:[a.jsx("span",{className:`w-2 h-2 rounded-full transition-colors ${m==="connected"?"bg-emerald-400":m==="reconnecting"?"bg-amber-400 animate-pulse":"bg-gray-600"}`,title:`WebSocket: ${m}`}),a.jsx(ZW,{}),a.jsx("button",{onClick:()=>r(n==="closed"?"open":"closed"),className:`p-2 rounded-lg transition-colors ${n!=="closed"?"text-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-200 hover:bg-white/[0.06]"}`,title:"Toggle chat",children:a.jsx(dX,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-4 md:px-6 pb-6",children:a.jsx(hu,{})})]}),a.jsx(XW,{}),a.jsx(VF,{})]})}function tX({pathname:e}){const t=e.split("/").filter(Boolean);return a.jsxs("nav",{className:"flex items-center gap-2 text-sm min-w-0",children:[a.jsx(ah,{to:"/",className:"text-gray-400 hover:text-gray-200 shrink-0",children:"Home"}),t.length>2&&a.jsxs("span",{className:"flex items-center gap-2 min-w-0 sm:hidden",children:[a.jsx("span",{className:"text-gray-600 shrink-0",children:"/"}),a.jsx("span",{className:"text-gray-500",children:"..."})]}),t.map((n,r)=>{const i=r===0,o=r===t.length-1,u=!i&&!o&&t.length>2;return a.jsxs("span",{className:`flex items-center gap-2 min-w-0 ${u?"hidden sm:flex":""}`,children:[a.jsx("span",{className:"text-gray-600 shrink-0",children:"/"}),a.jsx(ah,{to:`/${t.slice(0,r+1).join("/")}`,className:`truncate max-w-[120px] sm:max-w-[200px] md:max-w-none ${o?"text-gray-200 font-medium":"text-gray-400 hover:text-gray-200"}`,children:n.charAt(0).toUpperCase()+n.slice(1)})]},`${n}-${r}`)})]})}function nX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}function rX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function iX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}function sX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function aX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}function oX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function lX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function cX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}function fC({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}function uX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function dX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}function fX(){const e=Mn(),t=Ve(zO),n=Ve(eo),[r,i]=Ct(IO),o=Rt(eo),l=Rt(x_),u=Rt(b_),[d,f]=Ct(Nl),p=Rt(Lu),[m,g]=E.useState(!1);return E.useEffect(()=>{X8(e),Z8({setToken:_=>p(_),setUser:()=>f(null)})},[e,p,f]),E.useEffect(()=>e$(),[]),E.useEffect(()=>{r||Ts.getProviders().then(_=>{const w=_.auth_required?"required":"none";o(w),uh(w),l(_.providers),u(_.allow_registration),i(!0)}).catch(()=>{o("none"),uh("none"),i(!0)})},[r,o,l,u,i]),E.useEffect(()=>{!r||n==="none"||!t||d||Ts.me().then(_=>{f(_)}).catch(()=>{g(!0),As()})},[r,n,t,d,f]),!r||n==="required"&&t&&!d&&!m?a.jsx("div",{className:"flex min-h-dvh items-center justify-center bg-[var(--surface-base)]",children:a.jsx(xr,{size:"lg"})}):n==="none"?a.jsx(hu,{}):t?a.jsx(hu,{}):a.jsx(_O,{to:"/login",replace:!0})}function hX(){const e=Mn(),t=Ii(),[n,r]=Ct(uw),i=Ve(ZO),o=Rt(z8);return E.useEffect(()=>{if(n!==null)return;let l=!1;return pw().then(u=>{if(!l){if(u===null){r(!0);return}r(u),!u&&!t.pathname.startsWith("/setup")&&(i&&o(t.pathname+t.search),e("/setup",{replace:!0}))}}),()=>{l=!0}},[n,r,e,t.pathname,t.search,i,o]),n===null?a.jsx("div",{className:"flex min-h-dvh items-center justify-center bg-[var(--surface-base)]",children:a.jsx(xr,{size:"lg"})}):a.jsx(hu,{})}async function zf(e,t){try{const{listen:n}=await ci(async()=>{const{listen:i}=await import("./event-DjZVAIBO.js");return{listen:i}},__vite__mapDeps([2,1]));return await n(e,i=>t(i.payload))}catch{return null}}async function pX(e){try{const{invoke:t}=await ci(async()=>{const{invoke:n}=await import("./core-DhEqZVGG.js");return{invoke:n}},[]);return await t(e)}catch{return null}}function hC(){return typeof window<"u"&&"__TAURI__"in window}function pC(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function mX(e,t=200){return e?e.length<=t?e:e.slice(0,t).trimEnd()+"...":""}function gX(){const[e,t]=E.useState({kind:"hidden"}),[n,r]=E.useState(!1);E.useEffect(()=>{if(!hC())return;const l=[];return(async()=>{l.push(await zf("update-available",d=>{t({kind:"available",version:d.version,body:d.body}),r(!1)})),l.push(await zf("update-progress",d=>{t({kind:"downloading",percent:d.percent,downloaded:d.downloaded,total:d.total})})),l.push(await zf("update-installing",d=>{t({kind:"installing",version:d.version})})),l.push(await zf("update-error",d=>{t({kind:"error",message:d.message})}))})(),()=>{l.forEach(d=>d==null?void 0:d())}},[]);const i=E.useCallback(async()=>{t(l=>l.kind==="available"?{kind:"downloading",percent:0,downloaded:0,total:null}:l),await pX("install_update")},[]),o=E.useCallback(()=>{r(!0)},[]);return!hC()||e.kind==="hidden"||n&&e.kind==="available"?null:a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 mx-auto max-w-2xl px-4 pt-2",children:a.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 shadow-lg dark:border-blue-800 dark:bg-blue-950",children:[e.kind==="available"&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:["New version ",e.version," available"]}),e.body&&a.jsx("p",{className:"mt-1 text-xs text-blue-700 dark:text-blue-300",children:mX(e.body)})]}),a.jsxs("div",{className:"flex flex-shrink-0 items-center gap-2",children:[a.jsx("button",{onClick:i,className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-blue-700",children:"Update now"}),a.jsx("button",{onClick:o,className:"rounded-md px-2 py-1.5 text-xs text-blue-600 transition-colors hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900",children:"Later"})]})]}),e.kind==="downloading"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Downloading update..."}),a.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:[e.percent!=null?`${e.percent.toFixed(0)}%`:pC(e.downloaded),e.total!=null&&` / ${pC(e.total)}`]})]}),a.jsx("div",{className:"mt-2 h-2 w-full overflow-hidden rounded-full bg-blue-200 dark:bg-blue-800",children:a.jsx("div",{className:"h-full rounded-full bg-blue-600 transition-all duration-300 ease-out dark:bg-blue-400",style:{width:e.percent!=null?`${e.percent}%`:"30%",...e.percent==null&&{animation:"pulse 1.5s ease-in-out infinite"}}})})]}),e.kind==="installing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{className:"h-5 w-5 animate-spin text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Installing v",e.version,"... The app will restart shortly."]})]}),e.kind==="error"&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-red-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Update check failed"}),a.jsx("p",{className:"mt-0.5 text-xs text-red-600 dark:text-red-400",children:e.message})]}),a.jsx("button",{onClick:o,className:"flex-shrink-0 text-red-400 hover:text-red-600 dark:hover:text-red-300",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})}function xX(){const{updateAvailable:e,latestVersion:t,currentVersion:n,releaseUrl:r,dismissed:i,dismiss:o}=b$();return!e||i?null:a.jsx("div",{className:"border-b border-blue-200 bg-blue-50 px-4 py-2.5 dark:border-blue-800 dark:bg-blue-950",children:a.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[a.jsx("svg",{className:"h-4 w-4 flex-shrink-0 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[a.jsxs("span",{className:"font-medium",children:["Version ",t]})," is available",n&&a.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[" (current: ",n,")"]}),r&&a.jsxs(a.Fragment,{children:["  ",a.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"font-medium underline hover:text-blue-900 dark:hover:text-blue-100",children:"View release notes"})]})]})]}),a.jsx("button",{onClick:o,className:"flex-shrink-0 rounded p-1 text-blue-400 transition-colors hover:bg-blue-100 hover:text-blue-600 dark:hover:bg-blue-900 dark:hover:text-blue-300","aria-label":"Dismiss update notification",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function bX(){const e=Mn(),t=Rt(Lu),n=Rt(Nl),[r,i]=E.useState(""),[o,l]=E.useState(""),[u,d]=E.useState(!1),[f,p]=E.useState(null),m=async g=>{g.preventDefault(),p(null);const b=r.trim();if(!b||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){p("Please enter a valid email address");return}if(!o){p("Please enter your password");return}d(!0);try{const{token:y,user:_}=await Ts.loginWithPassword(b,o);t(y),n(_),e("/workspaces",{replace:!0})}catch(y){p(y instanceof Error?y.message:"Login failed")}finally{d(!1)}};return a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsx(nt,{type:"email",label:"Email",placeholder:"you@example.com",value:r,onChange:g=>i(g.target.value),autoComplete:"email",required:!0}),a.jsx(nt,{type:"password",label:"Password",placeholder:"Enter your password",value:o,onChange:g=>l(g.target.value),autoComplete:"current-password",required:!0}),f&&a.jsx("div",{className:"rounded-lg bg-red-900/50 px-4 py-3 text-sm text-red-300",children:f}),a.jsx(tt,{type:"submit",loading:u,className:"w-full",children:"Sign in"})]})}function yX(){const e=Mn(),t=Rt(Lu),n=Rt(Nl),[r,i]=E.useState(""),[o,l]=E.useState(""),[u,d]=E.useState(""),[f,p]=E.useState(""),[m,g]=E.useState(!1),[b,y]=E.useState(null),_=async w=>{w.preventDefault(),y(null);const S=r.trim(),j=o.trim();if(!S||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S)){y("Please enter a valid email address");return}if(!j){y("Please enter your name");return}if(u.length<8){y("Password must be at least 8 characters");return}if(u!==f){y("Passwords do not match");return}g(!0);try{const{token:N,user:C}=await Ts.register(S,u,j);t(N),n(C),e("/workspaces",{replace:!0})}catch(N){y(N instanceof Error?N.message:"Registration failed")}finally{g(!1)}};return a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsx(nt,{type:"email",label:"Email",placeholder:"you@example.com",value:r,onChange:w=>i(w.target.value),autoComplete:"email",required:!0}),a.jsx(nt,{type:"text",label:"Name",placeholder:"Your full name",value:o,onChange:w=>l(w.target.value),autoComplete:"name",required:!0}),a.jsx(nt,{type:"password",label:"Password",placeholder:"Minimum 8 characters",value:u,onChange:w=>d(w.target.value),autoComplete:"new-password",required:!0}),a.jsx(nt,{type:"password",label:"Confirm password",placeholder:"Enter password again",value:f,onChange:w=>p(w.target.value),autoComplete:"new-password",required:!0}),b&&a.jsx("div",{className:"rounded-lg bg-red-900/50 px-4 py-3 text-sm text-red-300",children:b}),a.jsx(tt,{type:"submit",loading:m,className:"w-full",children:"Create account"})]})}function vX(){const e=Mn(),t=Ve(zO),n=Ve(eo),r=Ve(x_),i=Ve(b_),[o,l]=Ct(IO),u=Rt(eo),d=Rt(x_),f=Rt(b_),[p,m]=E.useState(!1),[g,b]=E.useState(!1),[y,_]=E.useState(null);E.useEffect(()=>{o||Ts.getProviders().then(N=>{const C=N.auth_required?"required":"none";u(C),uh(C),d(N.providers),f(N.allow_registration),l(!0)}).catch(()=>{u("none"),uh("none"),l(!0)})},[o,u,d,f,l]),E.useEffect(()=>{o&&(t||n==="none")&&e("/workspaces",{replace:!0})},[o,t,n,e]);const w=r.some(N=>N.type==="password"),S=r.find(N=>N.type==="oidc"),j=async()=>{b(!0),_(null);try{const{auth_url:N}=await Ts.getOidcAuthUrl();window.location.href=N}catch(N){_(N instanceof Error?N.message:"Failed to start login"),b(!1)}};return o?a.jsx("div",{className:"flex min-h-dvh items-center justify-center bg-[var(--surface-base)]",children:a.jsxs("div",{className:"w-full max-w-sm space-y-8 px-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-indigo-600",children:a.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})})}),a.jsx("h1",{className:"mt-6 text-2xl font-bold text-white",children:"Project Orchestrator"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400",children:p?"Create your account":"Sign in to continue"})]}),a.jsxs("div",{className:"space-y-6",children:[w&&!p&&a.jsx(bX,{}),i&&p&&a.jsx(yX,{}),(w||i&&p)&&S&&a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-white/[0.1]"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"bg-[var(--surface-base)] px-3 text-gray-500",children:"or"})})]}),S&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:j,disabled:g,className:"flex w-full items-center justify-center gap-3 rounded-lg bg-white px-4 py-3 text-sm font-medium text-gray-900 shadow-sm transition hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-950 disabled:opacity-50 disabled:cursor-not-allowed",children:[g?a.jsx(xr,{size:"sm",className:"text-gray-600"}):a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),"Sign in with ",S.name]}),y&&a.jsx("div",{className:"rounded-lg bg-red-900/50 px-4 py-3 text-sm text-red-300",children:y})]})]}),i&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>m(!p),className:"text-sm text-indigo-400 transition hover:text-indigo-300",children:p?"Already have an account? Sign in":"Don't have an account? Create one"})})]})}):a.jsx("div",{className:"flex min-h-dvh items-center justify-center bg-[var(--surface-base)]",children:a.jsx(xr,{size:"lg"})})}function _X(){const[e]=Du(),t=Mn(),n=Rt(Lu),r=Rt(Nl),[i,o]=E.useState(null),l=E.useMemo(()=>e.get("code"),[e]),u=l?i:"Missing authorization code";return E.useEffect(()=>{if(!l)return;let d=!1;return Ts.exchangeOidcCode(l).catch(()=>Ts.exchangeCode(l)).then(({token:f,user:p})=>{d||(n(f),r(p),t("/workspaces",{replace:!0}))}).catch(f=>{d||o(f instanceof Error?f.message:"Authentication failed")}),()=>{d=!0}},[l,t,n,r]),u?a.jsx("div",{className:"flex min-h-dvh items-center justify-center bg-[var(--surface-base)]",children:a.jsxs("div",{className:"w-full max-w-sm space-y-6 px-6 text-center",children:[a.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-900/50",children:a.jsx("svg",{className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Authentication failed"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400",children:u})]}),a.jsx(jn,{to:"/login",className:"inline-block rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-indigo-500",children:"Back to login"})]})}):a.jsx("div",{className:"flex min-h-dvh items-center justify-center bg-[var(--surface-base)]",children:a.jsxs("div",{className:"space-y-4 text-center",children:[a.jsx(xr,{size:"lg"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Signing you in..."})]})})}function wX({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(""),[d,f]=E.useState({}),p=g=>{r(g),i||o(g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))},m=()=>{const g={};return n.trim()||(g.name="Name is required"),f(g),Object.keys(g).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Name",placeholder:"My Workspace",value:n,onChange:g=>p(g.target.value),error:d.name,disabled:t,autoFocus:!0}),a.jsx(nt,{label:"Slug",placeholder:"my-workspace",value:i,onChange:g=>o(g.target.value),disabled:t}),a.jsx(pi,{label:"Description",placeholder:"Optional description...",value:l,onChange:g=>u(g.target.value),disabled:t,rows:3})]}),submit:async()=>{m()&&await e({name:n.trim(),slug:i.trim()||void 0,description:l.trim()})}}}function SX({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(""),[d,f]=E.useState(""),[p,m]=E.useState({}),g=y=>{r(y),i||o(y.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))},b=()=>{const y={};return n.trim()||(y.name="Name is required"),l.trim()||(y.root_path="Root path is required"),m(y),Object.keys(y).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Name",placeholder:"My Project",value:n,onChange:y=>g(y.target.value),error:p.name,disabled:t,autoFocus:!0}),a.jsx(nt,{label:"Slug",placeholder:"my-project",value:i,onChange:y=>o(y.target.value),disabled:t}),a.jsx(nt,{label:"Root Path",placeholder:"/path/to/project",value:l,onChange:y=>u(y.target.value),error:p.root_path,disabled:t}),a.jsx(pi,{label:"Description",placeholder:"Optional description...",value:d,onChange:y=>f(y.target.value),disabled:t,rows:3})]}),submit:async()=>{b()&&await e({name:n.trim(),slug:i.trim()||void 0,root_path:l.trim(),description:d.trim()})}}}function NX({onSubmit:e,loading:t,defaultProjectId:n}){const[r,i]=E.useState(""),[o,l]=E.useState(""),[u,d]=E.useState("5"),[f,p]=E.useState(n||""),[m,g]=E.useState([]),[b,y]=E.useState({});E.useEffect(()=>{jt.list({limit:100}).then(S=>g(S.items||[])).catch(()=>{})},[]);const _=[{value:"",label:"No project"},...m.map(S=>({value:S.id,label:S.name}))],w=()=>{const S={};return r.trim()||(S.title="Title is required"),o.trim()||(S.description="Description is required"),y(S),Object.keys(S).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Title",placeholder:"Plan title",value:r,onChange:S=>i(S.target.value),error:b.title,disabled:t,autoFocus:!0}),a.jsx(pi,{label:"Description",placeholder:"Describe the plan...",value:o,onChange:S=>l(S.target.value),error:b.description,disabled:t,rows:4}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(nt,{label:"Priority",type:"number",min:1,max:10,value:u,onChange:S=>d(S.target.value),disabled:t}),a.jsx(kn,{label:"Project",options:_,value:f,onChange:S=>p(S),disabled:t})]})]}),submit:async()=>{w()&&await e({title:r.trim(),description:o.trim(),priority:parseInt(u)||5,project_id:f||void 0})}}}function EX({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(""),[d,f]=E.useState(""),[p,m]=E.useState(""),[g,b]=E.useState({}),y=()=>{const _={};return i.trim()||(_.description="Description is required"),b(_),Object.keys(_).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Title",placeholder:"Task title (optional)",value:n,onChange:_=>r(_.target.value),disabled:t,autoFocus:!0}),a.jsx(pi,{label:"Description",placeholder:"Describe what needs to be done...",value:i,onChange:_=>o(_.target.value),error:g.description,disabled:t,rows:4}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(nt,{label:"Priority",type:"number",min:1,max:10,placeholder:"1-10",value:l,onChange:_=>u(_.target.value),disabled:t}),a.jsx(nt,{label:"Estimated Complexity",type:"number",min:1,max:10,placeholder:"1-10",value:p,onChange:_=>m(_.target.value),disabled:t})]}),a.jsx(nt,{label:"Tags",placeholder:"Comma-separated tags",value:d,onChange:_=>f(_.target.value),disabled:t})]}),submit:async()=>{y()&&await e({title:n.trim()||void 0,description:i.trim(),priority:l?parseInt(l):void 0,tags:d.split(",").map(_=>_.trim()).filter(Boolean),estimated_complexity:p?parseInt(p):void 0})}}}function kX({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState({}),d=()=>{const f={};return n.trim()||(f.description="Description is required"),u(f),Object.keys(f).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(pi,{label:"Description",placeholder:"What needs to be done in this step...",value:n,onChange:f=>r(f.target.value),error:l.description,disabled:t,autoFocus:!0,rows:3}),a.jsx(nt,{label:"Verification",placeholder:"How to verify this step is complete (optional)",value:i,onChange:f=>o(f.target.value),disabled:t})]}),submit:async()=>{d()&&await e({description:n.trim(),verification:i.trim()||void 0})}}}function jX({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(""),[d,f]=E.useState(""),[p,m]=E.useState({}),g=()=>{const b={};return n.trim()||(b.description="Description is required"),i.trim()||(b.rationale="Rationale is required"),m(b),Object.keys(b).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Description",placeholder:"What was decided?",value:n,onChange:b=>r(b.target.value),error:p.description,disabled:t,autoFocus:!0}),a.jsx(pi,{label:"Rationale",placeholder:"Why was this decision made?",value:i,onChange:b=>o(b.target.value),error:p.rationale,disabled:t,rows:3}),a.jsx(nt,{label:"Alternatives",placeholder:"Comma-separated alternatives considered",value:l,onChange:b=>u(b.target.value),disabled:t}),a.jsx(nt,{label:"Chosen Option",placeholder:"The selected option (optional)",value:d,onChange:b=>f(b.target.value),disabled:t})]}),submit:async()=>{g()&&await e({description:n.trim(),rationale:i.trim(),alternatives:l.split(",").map(b=>b.trim()).filter(Boolean),chosen_option:d.trim()||void 0})}}}const CX=[{value:"performance",label:"Performance"},{value:"security",label:"Security"},{value:"style",label:"Style"},{value:"compatibility",label:"Compatibility"},{value:"testing",label:"Testing"},{value:"other",label:"Other"}],TX=[{value:"",label:"No severity"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}];function AX({onSubmit:e,loading:t}){const[n,r]=E.useState("other"),[i,o]=E.useState(""),[l,u]=E.useState(""),[d,f]=E.useState({}),p=()=>{const m={};return i.trim()||(m.description="Description is required"),f(m),Object.keys(m).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(kn,{label:"Type",options:CX,value:n,onChange:m=>r(m),disabled:t}),a.jsx(kn,{label:"Severity",options:TX,value:l,onChange:m=>u(m),disabled:t})]}),a.jsx(nt,{label:"Description",placeholder:"Describe the constraint...",value:i,onChange:m=>o(m.target.value),error:d.description,disabled:t,autoFocus:!0})]}),submit:async()=>{p()&&await e({constraint_type:n,description:i.trim(),severity:l||void 0})}}}function HD({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(""),[d,f]=E.useState(""),[p,m]=E.useState({}),g=()=>{const b={};return n.trim()||(b.title="Title is required"),m(b),Object.keys(b).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Title",placeholder:"Milestone title",value:n,onChange:b=>r(b.target.value),error:p.title,disabled:t,autoFocus:!0}),a.jsx(pi,{label:"Description",placeholder:"Optional description...",value:i,onChange:b=>o(b.target.value),disabled:t,rows:3}),a.jsx(nt,{label:"Target Date",type:"date",value:l,onChange:b=>u(b.target.value),disabled:t}),a.jsx(nt,{label:"Tags",placeholder:"Comma-separated tags",value:d,onChange:b=>f(b.target.value),disabled:t})]}),submit:async()=>{g()&&await e({title:n.trim(),description:i.trim()||void 0,target_date:l||void 0,tags:d.split(",").map(b=>b.trim()).filter(Boolean)})}}}function MX({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(""),[d,f]=E.useState(""),[p,m]=E.useState({}),g=()=>{const b={};return n.trim()||(b.version="Version is required"),m(b),Object.keys(b).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Version",placeholder:"1.0.0",value:n,onChange:b=>r(b.target.value),error:p.version,disabled:t,autoFocus:!0}),a.jsx(nt,{label:"Title",placeholder:"Release title (optional)",value:i,onChange:b=>o(b.target.value),disabled:t}),a.jsx(pi,{label:"Description",placeholder:"Optional description...",value:l,onChange:b=>u(b.target.value),disabled:t,rows:3}),a.jsx(nt,{label:"Target Date",type:"date",value:d,onChange:b=>f(b.target.value),disabled:t})]}),submit:async()=>{g()&&await e({version:n.trim(),title:i.trim()||void 0,description:l.trim()||void 0,target_date:d||void 0})}}}const RX=[{value:"api_contract",label:"API Contract"},{value:"protobuf",label:"Protobuf"},{value:"graphql_schema",label:"GraphQL Schema"},{value:"json_schema",label:"JSON Schema"},{value:"database_schema",label:"Database Schema"},{value:"shared_types",label:"Shared Types"},{value:"config",label:"Config"},{value:"documentation",label:"Documentation"},{value:"other",label:"Other"}];function OX({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState("other"),[l,u]=E.useState(""),[d,f]=E.useState(""),[p,m]=E.useState(""),[g,b]=E.useState(""),[y,_]=E.useState(""),[w,S]=E.useState({}),j=()=>{const N={};return n.trim()||(N.name="Name is required"),l.trim()||(N.file_path="File path is required"),S(N),Object.keys(N).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Name",placeholder:"Resource name",value:n,onChange:N=>r(N.target.value),error:w.name,disabled:t,autoFocus:!0}),a.jsx(kn,{label:"Type",options:RX,value:i,onChange:N=>o(N),disabled:t}),a.jsx(nt,{label:"File Path",placeholder:"/path/to/resource",value:l,onChange:N=>u(N.target.value),error:w.file_path,disabled:t}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(nt,{label:"URL",placeholder:"https://...",value:d,onChange:N=>f(N.target.value),disabled:t}),a.jsx(nt,{label:"Format",placeholder:"json, yaml, etc.",value:p,onChange:N=>m(N.target.value),disabled:t})]}),a.jsx(nt,{label:"Version",placeholder:"1.0.0",value:g,onChange:N=>b(N.target.value),disabled:t}),a.jsx(pi,{label:"Description",placeholder:"Optional description...",value:y,onChange:N=>_(N.target.value),disabled:t,rows:2})]}),submit:async()=>{j()&&await e({name:n.trim(),resource_type:i,file_path:l.trim(),url:d.trim()||void 0,format:p.trim()||void 0,version:g.trim()||void 0,description:y.trim()||void 0})}}}const DX=[{value:"service",label:"Service"},{value:"frontend",label:"Frontend"},{value:"worker",label:"Worker"},{value:"database",label:"Database"},{value:"message_queue",label:"Message Queue"},{value:"cache",label:"Cache"},{value:"gateway",label:"Gateway"},{value:"external",label:"External"},{value:"other",label:"Other"}];function LX({onSubmit:e,loading:t}){const[n,r]=E.useState(""),[i,o]=E.useState("service"),[l,u]=E.useState(""),[d,f]=E.useState(""),[p,m]=E.useState(""),[g,b]=E.useState({}),y=()=>{const _={};return n.trim()||(_.name="Name is required"),b(_),Object.keys(_).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(nt,{label:"Name",placeholder:"Component name",value:n,onChange:_=>r(_.target.value),error:g.name,disabled:t,autoFocus:!0}),a.jsx(kn,{label:"Type",options:DX,value:i,onChange:_=>o(_),disabled:t}),a.jsx(pi,{label:"Description",placeholder:"Optional description...",value:l,onChange:_=>u(_.target.value),disabled:t,rows:2}),a.jsx(nt,{label:"Runtime",placeholder:"node, python, rust, etc.",value:d,onChange:_=>f(_.target.value),disabled:t}),a.jsx(nt,{label:"Tags",placeholder:"Comma-separated tags",value:p,onChange:_=>m(_.target.value),disabled:t})]}),submit:async()=>{y()&&await e({name:n.trim(),component_type:i,description:l.trim()||void 0,runtime:d.trim()||void 0,tags:p.split(",").map(_=>_.trim()).filter(Boolean)})}}}const IX=[{value:"guideline",label:"Guideline"},{value:"gotcha",label:"Gotcha"},{value:"pattern",label:"Pattern"},{value:"context",label:"Context"},{value:"tip",label:"Tip"},{value:"observation",label:"Observation"},{value:"assertion",label:"Assertion"}],zX=[{value:"",label:"Default"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}];function PX({onSubmit:e,loading:t,defaultProjectId:n}){const[r,i]=E.useState(n||""),[o,l]=E.useState("guideline"),[u,d]=E.useState(""),[f,p]=E.useState(""),[m,g]=E.useState(""),[b,y]=E.useState([]),[_,w]=E.useState({});E.useEffect(()=>{jt.list({limit:100}).then(N=>y(N.items||[])).catch(()=>{})},[]);const S=[{value:"",label:"Select a project"},...b.map(N=>({value:N.id,label:N.name}))],j=()=>{const N={};return r||(N.project_id="Project is required"),u.trim()||(N.content="Content is required"),w(N),Object.keys(N).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(kn,{label:"Project",options:S,value:r,onChange:N=>i(N),error:_.project_id,disabled:t}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(kn,{label:"Type",options:IX,value:o,onChange:N=>l(N),disabled:t}),a.jsx(kn,{label:"Importance",options:zX,value:f,onChange:N=>p(N),disabled:t})]}),a.jsx(pi,{label:"Content",placeholder:"Write the note content...",value:u,onChange:N=>d(N.target.value),error:_.content,disabled:t,autoFocus:!0,rows:5}),a.jsx(nt,{label:"Tags",placeholder:"Comma-separated tags",value:m,onChange:N=>g(N.target.value),disabled:t})]}),submit:async()=>{j()&&await e({project_id:r,note_type:o,content:u.trim(),importance:f||void 0,tags:m.split(",").map(N=>N.trim()).filter(Boolean)})}}}function BX(){const[e,t]=Ct(PO),[n,r]=Ct(b8),[i,o]=E.useState(0),{page:l,pageSize:u,offset:d,paginationProps:f}=kl(),p=fi(),m=Gr(),g=hi(),[b,y]=E.useState(!1),_=Ve(Bh),w=async(T=!1)=>{T||r(!0);try{const M=await xt.list({limit:u,offset:d});t(M.items||[]),o(M.total||0)}catch(M){console.error("Failed to fetch workspaces:",M),g.error("Failed to load workspaces")}finally{T||r(!1)}},S=E.useRef(!1);E.useEffect(()=>{const T=S.current;w(T),S.current=!0},[t,r,l,u,d,_]);const j=wX({onSubmit:async T=>{y(!0);try{await xt.create(T),g.success("Workspace created"),m.close(),w()}finally{y(!1)}},loading:b}),N=()=>{m.open({title:"Create Workspace"})},C=Al(e,T=>T.slug),A=()=>{const T=C.selectionCount;p.open({title:`Delete ${T} workspace${T>1?"s":""}`,description:`This will permanently delete ${T} workspace${T>1?"s":""}. Projects will not be deleted.`,onConfirm:async()=>{const M=C.selectedItems;p.setProgress({current:0,total:M.length});for(let P=0;P<M.length;P++)await xt.delete(M[P].slug),p.setProgress({current:P+1,total:M.length});t(P=>P.filter(U=>!C.selectedIds.has(U.slug))),o(P=>P-M.length),C.clear(),g.success(`Deleted ${T} workspace${T>1?"s":""}`)}})};return n?a.jsx(Rr,{}):a.jsxs(Pl,{title:"Workspaces",description:"Organize your projects into workspaces",actions:a.jsx(tt,{onClick:N,children:"Create Workspace"}),children:[e.length===0&&i===0?a.jsx(_a,{title:"No workspaces",description:"Create a workspace to group related projects together.",action:a.jsx(tt,{onClick:N,children:"Create Workspace"})}):a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:C.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:C.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:e.map(T=>a.jsx($X,{selected:C.isSelected(T.slug),onToggleSelect:M=>C.toggle(T.slug,M),workspace:T,onDelete:()=>p.open({title:"Delete Workspace",description:"This will permanently delete this workspace.",onConfirm:async()=>{await xt.delete(T.slug),t(M=>M.filter(P=>P.id!==T.id)),g.success("Workspace deleted")}})},T.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Ml,{...f(i)})})]}),a.jsx($l,{count:C.selectionCount,onDelete:A,onClear:C.clear}),a.jsx(Kr,{...m.dialogProps,onSubmit:j.submit,loading:b,children:j.fields}),a.jsx(mi,{...p.dialogProps})]})}function $X({workspace:e,onDelete:t,selected:n,onToggleSelect:r}){return a.jsx(jn,{to:`/workspaces/${e.slug}`,children:a.jsx(et,{className:`h-full transition-colors ${n?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex h-full",children:[r&&a.jsx(Bl,{selected:!!n,onToggle:r}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"h-0.5 bg-indigo-500/50"}),a.jsxs(ft,{children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:e.name}),a.jsx(uo,{actions:[{label:"Delete",variant:"danger",onClick:()=>t()}]})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:e.description}),a.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})]})]})})})}function UX(){const{slug:e}=Sl(),t=Mn(),n=fi(),r=Gr(),i=Gr(),o=Gr(),l=Cl(),u=hi(),d=Ve(Bh),f=Ve(Na),p=Ve(El),m=Ve(Sa),[g,b]=E.useState(!1),[y,_]=E.useState(null),[w,S]=E.useState([]),[j,N]=E.useState([]),[C,A]=E.useState([]),[T,M]=E.useState([]),[P,U]=E.useState(null),[z,R]=E.useState(!0);E.useEffect(()=>{async function W(){if(!e)return;const K=!y;K&&R(!0);try{const D=await xt.getOverview(e);_(D.workspace),S(D.projects||[]),A(D.resources||[]),M(D.components||[]),U(D.progress||null);const $=D.milestones||[],H=await Promise.all($.map(async I=>{try{const V=await xt.getMilestoneProgress(I.id);return{...I,progress:V}}catch{return{...I,progress:void 0}}}));N(H)}catch(D){console.error("Failed to fetch workspace:",D)}finally{K&&R(!1)}}W()},[e,d,f,p,m]);const q=HD({onSubmit:async W=>{if(e){b(!0);try{const K=await xt.createMilestone(e,W);N(D=>[...D,{...K,progress:void 0}]),r.close(),u.success("Milestone added")}finally{b(!1)}}},loading:g}),Y=OX({onSubmit:async W=>{if(e){b(!0);try{const K=await xt.createResource(e,W);A(D=>[...D,K]),i.close(),u.success("Resource added")}finally{b(!1)}}},loading:g}),L=LX({onSubmit:async W=>{if(e){b(!0);try{const K=await xt.createComponent(e,W);M(D=>[...D,K]),o.close(),u.success("Component added")}finally{b(!1)}}},loading:g}),B=Tl(["overview","projects","milestones","resources","components"]);if(z||!y)return a.jsx(Rr,{});const X=[{id:"overview",label:"Overview"},{id:"projects",label:"Projects",count:w.length},{id:"milestones",label:"Milestones",count:j.length},{id:"resources",label:"Resources",count:C.length},{id:"components",label:"Components",count:T.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(zl,{title:y.name,description:y.description,overflowActions:[{label:"Delete",variant:"danger",onClick:()=>n.open({title:"Delete Workspace",description:"This will permanently delete this workspace. Projects will not be deleted.",onConfirm:async()=>{await xt.delete(y.slug),u.success("Workspace deleted"),t("/workspaces")}})}]}),a.jsx(Il,{sections:X,activeSection:B}),a.jsxs("section",{id:"overview",className:"scroll-mt-20",children:[P&&P.total_tasks>0&&a.jsxs(et,{children:[a.jsx(qt,{children:a.jsx(Ft,{children:"Overall Progress"})}),a.jsxs(ft,{children:[a.jsx(Oi,{value:P.percentage,showLabel:!0,size:"lg"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[P.completed_tasks," / ",P.total_tasks," tasks completed"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mt-6",children:[a.jsx(Pf,{label:"Projects",value:w.length}),a.jsx(Pf,{label:"Milestones",value:j.length}),a.jsx(Pf,{label:"Resources",value:C.length}),a.jsx(Pf,{label:"Components",value:T.length})]})]}),a.jsx("section",{id:"projects",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ft,{children:"Projects"}),a.jsx(tt,{size:"sm",onClick:()=>l.open({title:"Add Project to Workspace",submitLabel:"Add",fetchOptions:async()=>{const W=await jt.list(),K=new Set(w.map(D=>D.id));return(W.items||[]).filter(D=>!K.has(D.id)).map(D=>({value:D.id,label:D.name,description:D.slug}))},onLink:async W=>{await xt.addProject(y.slug,W);const D=((await jt.list()).items||[]).find($=>$.id===W);D&&S($=>[...$,D]),u.success("Project added")}}),children:"Add Project"})]})}),a.jsx(ft,{children:w.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No projects in this workspace"}):a.jsx("div",{className:"space-y-2",children:w.map(W=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/[0.06] rounded-lg",children:[a.jsx(jn,{to:`/projects/${W.slug}`,className:"font-medium text-gray-200 hover:text-indigo-400 transition-colors flex-1 min-w-0",children:W.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:W.slug}),a.jsx("button",{onClick:async K=>{K.preventDefault(),K.stopPropagation(),await xt.removeProject(y.slug,W.id),S(D=>D.filter($=>$.id!==W.id)),u.success("Project removed")},className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Remove from workspace",children:""})]})]},W.id))})})]})}),a.jsx("section",{id:"milestones",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ft,{children:"Milestones"}),a.jsx(tt,{size:"sm",onClick:()=>r.open({title:"Add Milestone"}),children:"Add Milestone"})]})}),a.jsx(ft,{children:j.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No milestones defined"}):a.jsx("div",{className:"space-y-4",children:j.map(W=>{var K;return a.jsxs(jn,{to:`/milestones/${W.id}`,className:"block p-4 bg-white/[0.06] rounded-lg hover:bg-white/[0.06] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-gray-200",children:W.title}),a.jsx(zt,{variant:((K=W.status)==null?void 0:K.toLowerCase())==="open"?"info":"success",children:W.status})]}),W.progress&&a.jsxs("div",{className:"space-y-1",children:[a.jsx(Oi,{value:W.progress.percentage,showLabel:!0}),a.jsxs("p",{className:"text-xs text-gray-500",children:[W.progress.completed," / ",W.progress.total," tasks completed"]})]})]},W.id)})})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsx("section",{id:"resources",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ft,{children:"Resources"}),a.jsx(tt,{size:"sm",onClick:()=>i.open({title:"Add Resource",size:"lg"}),children:"Add"})]})}),a.jsx(ft,{children:C.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No resources defined"}):a.jsx("div",{className:"space-y-2",children:C.map(W=>a.jsxs("div",{className:"flex items-center justify-between p-2",children:[a.jsx("span",{className:"text-gray-200",children:W.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zt,{children:W.resource_type}),a.jsx("button",{onClick:async()=>{await xt.deleteResource(W.id),A(K=>K.filter(D=>D.id!==W.id)),u.success("Resource deleted")},className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Delete resource",children:""})]})]},W.id))})})]})}),a.jsx("section",{id:"components",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ft,{children:"Components"}),a.jsx(tt,{size:"sm",onClick:()=>o.open({title:"Add Component"}),children:"Add"})]})}),a.jsx(ft,{children:T.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No components defined"}):a.jsx("div",{className:"space-y-2",children:T.map(W=>a.jsxs("div",{className:"flex items-center justify-between p-2",children:[a.jsx("span",{className:"text-gray-200",children:W.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zt,{children:W.component_type}),a.jsx("button",{onClick:async()=>{await xt.deleteComponent(W.id),M(K=>K.filter(D=>D.id!==W.id)),u.success("Component deleted")},className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Delete component",children:""})]})]},W.id))})})]})})]}),a.jsx(Kr,{...r.dialogProps,onSubmit:q.submit,loading:g,children:q.fields}),a.jsx(Kr,{...i.dialogProps,onSubmit:Y.submit,loading:g,children:Y.fields}),a.jsx(Kr,{...o.dialogProps,onSubmit:L.submit,loading:g,children:L.fields}),a.jsx(Ll,{...l.dialogProps}),a.jsx(mi,{...n.dialogProps})]})}function Pf({label:e,value:t}){return a.jsx(et,{children:a.jsxs(ft,{className:"text-center",children:[a.jsx("div",{className:"text-2xl md:text-3xl font-bold text-indigo-400",children:t}),a.jsx("div",{className:"text-sm text-gray-400",children:e})]})})}const Qh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ul(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function $w(e){return"nodeType"in e}function br(e){var t,n;return e?Ul(e)?e:$w(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Uw(e){const{Document:t}=br(e);return e instanceof t}function Fu(e){return Ul(e)?!1:e instanceof br(e).HTMLElement}function GD(e){return e instanceof br(e).SVGElement}function ql(e){return e?Ul(e)?e.document:$w(e)?Uw(e)?e:Fu(e)||GD(e)?e.ownerDocument:document:document:document}const Ms=Qh?E.useLayoutEffect:E.useEffect;function Jh(e){const t=E.useRef(e);return Ms(()=>{t.current=e}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function qX(){const e=E.useRef(null),t=E.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=E.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function yu(e,t){t===void 0&&(t=[e]);const n=E.useRef(e);return Ms(()=>{n.current!==e&&(n.current=e)},t),n}function Hu(e,t){const n=E.useRef();return E.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function bh(e){const t=Jh(e),n=E.useRef(null),r=E.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function yh(e){const t=E.useRef();return E.useEffect(()=>{t.current=e},[e]),t.current}let k0={};function ep(e,t){return E.useMemo(()=>{if(t)return t;const n=k0[e]==null?0:k0[e]+1;return k0[e]=n,e+"-"+n},[e,t])}function VD(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[d,f]of u){const p=o[d];p!=null&&(o[d]=p+e*f)}return o},{...t})}}const al=VD(1),vh=VD(-1);function FX(e){return"clientX"in e&&"clientY"in e}function qw(e){if(!e)return!1;const{KeyboardEvent:t}=br(e.target);return t&&e instanceof t}function HX(e){if(!e)return!1;const{TouchEvent:t}=br(e.target);return t&&e instanceof t}function _h(e){if(HX(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return FX(e)?{x:e.clientX,y:e.clientY}:null}const wa=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[wa.Translate.toString(e),wa.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),mC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function GX(e){return e.matches(mC)?e:e.querySelector(mC)}const VX={display:"none"};function KX(e){let{id:t,value:n}=e;return un.createElement("div",{id:t,style:VX},n)}function YX(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return un.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function WX(){const[e,t]=E.useState("");return{announce:E.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const KD=E.createContext(null);function XX(e){const t=E.useContext(KD);E.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ZX(){const[e]=E.useState(()=>new Set),t=E.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[E.useCallback(r=>{let{type:i,event:o}=r;e.forEach(l=>{var u;return(u=l[i])==null?void 0:u.call(l,o)})},[e]),t]}const QX={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JX={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function eZ(e){let{announcements:t=JX,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=QX}=e;const{announce:o,announcement:l}=WX(),u=ep("DndLiveRegion"),[d,f]=E.useState(!1);if(E.useEffect(()=>{f(!0)},[]),XX(E.useMemo(()=>({onDragStart(m){let{active:g}=m;o(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:b}=m;t.onDragMove&&o(t.onDragMove({active:g,over:b}))},onDragOver(m){let{active:g,over:b}=m;o(t.onDragOver({active:g,over:b}))},onDragEnd(m){let{active:g,over:b}=m;o(t.onDragEnd({active:g,over:b}))},onDragCancel(m){let{active:g,over:b}=m;o(t.onDragCancel({active:g,over:b}))}}),[o,t])),!d)return null;const p=un.createElement(un.Fragment,null,un.createElement(KX,{id:r,value:i.draggable}),un.createElement(YX,{id:u,announcement:l}));return n?li.createPortal(p,n):p}var Hn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Hn||(Hn={}));function wh(){}function js(e,t){return E.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Fw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Di=Object.freeze({x:0,y:0});function tZ(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nZ(e,t){const n=_h(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function rZ(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function iZ(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function sZ(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function gC(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Hw=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=gC(t,t.left,t.top),o=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=tZ(gC(d),i);o.push({id:u,data:{droppableContainer:l,value:f}})}}return o.sort(rZ)};function aZ(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=i-r,u=o-n;if(r<i&&n<o){const d=t.width*t.height,f=e.width*e.height,p=l*u,m=p/(d+f-p);return Number(m.toFixed(4))}return 0}const oZ=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=aZ(u,t);d>0&&i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(iZ)};function lZ(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function YD(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Di}function cZ(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const uZ=cZ(1);function WD(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function dZ(e,t,n){const r=WD(t);if(!r)return e;const{scaleX:i,scaleY:o,x:l,y:u}=r,d=e.left-l-(1-i)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?e.width/i:e.width,m=o?e.height/o:e.height;return{width:p,height:m,top:f,right:d+p,bottom:f+m,left:d}}const fZ={ignoreTransform:!1};function Gu(e,t){t===void 0&&(t=fZ);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=br(e).getComputedStyle(e);f&&(n=dZ(n,f,p))}const{top:r,left:i,width:o,height:l,bottom:u,right:d}=n;return{top:r,left:i,width:o,height:l,bottom:u,right:d}}function xC(e){return Gu(e,{ignoreTransform:!0})}function hZ(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function pZ(e,t){return t===void 0&&(t=br(e).getComputedStyle(e)),t.position==="fixed"}function mZ(e,t){t===void 0&&(t=br(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function Gw(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Uw(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Fu(i)||GD(i)||n.includes(i))return n;const o=br(e).getComputedStyle(i);return i!==e&&mZ(i,o)&&n.push(i),pZ(i,o)?n:r(i.parentNode)}return e?r(e):n}function XD(e){const[t]=Gw(e,1);return t??null}function j0(e){return!Qh||!e?null:Ul(e)?e:$w(e)?Uw(e)||e===ql(e).scrollingElement?window:Fu(e)?e:null:null}function ZD(e){return Ul(e)?e.scrollX:e.scrollLeft}function QD(e){return Ul(e)?e.scrollY:e.scrollTop}function L_(e){return{x:ZD(e),y:QD(e)}}var Wn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Wn||(Wn={}));function JD(e){return!Qh||!e?!1:e===document.scrollingElement}function eL(e){const t={x:0,y:0},n=JD(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const gZ={x:.2,y:.2};function xZ(e,t,n,r,i){let{top:o,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),i===void 0&&(i=gZ);const{isTop:f,isBottom:p,isLeft:m,isRight:g}=eL(e),b={x:0,y:0},y={x:0,y:0},_={height:t.height*i.y,width:t.width*i.x};return!f&&o<=t.top+_.height?(b.y=Wn.Backward,y.y=r*Math.abs((t.top+_.height-o)/_.height)):!p&&d>=t.bottom-_.height&&(b.y=Wn.Forward,y.y=r*Math.abs((t.bottom-_.height-d)/_.height)),!g&&u>=t.right-_.width?(b.x=Wn.Forward,y.x=r*Math.abs((t.right-_.width-u)/_.width)):!m&&l<=t.left+_.width&&(b.x=Wn.Backward,y.x=r*Math.abs((t.left+_.width-l)/_.width)),{direction:b,speed:y}}function bZ(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function tL(e){return e.reduce((t,n)=>al(t,L_(n)),Di)}function yZ(e){return e.reduce((t,n)=>t+ZD(n),0)}function vZ(e){return e.reduce((t,n)=>t+QD(n),0)}function nL(e,t){if(t===void 0&&(t=Gu),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);XD(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const _Z=[["x",["left","right"],yZ],["y",["top","bottom"],vZ]];class Vw{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Gw(n),i=tL(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,u]of _Z)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=u(r),p=i[o]-f;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ou{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function wZ(e){const{EventTarget:t}=br(e);return e instanceof t?e:ql(e)}function C0(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ai;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ai||(ai={}));function bC(e){e.preventDefault()}function SZ(e){e.stopPropagation()}var Jt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Jt||(Jt={}));const rL={start:[Jt.Space,Jt.Enter],cancel:[Jt.Esc],end:[Jt.Space,Jt.Enter,Jt.Tab]},NZ=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Jt.Right:return{...n,x:n.x+25};case Jt.Left:return{...n,x:n.x-25};case Jt.Down:return{...n,y:n.y+25};case Jt.Up:return{...n,y:n.y-25}}};class Vu{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ou(ql(n)),this.windowListeners=new ou(br(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ai.Resize,this.handleCancel),this.windowListeners.add(ai.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ai.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&nL(r),n(Di)}handleKeyDown(t){if(qw(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=rL,coordinateGetter:l=NZ,scrollBehavior:u="smooth"}=i,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Di;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const g=vh(m,p),b={x:0,y:0},{scrollableAncestors:y}=r.current;for(const _ of y){const w=t.code,{isTop:S,isRight:j,isLeft:N,isBottom:C,maxScroll:A,minScroll:T}=eL(_),M=bZ(_),P={x:Math.min(w===Jt.Right?M.right-M.width/2:M.right,Math.max(w===Jt.Right?M.left:M.left+M.width/2,m.x)),y:Math.min(w===Jt.Down?M.bottom-M.height/2:M.bottom,Math.max(w===Jt.Down?M.top:M.top+M.height/2,m.y))},U=w===Jt.Right&&!j||w===Jt.Left&&!N,z=w===Jt.Down&&!C||w===Jt.Up&&!S;if(U&&P.x!==m.x){const R=_.scrollLeft+g.x,q=w===Jt.Right&&R<=A.x||w===Jt.Left&&R>=T.x;if(q&&!g.y){_.scrollTo({left:R,behavior:u});return}q?b.x=_.scrollLeft-R:b.x=w===Jt.Right?_.scrollLeft-A.x:_.scrollLeft-T.x,b.x&&_.scrollBy({left:-b.x,behavior:u});break}else if(z&&P.y!==m.y){const R=_.scrollTop+g.y,q=w===Jt.Down&&R<=A.y||w===Jt.Up&&R>=T.y;if(q&&!g.x){_.scrollTo({top:R,behavior:u});return}q?b.y=_.scrollTop-R:b.y=w===Jt.Down?_.scrollTop-A.y:_.scrollTop-T.y,b.y&&_.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(t,al(vh(m,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Vu.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=rL,onActivation:i}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function yC(e){return!!(e&&"distance"in e)}function vC(e){return!!(e&&"delay"in e)}class Kw{constructor(t,n,r){var i;r===void 0&&(r=wZ(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=ql(l),this.documentListeners=new ou(this.document),this.listeners=new ou(r),this.windowListeners=new ou(br(l)),this.initialCoordinates=(i=_h(o))!=null?i:Di,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ai.Resize,this.handleCancel),this.windowListeners.add(ai.DragStart,bC),this.windowListeners.add(ai.VisibilityChange,this.handleCancel),this.windowListeners.add(ai.ContextMenu,bC),this.documentListeners.add(ai.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(vC(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(yC(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ai.Click,SZ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ai.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!i)return;const d=(n=_h(t))!=null?n:Di,f=vh(i,d);if(!r&&u){if(yC(u)){if(u.tolerance!=null&&C0(f,u.tolerance))return this.handleCancel();if(C0(f,u.distance))return this.handleStart()}if(vC(u)&&C0(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const EZ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ku extends Kw{constructor(t){const{event:n}=t,r=ql(n.target);super(t,EZ,r)}}Ku.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const kZ={move:{name:"mousemove"},end:{name:"mouseup"}};var I_;(function(e){e[e.RightClick=2]="RightClick"})(I_||(I_={}));class jZ extends Kw{constructor(t){super(t,kZ,ql(t.event.target))}}jZ.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===I_.RightClick?!1:(r==null||r({event:n}),!0)}}];const T0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class tp extends Kw{constructor(t){super(t,T0)}static setup(){return window.addEventListener(T0.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(T0.move.name,t)};function t(){}}}tp.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var lu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(lu||(lu={}));var Sh;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Sh||(Sh={}));function CZ(e){let{acceleration:t,activator:n=lu.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:l=5,order:u=Sh.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:g}=e;const b=AZ({delta:m,disabled:!o}),[y,_]=qX(),w=E.useRef({x:0,y:0}),S=E.useRef({x:0,y:0}),j=E.useMemo(()=>{switch(n){case lu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case lu.DraggableRect:return i}},[n,i,d]),N=E.useRef(null),C=E.useCallback(()=>{const T=N.current;if(!T)return;const M=w.current.x*S.current.x,P=w.current.y*S.current.y;T.scrollBy(M,P)},[]),A=E.useMemo(()=>u===Sh.TreeOrder?[...f].reverse():f,[u,f]);E.useEffect(()=>{if(!o||!f.length||!j){_();return}for(const T of A){if((r==null?void 0:r(T))===!1)continue;const M=f.indexOf(T),P=p[M];if(!P)continue;const{direction:U,speed:z}=xZ(T,P,j,t,g);for(const R of["x","y"])b[R][U[R]]||(z[R]=0,U[R]=0);if(z.x>0||z.y>0){_(),N.current=T,y(C,l),w.current=z,S.current=U;return}}w.current={x:0,y:0},S.current={x:0,y:0},_()},[t,C,r,_,o,l,JSON.stringify(j),JSON.stringify(b),y,f,A,p,JSON.stringify(g)])}const TZ={x:{[Wn.Backward]:!1,[Wn.Forward]:!1},y:{[Wn.Backward]:!1,[Wn.Forward]:!1}};function AZ(e){let{delta:t,disabled:n}=e;const r=yh(t);return Hu(i=>{if(n||!r||!i)return TZ;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Wn.Backward]:i.x[Wn.Backward]||o.x===-1,[Wn.Forward]:i.x[Wn.Forward]||o.x===1},y:{[Wn.Backward]:i.y[Wn.Backward]||o.y===-1,[Wn.Forward]:i.y[Wn.Forward]||o.y===1}}},[n,t,r])}function MZ(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Hu(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function RZ(e,t){return E.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...o]},[]),[e,t])}var vu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(vu||(vu={}));var z_;(function(e){e.Optimized="optimized"})(z_||(z_={}));const _C=new Map;function OZ(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,l]=E.useState(null),{frequency:u,measure:d,strategy:f}=i,p=E.useRef(e),m=w(),g=yu(m),b=E.useCallback(function(S){S===void 0&&(S=[]),!g.current&&l(j=>j===null?S:j.concat(S.filter(N=>!j.includes(N))))},[g]),y=E.useRef(null),_=Hu(S=>{if(m&&!n)return _C;if(!S||S===_C||p.current!==e||o!=null){const j=new Map;for(let N of e){if(!N)continue;if(o&&o.length>0&&!o.includes(N.id)&&N.rect.current){j.set(N.id,N.rect.current);continue}const C=N.node.current,A=C?new Vw(d(C),C):null;N.rect.current=A,A&&j.set(N.id,A)}return j}return S},[e,o,n,m,d]);return E.useEffect(()=>{p.current=e},[e]),E.useEffect(()=>{m||b()},[n,m]),E.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),E.useEffect(()=>{m||typeof u!="number"||y.current!==null||(y.current=setTimeout(()=>{b(),y.current=null},u))},[u,m,b,...r]),{droppableRects:_,measureDroppableContainers:b,measuringScheduled:o!=null};function w(){switch(f){case vu.Always:return!1;case vu.BeforeDragging:return n;default:return!n}}}function Yw(e,t){return Hu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function DZ(e,t){return Yw(e,t)}function LZ(e){let{callback:t,disabled:n}=e;const r=Jh(t),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function np(e){let{callback:t,disabled:n}=e;const r=Jh(t),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function IZ(e){return new Vw(Gu(e),e)}function wC(e,t,n){t===void 0&&(t=IZ);const[r,i]=E.useState(null);function o(){i(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const l=LZ({callback(d){if(e)for(const f of d){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),u=np({callback:o});return Ms(()=>{o(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function zZ(e){const t=Yw(e);return YD(e,t)}const SC=[];function PZ(e){const t=E.useRef(e),n=Hu(r=>e?r&&r!==SC&&e&&t.current&&e.parentNode===t.current.parentNode?r:Gw(e):SC,[e]);return E.useEffect(()=>{t.current=e},[e]),n}function BZ(e){const[t,n]=E.useState(null),r=E.useRef(e),i=E.useCallback(o=>{const l=j0(o.target);l&&n(u=>u?(u.set(l,L_(l)),new Map(u)):null)},[]);return E.useEffect(()=>{const o=r.current;if(e!==o){l(o);const u=e.map(d=>{const f=j0(d);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,L_(f)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(o)};function l(u){u.forEach(d=>{const f=j0(d);f==null||f.removeEventListener("scroll",i)})}},[i,e]),E.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>al(o,l),Di):tL(e):Di,[e,t])}function NC(e,t){t===void 0&&(t=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},t),E.useEffect(()=>{const r=e!==Di;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?vh(e,n.current):Di}function $Z(e){E.useEffect(()=>{if(!Qh)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function UZ(e,t){return E.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=l=>{o(l,t)},n},{}),[e,t])}function iL(e){return E.useMemo(()=>e?hZ(e):null,[e])}const EC=[];function qZ(e,t){t===void 0&&(t=Gu);const[n]=e,r=iL(n?br(n):null),[i,o]=E.useState(EC);function l(){o(()=>e.length?e.map(d=>JD(d)?r:new Vw(t(d),d)):EC)}const u=np({callback:l});return Ms(()=>{u==null||u.disconnect(),l(),e.forEach(d=>u==null?void 0:u.observe(d))},[e]),i}function sL(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Fu(t)?t:e}function FZ(e){let{measure:t}=e;const[n,r]=E.useState(null),i=E.useCallback(f=>{for(const{target:p}of f)if(Fu(p)){r(m=>{const g=t(p);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),o=np({callback:i}),l=E.useCallback(f=>{const p=sL(f);o==null||o.disconnect(),p&&(o==null||o.observe(p)),r(p?t(p):null)},[t,o]),[u,d]=bh(l);return E.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const HZ=[{sensor:Ku,options:{}},{sensor:Vu,options:{}}],GZ={current:{}},Jf={draggable:{measure:xC},droppable:{measure:xC,strategy:vu.WhileDragging,frequency:z_.Optimized},dragOverlay:{measure:Gu}};class cu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const VZ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jf,measureDroppableContainers:wh,windowRect:null,measuringScheduled:!1},aL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wh,draggableNodes:new Map,over:null,measureDroppableContainers:wh},Yu=E.createContext(aL),oL=E.createContext(VZ);function KZ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cu}}}function YZ(e,t){switch(t.type){case Hn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Hn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Hn.DragEnd:case Hn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Hn.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new cu(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Hn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new cu(e.droppable.containers);return l.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:l}}}case Hn.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new cu(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function WZ(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=E.useContext(Yu),o=yh(r),l=yh(n==null?void 0:n.id);return E.useEffect(()=>{if(!t&&!r&&o&&l!=null){if(!qw(o)||document.activeElement===o.target)return;const u=i.get(l);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[d.current,f.current]){if(!p)continue;const m=GX(p);if(m){m.focus();break}}})}},[r,t,i,l,o]),null}function lL(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function XZ(e){return E.useMemo(()=>({draggable:{...Jf.draggable,...e==null?void 0:e.draggable},droppable:{...Jf.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Jf.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ZZ(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=E.useRef(!1),{x:l,y:u}=typeof i=="boolean"?{x:i,y:i}:i;Ms(()=>{if(!l&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=YD(p,r);if(l||(m.x=0),u||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=XD(f);g&&g.scrollBy({top:m.y,left:m.x})}},[t,l,u,r,n])}const rp=E.createContext({...Di,scaleX:1,scaleY:1});var xa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(xa||(xa={}));const Ww=E.memo(function(t){var n,r,i,o;let{id:l,accessibility:u,autoScroll:d=!0,children:f,sensors:p=HZ,collisionDetection:m=oZ,measuring:g,modifiers:b,...y}=t;const _=E.useReducer(YZ,void 0,KZ),[w,S]=_,[j,N]=ZX(),[C,A]=E.useState(xa.Uninitialized),T=C===xa.Initialized,{draggable:{active:M,nodes:P,translate:U},droppable:{containers:z}}=w,R=M!=null?P.get(M):null,q=E.useRef({initial:null,translated:null}),Y=E.useMemo(()=>{var tn;return M!=null?{id:M,data:(tn=R==null?void 0:R.data)!=null?tn:GZ,rect:q}:null},[M,R]),L=E.useRef(null),[F,B]=E.useState(null),[X,W]=E.useState(null),K=yu(y,Object.values(y)),D=ep("DndDescribedBy",l),$=E.useMemo(()=>z.getEnabled(),[z]),H=XZ(g),{droppableRects:I,measureDroppableContainers:V,measuringScheduled:Z}=OZ($,{dragging:T,dependencies:[U.x,U.y],config:H.droppable}),Q=MZ(P,M),ae=E.useMemo(()=>X?_h(X):null,[X]),te=Bi(),ne=DZ(Q,H.draggable.measure);ZZ({activeNode:M!=null?P.get(M):null,config:te.layoutShiftCompensation,initialRect:ne,measure:H.draggable.measure});const de=wC(Q,H.draggable.measure,ne),ge=wC(Q?Q.parentElement:null),re=E.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ue=z.getNodeFor((n=re.current.over)==null?void 0:n.id),_e=FZ({measure:H.dragOverlay.measure}),we=(r=_e.nodeRef.current)!=null?r:Q,be=T?(i=_e.rect)!=null?i:de:null,je=!!(_e.nodeRef.current&&_e.rect),qe=zZ(je?null:de),it=iL(we?br(we):null),Ht=PZ(T?ue??Q:null),mn=qZ(Ht),rn=lL(b,{transform:{x:U.x-qe.x,y:U.y-qe.y,scaleX:1,scaleY:1},activatorEvent:X,active:Y,activeNodeRect:de,containerNodeRect:ge,draggingNodeRect:be,over:re.current.over,overlayNodeRect:_e.rect,scrollableAncestors:Ht,scrollableAncestorRects:mn,windowRect:it}),Dt=ae?al(ae,U):null,ht=BZ(Ht),Gn=NC(ht),he=NC(ht,[de]),Se=al(rn,Gn),Re=be?uZ(be,rn):null,He=Y&&Re?m({active:Y,collisionRect:Re,droppableRects:I,droppableContainers:$,pointerCoordinates:Dt}):null,We=sZ(He,"id"),[Gt,qn]=E.useState(null),Lt=je?rn:al(rn,he),mt=lZ(Lt,(o=Gt==null?void 0:Gt.rect)!=null?o:null,de),vn=E.useRef(null),gt=E.useCallback((tn,It)=>{let{sensor:J,options:pe}=It;if(L.current==null)return;const Ee=P.get(L.current);if(!Ee)return;const De=tn.nativeEvent,rt=new J({active:L.current,activeNode:Ee,event:De,options:pe,context:re,onAbort(Te){if(!P.get(Te))return;const{onDragAbort:Le}=K.current,_t={id:Te};Le==null||Le(_t),j({type:"onDragAbort",event:_t})},onPending(Te,Ae,Le,_t){if(!P.get(Te))return;const{onDragPending:Zn}=K.current,Qn={id:Te,constraint:Ae,initialCoordinates:Le,offset:_t};Zn==null||Zn(Qn),j({type:"onDragPending",event:Qn})},onStart(Te){const Ae=L.current;if(Ae==null)return;const Le=P.get(Ae);if(!Le)return;const{onDragStart:_t}=K.current,wt={activatorEvent:De,active:{id:Ae,data:Le.data,rect:q}};li.unstable_batchedUpdates(()=>{_t==null||_t(wt),A(xa.Initializing),S({type:Hn.DragStart,initialCoordinates:Te,active:Ae}),j({type:"onDragStart",event:wt}),B(vn.current),W(De)})},onMove(Te){S({type:Hn.DragMove,coordinates:Te})},onEnd:lt(Hn.DragEnd),onCancel:lt(Hn.DragCancel)});vn.current=rt;function lt(Te){return async function(){const{active:Le,collisions:_t,over:wt,scrollAdjustedTranslate:Zn}=re.current;let Qn=null;if(Le&&Zn){const{cancelDrop:vr}=K.current;Qn={activatorEvent:De,active:Le,collisions:_t,delta:Zn,over:wt},Te===Hn.DragEnd&&typeof vr=="function"&&await Promise.resolve(vr(Qn))&&(Te=Hn.DragCancel)}L.current=null,li.unstable_batchedUpdates(()=>{S({type:Te}),A(xa.Uninitialized),qn(null),B(null),W(null),vn.current=null;const vr=Te===Hn.DragEnd?"onDragEnd":"onDragCancel";if(Qn){const ir=K.current[vr];ir==null||ir(Qn),j({type:vr,event:Qn})}})}}},[P]),yr=E.useCallback((tn,It)=>(J,pe)=>{const Ee=J.nativeEvent,De=P.get(pe);if(L.current!==null||!De||Ee.dndKit||Ee.defaultPrevented)return;const rt={active:De};tn(J,It.options,rt)===!0&&(Ee.dndKit={capturedBy:It.sensor},L.current=pe,gt(J,It))},[P,gt]),Rn=RZ(p,yr);$Z(p),Ms(()=>{de&&C===xa.Initializing&&A(xa.Initialized)},[de,C]),E.useEffect(()=>{const{onDragMove:tn}=K.current,{active:It,activatorEvent:J,collisions:pe,over:Ee}=re.current;if(!It||!J)return;const De={active:It,activatorEvent:J,collisions:pe,delta:{x:Se.x,y:Se.y},over:Ee};li.unstable_batchedUpdates(()=>{tn==null||tn(De),j({type:"onDragMove",event:De})})},[Se.x,Se.y]),E.useEffect(()=>{const{active:tn,activatorEvent:It,collisions:J,droppableContainers:pe,scrollAdjustedTranslate:Ee}=re.current;if(!tn||L.current==null||!It||!Ee)return;const{onDragOver:De}=K.current,rt=pe.get(We),lt=rt&&rt.rect.current?{id:rt.id,rect:rt.rect.current,data:rt.data,disabled:rt.disabled}:null,Te={active:tn,activatorEvent:It,collisions:J,delta:{x:Ee.x,y:Ee.y},over:lt};li.unstable_batchedUpdates(()=>{qn(lt),De==null||De(Te),j({type:"onDragOver",event:Te})})},[We]),Ms(()=>{re.current={activatorEvent:X,active:Y,activeNode:Q,collisionRect:Re,collisions:He,droppableRects:I,draggableNodes:P,draggingNode:we,draggingNodeRect:be,droppableContainers:z,over:Gt,scrollableAncestors:Ht,scrollAdjustedTranslate:Se},q.current={initial:be,translated:Re}},[Y,Q,He,Re,P,we,be,I,z,Gt,Ht,Se]),CZ({...te,delta:U,draggingRect:Re,pointerCoordinates:Dt,scrollableAncestors:Ht,scrollableAncestorRects:mn});const Ps=E.useMemo(()=>({active:Y,activeNode:Q,activeNodeRect:de,activatorEvent:X,collisions:He,containerNodeRect:ge,dragOverlay:_e,draggableNodes:P,droppableContainers:z,droppableRects:I,over:Gt,measureDroppableContainers:V,scrollableAncestors:Ht,scrollableAncestorRects:mn,measuringConfiguration:H,measuringScheduled:Z,windowRect:it}),[Y,Q,de,X,He,ge,_e,P,z,I,Gt,V,Ht,mn,H,Z,it]),bi=E.useMemo(()=>({activatorEvent:X,activators:Rn,active:Y,activeNodeRect:de,ariaDescribedById:{draggable:D},dispatch:S,draggableNodes:P,over:Gt,measureDroppableContainers:V}),[X,Rn,Y,de,S,D,P,Gt,V]);return un.createElement(KD.Provider,{value:N},un.createElement(Yu.Provider,{value:bi},un.createElement(oL.Provider,{value:Ps},un.createElement(rp.Provider,{value:mt},f)),un.createElement(WZ,{disabled:(u==null?void 0:u.restoreFocus)===!1})),un.createElement(eZ,{...u,hiddenTextDescribedById:D}));function Bi(){const tn=(F==null?void 0:F.autoScrollEnabled)===!1,It=typeof d=="object"?d.enabled===!1:d===!1,J=T&&!tn&&!It;return typeof d=="object"?{...d,enabled:J}:{enabled:J}}}),QZ=E.createContext(null),kC="button",JZ="Draggable";function Xw(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=ep(JZ),{activators:l,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:g}=E.useContext(Yu),{role:b=kC,roleDescription:y="draggable",tabIndex:_=0}=i??{},w=(d==null?void 0:d.id)===t,S=E.useContext(w?rp:QZ),[j,N]=bh(),[C,A]=bh(),T=UZ(l,t),M=yu(n);Ms(()=>(m.set(t,{id:t,key:o,node:j,activatorNode:C,data:M}),()=>{const U=m.get(t);U&&U.key===o&&m.delete(t)}),[m,t]);const P=E.useMemo(()=>({role:b,tabIndex:_,"aria-disabled":r,"aria-pressed":w&&b===kC?!0:void 0,"aria-roledescription":y,"aria-describedby":p.draggable}),[r,b,_,w,y,p.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:P,isDragging:w,listeners:r?void 0:T,node:j,over:g,setNodeRef:N,setActivatorNodeRef:A,transform:S}}function eQ(){return E.useContext(oL)}const tQ="Droppable",nQ={timeout:25};function Zw(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=ep(tQ),{active:l,dispatch:u,over:d,measureDroppableContainers:f}=E.useContext(Yu),p=E.useRef({disabled:n}),m=E.useRef(!1),g=E.useRef(null),b=E.useRef(null),{disabled:y,updateMeasurementsFor:_,timeout:w}={...nQ,...i},S=yu(_??r),j=E.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{f(Array.isArray(S.current)?S.current:[S.current]),b.current=null},w)},[w]),N=np({callback:j,disabled:y||!l}),C=E.useCallback((P,U)=>{N&&(U&&(N.unobserve(U),m.current=!1),P&&N.observe(P))},[N]),[A,T]=bh(C),M=yu(t);return E.useEffect(()=>{!N||!A.current||(N.disconnect(),m.current=!1,N.observe(A.current))},[A,N]),E.useEffect(()=>(u({type:Hn.RegisterDroppable,element:{id:r,key:o,disabled:n,node:A,rect:g,data:M}}),()=>u({type:Hn.UnregisterDroppable,key:o,id:r})),[r]),E.useEffect(()=>{n!==p.current.disabled&&(u({type:Hn.SetDroppableDisabled,id:r,key:o,disabled:n}),p.current.disabled=n)},[r,o,n,u]),{active:l,rect:g,isOver:(d==null?void 0:d.id)===r,node:A,over:d,setNodeRef:T}}function rQ(e){let{animation:t,children:n}=e;const[r,i]=E.useState(null),[o,l]=E.useState(null),u=yh(n);return!n&&!r&&u&&i(u),Ms(()=>{if(!o)return;const d=r==null?void 0:r.key,f=r==null?void 0:r.props.id;if(d==null||f==null){i(null);return}Promise.resolve(t(f,o)).then(()=>{i(null)})},[t,r,o]),un.createElement(un.Fragment,null,n,r?E.cloneElement(r,{ref:l}):null)}const iQ={x:0,y:0,scaleX:1,scaleY:1};function sQ(e){let{children:t}=e;return un.createElement(Yu.Provider,{value:aL},un.createElement(rp.Provider,{value:iQ},t))}const aQ={position:"fixed",touchAction:"none"},oQ=e=>qw(e)?"transform 250ms ease":void 0,lQ=E.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:l,rect:u,style:d,transform:f,transition:p=oQ}=e;if(!u)return null;const m=i?f:{...f,scaleX:1,scaleY:1},g={...aQ,width:u.width,height:u.height,top:u.top,left:u.left,transform:wa.Transform.toString(m),transformOrigin:i&&r?nZ(r,u):void 0,transition:typeof p=="function"?p(r):p,...d};return un.createElement(n,{className:l,style:g,ref:t},o)}),cQ=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:o,className:l}=e;if(o!=null&&o.active)for(const[u,d]of Object.entries(o.active))d!==void 0&&(i[u]=n.node.style.getPropertyValue(u),n.node.style.setProperty(u,d));if(o!=null&&o.dragOverlay)for(const[u,d]of Object.entries(o.dragOverlay))d!==void 0&&r.node.style.setProperty(u,d);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[d,f]of Object.entries(i))n.node.style.setProperty(d,f);l!=null&&l.active&&n.node.classList.remove(l.active)}},uQ=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:wa.Transform.toString(t)},{transform:wa.Transform.toString(n)}]},dQ={duration:250,easing:"ease",keyframes:uQ,sideEffects:cQ({styles:{active:{opacity:"0"}}})};function fQ(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return Jh((o,l)=>{if(t===null)return;const u=n.get(o);if(!u)return;const d=u.node.current;if(!d)return;const f=sL(l);if(!f)return;const{transform:p}=br(l).getComputedStyle(l),m=WD(p);if(!m)return;const g=typeof t=="function"?t:hQ(t);return nL(d,i.draggable.measure),g({active:{id:o,data:u.data,node:d,rect:i.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:l,rect:i.dragOverlay.measure(f)},droppableContainers:r,measuringConfiguration:i,transform:m})})}function hQ(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...dQ,...e};return o=>{let{active:l,dragOverlay:u,transform:d,...f}=o;if(!t)return;const p={x:u.rect.left-l.rect.left,y:u.rect.top-l.rect.top},m={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/u.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/u.rect.height:1},g={x:d.x-p.x,y:d.y-p.y,...m},b=i({...f,active:l,dragOverlay:u,transform:{initial:d,final:g}}),[y]=b,_=b[b.length-1];if(JSON.stringify(y)===JSON.stringify(_))return;const w=r==null?void 0:r({active:l,dragOverlay:u,...f}),S=u.node.animate(b,{duration:t,easing:n,fill:"forwards"});return new Promise(j=>{S.onfinish=()=>{w==null||w(),j()}})}}let jC=0;function pQ(e){return E.useMemo(()=>{if(e!=null)return jC++,jC},[e])}const Qw=un.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:l,wrapperElement:u="div",className:d,zIndex:f=999}=e;const{activatorEvent:p,active:m,activeNodeRect:g,containerNodeRect:b,draggableNodes:y,droppableContainers:_,dragOverlay:w,over:S,measuringConfiguration:j,scrollableAncestors:N,scrollableAncestorRects:C,windowRect:A}=eQ(),T=E.useContext(rp),M=pQ(m==null?void 0:m.id),P=lL(l,{activatorEvent:p,active:m,activeNodeRect:g,containerNodeRect:b,draggingNodeRect:w.rect,over:S,overlayNodeRect:w.rect,scrollableAncestors:N,scrollableAncestorRects:C,transform:T,windowRect:A}),U=Yw(g),z=fQ({config:r,draggableNodes:y,droppableContainers:_,measuringConfiguration:j}),R=U?w.setRef:void 0;return un.createElement(sQ,null,un.createElement(rQ,{animation:z},m&&M?un.createElement(lQ,{key:M,id:m.id,ref:R,as:u,activatorEvent:p,adjustScale:t,className:d,transition:o,rect:U,style:{zIndex:f,...i},transform:P},n):null))});function mQ({task:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:i,transform:o,isDragging:l}=Xw({id:e.id,data:{task:e}}),u=o?{transform:wa.Translate.toString(o),zIndex:l?50:void 0}:void 0,d=e.tags||[],f=e.status==="blocked",p=e.plan_title;return a.jsxs("div",{ref:i,style:u,...r,...n,onClick:m=>{!l&&t&&(m.stopPropagation(),t())},className:`rounded-lg border p-3 cursor-grab active:cursor-grabbing transition-all duration-150 select-none ${l?"opacity-50 rotate-2 shadow-xl border-indigo-500 bg-[#1a1d27]":f?"border-yellow-500/50 bg-[#1a1d27] hover:border-yellow-400":"border-white/[0.06] bg-[#1a1d27] hover:border-indigo-500 hover:shadow-lg"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 flex-1",children:e.title||(e.description||"").slice(0,60)}),e.priority!==void 0&&a.jsx("span",{className:"text-xs font-bold text-indigo-400 shrink-0",children:e.priority})]}),p&&a.jsx("div",{className:"text-xs text-gray-500 truncate mb-2",children:p}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[f&&a.jsx("span",{className:"text-xs text-yellow-400",title:"Blocked",children:a.jsx("svg",{className:"w-3.5 h-3.5 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.assigned_to&&a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white shrink-0",title:e.assigned_to,children:e.assigned_to.slice(0,2).toUpperCase()}),d.slice(0,3).map((m,g)=>a.jsx(zt,{variant:"default",className:"text-[10px] px-1.5 py-0",children:m},`${m}-${g}`)),d.length>3&&a.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",d.length-3]})]})]})}function gQ({task:e}){const t=e.tags||[],n=e.plan_title;return a.jsxs("div",{className:"rounded-lg border border-indigo-500 bg-[#1a1d27] p-3 shadow-2xl rotate-2 w-[244px] opacity-90",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 flex-1",children:e.title||(e.description||"").slice(0,60)}),e.priority!==void 0&&a.jsx("span",{className:"text-xs font-bold text-indigo-400 shrink-0",children:e.priority})]}),n&&a.jsx("div",{className:"text-xs text-gray-500 truncate mb-2",children:n}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[e.assigned_to&&a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white shrink-0",children:e.assigned_to.slice(0,2).toUpperCase()}),t.slice(0,3).map((r,i)=>a.jsx(zt,{variant:"default",className:"text-[10px] px-1.5 py-0",children:r},`${r}-${i}`))]})]})}const Nh={gray:{border:"border-l-gray-500",bg:"bg-gray-500/10",text:"text-gray-400",dropHighlight:"bg-gray-500/20 border-gray-500/50"},blue:{border:"border-l-blue-500",bg:"bg-blue-500/10",text:"text-blue-400",dropHighlight:"bg-blue-500/20 border-blue-500/50"},yellow:{border:"border-l-yellow-500",bg:"bg-yellow-500/10",text:"text-yellow-400",dropHighlight:"bg-yellow-500/20 border-yellow-500/50"},green:{border:"border-l-green-500",bg:"bg-green-500/10",text:"text-green-400",dropHighlight:"bg-green-500/20 border-green-500/50"},red:{border:"border-l-red-500",bg:"bg-red-500/10",text:"text-red-400",dropHighlight:"bg-red-500/20 border-red-500/50"},purple:{border:"border-l-purple-500",bg:"bg-purple-500/10",text:"text-purple-400",dropHighlight:"bg-purple-500/20 border-purple-500/50"}};function CC({id:e,title:t,tasks:n,color:r,total:i,hasMore:o=!1,loadingMore:l=!1,onLoadMore:u,loading:d=!1,onTaskClick:f,fullWidth:p=!1}){const{isOver:m,setNodeRef:g}=Zw({id:e}),b=Nh[r]||Nh.gray,{sentinelRef:y}=QO({onLoadMore:u||(()=>{}),hasMore:o,loading:l||d}),_=i!==void 0?i:n.length;return a.jsxs("div",{className:`flex flex-col flex-1 ${p?"min-w-0":"min-w-[200px]"}`,children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-t-lg ${b.bg} border-l-4 ${b.border}`,children:[a.jsx("h3",{className:`text-sm font-semibold ${b.text}`,children:t}),a.jsx("span",{className:"text-xs text-gray-500 bg-[#1a1d27] rounded-full px-2 py-0.5",children:_})]}),a.jsx("div",{ref:g,className:`flex-1 p-2 space-y-2 rounded-b-lg border border-t-0 border-white/[0.06] min-h-[200px] ${p?"max-h-[calc(100dvh-200px)]":"max-h-[calc(100vh-280px)]"} overflow-y-auto transition-colors duration-150 ${m?b.dropHighlight:"bg-[#1a1d27]/30"}`,children:d?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(w=>a.jsx("div",{className:"h-20 bg-white/[0.06] rounded-lg animate-pulse"},w))}):n.length===0?a.jsx("div",{className:"flex items-center justify-center h-20 text-xs text-gray-600",children:"No tasks"}):a.jsxs(a.Fragment,{children:[n.map(w=>a.jsx(mQ,{task:w,onClick:()=>f==null?void 0:f(w.id)},w.id)),o&&a.jsx("div",{ref:y,className:"h-1"}),l&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(xr,{})})]})})]})}const xQ=[{id:"pending",title:"Pending",color:"gray"},{id:"in_progress",title:"In Progress",color:"blue"},{id:"blocked",title:"Blocked",color:"yellow"},{id:"completed",title:"Completed",color:"green"},{id:"failed",title:"Failed",color:"red"}];function cL({fetchFn:e,filters:t={},hiddenStatuses:n=[],onTaskStatusChange:r,onTaskClick:i,refreshTrigger:o=0}){const[l,u]=E.useState(null),d=dw(),f=xQ.filter(C=>!n.includes(C.id)),p=Fw(js(Ku,{activationConstraint:{distance:8}}),js(tp,{activationConstraint:{delay:200,tolerance:5}}),js(Vu)),m=Wi({status:"pending",fetchFn:e,filters:t,enabled:!n.includes("pending"),refreshTrigger:o}),g=Wi({status:"in_progress",fetchFn:e,filters:t,enabled:!n.includes("in_progress"),refreshTrigger:o}),b=Wi({status:"blocked",fetchFn:e,filters:t,enabled:!n.includes("blocked"),refreshTrigger:o}),y=Wi({status:"completed",fetchFn:e,filters:t,enabled:!n.includes("completed"),refreshTrigger:o}),_=Wi({status:"failed",fetchFn:e,filters:t,enabled:!n.includes("failed"),refreshTrigger:o}),w={pending:m,in_progress:g,blocked:b,completed:y,failed:_},S=E.useRef(w);S.current=w;const j=E.useCallback(C=>{var T;const A=(T=C.active.data.current)==null?void 0:T.task;A&&u(A)},[]),N=E.useCallback(async C=>{const A=l;u(null);const{active:T,over:M}=C;if(!M||!A)return;const P=T.id,U=M.id,z=A.status;if(z===U)return;const R=S.current;R[z].removeItem(P),R[U].addItem({...A,status:U});try{await r(P,U)}catch(q){R[U].removeItem(P),R[z].addItem(A),console.error("Failed to update task status:",q)}},[l,r]);return d?a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 -mx-4 px-4 snap-x snap-mandatory",children:f.map(C=>{const A=w[C.id];return a.jsx("div",{className:"w-[80vw] shrink-0 snap-start",children:a.jsx(CC,{id:C.id,title:C.title,tasks:A.items,color:C.color,total:A.total,hasMore:A.hasMore,loadingMore:A.loadingMore,onLoadMore:A.loadMore,loading:A.loading,onTaskClick:i,fullWidth:!0})},C.id)})}):a.jsxs(Ww,{sensors:p,collisionDetection:Hw,onDragStart:j,onDragEnd:N,children:[a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:f.map(C=>{const A=w[C.id];return a.jsx(CC,{id:C.id,title:C.title,tasks:A.items,color:C.color,total:A.total,hasMore:A.hasMore,loadingMore:A.loadingMore,onLoadMore:A.loadMore,loading:A.loading,onTaskClick:i},C.id)})}),a.jsx(Qw,{dropAnimation:null,children:l?a.jsx(gQ,{task:l}):null})]})}function bQ({filters:e,onFilterChange:t,onToggleExcludeProject:n,onClearFilters:r,activeFilterCount:i}){const[o,l]=E.useState([]),[u,d]=E.useState([]);E.useEffect(()=>{kt.list({limit:100}).then(g=>l(g.items||[])).catch(()=>{}),jt.list({limit:100}).then(g=>d(g.items||[])).catch(()=>{})},[]);const f=[{value:"",label:"All Plans"},...o.map(g=>({value:g.id,label:g.title}))],p=u.filter(g=>{var b;return!((b=e.exclude_projects)!=null&&b.includes(g.id))}),m=u.filter(g=>{var b;return(b=e.exclude_projects)==null?void 0:b.includes(g.id)});return a.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-2 sm:gap-3 p-3 bg-[#1a1d27]/50 rounded-lg border border-white/[0.06] mb-4",children:[a.jsx(kn,{options:f,value:e.plan_id||"",onChange:g=>t("plan_id",g||void 0),className:"w-full sm:w-44"}),a.jsx("input",{type:"text",placeholder:"Assigned to...",value:e.assigned_to||"",onChange:g=>t("assigned_to",g.target.value||void 0),className:"w-full sm:w-36 px-2.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:border-indigo-500"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[a.jsx("span",{children:"P:"}),a.jsx("input",{type:"number",placeholder:"Min",value:e.priority_min??"",onChange:g=>t("priority_min",g.target.value?Number(g.target.value):void 0),className:"w-14 px-1.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded text-gray-200 focus:outline-none focus:border-indigo-500"}),a.jsx("span",{children:"-"}),a.jsx("input",{type:"number",placeholder:"Max",value:e.priority_max??"",onChange:g=>t("priority_max",g.target.value?Number(g.target.value):void 0),className:"w-14 px-1.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded text-gray-200 focus:outline-none focus:border-indigo-500"})]}),a.jsx("div",{className:"hidden sm:block w-px h-6 bg-white/[0.06]"}),a.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.exclude_completed||!1,onChange:g=>t("exclude_completed",g.target.checked||void 0),className:"rounded border-white/[0.1] bg-[#0f1117] text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),"Hide completed"]}),a.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.exclude_failed||!1,onChange:g=>t("exclude_failed",g.target.checked||void 0),className:"rounded border-white/[0.1] bg-[#0f1117] text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),"Hide failed"]}),p.length>0&&a.jsx(kn,{options:p.map(g=>({value:g.id,label:g.name})),value:"",onChange:g=>{g&&n(g)},placeholder:"Exclude project...",className:"w-full sm:w-40"}),m.map(g=>a.jsxs("button",{onClick:()=>n(g.id),className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-red-900/50 text-red-400 hover:bg-red-900/70 transition-colors cursor-pointer",children:[g.name," "]},g.id)),a.jsx("div",{className:"hidden sm:block flex-1"}),i>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white",children:i}),a.jsx(tt,{variant:"ghost",size:"sm",onClick:r,children:"Clear all"})]})]})}function yQ({filters:e,onFilterChange:t,onClearFilters:n,activeFilterCount:r}){const[i,o]=E.useState([]),[l,u]=E.useState([]),[d,f]=E.useState({});E.useEffect(()=>{async function b(){try{const[y,_]=await Promise.all([jt.list({limit:100}),xt.list({limit:100})]);o(y.items||[]),u(_.items||[]);const w={};for(const S of _.items||[])try{const j=await xt.listProjects(S.slug),N=Array.isArray(j)?j:j.items||[];w[S.id]=N.map(C=>C.id)}catch{w[S.id]=[]}f(w)}catch(y){console.error("Failed to load filter data:",y)}}b()},[]);const p=e.workspace==="all"?i:i.filter(b=>(d[e.workspace]||[]).includes(b.id)),m=[{value:"all",label:"All Workspaces"},...l.map(b=>({value:b.id,label:b.name}))],g=[{value:"all",label:"All Projects"},...p.map(b=>({value:b.id,label:b.name}))];return a.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-3 bg-[#1a1d27]/50 rounded-lg border border-white/[0.06] mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search title...",value:e.search,onChange:b=>t("search",b.target.value),className:"w-40 px-2.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:border-indigo-500"}),a.jsx(kn,{options:m,value:e.workspace,onChange:b=>{t("workspace",b),t("project","all")},className:"w-44"}),a.jsx(kn,{options:g,value:e.project,onChange:b=>t("project",b),className:"w-44"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[a.jsx("span",{children:"P:"}),a.jsx("input",{type:"number",placeholder:"Min",value:e.priority_min??"",onChange:b=>t("priority_min",b.target.value?Number(b.target.value):void 0),className:"w-14 px-1.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded text-gray-200 focus:outline-none focus:border-indigo-500"}),a.jsx("span",{children:"-"}),a.jsx("input",{type:"number",placeholder:"Max",value:e.priority_max??"",onChange:b=>t("priority_max",b.target.value?Number(b.target.value):void 0),className:"w-14 px-1.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded text-gray-200 focus:outline-none focus:border-indigo-500"})]}),a.jsx("div",{className:"w-px h-6 bg-white/[0.06]"}),a.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.hide_completed,onChange:b=>t("hide_completed",b.target.checked),className:"rounded border-white/[0.1] bg-[#0f1117] text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),"Hide completed"]}),a.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.hide_cancelled,onChange:b=>t("hide_cancelled",b.target.checked),className:"rounded border-white/[0.1] bg-[#0f1117] text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),"Hide cancelled"]}),a.jsx("div",{className:"flex-1"}),r>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white",children:r}),a.jsx(tt,{variant:"ghost",size:"sm",onClick:n,children:"Clear all"})]})]})}function vQ({plan:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:i,transform:o,isDragging:l}=Xw({id:e.id,data:{plan:e}}),u=o?{transform:wa.Translate.toString(o),zIndex:l?50:void 0}:void 0;return a.jsxs("div",{ref:i,style:u,...r,...n,onClick:d=>{!l&&t&&(d.stopPropagation(),t())},className:`rounded-lg border p-3 cursor-grab active:cursor-grabbing transition-all duration-150 select-none ${l?"opacity-50 rotate-2 shadow-xl border-indigo-500 bg-[#1a1d27]":"border-white/[0.06] bg-[#1a1d27] hover:border-indigo-500 hover:shadow-lg"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 flex-1",children:e.title}),e.priority!==void 0&&a.jsx("span",{className:"text-xs font-bold text-indigo-400 shrink-0",children:e.priority})]}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-2",children:e.description}),a.jsxs("div",{className:"flex items-center gap-1",children:[e.created_by&&a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white shrink-0",title:e.created_by,children:e.created_by.slice(0,2).toUpperCase()}),e.project_id&&a.jsx(zt,{variant:"default",className:"text-[10px] px-1.5 py-0",children:"project"})]})]})}function _Q({plan:e}){return a.jsxs("div",{className:"rounded-lg border border-indigo-500 bg-[#1a1d27] p-3 shadow-2xl rotate-2 w-[244px] opacity-90",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 flex-1",children:e.title}),e.priority!==void 0&&a.jsx("span",{className:"text-xs font-bold text-indigo-400 shrink-0",children:e.priority})]}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.description})]})}const wQ=[{id:"draft",title:"Draft",color:"gray"},{id:"approved",title:"Approved",color:"blue"},{id:"in_progress",title:"In Progress",color:"yellow"},{id:"completed",title:"Completed",color:"green"},{id:"cancelled",title:"Cancelled",color:"red"}];function Jw({fetchFn:e,filters:t={},hiddenStatuses:n=[],onPlanStatusChange:r,onPlanClick:i,refreshTrigger:o=0}){const[l,u]=E.useState(null),d=dw(),f=E.useMemo(()=>wQ.filter(C=>!n.includes(C.id)),[n]),p=Fw(js(Ku,{activationConstraint:{distance:8}}),js(tp,{activationConstraint:{delay:200,tolerance:5}}),js(Vu)),m=Wi({status:"draft",fetchFn:e,filters:t,enabled:!n.includes("draft"),refreshTrigger:o}),g=Wi({status:"approved",fetchFn:e,filters:t,enabled:!n.includes("approved"),refreshTrigger:o}),b=Wi({status:"in_progress",fetchFn:e,filters:t,enabled:!n.includes("in_progress"),refreshTrigger:o}),y=Wi({status:"completed",fetchFn:e,filters:t,enabled:!n.includes("completed"),refreshTrigger:o}),_=Wi({status:"cancelled",fetchFn:e,filters:t,enabled:!n.includes("cancelled"),refreshTrigger:o}),w={draft:m,approved:g,in_progress:b,completed:y,cancelled:_},S=E.useRef(w);S.current=w;const j=E.useCallback(C=>{var T;const A=(T=C.active.data.current)==null?void 0:T.plan;A&&u(A)},[]),N=E.useCallback(async C=>{const A=l;u(null);const{active:T,over:M}=C;if(!M||!A)return;const P=T.id,U=M.id,z=A.status;if(z===U)return;const R=S.current;R[z].removeItem(P),R[U].addItem({...A,status:U});try{await r(P,U)}catch(q){R[U].removeItem(P),R[z].addItem(A),console.error("Failed to update plan status:",q)}},[l,r]);return d?a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 -mx-4 px-4 snap-x snap-mandatory",children:f.map(C=>{const A=w[C.id];return a.jsx("div",{className:"w-[80vw] shrink-0 snap-start",children:a.jsx(TC,{id:C.id,title:C.title,plans:A.items,color:C.color,total:A.total,hasMore:A.hasMore,loadingMore:A.loadingMore,onLoadMore:A.loadMore,loading:A.loading,onPlanClick:i,fullWidth:!0})},C.id)})}):a.jsxs(Ww,{sensors:p,collisionDetection:Hw,onDragStart:j,onDragEnd:N,children:[a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:f.map(C=>{const A=w[C.id];return a.jsx(TC,{id:C.id,title:C.title,plans:A.items,color:C.color,total:A.total,hasMore:A.hasMore,loadingMore:A.loadingMore,onLoadMore:A.loadMore,loading:A.loading,onPlanClick:i},C.id)})}),a.jsx(Qw,{dropAnimation:null,children:l?a.jsx(_Q,{plan:l}):null})]})}function TC({id:e,title:t,plans:n,color:r,total:i,hasMore:o=!1,loadingMore:l=!1,onLoadMore:u,loading:d=!1,onPlanClick:f,fullWidth:p=!1}){const{isOver:m,setNodeRef:g}=Zw({id:e}),b=Nh[r]||Nh.gray,{sentinelRef:y}=QO({onLoadMore:u||(()=>{}),hasMore:o,loading:l||d}),_=i!==void 0?i:n.length;return a.jsxs("div",{className:`flex flex-col flex-1 ${p?"min-w-0":"min-w-[200px]"}`,children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-t-lg ${b.bg} border-l-4 ${b.border}`,children:[a.jsx("h3",{className:`text-sm font-semibold ${b.text}`,children:t}),a.jsx("span",{className:"text-xs text-gray-500 bg-[#1a1d27] rounded-full px-2 py-0.5",children:_})]}),a.jsx("div",{ref:g,className:`flex-1 p-2 space-y-2 rounded-b-lg border border-t-0 border-white/[0.06] min-h-[200px] ${p?"max-h-[calc(100dvh-200px)]":"max-h-[calc(100vh-280px)]"} overflow-y-auto transition-colors duration-150 ${m?b.dropHighlight:"bg-[#1a1d27]/30"}`,children:d?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(w=>a.jsx("div",{className:"h-20 bg-white/[0.06] rounded-lg animate-pulse"},w))}):n.length===0?a.jsx("div",{className:"flex items-center justify-center h-20 text-xs text-gray-600",children:"No plans"}):a.jsxs(a.Fragment,{children:[n.map(w=>a.jsx(vQ,{plan:w,onClick:()=>f==null?void 0:f(w.id)},w.id)),o&&a.jsx("div",{ref:y,className:"h-1"}),l&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(xr,{})})]})})]})}function SQ({milestone:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:i,transform:o,isDragging:l}=Xw({id:e.id,data:{milestone:e}}),u=o?{transform:wa.Translate.toString(o),zIndex:l?50:void 0}:void 0,d=e.tags||[];return a.jsxs("div",{ref:i,style:u,...r,...n,onClick:f=>{!l&&t&&(f.stopPropagation(),t())},className:`rounded-lg border p-3 cursor-grab active:cursor-grabbing transition-all duration-150 select-none ${l?"opacity-50 rotate-2 shadow-xl border-indigo-500 bg-[#1a1d27]":"border-white/[0.06] bg-[#1a1d27] hover:border-indigo-500 hover:shadow-lg"}`,children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 mb-1",children:e.title}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-2",children:e.description}),e.progress&&a.jsxs("div",{className:"mb-2",children:[a.jsx(Oi,{value:e.progress.percentage,size:"sm"}),a.jsxs("p",{className:"text-[10px] text-gray-500 mt-0.5",children:[e.progress.completed,"/",e.progress.total]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[e.workspace_name&&a.jsx("span",{className:"text-[10px] text-gray-500",children:e.workspace_name}),e.target_date&&a.jsxs("span",{className:"text-[10px] text-gray-500",children:["Target: ",new Date(e.target_date).toLocaleDateString()]}),d.slice(0,2).map((f,p)=>a.jsx(zt,{variant:"default",className:"text-[10px] px-1.5 py-0",children:f},`${f}-${p}`))]})]})}function NQ({milestone:e}){return a.jsxs("div",{className:"rounded-lg border border-indigo-500 bg-[#1a1d27] p-3 shadow-2xl rotate-2 w-[300px] opacity-90",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 mb-1",children:e.title}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.description}),e.progress&&a.jsx("div",{className:"mt-1",children:a.jsx(Oi,{value:e.progress.percentage,size:"sm"})})]})}const A0=[{id:"planned",title:"Planned",color:"gray"},{id:"open",title:"Open",color:"blue"},{id:"in_progress",title:"In Progress",color:"yellow"},{id:"completed",title:"Completed",color:"green"},{id:"closed",title:"Closed",color:"purple"}],AC={gray:{border:"border-l-gray-500",bg:"bg-gray-500/10",text:"text-gray-400",dropHighlight:"bg-gray-500/20 border-gray-500/50"},blue:{border:"border-l-blue-500",bg:"bg-blue-500/10",text:"text-blue-400",dropHighlight:"bg-blue-500/20 border-blue-500/50"},yellow:{border:"border-l-yellow-500",bg:"bg-yellow-500/10",text:"text-yellow-400",dropHighlight:"bg-yellow-500/20 border-yellow-500/50"},green:{border:"border-l-green-500",bg:"bg-green-500/10",text:"text-green-400",dropHighlight:"bg-green-500/20 border-green-500/50"},purple:{border:"border-l-purple-500",bg:"bg-purple-500/10",text:"text-purple-400",dropHighlight:"bg-purple-500/20 border-purple-500/50"}};function EQ({milestones:e,onMilestoneStatusChange:t,onMilestoneClick:n,loading:r}){const[i,o]=E.useState(null),l=dw(),u=Fw(js(Ku,{activationConstraint:{distance:8}}),js(tp,{activationConstraint:{delay:200,tolerance:5}}),js(Vu)),d=E.useMemo(()=>{var g;const m={planned:[],open:[],in_progress:[],completed:[],closed:[]};for(const b of e){const y=((g=b.status)==null?void 0:g.toLowerCase())||"open";m[y]&&m[y].push(b)}return m},[e]),f=E.useCallback(m=>{var b;const g=(b=m.active.data.current)==null?void 0:b.milestone;g&&o(g)},[]),p=E.useCallback(async m=>{var j;o(null);const{active:g,over:b}=m;if(!b)return;const y=g.id,_=b.id,w=e.find(N=>N.id===y);if(!(!w||(((j=w.status)==null?void 0:j.toLowerCase())||"open")===_))try{await t(y,_)}catch(N){console.error("Failed to update milestone status:",N)}},[e,t]);return r?a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:A0.map(m=>a.jsxs("div",{className:"min-w-[200px] flex-1",children:[a.jsx("div",{className:"h-10 bg-[#1a1d27] rounded-t-lg animate-pulse"}),a.jsx("div",{className:"h-[200px] bg-[#1a1d27]/30 rounded-b-lg border border-t-0 border-white/[0.06] animate-pulse"})]},m.id))}):l?a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 -mx-4 px-4 snap-x snap-mandatory",children:A0.map(m=>a.jsx("div",{className:"w-[80vw] shrink-0 snap-start",children:a.jsx(MC,{id:m.id,title:m.title,milestones:d[m.id],color:m.color,onMilestoneClick:n,fullWidth:!0})},m.id))}):a.jsxs(Ww,{sensors:u,collisionDetection:Hw,onDragStart:f,onDragEnd:p,children:[a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:A0.map(m=>a.jsx(MC,{id:m.id,title:m.title,milestones:d[m.id],color:m.color,onMilestoneClick:n},m.id))}),a.jsx(Qw,{dropAnimation:null,children:i?a.jsx(NQ,{milestone:i}):null})]})}function MC({id:e,title:t,milestones:n,color:r,onMilestoneClick:i,fullWidth:o=!1}){const{isOver:l,setNodeRef:u}=Zw({id:e}),d=AC[r]||AC.blue;return a.jsxs("div",{className:`flex flex-col flex-1 ${o?"min-w-0":"min-w-[200px]"}`,children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-t-lg ${d.bg} border-l-4 ${d.border}`,children:[a.jsx("h3",{className:`text-sm font-semibold ${d.text}`,children:t}),a.jsx("span",{className:"text-xs text-gray-500 bg-[#1a1d27] rounded-full px-2 py-0.5",children:n.length})]}),a.jsx("div",{ref:u,className:`flex-1 p-2 space-y-2 rounded-b-lg border border-t-0 border-white/[0.06] min-h-[200px] ${o?"max-h-[calc(100dvh-200px)]":"max-h-[calc(100vh-280px)]"} overflow-y-auto transition-colors duration-150 ${l?d.dropHighlight:"bg-[#1a1d27]/30"}`,children:n.length===0?a.jsx("div",{className:"flex items-center justify-center h-20 text-xs text-gray-600",children:"No milestones"}):n.map(f=>a.jsx(SQ,{milestone:f,onClick:()=>i==null?void 0:i(f.id)},f.id))})]})}const kQ=[{value:"all",label:"All Status"},{value:"planned",label:"Planned"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"closed",label:"Closed"}];function jQ(){const[e,t]=E.useState([]),[n,r]=E.useState([]),[i,o]=E.useState(!0),{page:l,pageSize:u,paginationProps:d}=kl(),[f,p]=jl(),m=Mn(),g=fi(),b=hi(),[y,_]=E.useState("all"),[w,S]=E.useState("all"),j=Ve(El),N=Ve(Bh);E.useEffect(()=>{async function R(){const q=e.length===0;q&&o(!0);try{const L=(await xt.list()).items||[];r(L);const F=[];for(const B of L)try{const X=await xt.listMilestones(B.slug),W=Array.isArray(X)?X:X.items||[];for(const K of W)try{const D=await xt.getMilestoneProgress(K.id);F.push({...K,progress:D,workspace_name:B.name})}catch{F.push({...K,workspace_name:B.name})}}catch(X){console.error(`Failed to fetch milestones for workspace ${B.slug}:`,X),b.error("Failed to load milestones")}t(F)}catch(Y){console.error("Failed to fetch milestones:",Y),b.error("Failed to load milestones")}finally{q&&o(!1)}}R()},[j,N]);const C=E.useMemo(()=>{let R=e;return y!=="all"&&(R=R.filter(q=>q.workspace_id===y)),w!=="all"&&(R=R.filter(q=>{var Y;return(((Y=q.status)==null?void 0:Y.toLowerCase())||"open")===w})),R},[e,y,w]),A=E.useMemo(()=>{const R=(l-1)*u;return C.slice(R,R+u)},[C,l,u]),T=E.useCallback(async(R,q)=>{const Y=e.find(L=>L.id===R);t(L=>L.map(F=>F.id===R?{...F,status:q}:F));try{await xt.updateMilestone(R,{status:q}),b.success("Status updated")}catch(L){Y&&t(F=>F.map(B=>B.id===R?Y:B)),console.error("Failed to update milestone status:",L),b.error("Failed to update status")}},[e]),M=Al(A,R=>R.id),P=()=>{const R=M.selectionCount;g.open({title:`Delete ${R} milestone${R>1?"s":""}`,description:`This will permanently delete ${R} milestone${R>1?"s":""}.`,onConfirm:async()=>{const q=M.selectedItems;g.setProgress({current:0,total:q.length});for(let Y=0;Y<q.length;Y++)await xt.deleteMilestone(q[Y].id),g.setProgress({current:Y+1,total:q.length});t(Y=>Y.filter(L=>!M.selectedIds.has(L.id))),M.clear(),b.success(`Deleted ${R} milestone${R>1?"s":""}`)}})};if(i)return a.jsx(Rr,{});const U=[{value:"all",label:"All Workspaces"},...n.map(R=>({value:R.id,label:R.name}))],z=y!=="all"||w!=="all";return a.jsxs(Pl,{title:"Milestones",description:"Track milestones across workspaces",actions:a.jsx(Rl,{value:f,onChange:p}),children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-4 sm:flex-wrap",children:[a.jsx(kn,{options:U,value:y,onChange:R=>_(R),className:"w-full sm:w-44"}),f==="list"&&a.jsx(kn,{options:kQ,value:w,onChange:R=>S(R),className:"w-full sm:w-40"}),z&&a.jsx("button",{onClick:()=>{_("all"),S("all")},className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:"Clear filters"})]}),C.length===0?a.jsx(_a,{title:"No milestones",description:z?"No milestones match the current filters.":"Milestones help track major goals across your projects."}):f==="kanban"?a.jsx(EQ,{milestones:C,onMilestoneStatusChange:T,onMilestoneClick:R=>m(`/milestones/${R}`)}):a.jsxs(a.Fragment,{children:[f==="list"&&A.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:M.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:M.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"space-y-4",children:A.map(R=>a.jsx(TQ,{selected:M.isSelected(R.id),onToggleSelect:q=>M.toggle(R.id,q),milestone:R,onStatusChange:q=>T(R.id,q),onDelete:()=>g.open({title:"Delete Milestone",description:"This milestone will be permanently deleted.",onConfirm:async()=>{await xt.deleteMilestone(R.id),t(q=>q.filter(Y=>Y.id!==R.id)),b.success("Milestone deleted")}})},R.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Ml,{...d(C.length)})})]}),a.jsx($l,{count:M.selectionCount,onDelete:P,onClear:M.clear}),a.jsx(mi,{...g.dialogProps})]})}const CQ={planned:"bg-gray-400",open:"bg-blue-400",in_progress:"bg-yellow-400",completed:"bg-green-400",closed:"bg-purple-400"};function TQ({milestone:e,onStatusChange:t,onDelete:n,selected:r,onToggleSelect:i}){var u,d;const o=e.tags||[],l=((u=e.status)==null?void 0:u.toLowerCase())||"open";return a.jsx(jn,{to:`/milestones/${e.id}`,children:a.jsx(et,{className:`transition-colors ${r?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex",children:[i&&a.jsx(Bl,{selected:!!r,onToggle:i}),a.jsx("div",{className:`w-1 shrink-0 ${i?"":"rounded-l-xl"} ${CQ[l]||"bg-gray-400"}`}),a.jsxs("div",{className:"flex-1 p-3 md:p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-gray-100 truncate min-w-0",children:e.title}),a.jsx(N$,{status:(d=e.status)==null?void 0:d.toLowerCase(),onStatusChange:t})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-2 text-xs text-gray-500",children:[e.workspace_name&&a.jsxs("span",{children:["Workspace: ",e.workspace_name]}),e.target_date&&a.jsxs("span",{children:["Target: ",new Date(e.target_date).toLocaleDateString()]})]}),o.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:o.slice(0,4).map((f,p)=>a.jsx(zt,{variant:"default",children:f},`${f}-${p}`))})]}),a.jsx(uo,{actions:[{label:"Delete",variant:"danger",onClick:()=>n()}]})]}),e.progress&&a.jsxs("div",{className:"mt-3",children:[a.jsx(Oi,{value:e.progress.percentage,showLabel:!0,size:"sm"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.progress.completed," / ",e.progress.total," tasks completed"]})]})]})]})})})}function eS({expanded:e,className:t}){return a.jsx("svg",{className:`w-4 h-4 transition-transform duration-150 ${e?"rotate-90":""} ${t||""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}const AQ={pending:"bg-white/[0.15]",in_progress:"bg-blue-600",completed:"bg-green-600",skipped:"bg-yellow-600"},MQ={pending:"Pending",in_progress:"In progress",completed:"Done",skipped:"Skipped"};function uL({step:e,index:t}){return a.jsxs("div",{className:"flex items-start gap-2 py-1.5 px-2 rounded bg-white/[0.03]",children:[a.jsx("div",{className:`w-5 h-5 rounded-full ${AQ[e.status]} flex items-center justify-center text-[10px] font-medium text-white flex-shrink-0 mt-0.5`,children:e.status==="completed"?"":t+1}),a.jsx("p",{className:"text-sm text-gray-300 flex-1 min-w-0",children:e.description}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full flex-shrink-0 ${e.status==="completed"?"bg-green-500/20 text-green-400":e.status==="in_progress"?"bg-blue-500/20 text-blue-400":e.status==="skipped"?"bg-yellow-500/20 text-yellow-400":"bg-white/[0.08] text-gray-500"}`,children:MQ[e.status]})]})}function RQ({task:e,refreshTrigger:t,expandAllSignal:n,collapseAllSignal:r}){const[i,o]=E.useState(!1),[l,u]=E.useState([]),d=E.useCallback(async()=>{try{const g=await Mt.listSteps(e.id);u(Array.isArray(g)?g:[])}catch{u([])}},[e.id]);E.useEffect(()=>{d()},[t,d]),E.useEffect(()=>{n&&o(!0)},[n]),E.useEffect(()=>{r&&o(!1)},[r]);const f=g=>{g.preventDefault(),g.stopPropagation(),o(!i)},p=l.filter(g=>g.status==="completed").length,m=l.length;return a.jsxs("div",{className:"bg-white/[0.04] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 p-2",children:[a.jsx("button",{onClick:f,className:"flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 hover:text-gray-300 transition-colors",title:i?"Collapse":"Show steps",children:a.jsx(eS,{expanded:i,className:"!w-3 !h-3"})}),a.jsx(jn,{to:`/tasks/${e.id}`,className:"flex-1 min-w-0 text-sm text-gray-300 hover:text-indigo-400 transition-colors truncate",children:e.title||e.description}),m>0&&a.jsxs("span",{className:"text-[10px] text-gray-500 flex-shrink-0",children:[p,"/",m]}),a.jsx(dh,{status:e.status})]}),i&&a.jsx("div",{className:"pl-9 pr-2 pb-2 space-y-1",children:l.length>0?l.map((g,b)=>a.jsx(uL,{step:g,index:b},g.id||b)):a.jsx("div",{className:"text-xs text-gray-500 py-1",children:"No steps"})})]})}function tS({plan:e,onStatusChange:t,refreshTrigger:n,expandAllSignal:r,collapseAllSignal:i}){const[o,l]=E.useState(!1),[u,d]=E.useState([]),f=E.useCallback(async()=>{try{const m=await Mt.list({plan_id:e.id,limit:100});d(m.items||[])}catch{d([])}},[e.id]);E.useEffect(()=>{f()},[n,f]),E.useEffect(()=>{r&&l(!0)},[r]),E.useEffect(()=>{i&&l(!1)},[i]);const p=m=>{m.preventDefault(),m.stopPropagation(),l(!o)};return a.jsxs("div",{className:"bg-white/[0.06] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3",children:[a.jsx("button",{onClick:p,className:"flex-shrink-0 w-6 h-6 flex items-center justify-center text-gray-500 hover:text-gray-300 transition-colors",title:o?"Collapse":"Show tasks",children:a.jsx(eS,{expanded:o})}),a.jsxs(jn,{to:`/plans/${e.id}`,className:"flex-1 min-w-0 hover:text-indigo-400 transition-colors",children:[a.jsx("span",{className:"font-medium text-gray-200",children:e.title}),e.description&&a.jsx("p",{className:"text-sm text-gray-400 line-clamp-1 mt-1",children:e.description})]}),u.length>0&&a.jsxs("span",{className:"text-xs text-gray-500 flex-shrink-0",children:[u.length," tasks"]}),a.jsx(o3,{status:e.status,onStatusChange:t})]}),o&&a.jsx("div",{className:"pl-8 pr-3 pb-3 space-y-1.5",children:u.length>0?u.map(m=>a.jsx(RQ,{task:m,refreshTrigger:n,expandAllSignal:r,collapseAllSignal:i},m.id)):a.jsx("div",{className:"text-xs text-gray-500 py-1",children:"No tasks"})})]})}function dL({task:e,refreshTrigger:t,expandAllSignal:n,collapseAllSignal:r}){const[i,o]=E.useState(!1),[l,u]=E.useState([]),d=E.useCallback(async()=>{try{const g=await Mt.listSteps(e.id);u(Array.isArray(g)?g:[])}catch{u([])}},[e.id]);E.useEffect(()=>{d()},[t,d]),E.useEffect(()=>{n&&o(!0)},[n]),E.useEffect(()=>{r&&o(!1)},[r]);const f=g=>{g.preventDefault(),g.stopPropagation(),o(!i)},p=l.filter(g=>g.status==="completed").length,m=l.length;return a.jsxs("div",{className:"bg-white/[0.06] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3",children:[a.jsx("button",{onClick:f,className:"flex-shrink-0 w-6 h-6 flex items-center justify-center text-gray-500 hover:text-gray-300 transition-colors",title:i?"Collapse":"Show steps",children:a.jsx(eS,{expanded:i})}),a.jsx(jn,{to:`/tasks/${e.id}`,className:"flex-1 min-w-0 hover:text-indigo-400 transition-colors",children:a.jsx("span",{className:"font-medium text-gray-200",children:e.title||e.description})}),m>0&&a.jsxs("span",{className:"text-xs text-gray-500 flex-shrink-0",children:[p,"/",m]}),a.jsx(dh,{status:e.status})]}),i&&a.jsx("div",{className:"pl-11 pr-3 pb-3 space-y-1.5",children:l.length>0?l.map((g,b)=>a.jsx(uL,{step:g,index:b},g.id||b)):a.jsx("div",{className:"text-xs text-gray-500 py-1",children:"No steps"})})]})}function OQ(){var te;const{milestoneId:e}=Sl(),t=Mn(),[n,r]=E.useState(null),[i,o]=E.useState(null),[l,u]=E.useState([]),[d,f]=E.useState([]),[p,m]=E.useState(new Set),[g,b]=E.useState([]),[y,_]=E.useState(!0),[w,S]=jl(),j=fi(),N=Cl(),C=hi(),A=Ve(El),T=Ve(oo),M=Ve(Sa),P=Ve(Na),[U,z]=E.useState(0),[R,q]=E.useState(0),[Y,L]=E.useState(!1),[F,B]=E.useState(0),[X,W]=E.useState(0),[K,D]=E.useState(!1),$=E.useCallback(async()=>{if(!e)return;const ne=!n;ne&&_(!0);try{const[de,ge,re]=await Promise.all([xt.getMilestone(e),xt.getMilestoneProgress(e).catch(()=>null),xt.listMilestoneTasks(e)]);if(r(de),o(ge),b(re||[]),de.workspace_id){const we=((await xt.list()).items||[]).find(be=>be.id===de.workspace_id);if(we){const be=await xt.listProjects(we.slug),je=Array.isArray(be)?be:be.items||[];u(je)}}const ue=new Set((re||[]).map(_e=>_e.id));if(ue.size>0){const _e=await Mt.list({limit:100}),we=new Set((_e.items||[]).filter(be=>ue.has(be.id)&&be.plan_id).map(be=>be.plan_id));if(m(we),we.size>0){const je=((await kt.list({limit:100})).items||[]).filter(qe=>we.has(qe.id));f(je)}else f([])}else m(new Set),f([])}catch(de){console.error("Failed to fetch milestone:",de)}finally{ne&&_(!1)}},[e,A,T,M,P]);E.useEffect(()=>{$()},[$]);const H=E.useCallback(async(ne,de)=>{const ge=d.find(re=>re.id===ne);f(re=>re.map(ue=>ue.id===ne?{...ue,status:de}:ue));try{await kt.updateStatus(ne,de),C.success("Status updated")}catch(re){ge&&f(ue=>ue.map(_e=>_e.id===ne?ge:_e)),console.error("Failed to update plan status:",re),C.error("Failed to update plan status")}},[d]),I=E.useCallback(async ne=>{if(p.size===0)return{items:[],total:0,limit:0,offset:0};const de=ne.status,re=((await kt.list({limit:100})).items||[]).filter(ue=>p.has(ue.id)&&ue.status===de);return{items:re,total:re.length,limit:re.length,offset:0}},[p]),Z=Tl(["progress","plans","tasks","projects"]);if(y||!n)return a.jsx(Rr,{});const Q=n.tags||[],ae=[{id:"progress",label:"Progress"},{id:"plans",label:"Plans",count:d.length},{id:"tasks",label:"Tasks",count:g.length},{id:"projects",label:"Projects",count:l.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(zl,{title:n.title,description:n.description,status:a.jsx(Yh,{status:(te=n.status)==null?void 0:te.toLowerCase(),options:[{value:"planned",label:"Planned"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"closed",label:"Closed"}],colorMap:{planned:{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},open:{bg:"bg-blue-900/50",text:"text-blue-400",dot:"bg-blue-400"},in_progress:{bg:"bg-yellow-900/50",text:"text-yellow-400",dot:"bg-yellow-400"},completed:{bg:"bg-green-900/50",text:"text-green-400",dot:"bg-green-400"},closed:{bg:"bg-purple-900/50",text:"text-purple-400",dot:"bg-purple-400"}},onStatusChange:async ne=>{await xt.updateMilestone(n.id,{status:ne}),r({...n,status:ne}),C.success("Status updated")}}),metadata:[{label:"Created",value:new Date(n.created_at).toLocaleDateString()},...n.target_date?[{label:"Target",value:new Date(n.target_date).toLocaleDateString()}]:[],...n.closed_at?[{label:"Closed",value:new Date(n.closed_at).toLocaleDateString()}]:[]],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>j.open({title:"Delete Milestone",description:"This will permanently delete this milestone. Tasks linked to it will not be deleted.",onConfirm:async()=>{await xt.deleteMilestone(n.id),C.success("Milestone deleted"),t("/milestones")}})}],children:Q.length>0&&a.jsx("div",{className:"flex gap-1",children:Q.map((ne,de)=>a.jsx(zt,{variant:"default",children:ne},`${ne}-${de}`))})}),a.jsx(Il,{sections:ae,activeSection:Z}),a.jsx("section",{id:"progress",className:"scroll-mt-20",children:i&&a.jsxs(et,{children:[a.jsx(qt,{children:a.jsx(Ft,{children:"Progress"})}),a.jsxs(ft,{children:[a.jsx(Oi,{value:i.percentage,showLabel:!0,size:"lg"}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:i.completed}),a.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-400",children:i.total-i.completed}),a.jsx("div",{className:"text-xs text-gray-500",children:"Remaining"})]})]})]})]})}),a.jsx("section",{id:"plans",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ft,{children:["Plans (",d.length,")"]}),d.length>0&&w==="list"&&a.jsx("button",{onClick:()=>{Y?q(ne=>ne+1):z(ne=>ne+1),L(!Y)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:Y?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),d.length>0&&a.jsx(Rl,{value:w,onChange:S})]})}),a.jsx(ft,{children:d.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No plans for projects in this workspace"}):w==="kanban"?a.jsx(Jw,{fetchFn:I,onPlanStatusChange:H,onPlanClick:ne=>t(`/plans/${ne}`),refreshTrigger:T}):a.jsx("div",{className:"space-y-2",children:d.map(ne=>a.jsx(tS,{plan:ne,onStatusChange:async de=>{await kt.updateStatus(ne.id,de),f(ge=>ge.map(re=>re.id===ne.id?{...re,status:de}:re)),C.success("Status updated")},refreshTrigger:M,expandAllSignal:U,collapseAllSignal:R},ne.id))})})]})}),a.jsx("section",{id:"tasks",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ft,{children:["Tasks (",g.length,")"]}),g.length>0&&a.jsx("button",{onClick:()=>{K?W(ne=>ne+1):B(ne=>ne+1),D(!K)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:K?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:K?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),a.jsx(tt,{size:"sm",onClick:()=>N.open({title:"Add Task to Milestone",submitLabel:"Add",fetchOptions:async()=>{const ne=await Mt.list({limit:100}),de=new Set(g.map(ge=>ge.id));return(ne.items||[]).filter(ge=>!de.has(ge.id)).map(ge=>({value:ge.id,label:ge.title||ge.description||"Untitled",description:ge.status}))},onLink:async ne=>{await xt.addTaskToMilestone(e,ne),await $(),C.success("Task added")}}),children:"Add Task"})]})}),a.jsx(ft,{children:g.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks linked to this milestone"}):a.jsx("div",{className:"space-y-2",children:g.map(ne=>a.jsx(dL,{task:ne,refreshTrigger:M,expandAllSignal:F,collapseAllSignal:X},ne.id))})})]})}),a.jsx("section",{id:"projects",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs(Ft,{children:["Projects (",l.length,")"]})}),a.jsx(ft,{children:l.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No projects in this workspace"}):a.jsx("div",{className:"space-y-2",children:l.map(ne=>a.jsxs(jn,{to:`/projects/${ne.slug}`,className:"flex items-center justify-between p-3 bg-white/[0.06] rounded-lg hover:bg-white/[0.06] transition-colors",children:[a.jsx("span",{className:"font-medium text-gray-200",children:ne.name}),a.jsx("span",{className:"text-xs text-gray-500",children:ne.slug})]},ne.id))})})]})}),a.jsx(Ll,{...N.dialogProps}),a.jsx(mi,{...j.dialogProps})]})}function DQ(){var te;const{milestoneId:e}=Sl(),t=Mn(),[n,r]=E.useState(null),[i,o]=E.useState(null),[l,u]=E.useState(null),[d,f]=E.useState([]),[p,m]=E.useState(new Set),[g,b]=E.useState([]),[y,_]=E.useState(!0),[w,S]=jl(),j=fi(),N=Cl(),C=hi(),A=Ve(El),T=Ve(oo),M=Ve(Sa),P=Ve(Na),[U,z]=E.useState(0),[R,q]=E.useState(0),[Y,L]=E.useState(!1),[F,B]=E.useState(0),[X,W]=E.useState(0),[K,D]=E.useState(!1),$=E.useCallback(async()=>{if(!e)return;const ne=!n;ne&&_(!0);try{const[de,ge]=await Promise.all([jt.getMilestone(e),jt.getMilestoneProgress(e).catch(()=>null)]);if(r(de.milestone),b(de.tasks||[]),o(ge),de.milestone.project_id)try{const ue=((await jt.list({limit:100})).items||[]).find(_e=>_e.id===de.milestone.project_id);if(ue){u(ue);const _e=new Set((de.tasks||[]).map(we=>we.id));if(_e.size>0){const we=await Mt.list({limit:100}),be=new Set((we.items||[]).filter(je=>_e.has(je.id)&&je.plan_id).map(je=>je.plan_id));if(m(be),be.size>0){const qe=((await kt.list({limit:100})).items||[]).filter(it=>be.has(it.id));f(qe)}else f([])}else m(new Set),f([])}}catch{}}catch(de){console.error("Failed to fetch milestone:",de)}finally{ne&&_(!1)}},[e,A,T,M,P]);E.useEffect(()=>{$()},[$]);const H=E.useCallback(async(ne,de)=>{const ge=d.find(re=>re.id===ne);f(re=>re.map(ue=>ue.id===ne?{...ue,status:de}:ue));try{await kt.updateStatus(ne,de),C.success("Status updated")}catch(re){ge&&f(ue=>ue.map(_e=>_e.id===ne?ge:_e)),console.error("Failed to update plan status:",re),C.error("Failed to update plan status")}},[d]),I=E.useCallback(async ne=>{if(p.size===0)return{items:[],total:0,limit:0,offset:0};const de=ne.status,re=((await kt.list({limit:100})).items||[]).filter(ue=>p.has(ue.id)&&ue.status===de);return{items:re,total:re.length,limit:re.length,offset:0}},[p]),V=E.useCallback(async ne=>{if(!e)return;await jt.addTaskToMilestone(e,ne);const[de,ge]=await Promise.all([jt.getMilestone(e),jt.getMilestoneProgress(e).catch(()=>null)]);b(de.tasks||[]),o(ge),C.success("Task added")},[e,C]),Q=Tl(["progress","plans","tasks"]);if(y||!n)return a.jsx(Rr,{});const ae=[{id:"progress",label:"Progress"},{id:"plans",label:"Plans",count:d.length},{id:"tasks",label:"Tasks",count:g.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(zl,{title:n.title,description:n.description,status:a.jsx(Yh,{status:(te=n.status)==null?void 0:te.toLowerCase(),options:[{value:"planned",label:"Planned"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"closed",label:"Closed"}],colorMap:{planned:{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},open:{bg:"bg-blue-900/50",text:"text-blue-400",dot:"bg-blue-400"},in_progress:{bg:"bg-yellow-900/50",text:"text-yellow-400",dot:"bg-yellow-400"},completed:{bg:"bg-green-900/50",text:"text-green-400",dot:"bg-green-400"},closed:{bg:"bg-purple-900/50",text:"text-purple-400",dot:"bg-purple-400"}},onStatusChange:async ne=>{await jt.updateMilestone(n.id,{status:ne}),r({...n,status:ne}),C.success("Status updated")}}),metadata:[{label:"Created",value:new Date(n.created_at).toLocaleDateString()},...n.target_date?[{label:"Target",value:new Date(n.target_date).toLocaleDateString()}]:[],...n.closed_at?[{label:"Closed",value:new Date(n.closed_at).toLocaleDateString()}]:[],...l?[{label:"Project",value:l.name}]:[]],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>j.open({title:"Delete Milestone",description:"This will permanently delete this milestone. Tasks linked to it will not be deleted.",onConfirm:async()=>{await jt.updateMilestone(n.id,{status:"closed"}),C.success("Milestone deleted"),t(l?`/projects/${l.slug}`:"/projects")}})}]}),a.jsx(Il,{sections:ae,activeSection:Q}),a.jsx("section",{id:"progress",className:"scroll-mt-20",children:i&&a.jsxs(et,{children:[a.jsx(qt,{children:a.jsx(Ft,{children:"Progress"})}),a.jsxs(ft,{children:[a.jsx(Oi,{value:i.percentage,showLabel:!0,size:"lg"}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:i.completed}),a.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-400",children:i.total-i.completed}),a.jsx("div",{className:"text-xs text-gray-500",children:"Remaining"})]})]})]})]})}),a.jsx("section",{id:"plans",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ft,{children:["Plans (",d.length,")"]}),d.length>0&&w==="list"&&a.jsx("button",{onClick:()=>{Y?q(ne=>ne+1):z(ne=>ne+1),L(!Y)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:Y?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),d.length>0&&a.jsx(Rl,{value:w,onChange:S})]})}),a.jsx(ft,{children:d.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No plans for this project"}):w==="kanban"?a.jsx(Jw,{fetchFn:I,onPlanStatusChange:H,onPlanClick:ne=>t(`/plans/${ne}`),refreshTrigger:T}):a.jsx("div",{className:"space-y-2",children:d.map(ne=>a.jsx(tS,{plan:ne,onStatusChange:async de=>{await kt.updateStatus(ne.id,de),f(ge=>ge.map(re=>re.id===ne.id?{...re,status:de}:re)),C.success("Status updated")},refreshTrigger:M,expandAllSignal:U,collapseAllSignal:R},ne.id))})})]})}),a.jsx("section",{id:"tasks",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ft,{children:["Tasks (",g.length,")"]}),g.length>0&&a.jsx("button",{onClick:()=>{K?W(ne=>ne+1):B(ne=>ne+1),D(!K)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:K?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:K?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),a.jsx(tt,{size:"sm",onClick:()=>N.open({title:"Add Task to Milestone",submitLabel:"Add",fetchOptions:async()=>{const ne=await Mt.list({limit:100}),de=new Set(g.map(ge=>ge.id));return(ne.items||[]).filter(ge=>!de.has(ge.id)).map(ge=>({value:ge.id,label:ge.title||ge.description||"Untitled",description:ge.status}))},onLink:V}),children:"Add Task"})]})}),a.jsx(ft,{children:g.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks linked to this milestone"}):a.jsx("div",{className:"space-y-2",children:g.map(ne=>a.jsx(dL,{task:ne,refreshTrigger:M,expandAllSignal:F,collapseAllSignal:X},ne.id))})})]})}),a.jsx(Ll,{...N.dialogProps}),a.jsx(mi,{...j.dialogProps})]})}function LQ(){const[e,t]=Ct(BO),[n,r]=Ct(v8),[i,o]=E.useState(0),{page:l,pageSize:u,offset:d,paginationProps:f}=kl(),p=fi(),m=Gr(),g=hi(),[b,y]=E.useState(!1),_=Ve(Na),w=async(T=!1)=>{T||r(!0);try{const M=await jt.list({limit:u,offset:d});t(M.items||[]),o(M.total||0)}catch(M){console.error("Failed to fetch projects:",M),g.error("Failed to load projects")}finally{T||r(!1)}},S=E.useRef(!1);E.useEffect(()=>{const T=S.current;w(T),S.current=!0},[t,r,l,u,d,_]);const j=SX({onSubmit:async T=>{y(!0);try{await jt.create(T),g.success("Project created"),m.close(),w()}finally{y(!1)}},loading:b}),N=()=>{m.open({title:"Create Project"})},C=Al(e,T=>T.slug),A=()=>{const T=C.selectionCount;p.open({title:`Delete ${T} project${T>1?"s":""}`,description:`This will permanently delete ${T} project${T>1?"s":""}.`,onConfirm:async()=>{const M=C.selectedItems;p.setProgress({current:0,total:M.length});for(let P=0;P<M.length;P++)await jt.delete(M[P].slug),p.setProgress({current:P+1,total:M.length});t(P=>P.filter(U=>!C.selectedIds.has(U.slug))),o(P=>P-M.length),C.clear(),g.success(`Deleted ${T} project${T>1?"s":""}`)}})};return n?a.jsx(Rr,{}):a.jsxs(Pl,{title:"Projects",description:"Track your codebase projects",actions:a.jsx(tt,{onClick:N,children:"Create Project"}),children:[e.length===0&&i===0?a.jsx(_a,{title:"No projects",description:"Create a project to start tracking your codebase.",action:a.jsx(tt,{onClick:N,children:"Create Project"})}):a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:C.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:C.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:e.map(T=>a.jsx(IQ,{selected:C.isSelected(T.slug),onToggleSelect:M=>C.toggle(T.slug,M),project:T,onDelete:()=>p.open({title:"Delete Project",description:"This will permanently delete this project.",onConfirm:async()=>{await jt.delete(T.slug),t(M=>M.filter(P=>P.id!==T.id)),g.success("Project deleted")}})},T.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Ml,{...f(i)})})]}),a.jsx($l,{count:C.selectionCount,onDelete:A,onClear:C.clear}),a.jsx(Kr,{...m.dialogProps,onSubmit:j.submit,loading:b,children:j.fields}),a.jsx(mi,{...p.dialogProps})]})}function IQ({project:e,onDelete:t,selected:n,onToggleSelect:r}){return a.jsx(jn,{to:`/projects/${e.slug}`,children:a.jsx(et,{className:`h-full transition-colors ${n?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex h-full",children:[r&&a.jsx(Bl,{selected:!!n,onToggle:r}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"h-0.5 bg-blue-500/50"}),a.jsxs(ft,{children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:e.name}),a.jsx(uo,{actions:[{label:"Delete",variant:"danger",onClick:()=>t()}]})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-3",children:e.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:e.last_synced?`Synced ${new Date(e.last_synced).toLocaleDateString()}`:"Never synced"}),e.last_synced&&a.jsx(zt,{variant:"success",children:"Synced"})]})]})]})]})})})}function zQ(){const{slug:e}=Sl(),t=Mn(),n=fi(),r=Gr(),i=Gr(),o=Cl(),l=hi(),u=Rt(cw),d=Ve(Na),f=Ve(oo),p=Ve(El),m=Ve(Sa),[g,b]=E.useState(!1),[y,_]=E.useState(null),[w,S]=E.useState([]),[j,N]=E.useState(null),[C,A]=E.useState(!0),[T,M]=E.useState(!1),[P,U]=E.useState(0),[z,R]=E.useState(0),[q,Y]=E.useState(!1);E.useEffect(()=>{async function $(){if(!e)return;const H=!y;H&&A(!0);try{const I=await jt.get(e);_(I),u(I.id);const Z=((await kt.list({limit:100})).items||[]).filter(Q=>Q.project_id===I.id);S(Z);try{const Q=await jt.getRoadmap(I.id);N(Q)}catch{}}catch(I){console.error("Failed to fetch project:",I)}finally{H&&A(!1)}}$()},[e,d,f,p,m]);const L=async()=>{if(e){M(!0);try{await jt.sync(e);const $=await jt.get(e);_($),l.success("Codebase synced")}catch($){console.error("Failed to sync project:",$),l.error("Failed to sync project")}finally{M(!1)}}},F=HD({onSubmit:async $=>{if(y){b(!0);try{await jt.createMilestone(y.id,$),r.close(),l.success("Milestone added");try{const H=await jt.getRoadmap(y.id);N(H)}catch{}}finally{b(!1)}}},loading:g}),B=MX({onSubmit:async $=>{if(y){b(!0);try{await jt.createRelease(y.id,$),i.close(),l.success("Release added");try{const H=await jt.getRoadmap(y.id);N(H)}catch{}}finally{b(!1)}}},loading:g}),X=j&&((j.milestones||[]).length>0||j.releases.length>0),W=[...X?["roadmap"]:[],"plans"],K=Tl(W);if(C||!y)return a.jsx(Rr,{});const D=[...X?[{id:"roadmap",label:"Roadmap",count:(j.milestones||[]).length+j.releases.length}]:[],{id:"plans",label:"Plans",count:w.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(zl,{title:y.name,description:y.description,metadata:[...y.root_path?[{label:"Root path",value:y.root_path}]:[]],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>n.open({title:"Delete Project",description:"This will permanently delete this project and all associated data.",onConfirm:async()=>{await jt.delete(y.slug),l.success("Project deleted"),t("/projects")}})}],actions:a.jsx(tt,{onClick:L,loading:T,children:T?"Syncing...":"Sync Codebase"})}),a.jsx(Il,{sections:D,activeSection:K}),j&&a.jsxs(et,{children:[a.jsx(qt,{children:a.jsx(Ft,{children:"Progress"})}),a.jsxs(ft,{children:[a.jsx(Oi,{value:j.progress.percentage,showLabel:!0,size:"lg"}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-200",children:j.progress.total_tasks}),a.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:j.progress.completed_tasks}),a.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:j.progress.in_progress_tasks}),a.jsx("div",{className:"text-xs text-gray-500",children:"In Progress"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-400",children:j.progress.pending_tasks}),a.jsx("div",{className:"text-xs text-gray-500",children:"Pending"})]})]})]})]}),j&&a.jsx("section",{id:"roadmap",className:"scroll-mt-20",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ft,{children:"Milestones"}),a.jsx(tt,{size:"sm",onClick:()=>r.open({title:"Add Milestone"}),children:"Add"})]})}),a.jsx(ft,{children:(j.milestones||[]).length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No milestones defined"}):a.jsx("div",{className:"space-y-3",children:(j.milestones||[]).map(({milestone:$,progress:H})=>{var I;return a.jsxs(jn,{to:`/project-milestones/${$.id}`,className:"block p-3 bg-white/[0.06] rounded-lg hover:bg-white/[0.08] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-gray-200",children:$.title}),a.jsx(zt,{variant:((I=$.status)==null?void 0:I.toLowerCase())==="open"?"info":"success",children:$.status})]}),a.jsx(Oi,{value:(H==null?void 0:H.percentage)||0,size:"sm"})]},$.id)})})})]}),a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ft,{children:"Releases"}),a.jsx(tt,{size:"sm",onClick:()=>i.open({title:"Add Release"}),children:"Add"})]})}),a.jsx(ft,{children:j.releases.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No releases planned"}):a.jsx("div",{className:"space-y-3",children:j.releases.map(({release:$})=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/[0.06] rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-200",children:["v",$.version]}),$.title&&a.jsx("span",{className:"ml-2 text-gray-400",children:$.title})]}),a.jsx(zt,{variant:$.status==="released"?"success":"default",children:$.status})]},$.id))})})]})]})}),a.jsx("section",{id:"plans",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsxs(qt,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ft,{children:["Plans (",w.length,")"]}),w.length>0&&a.jsx("button",{onClick:()=>{q?R($=>$+1):U($=>$+1),Y(!q)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:q?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:q?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tt,{size:"sm",onClick:()=>o.open({title:"Link Existing Plan",submitLabel:"Link",fetchOptions:async()=>((await kt.list({limit:100})).items||[]).filter(H=>!H.project_id).map(H=>({value:H.id,label:H.title,description:H.status})),onLink:async $=>{await kt.linkToProject($,y.id);const I=((await kt.list({limit:100})).items||[]).filter(V=>V.project_id===y.id);S(I),l.success("Plan linked")}}),children:"Link Plan"}),a.jsx(jn,{to:"/plans",children:a.jsx(tt,{variant:"ghost",size:"sm",children:"View All"})})]})]}),a.jsx(ft,{children:w.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No plans for this project"}):a.jsx("div",{className:"space-y-2",children:w.map($=>a.jsx(tS,{plan:$,onStatusChange:async H=>{await kt.updateStatus($.id,H),S(I=>I.map(V=>V.id===$.id?{...V,status:H}:V)),l.success("Status updated")},refreshTrigger:m,expandAllSignal:P,collapseAllSignal:z},$.id))})})]})}),a.jsx(Kr,{...r.dialogProps,onSubmit:F.submit,loading:g,children:F.fields}),a.jsx(Kr,{...i.dialogProps,onSubmit:B.submit,loading:g,children:B.fields}),a.jsx(Ll,{...o.dialogProps}),a.jsx(mi,{...n.dialogProps})]})}const PQ=[{value:"all",label:"All Status"},{value:"draft",label:"Draft"},{value:"approved",label:"Approved"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],RC={workspace:"all",project:"all",search:"",priority_min:void 0,priority_max:void 0,hide_completed:!1,hide_cancelled:!1};function BQ(){const[e,t]=Ct(ow),[n,r]=Ct(w8),[i,o]=Ct($O),l=Ve(oo),[u,d]=E.useState(0),{page:f,pageSize:p,offset:m,setPage:g,paginationProps:b}=kl(),[y,_]=jl(),w=Mn(),S=fi(),j=Gr(),N=hi(),[C,A]=E.useState(!1),[T,M]=E.useState(RC),[P,U]=E.useState({});E.useEffect(()=>{async function H(){try{const I=await xt.list({limit:100}),V={};for(const Z of I.items||[])try{const Q=await xt.listProjects(Z.slug),ae=Array.isArray(Q)?Q:Q.items||[];V[Z.id]=ae.map(te=>te.id)}catch{V[Z.id]=[]}U(V)}catch{}}H()},[]);const z=E.useCallback((H,I)=>{M(V=>({...V,[H]:I}))},[]),R=E.useCallback(()=>{M(RC)},[]),q=E.useMemo(()=>{let H=0;return T.workspace!=="all"&&H++,T.project!=="all"&&H++,T.search&&H++,T.priority_min!==void 0&&H++,T.priority_max!==void 0&&H++,T.hide_completed&&H++,T.hide_cancelled&&H++,H},[T]);E.useEffect(()=>{if(y!=="list")return;async function H(){const I=e.length===0;I&&r(!0);try{const V={limit:p,offset:m};i!=="all"&&(V.status=i);const Z=await kt.list(V);t(Z.items||[]),d(Z.total||0)}catch(V){console.error("Failed to fetch plans:",V),N.error("Failed to load plans")}finally{I&&r(!1)}}H()},[t,r,f,p,m,i,y,l]);const Y=E.useCallback(async H=>{const I={...H};T.priority_min!==void 0&&(I.priority_min=T.priority_min),T.priority_max!==void 0&&(I.priority_max=T.priority_max),T.search&&(I.search=T.search);const V=await kt.list(I);let Z=V.items||[];if(T.project!=="all"&&(Z=Z.filter(Q=>Q.project_id===T.project)),T.workspace!=="all"){const Q=P[T.workspace]||[];Z=Z.filter(ae=>ae.project_id&&Q.includes(ae.project_id))}if(T.search){const Q=T.search.toLowerCase();Z=Z.filter(ae=>ae.title.toLowerCase().includes(Q)||ae.description&&ae.description.toLowerCase().includes(Q))}return{...V,items:Z,total:Z.length}},[T,P]),L=E.useMemo(()=>({...T}),[T]),F=E.useMemo(()=>{const H=[];return T.hide_completed&&H.push("completed"),T.hide_cancelled&&H.push("cancelled"),H},[T.hide_completed,T.hide_cancelled]),B=H=>{o(H),g(1)},X=E.useCallback(async(H,I)=>{t(V=>V.map(Z=>Z.id===H?{...Z,status:I}:Z)),await kt.updateStatus(H,I),N.success("Status updated")},[t,N]),W=NX({onSubmit:async H=>{A(!0);try{await kt.create(H),N.success("Plan created"),j.close(),t([]),r(!0);const I={limit:p,offset:m};i!=="all"&&(I.status=i);const V=await kt.list(I);t(V.items||[]),d(V.total||0),r(!1)}finally{A(!1)}},loading:C}),K=Al(e,H=>H.id),D=()=>{const H=K.selectionCount;S.open({title:`Delete ${H} plan${H>1?"s":""}`,description:`This will permanently delete ${H} plan${H>1?"s":""} and all their tasks.`,onConfirm:async()=>{const I=K.selectedItems;S.setProgress({current:0,total:I.length});for(let V=0;V<I.length;V++)await kt.delete(I[V].id),S.setProgress({current:V+1,total:I.length});t(V=>V.filter(Z=>!K.selectedIds.has(Z.id))),d(V=>V-I.length),K.clear(),N.success(`Deleted ${H} plan${H>1?"s":""}`)}})},$=()=>j.open({title:"Create Plan",size:"lg"});return n&&y==="list"&&e.length===0?a.jsx(Rr,{}):a.jsxs(Pl,{title:"Plans",description:"Plan and track implementation phases",actions:a.jsxs(a.Fragment,{children:[y==="list"&&a.jsx(kn,{options:PQ,value:i,onChange:H=>B(H),className:"w-full sm:w-40"}),a.jsx(Rl,{value:y,onChange:_}),a.jsx(tt,{onClick:$,children:"Create Plan"})]}),children:[y==="kanban"&&a.jsx(yQ,{filters:T,onFilterChange:z,onClearFilters:R,activeFilterCount:q}),y==="kanban"?a.jsx(Jw,{fetchFn:Y,filters:L,hiddenStatuses:F,onPlanStatusChange:X,onPlanClick:H=>w(`/plans/${H}`),refreshTrigger:l}):e.length===0?a.jsx(_a,{title:"No plans found",description:u===0&&i==="all"?"Create a plan to organize your development work.":"No plans match the current filters.",action:u===0&&i==="all"?a.jsx(tt,{onClick:$,children:"Create Plan"}):void 0}):a.jsxs(a.Fragment,{children:[y==="list"&&e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:K.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:K.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"space-y-4",children:e.map(H=>a.jsx(UQ,{selected:K.isSelected(H.id),onToggleSelect:I=>K.toggle(H.id,I),plan:H,onStatusChange:async I=>{await kt.updateStatus(H.id,I),t(V=>V.map(Z=>Z.id===H.id?{...Z,status:I}:Z)),N.success("Status updated")},onDelete:()=>S.open({title:"Delete Plan",description:"This plan and all its tasks will be permanently deleted.",onConfirm:async()=>{await kt.delete(H.id),t(I=>I.filter(V=>V.id!==H.id)),N.success("Plan deleted")}})},H.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Ml,{...b(u)})})]}),a.jsx($l,{count:K.selectionCount,onDelete:D,onClear:K.clear}),a.jsx(Kr,{...j.dialogProps,onSubmit:W.submit,loading:C,children:W.fields}),a.jsx(mi,{...S.dialogProps})]})}const $Q={draft:"bg-gray-400",approved:"bg-blue-400",in_progress:"bg-purple-400",completed:"bg-green-400",cancelled:"bg-red-400"};function UQ({plan:e,onStatusChange:t,onDelete:n,selected:r,onToggleSelect:i}){return a.jsx(jn,{to:`/plans/${e.id}`,children:a.jsx(et,{className:`transition-colors ${r?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex",children:[i&&a.jsx(Bl,{selected:!!r,onToggle:i}),a.jsx("div",{className:`w-1 shrink-0 ${i?"":"rounded-l-xl"} ${$Q[e.status]||"bg-gray-400"}`}),a.jsxs("div",{className:"flex-1 p-3 md:p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-1",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-100 truncate min-w-0",children:e.title}),a.jsx(o3,{status:e.status,onStatusChange:t})]}),a.jsx("p",{className:"text-sm text-gray-400 line-clamp-1",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:ml-4 shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Priority"}),a.jsx("div",{className:"text-lg font-bold text-indigo-400",children:e.priority})]}),a.jsx(uo,{actions:[{label:"Delete",variant:"danger",onClick:()=>n()}]})]})]})]})})})}function $n(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=$n(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var qQ={value:()=>{}};function ip(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new eh(n)}function eh(e){this._=e}function FQ(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}eh.prototype=ip.prototype={constructor:eh,on:function(e,t){var n=this._,r=FQ(e+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(e=r[o]).type)&&(i=HQ(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(i=(e=r[o]).type)n[i]=OC(n[i],e.name,t);else if(t==null)for(i in n)n[i]=OC(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new eh(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function HQ(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function OC(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=qQ,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var P_="http://www.w3.org/1999/xhtml";const DC={svg:"http://www.w3.org/2000/svg",xhtml:P_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sp(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),DC.hasOwnProperty(t)?{space:DC[t],local:e}:e}function GQ(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===P_&&t.documentElement.namespaceURI===P_?t.createElement(e):t.createElementNS(n,e)}}function VQ(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fL(e){var t=sp(e);return(t.local?VQ:GQ)(t)}function KQ(){}function nS(e){return e==null?KQ:function(){return this.querySelector(e)}}function YQ(e){typeof e!="function"&&(e=nS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,u=r[i]=new Array(l),d,f,p=0;p<l;++p)(d=o[p])&&(f=e.call(d,d.__data__,p,o))&&("__data__"in d&&(f.__data__=d.__data__),u[p]=f);return new Wr(r,this._parents)}function WQ(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function XQ(){return[]}function hL(e){return e==null?XQ:function(){return this.querySelectorAll(e)}}function ZQ(e){return function(){return WQ(e.apply(this,arguments))}}function QQ(e){typeof e=="function"?e=ZQ(e):e=hL(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var l=t[o],u=l.length,d,f=0;f<u;++f)(d=l[f])&&(r.push(e.call(d,d.__data__,f,l)),i.push(d));return new Wr(r,i)}function pL(e){return function(){return this.matches(e)}}function mL(e){return function(t){return t.matches(e)}}var JQ=Array.prototype.find;function eJ(e){return function(){return JQ.call(this.children,e)}}function tJ(){return this.firstElementChild}function nJ(e){return this.select(e==null?tJ:eJ(typeof e=="function"?e:mL(e)))}var rJ=Array.prototype.filter;function iJ(){return Array.from(this.children)}function sJ(e){return function(){return rJ.call(this.children,e)}}function aJ(e){return this.selectAll(e==null?iJ:sJ(typeof e=="function"?e:mL(e)))}function oJ(e){typeof e!="function"&&(e=pL(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,u=r[i]=[],d,f=0;f<l;++f)(d=o[f])&&e.call(d,d.__data__,f,o)&&u.push(d);return new Wr(r,this._parents)}function gL(e){return new Array(e.length)}function lJ(){return new Wr(this._enter||this._groups.map(gL),this._parents)}function Eh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Eh.prototype={constructor:Eh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cJ(e){return function(){return e}}function uJ(e,t,n,r,i,o){for(var l=0,u,d=t.length,f=o.length;l<f;++l)(u=t[l])?(u.__data__=o[l],r[l]=u):n[l]=new Eh(e,o[l]);for(;l<d;++l)(u=t[l])&&(i[l]=u)}function dJ(e,t,n,r,i,o,l){var u,d,f=new Map,p=t.length,m=o.length,g=new Array(p),b;for(u=0;u<p;++u)(d=t[u])&&(g[u]=b=l.call(d,d.__data__,u,t)+"",f.has(b)?i[u]=d:f.set(b,d));for(u=0;u<m;++u)b=l.call(e,o[u],u,o)+"",(d=f.get(b))?(r[u]=d,d.__data__=o[u],f.delete(b)):n[u]=new Eh(e,o[u]);for(u=0;u<p;++u)(d=t[u])&&f.get(g[u])===d&&(i[u]=d)}function fJ(e){return e.__data__}function hJ(e,t){if(!arguments.length)return Array.from(this,fJ);var n=t?dJ:uJ,r=this._parents,i=this._groups;typeof e!="function"&&(e=cJ(e));for(var o=i.length,l=new Array(o),u=new Array(o),d=new Array(o),f=0;f<o;++f){var p=r[f],m=i[f],g=m.length,b=pJ(e.call(p,p&&p.__data__,f,r)),y=b.length,_=u[f]=new Array(y),w=l[f]=new Array(y),S=d[f]=new Array(g);n(p,m,_,w,S,b,t);for(var j=0,N=0,C,A;j<y;++j)if(C=_[j]){for(j>=N&&(N=j+1);!(A=w[N])&&++N<y;);C._next=A||null}}return l=new Wr(l,r),l._enter=u,l._exit=d,l}function pJ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mJ(){return new Wr(this._exit||this._groups.map(gL),this._parents)}function gJ(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function xJ(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,l=Math.min(i,o),u=new Array(i),d=0;d<l;++d)for(var f=n[d],p=r[d],m=f.length,g=u[d]=new Array(m),b,y=0;y<m;++y)(b=f[y]||p[y])&&(g[y]=b);for(;d<i;++d)u[d]=n[d];return new Wr(u,this._parents)}function bJ(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function yJ(e){e||(e=vJ);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],u=l.length,d=i[o]=new Array(u),f,p=0;p<u;++p)(f=l[p])&&(d[p]=f);d.sort(t)}return new Wr(i,this._parents).order()}function vJ(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _J(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function wJ(){return Array.from(this)}function SJ(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function NJ(){let e=0;for(const t of this)++e;return e}function EJ(){return!this.node()}function kJ(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,l=i.length,u;o<l;++o)(u=i[o])&&e.call(u,u.__data__,o,i);return this}function jJ(e){return function(){this.removeAttribute(e)}}function CJ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TJ(e,t){return function(){this.setAttribute(e,t)}}function AJ(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function MJ(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function RJ(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function OJ(e,t){var n=sp(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?CJ:jJ:typeof t=="function"?n.local?RJ:MJ:n.local?AJ:TJ)(n,t))}function xL(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function DJ(e){return function(){this.style.removeProperty(e)}}function LJ(e,t,n){return function(){this.style.setProperty(e,t,n)}}function IJ(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function zJ(e,t,n){return arguments.length>1?this.each((t==null?DJ:typeof t=="function"?IJ:LJ)(e,t,n??"")):dl(this.node(),e)}function dl(e,t){return e.style.getPropertyValue(t)||xL(e).getComputedStyle(e,null).getPropertyValue(t)}function PJ(e){return function(){delete this[e]}}function BJ(e,t){return function(){this[e]=t}}function $J(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function UJ(e,t){return arguments.length>1?this.each((t==null?PJ:typeof t=="function"?$J:BJ)(e,t)):this.node()[e]}function bL(e){return e.trim().split(/^|\s+/)}function rS(e){return e.classList||new yL(e)}function yL(e){this._node=e,this._names=bL(e.getAttribute("class")||"")}yL.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function vL(e,t){for(var n=rS(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function _L(e,t){for(var n=rS(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function qJ(e){return function(){vL(this,e)}}function FJ(e){return function(){_L(this,e)}}function HJ(e,t){return function(){(t.apply(this,arguments)?vL:_L)(this,e)}}function GJ(e,t){var n=bL(e+"");if(arguments.length<2){for(var r=rS(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?HJ:t?qJ:FJ)(n,t))}function VJ(){this.textContent=""}function KJ(e){return function(){this.textContent=e}}function YJ(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function WJ(e){return arguments.length?this.each(e==null?VJ:(typeof e=="function"?YJ:KJ)(e)):this.node().textContent}function XJ(){this.innerHTML=""}function ZJ(e){return function(){this.innerHTML=e}}function QJ(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function JJ(e){return arguments.length?this.each(e==null?XJ:(typeof e=="function"?QJ:ZJ)(e)):this.node().innerHTML}function eee(){this.nextSibling&&this.parentNode.appendChild(this)}function tee(){return this.each(eee)}function nee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ree(){return this.each(nee)}function iee(e){var t=typeof e=="function"?e:fL(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function see(){return null}function aee(e,t){var n=typeof e=="function"?e:fL(e),r=t==null?see:typeof t=="function"?t:nS(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function oee(){var e=this.parentNode;e&&e.removeChild(this)}function lee(){return this.each(oee)}function cee(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uee(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dee(e){return this.select(e?uee:cee)}function fee(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hee(e){return function(t){e.call(this,t,this.__data__)}}function pee(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function mee(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function gee(e,t,n){return function(){var r=this.__on,i,o=hee(t);if(r){for(var l=0,u=r.length;l<u;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function xee(e,t,n){var r=pee(e+""),i,o=r.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,p;d<f;++d)for(i=0,p=u[d];i<o;++i)if((l=r[i]).type===p.type&&l.name===p.name)return p.value}return}for(u=t?gee:mee,i=0;i<o;++i)this.each(u(r[i],t,n));return this}function wL(e,t,n){var r=xL(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bee(e,t){return function(){return wL(this,e,t)}}function yee(e,t){return function(){return wL(this,e,t.apply(this,arguments))}}function vee(e,t){return this.each((typeof t=="function"?yee:bee)(e,t))}function*_ee(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var SL=[null];function Wr(e,t){this._groups=e,this._parents=t}function Wu(){return new Wr([[document.documentElement]],SL)}function wee(){return this}Wr.prototype=Wu.prototype={constructor:Wr,select:YQ,selectAll:QQ,selectChild:nJ,selectChildren:aJ,filter:oJ,data:hJ,enter:lJ,exit:mJ,join:gJ,merge:xJ,selection:wee,order:bJ,sort:yJ,call:_J,nodes:wJ,node:SJ,size:NJ,empty:EJ,each:kJ,attr:OJ,style:zJ,property:UJ,classed:GJ,text:WJ,html:JJ,raise:tee,lower:ree,append:iee,insert:aee,remove:lee,clone:dee,datum:fee,on:xee,dispatch:vee,[Symbol.iterator]:_ee};function Hr(e){return typeof e=="string"?new Wr([[document.querySelector(e)]],[document.documentElement]):new Wr([[e]],SL)}function See(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ci(e,t){if(e=See(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Nee={passive:!1},_u={capture:!0,passive:!1};function M0(e){e.stopImmediatePropagation()}function ol(e){e.preventDefault(),e.stopImmediatePropagation()}function NL(e){var t=e.document.documentElement,n=Hr(e).on("dragstart.drag",ol,_u);"onselectstart"in t?n.on("selectstart.drag",ol,_u):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function EL(e,t){var n=e.document.documentElement,r=Hr(e).on("dragstart.drag",null);t&&(r.on("click.drag",ol,_u),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Bf=e=>()=>e;function B_(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:l,y:u,dx:d,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}B_.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Eee(e){return!e.ctrlKey&&!e.button}function kee(){return this.parentNode}function jee(e,t){return t??{x:e.x,y:e.y}}function Cee(){return navigator.maxTouchPoints||"ontouchstart"in this}function kL(){var e=Eee,t=kee,n=jee,r=Cee,i={},o=ip("start","drag","end"),l=0,u,d,f,p,m=0;function g(C){C.on("mousedown.drag",b).filter(r).on("touchstart.drag",w).on("touchmove.drag",S,Nee).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(C,A){if(!(p||!e.call(this,C,A))){var T=N(this,t.call(this,C,A),C,A,"mouse");T&&(Hr(C.view).on("mousemove.drag",y,_u).on("mouseup.drag",_,_u),NL(C.view),M0(C),f=!1,u=C.clientX,d=C.clientY,T("start",C))}}function y(C){if(ol(C),!f){var A=C.clientX-u,T=C.clientY-d;f=A*A+T*T>m}i.mouse("drag",C)}function _(C){Hr(C.view).on("mousemove.drag mouseup.drag",null),EL(C.view,f),ol(C),i.mouse("end",C)}function w(C,A){if(e.call(this,C,A)){var T=C.changedTouches,M=t.call(this,C,A),P=T.length,U,z;for(U=0;U<P;++U)(z=N(this,M,C,A,T[U].identifier,T[U]))&&(M0(C),z("start",C,T[U]))}}function S(C){var A=C.changedTouches,T=A.length,M,P;for(M=0;M<T;++M)(P=i[A[M].identifier])&&(ol(C),P("drag",C,A[M]))}function j(C){var A=C.changedTouches,T=A.length,M,P;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),M=0;M<T;++M)(P=i[A[M].identifier])&&(M0(C),P("end",C,A[M]))}function N(C,A,T,M,P,U){var z=o.copy(),R=Ci(U||T,A),q,Y,L;if((L=n.call(C,new B_("beforestart",{sourceEvent:T,target:g,identifier:P,active:l,x:R[0],y:R[1],dx:0,dy:0,dispatch:z}),M))!=null)return q=L.x-R[0]||0,Y=L.y-R[1]||0,function F(B,X,W){var K=R,D;switch(B){case"start":i[P]=F,D=l++;break;case"end":delete i[P],--l;case"drag":R=Ci(W||X,A),D=l;break}z.call(B,C,new B_(B,{sourceEvent:X,subject:L,target:g,identifier:P,active:D,x:R[0]+q,y:R[1]+Y,dx:R[0]-K[0],dy:R[1]-K[1],dispatch:z}),M)}}return g.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Bf(!!C),g):e},g.container=function(C){return arguments.length?(t=typeof C=="function"?C:Bf(C),g):t},g.subject=function(C){return arguments.length?(n=typeof C=="function"?C:Bf(C),g):n},g.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:Bf(!!C),g):r},g.on=function(){var C=o.on.apply(o,arguments);return C===o?g:C},g.clickDistance=function(C){return arguments.length?(m=(C=+C)*C,g):Math.sqrt(m)},g}function iS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jL(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xu(){}var wu=.7,kh=1/wu,ll="\\s*([+-]?\\d+)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tee=/^#([0-9a-f]{3,8})$/,Aee=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),Mee=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),Ree=new RegExp(`^rgba\\(${ll},${ll},${ll},${Su}\\)$`),Oee=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${Su}\\)$`),Dee=new RegExp(`^hsl\\(${Su},${Xi},${Xi}\\)$`),Lee=new RegExp(`^hsla\\(${Su},${Xi},${Xi},${Su}\\)$`),LC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iS(Xu,ro,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IC,formatHex:IC,formatHex8:Iee,formatHsl:zee,formatRgb:zC,toString:zC});function IC(){return this.rgb().formatHex()}function Iee(){return this.rgb().formatHex8()}function zee(){return CL(this).formatHsl()}function zC(){return this.rgb().formatRgb()}function ro(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tee.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?PC(t):n===3?new Tr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$f(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$f(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Aee.exec(e))?new Tr(t[1],t[2],t[3],1):(t=Mee.exec(e))?new Tr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ree.exec(e))?$f(t[1],t[2],t[3],t[4]):(t=Oee.exec(e))?$f(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dee.exec(e))?UC(t[1],t[2]/100,t[3]/100,1):(t=Lee.exec(e))?UC(t[1],t[2]/100,t[3]/100,t[4]):LC.hasOwnProperty(e)?PC(LC[e]):e==="transparent"?new Tr(NaN,NaN,NaN,0):null}function PC(e){return new Tr(e>>16&255,e>>8&255,e&255,1)}function $f(e,t,n,r){return r<=0&&(e=t=n=NaN),new Tr(e,t,n,r)}function Pee(e){return e instanceof Xu||(e=ro(e)),e?(e=e.rgb(),new Tr(e.r,e.g,e.b,e.opacity)):new Tr}function $_(e,t,n,r){return arguments.length===1?Pee(e):new Tr(e,t,n,r??1)}function Tr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}iS(Tr,$_,jL(Xu,{brighter(e){return e=e==null?kh:Math.pow(kh,e),new Tr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wu:Math.pow(wu,e),new Tr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tr(Qa(this.r),Qa(this.g),Qa(this.b),jh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BC,formatHex:BC,formatHex8:Bee,formatRgb:$C,toString:$C}));function BC(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}`}function Bee(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}${Za((isNaN(this.opacity)?1:this.opacity)*255)}`}function $C(){const e=jh(this.opacity);return`${e===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${e===1?")":`, ${e})`}`}function jh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Za(e){return e=Qa(e),(e<16?"0":"")+e.toString(16)}function UC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ti(e,t,n,r)}function CL(e){if(e instanceof Ti)return new Ti(e.h,e.s,e.l,e.opacity);if(e instanceof Xu||(e=ro(e)),!e)return new Ti;if(e instanceof Ti)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Ti(l,u,d,e.opacity)}function $ee(e,t,n,r){return arguments.length===1?CL(e):new Ti(e,t,n,r??1)}function Ti(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}iS(Ti,$ee,jL(Xu,{brighter(e){return e=e==null?kh:Math.pow(kh,e),new Ti(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wu:Math.pow(wu,e),new Ti(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Tr(R0(e>=240?e-240:e+120,i,r),R0(e,i,r),R0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ti(qC(this.h),Uf(this.s),Uf(this.l),jh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jh(this.opacity);return`${e===1?"hsl(":"hsla("}${qC(this.h)}, ${Uf(this.s)*100}%, ${Uf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qC(e){return e=(e||0)%360,e<0?e+360:e}function Uf(e){return Math.max(0,Math.min(1,e||0))}function R0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sS=e=>()=>e;function Uee(e,t){return function(n){return e+n*t}}function qee(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Fee(e){return(e=+e)==1?TL:function(t,n){return n-t?qee(t,n,e):sS(isNaN(t)?n:t)}}function TL(e,t){var n=t-e;return n?Uee(e,n):sS(isNaN(e)?t:e)}const Ch=(function e(t){var n=Fee(t);function r(i,o){var l=n((i=$_(i)).r,(o=$_(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=TL(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function Hee(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Gee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Vee(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=uu(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function Kee(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ki(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Yee(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=uu(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var U_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O0=new RegExp(U_.source,"g");function Wee(e){return function(){return e}}function Xee(e){return function(t){return e(t)+""}}function AL(e,t){var n=U_.lastIndex=O0.lastIndex=0,r,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=U_.exec(e))&&(i=O0.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Ki(r,i)})),n=O0.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?Xee(d[0].x):Wee(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function uu(e,t){var n=typeof t,r;return t==null||n==="boolean"?sS(t):(n==="number"?Ki:n==="string"?(r=ro(t))?(t=r,Ch):AL:t instanceof ro?Ch:t instanceof Date?Kee:Gee(t)?Hee:Array.isArray(t)?Vee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yee:Ki)(e,t)}var FC=180/Math.PI,q_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ML(e,t,n,r,i,o){var l,u,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,d/=u),e*r<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*FC,skewX:Math.atan(d)*FC,scaleX:l,scaleY:u}}var qf;function Zee(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?q_:ML(t.a,t.b,t.c,t.d,t.e,t.f)}function Qee(e){return e==null||(qf||(qf=document.createElementNS("http://www.w3.org/2000/svg","g")),qf.setAttribute("transform",e),!(e=qf.transform.baseVal.consolidate()))?q_:(e=e.matrix,ML(e.a,e.b,e.c,e.d,e.e,e.f))}function RL(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,p,m,g,b,y){if(f!==m||p!==g){var _=b.push("translate(",null,t,null,n);y.push({i:_-4,x:Ki(f,m)},{i:_-2,x:Ki(p,g)})}else(m||g)&&b.push("translate("+m+t+g+n)}function l(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Ki(f,p)})):p&&m.push(i(m)+"rotate("+p+r)}function u(f,p,m,g){f!==p?g.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Ki(f,p)}):p&&m.push(i(m)+"skewX("+p+r)}function d(f,p,m,g,b,y){if(f!==m||p!==g){var _=b.push(i(b)+"scale(",null,",",null,")");y.push({i:_-4,x:Ki(f,m)},{i:_-2,x:Ki(p,g)})}else(m!==1||g!==1)&&b.push(i(b)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=e(f),p=e(p),o(f.translateX,f.translateY,p.translateX,p.translateY,m,g),l(f.rotate,p.rotate,m,g),u(f.skewX,p.skewX,m,g),d(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(b){for(var y=-1,_=g.length,w;++y<_;)m[(w=g[y]).i]=w.x(b);return m.join("")}}}var Jee=RL(Zee,"px, ","px)","deg)"),ete=RL(Qee,", ",")",")"),tte=1e-12;function HC(e){return((e=Math.exp(e))+1/e)/2}function nte(e){return((e=Math.exp(e))-1/e)/2}function rte(e){return((e=Math.exp(2*e))-1)/(e+1)}const th=(function e(t,n,r){function i(o,l){var u=o[0],d=o[1],f=o[2],p=l[0],m=l[1],g=l[2],b=p-u,y=m-d,_=b*b+y*y,w,S;if(_<tte)S=Math.log(g/f)/t,w=function(M){return[u+M*b,d+M*y,f*Math.exp(t*M*S)]};else{var j=Math.sqrt(_),N=(g*g-f*f+r*_)/(2*f*n*j),C=(g*g-f*f-r*_)/(2*g*n*j),A=Math.log(Math.sqrt(N*N+1)-N),T=Math.log(Math.sqrt(C*C+1)-C);S=(T-A)/t,w=function(M){var P=M*S,U=HC(A),z=f/(n*j)*(U*rte(t*P+A)-nte(A));return[u+z*b,d+z*y,f*U/HC(t*P+A)]}}return w.duration=S*1e3*t/Math.SQRT2,w}return i.rho=function(o){var l=Math.max(.001,+o),u=l*l,d=u*u;return e(l,u,d)},i})(Math.SQRT2,2,4);var fl=0,Jc=0,Yc=0,OL=1e3,Th,eu,Ah=0,io=0,ap=0,Nu=typeof performance=="object"&&performance.now?performance:Date,DL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function aS(){return io||(DL(ite),io=Nu.now()+ap)}function ite(){io=0}function Mh(){this._call=this._time=this._next=null}Mh.prototype=LL.prototype={constructor:Mh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?aS():+n)+(t==null?0:+t),!this._next&&eu!==this&&(eu?eu._next=this:Th=this,eu=this),this._call=e,this._time=n,F_()},stop:function(){this._call&&(this._call=null,this._time=1/0,F_())}};function LL(e,t,n){var r=new Mh;return r.restart(e,t,n),r}function ste(){aS(),++fl;for(var e=Th,t;e;)(t=io-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fl}function GC(){io=(Ah=Nu.now())+ap,fl=Jc=0;try{ste()}finally{fl=0,ote(),io=0}}function ate(){var e=Nu.now(),t=e-Ah;t>OL&&(ap-=t,Ah=e)}function ote(){for(var e,t=Th,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Th=n);eu=e,F_(r)}function F_(e){if(!fl){Jc&&(Jc=clearTimeout(Jc));var t=e-io;t>24?(e<1/0&&(Jc=setTimeout(GC,e-Nu.now()-ap)),Yc&&(Yc=clearInterval(Yc))):(Yc||(Ah=Nu.now(),Yc=setInterval(ate,OL)),fl=1,DL(GC))}}function VC(e,t,n){var r=new Mh;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var lte=ip("start","end","cancel","interrupt"),cte=[],IL=0,KC=1,H_=2,nh=3,YC=4,G_=5,rh=6;function op(e,t,n,r,i,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;ute(e,n,{name:t,index:r,group:i,on:lte,tween:cte,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:IL})}function oS(e,t){var n=zi(e,t);if(n.state>IL)throw new Error("too late; already scheduled");return n}function Ji(e,t){var n=zi(e,t);if(n.state>nh)throw new Error("too late; already running");return n}function zi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ute(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=LL(o,0,n.time);function o(f){n.state=KC,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var p,m,g,b;if(n.state!==KC)return d();for(p in r)if(b=r[p],b.name===n.name){if(b.state===nh)return VC(l);b.state===YC?(b.state=rh,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete r[p]):+p<t&&(b.state=rh,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete r[p])}if(VC(function(){n.state===nh&&(n.state=YC,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=H_,n.on.call("start",e,e.__data__,n.index,n.group),n.state===H_){for(n.state=nh,i=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(b=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(i[++m]=b);i.length=m+1}}function u(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=G_,1),m=-1,g=i.length;++m<g;)i[m].call(e,p);n.state===G_&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=rh,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function ih(e,t){var n=e.__transition,r,i,o=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){o=!1;continue}i=r.state>H_&&r.state<G_,r.state=rh,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}o&&delete e.__transition}}function dte(e){return this.each(function(){ih(this,e)})}function fte(e,t){var n,r;return function(){var i=Ji(this,e),o=i.tween;if(o!==n){r=n=o;for(var l=0,u=r.length;l<u;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function hte(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ji(this,e),l=o.tween;if(l!==r){i=(r=l).slice();for(var u={name:t,value:n},d=0,f=i.length;d<f;++d)if(i[d].name===t){i[d]=u;break}d===f&&i.push(u)}o.tween=i}}function pte(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=zi(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?fte:hte)(n,e,t))}function lS(e,t,n){var r=e._id;return e.each(function(){var i=Ji(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return zi(i,r).value[t]}}function zL(e,t){var n;return(typeof t=="number"?Ki:t instanceof ro?Ch:(n=ro(t))?(t=n,Ch):AL)(e,t)}function mte(e){return function(){this.removeAttribute(e)}}function gte(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xte(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttribute(e);return l===i?null:l===r?o:o=t(r=l,n)}}function bte(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?o:o=t(r=l,n)}}function yte(e,t,n){var r,i,o;return function(){var l,u=n(this),d;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=u+"",l===d?null:l===r&&d===i?o:(i=d,o=t(r=l,u)))}}function vte(e,t,n){var r,i,o;return function(){var l,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=u+"",l===d?null:l===r&&d===i?o:(i=d,o=t(r=l,u)))}}function _te(e,t){var n=sp(e),r=n==="transform"?ete:zL;return this.attrTween(e,typeof t=="function"?(n.local?vte:yte)(n,r,lS(this,"attr."+e,t)):t==null?(n.local?gte:mte)(n):(n.local?bte:xte)(n,r,t))}function wte(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ste(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Nte(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Ste(e,o)),n}return i._value=t,i}function Ete(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&wte(e,o)),n}return i._value=t,i}function kte(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=sp(e);return this.tween(n,(r.local?Nte:Ete)(r,t))}function jte(e,t){return function(){oS(this,e).delay=+t.apply(this,arguments)}}function Cte(e,t){return t=+t,function(){oS(this,e).delay=t}}function Tte(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jte:Cte)(t,e)):zi(this.node(),t).delay}function Ate(e,t){return function(){Ji(this,e).duration=+t.apply(this,arguments)}}function Mte(e,t){return t=+t,function(){Ji(this,e).duration=t}}function Rte(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ate:Mte)(t,e)):zi(this.node(),t).duration}function Ote(e,t){if(typeof t!="function")throw new Error;return function(){Ji(this,e).ease=t}}function Dte(e){var t=this._id;return arguments.length?this.each(Ote(t,e)):zi(this.node(),t).ease}function Lte(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ji(this,e).ease=n}}function Ite(e){if(typeof e!="function")throw new Error;return this.each(Lte(this._id,e))}function zte(e){typeof e!="function"&&(e=pL(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,u=r[i]=[],d,f=0;f<l;++f)(d=o[f])&&e.call(d,d.__data__,f,o)&&u.push(d);return new Rs(r,this._parents,this._name,this._id)}function Pte(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),l=new Array(r),u=0;u<o;++u)for(var d=t[u],f=n[u],p=d.length,m=l[u]=new Array(p),g,b=0;b<p;++b)(g=d[b]||f[b])&&(m[b]=g);for(;u<r;++u)l[u]=t[u];return new Rs(l,this._parents,this._name,this._id)}function Bte(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $te(e,t,n){var r,i,o=Bte(t)?oS:Ji;return function(){var l=o(this,e),u=l.on;u!==r&&(i=(r=u).copy()).on(t,n),l.on=i}}function Ute(e,t){var n=this._id;return arguments.length<2?zi(this.node(),n).on.on(e):this.each($te(n,e,t))}function qte(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Fte(){return this.on("end.remove",qte(this._id))}function Hte(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nS(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var u=r[l],d=u.length,f=o[l]=new Array(d),p,m,g=0;g<d;++g)(p=u[g])&&(m=e.call(p,p.__data__,g,u))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,op(f[g],t,n,g,f,zi(p,n)));return new Rs(o,this._parents,t,n)}function Gte(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hL(e));for(var r=this._groups,i=r.length,o=[],l=[],u=0;u<i;++u)for(var d=r[u],f=d.length,p,m=0;m<f;++m)if(p=d[m]){for(var g=e.call(p,p.__data__,m,d),b,y=zi(p,n),_=0,w=g.length;_<w;++_)(b=g[_])&&op(b,t,n,_,g,y);o.push(g),l.push(p)}return new Rs(o,l,t,n)}var Vte=Wu.prototype.constructor;function Kte(){return new Vte(this._groups,this._parents)}function Yte(e,t){var n,r,i;return function(){var o=dl(this,e),l=(this.style.removeProperty(e),dl(this,e));return o===l?null:o===n&&l===r?i:i=t(n=o,r=l)}}function PL(e){return function(){this.style.removeProperty(e)}}function Wte(e,t,n){var r,i=n+"",o;return function(){var l=dl(this,e);return l===i?null:l===r?o:o=t(r=l,n)}}function Xte(e,t,n){var r,i,o;return function(){var l=dl(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),dl(this,e))),l===d?null:l===r&&d===i?o:(i=d,o=t(r=l,u))}}function Zte(e,t){var n,r,i,o="style."+t,l="end."+o,u;return function(){var d=Ji(this,e),f=d.on,p=d.value[o]==null?u||(u=PL(t)):void 0;(f!==n||i!==p)&&(r=(n=f).copy()).on(l,i=p),d.on=r}}function Qte(e,t,n){var r=(e+="")=="transform"?Jee:zL;return t==null?this.styleTween(e,Yte(e,r)).on("end.style."+e,PL(e)):typeof t=="function"?this.styleTween(e,Xte(e,r,lS(this,"style."+e,t))).each(Zte(this._id,e)):this.styleTween(e,Wte(e,r,t),n).on("end.style."+e,null)}function Jte(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ene(e,t,n){var r,i;function o(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&Jte(e,l,n)),r}return o._value=t,o}function tne(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ene(e,t,n??""))}function nne(e){return function(){this.textContent=e}}function rne(e){return function(){var t=e(this);this.textContent=t??""}}function ine(e){return this.tween("text",typeof e=="function"?rne(lS(this,"text",e)):nne(e==null?"":e+""))}function sne(e){return function(t){this.textContent=e.call(this,t)}}function ane(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&sne(i)),t}return r._value=e,r}function one(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ane(e))}function lne(){for(var e=this._name,t=this._id,n=BL(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],u=l.length,d,f=0;f<u;++f)if(d=l[f]){var p=zi(d,t);op(d,e,n,f,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Rs(r,this._parents,e,n)}function cne(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var u={value:l},d={value:function(){--i===0&&o()}};n.each(function(){var f=Ji(this,r),p=f.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),i===0&&o()})}var une=0;function Rs(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function BL(){return++une}var Ns=Wu.prototype;Rs.prototype={constructor:Rs,select:Hte,selectAll:Gte,selectChild:Ns.selectChild,selectChildren:Ns.selectChildren,filter:zte,merge:Pte,selection:Kte,transition:lne,call:Ns.call,nodes:Ns.nodes,node:Ns.node,size:Ns.size,empty:Ns.empty,each:Ns.each,on:Ute,attr:_te,attrTween:kte,style:Qte,styleTween:tne,text:ine,textTween:one,remove:Fte,tween:pte,delay:Tte,duration:Rte,ease:Dte,easeVarying:Ite,end:cne,[Symbol.iterator]:Ns[Symbol.iterator]};function dne(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fne={time:null,delay:0,duration:250,ease:dne};function hne(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function pne(e){var t,n;e instanceof Rs?(t=e._id,e=e._name):(t=BL(),(n=fne).time=aS(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],u=l.length,d,f=0;f<u;++f)(d=l[f])&&op(d,e,t,f,l,n||hne(d,t));return new Rs(r,this._parents,e,t)}Wu.prototype.interrupt=dte;Wu.prototype.transition=pne;const Ff=e=>()=>e;function mne(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Es(e,t,n){this.k=e,this.x=t,this.y=n}Es.prototype={constructor:Es,scale:function(e){return e===1?this:new Es(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Es(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lp=new Es(1,0,0);$L.prototype=Es.prototype;function $L(e){for(;!e.__zoom;)if(!(e=e.parentNode))return lp;return e.__zoom}function D0(e){e.stopImmediatePropagation()}function Wc(e){e.preventDefault(),e.stopImmediatePropagation()}function gne(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function xne(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function WC(){return this.__zoom||lp}function bne(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function yne(){return navigator.maxTouchPoints||"ontouchstart"in this}function vne(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function UL(){var e=gne,t=xne,n=vne,r=bne,i=yne,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=th,f=ip("start","zoom","end"),p,m,g,b=500,y=150,_=0,w=10;function S(L){L.property("__zoom",WC).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(L,F,B,X){var W=L.selection?L.selection():L;W.property("__zoom",WC),L!==W?A(L,F,B,X):W.interrupt().each(function(){T(this,arguments).event(X).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},S.scaleBy=function(L,F,B,X){S.scaleTo(L,function(){var W=this.__zoom.k,K=typeof F=="function"?F.apply(this,arguments):F;return W*K},B,X)},S.scaleTo=function(L,F,B,X){S.transform(L,function(){var W=t.apply(this,arguments),K=this.__zoom,D=B==null?C(W):typeof B=="function"?B.apply(this,arguments):B,$=K.invert(D),H=typeof F=="function"?F.apply(this,arguments):F;return n(N(j(K,H),D,$),W,l)},B,X)},S.translateBy=function(L,F,B,X){S.transform(L,function(){return n(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof B=="function"?B.apply(this,arguments):B),t.apply(this,arguments),l)},null,X)},S.translateTo=function(L,F,B,X,W){S.transform(L,function(){var K=t.apply(this,arguments),D=this.__zoom,$=X==null?C(K):typeof X=="function"?X.apply(this,arguments):X;return n(lp.translate($[0],$[1]).scale(D.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof B=="function"?-B.apply(this,arguments):-B),K,l)},X,W)};function j(L,F){return F=Math.max(o[0],Math.min(o[1],F)),F===L.k?L:new Es(F,L.x,L.y)}function N(L,F,B){var X=F[0]-B[0]*L.k,W=F[1]-B[1]*L.k;return X===L.x&&W===L.y?L:new Es(L.k,X,W)}function C(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function A(L,F,B,X){L.on("start.zoom",function(){T(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(X).end()}).tween("zoom",function(){var W=this,K=arguments,D=T(W,K).event(X),$=t.apply(W,K),H=B==null?C($):typeof B=="function"?B.apply(W,K):B,I=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),V=W.__zoom,Z=typeof F=="function"?F.apply(W,K):F,Q=d(V.invert(H).concat(I/V.k),Z.invert(H).concat(I/Z.k));return function(ae){if(ae===1)ae=Z;else{var te=Q(ae),ne=I/te[2];ae=new Es(ne,H[0]-te[0]*ne,H[1]-te[1]*ne)}D.zoom(null,ae)}})}function T(L,F,B){return!B&&L.__zooming||new M(L,F)}function M(L,F){this.that=L,this.args=F,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,F),this.taps=0}M.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,F){return this.mouse&&L!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var F=Hr(this.that).datum();f.call(L,this.that,new mne(L,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:f}),F)}};function P(L,...F){if(!e.apply(this,arguments))return;var B=T(this,F).event(L),X=this.__zoom,W=Math.max(o[0],Math.min(o[1],X.k*Math.pow(2,r.apply(this,arguments)))),K=Ci(L);if(B.wheel)(B.mouse[0][0]!==K[0]||B.mouse[0][1]!==K[1])&&(B.mouse[1]=X.invert(B.mouse[0]=K)),clearTimeout(B.wheel);else{if(X.k===W)return;B.mouse=[K,X.invert(K)],ih(this),B.start()}Wc(L),B.wheel=setTimeout(D,y),B.zoom("mouse",n(N(j(X,W),B.mouse[0],B.mouse[1]),B.extent,l));function D(){B.wheel=null,B.end()}}function U(L,...F){if(g||!e.apply(this,arguments))return;var B=L.currentTarget,X=T(this,F,!0).event(L),W=Hr(L.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",I,!0),K=Ci(L,B),D=L.clientX,$=L.clientY;NL(L.view),D0(L),X.mouse=[K,this.__zoom.invert(K)],ih(this),X.start();function H(V){if(Wc(V),!X.moved){var Z=V.clientX-D,Q=V.clientY-$;X.moved=Z*Z+Q*Q>_}X.event(V).zoom("mouse",n(N(X.that.__zoom,X.mouse[0]=Ci(V,B),X.mouse[1]),X.extent,l))}function I(V){W.on("mousemove.zoom mouseup.zoom",null),EL(V.view,X.moved),Wc(V),X.event(V).end()}}function z(L,...F){if(e.apply(this,arguments)){var B=this.__zoom,X=Ci(L.changedTouches?L.changedTouches[0]:L,this),W=B.invert(X),K=B.k*(L.shiftKey?.5:2),D=n(N(j(B,K),X,W),t.apply(this,F),l);Wc(L),u>0?Hr(this).transition().duration(u).call(A,D,X,L):Hr(this).call(S.transform,D,X,L)}}function R(L,...F){if(e.apply(this,arguments)){var B=L.touches,X=B.length,W=T(this,F,L.changedTouches.length===X).event(L),K,D,$,H;for(D0(L),D=0;D<X;++D)$=B[D],H=Ci($,this),H=[H,this.__zoom.invert(H),$.identifier],W.touch0?!W.touch1&&W.touch0[2]!==H[2]&&(W.touch1=H,W.taps=0):(W.touch0=H,K=!0,W.taps=1+!!p);p&&(p=clearTimeout(p)),K&&(W.taps<2&&(m=H[0],p=setTimeout(function(){p=null},b)),ih(this),W.start())}}function q(L,...F){if(this.__zooming){var B=T(this,F).event(L),X=L.changedTouches,W=X.length,K,D,$,H;for(Wc(L),K=0;K<W;++K)D=X[K],$=Ci(D,this),B.touch0&&B.touch0[2]===D.identifier?B.touch0[0]=$:B.touch1&&B.touch1[2]===D.identifier&&(B.touch1[0]=$);if(D=B.that.__zoom,B.touch1){var I=B.touch0[0],V=B.touch0[1],Z=B.touch1[0],Q=B.touch1[1],ae=(ae=Z[0]-I[0])*ae+(ae=Z[1]-I[1])*ae,te=(te=Q[0]-V[0])*te+(te=Q[1]-V[1])*te;D=j(D,Math.sqrt(ae/te)),$=[(I[0]+Z[0])/2,(I[1]+Z[1])/2],H=[(V[0]+Q[0])/2,(V[1]+Q[1])/2]}else if(B.touch0)$=B.touch0[0],H=B.touch0[1];else return;B.zoom("touch",n(N(D,$,H),B.extent,l))}}function Y(L,...F){if(this.__zooming){var B=T(this,F).event(L),X=L.changedTouches,W=X.length,K,D;for(D0(L),g&&clearTimeout(g),g=setTimeout(function(){g=null},b),K=0;K<W;++K)D=X[K],B.touch0&&B.touch0[2]===D.identifier?delete B.touch0:B.touch1&&B.touch1[2]===D.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(D=Ci(D,this),Math.hypot(m[0]-D[0],m[1]-D[1])<w)){var $=Hr(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return S.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:Ff(+L),S):r},S.filter=function(L){return arguments.length?(e=typeof L=="function"?L:Ff(!!L),S):e},S.touchable=function(L){return arguments.length?(i=typeof L=="function"?L:Ff(!!L),S):i},S.extent=function(L){return arguments.length?(t=typeof L=="function"?L:Ff([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),S):t},S.scaleExtent=function(L){return arguments.length?(o[0]=+L[0],o[1]=+L[1],S):[o[0],o[1]]},S.translateExtent=function(L){return arguments.length?(l[0][0]=+L[0][0],l[1][0]=+L[1][0],l[0][1]=+L[0][1],l[1][1]=+L[1][1],S):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},S.constrain=function(L){return arguments.length?(n=L,S):n},S.duration=function(L){return arguments.length?(u=+L,S):u},S.interpolate=function(L){return arguments.length?(d=L,S):d},S.on=function(){var L=f.on.apply(f,arguments);return L===f?S:L},S.clickDistance=function(L){return arguments.length?(_=(L=+L)*L,S):Math.sqrt(_)},S.tapDistance=function(L){return arguments.length?(w=+L,S):w},S}const Zi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Eu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],qL=["Enter"," ","Escape"],FL={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var hl;(function(e){e.Strict="strict",e.Loose="loose"})(hl||(hl={}));var Ja;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ja||(Ja={}));var ku;(function(e){e.Partial="partial",e.Full="full"})(ku||(ku={}));const HL={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ba;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ba||(ba={}));var ju;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ju||(ju={}));var Be;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Be||(Be={}));const XC={[Be.Left]:Be.Right,[Be.Right]:Be.Left,[Be.Top]:Be.Bottom,[Be.Bottom]:Be.Top};function GL(e){return e===null?null:e?"valid":"invalid"}const VL=e=>"id"in e&&"source"in e&&"target"in e,_ne=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),cS=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Zu=(e,t=[0,0])=>{const{width:n,height:r}=Ls(e),i=e.origin??t,o=n*i[0],l=r*i[1];return{x:e.position.x-o,y:e.position.y-l}},wne=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let l=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(l=o?t.nodeLookup.get(i):cS(i)?i:t.nodeLookup.get(i.id));const u=l?Rh(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return cp(r,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return up(n)},Qu=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=cp(n,Rh(i)),r=!0)}),r?up(n):{x:0,y:0,width:0,height:0}},uS=(e,t,[n,r,i]=[0,0,1],o=!1,l=!1)=>{const u={...ed(t,[n,r,i]),width:t.width/i,height:t.height/i},d=[];for(const f of e.values()){const{measured:p,selectable:m=!0,hidden:g=!1}=f;if(l&&!m||g)continue;const b=p.width??f.width??f.initialWidth??null,y=p.height??f.height??f.initialHeight??null,_=Cu(u,ml(f)),w=(b??0)*(y??0),S=o&&_>0;(!f.internals.handleBounds||S||_>=w||f.dragging)&&d.push(f)}return d},Sne=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Nne(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Ene({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},l){if(e.size===0)return Promise.resolve(!0);const u=Nne(e,l),d=Qu(u),f=dS(d,t,n,(l==null?void 0:l.minZoom)??i,(l==null?void 0:l.maxZoom)??o,(l==null?void 0:l.padding)??.1);return await r.setViewport(f,{duration:l==null?void 0:l.duration,ease:l==null?void 0:l.ease,interpolate:l==null?void 0:l.interpolate}),Promise.resolve(!0)}function KL({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const l=n.get(e),u=l.parentId?n.get(l.parentId):void 0,{x:d,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},p=l.origin??r;let m=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!u)o==null||o("005",Zi.error005());else{const b=u.measured.width,y=u.measured.height;b&&y&&(m=[[d,f],[d+b,f+y]])}else u&&gl(l.extent)&&(m=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const g=gl(m)?so(t,m,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&(o==null||o("015",Zi.error015())),{position:{x:g.x-d+(l.measured.width??0)*p[0],y:g.y-f+(l.measured.height??0)*p[1]},positionAbsolute:g}}async function kne({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const b=o.has(g.id),y=!b&&g.parentId&&l.find(_=>_.id===g.parentId);(b||y)&&l.push(g)}const u=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),p=Sne(l,d);for(const g of d)u.has(g.id)&&!p.find(y=>y.id===g.id)&&p.push(g);if(!i)return{edges:p,nodes:l};const m=await i({nodes:l,edges:p});return typeof m=="boolean"?m?{edges:p,nodes:l}:{edges:[],nodes:[]}:m}const pl=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),so=(e={x:0,y:0},t,n)=>({x:pl(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:pl(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function YL(e,t,n){const{width:r,height:i}=Ls(n),{x:o,y:l}=n.internals.positionAbsolute;return so(e,[[o,l],[o+r,l+i]],t)}const ZC=(e,t,n)=>e<t?pl(Math.abs(e-t),1,t)/t:e>n?-pl(Math.abs(e-n),1,t)/t:0,WL=(e,t,n=15,r=40)=>{const i=ZC(e.x,r,t.width-r)*n,o=ZC(e.y,r,t.height-r)*n;return[i,o]},cp=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),V_=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),up=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ml=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=cS(e)?e.internals.positionAbsolute:Zu(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Rh=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=cS(e)?e.internals.positionAbsolute:Zu(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},XL=(e,t)=>up(cp(V_(e),V_(t))),Cu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},QC=e=>Ai(e.width)&&Ai(e.height)&&Ai(e.x)&&Ai(e.y),Ai=e=>!isNaN(e)&&isFinite(e),jne=(e,t)=>{},Ju=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ed=({x:e,y:t},[n,r,i],o=!1,l=[1,1])=>{const u={x:(e-n)/i,y:(t-r)/i};return o?Ju(u,l):u},Oh=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Qo(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Cne(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Qo(e,n),i=Qo(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Qo(e.top??e.y??0,n),i=Qo(e.bottom??e.y??0,n),o=Qo(e.left??e.x??0,t),l=Qo(e.right??e.x??0,t);return{top:r,right:l,bottom:i,left:o,x:o+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Tne(e,t,n,r,i,o){const{x:l,y:u}=Oh(e,[t,n,r]),{x:d,y:f}=Oh({x:e.x+e.width,y:e.y+e.height},[t,n,r]),p=i-d,m=o-f;return{left:Math.floor(l),top:Math.floor(u),right:Math.floor(p),bottom:Math.floor(m)}}const dS=(e,t,n,r,i,o)=>{const l=Cne(o,t,n),u=(t-l.x)/e.width,d=(n-l.y)/e.height,f=Math.min(u,d),p=pl(f,r,i),m=e.x+e.width/2,g=e.y+e.height/2,b=t/2-m*p,y=n/2-g*p,_=Tne(e,b,y,p,t,n),w={left:Math.min(_.left-l.left,0),top:Math.min(_.top-l.top,0),right:Math.min(_.right-l.right,0),bottom:Math.min(_.bottom-l.bottom,0)};return{x:b-w.left+w.right,y:y-w.top+w.bottom,zoom:p}},Tu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function gl(e){return e!=null&&e!=="parent"}function Ls(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function ZL(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function QL(e,t={width:0,height:0},n,r,i){const o={...e},l=r.get(n);if(l){const u=l.origin||i;o.x+=l.internals.positionAbsolute.x-(t.width??0)*u[0],o.y+=l.internals.positionAbsolute.y-(t.height??0)*u[1]}return o}function JC(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Ane(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function Mne(e){return{...FL,...e||{}}}function du(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:l}=Mi(e),u=ed({x:o-((i==null?void 0:i.left)??0),y:l-((i==null?void 0:i.top)??0)},r),{x:d,y:f}=n?Ju(u,t):u;return{xSnapped:d,ySnapped:f,...u}}const fS=e=>({width:e.offsetWidth,height:e.offsetHeight}),JL=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Rne=["INPUT","SELECT","TEXTAREA"];function eI(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Rne.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const tI=e=>"clientX"in e,Mi=(e,t)=>{var o,l;const n=tI(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},eT=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:i,position:l.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...fS(l)}})};function nI({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:u}){const d=e*.125+i*.375+l*.375+n*.125,f=t*.125+o*.375+u*.375+r*.125,p=Math.abs(d-e),m=Math.abs(f-t);return[d,f,p,m]}function Hf(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function tT({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Be.Left:return[t-Hf(t-r,o),n];case Be.Right:return[t+Hf(r-t,o),n];case Be.Top:return[t,n-Hf(n-i,o)];case Be.Bottom:return[t,n+Hf(i-n,o)]}}function rI({sourceX:e,sourceY:t,sourcePosition:n=Be.Bottom,targetX:r,targetY:i,targetPosition:o=Be.Top,curvature:l=.25}){const[u,d]=tT({pos:n,x1:e,y1:t,x2:r,y2:i,c:l}),[f,p]=tT({pos:o,x1:r,y1:i,x2:e,y2:t,c:l}),[m,g,b,y]=nI({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:p});return[`M${e},${t} C${u},${d} ${f},${p} ${r},${i}`,m,g,b,y]}function iI({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,l=Math.abs(r-t)/2,u=r<t?r+l:r-l;return[o,u,i,l]}function One({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const l=i&&n?r+1e3:r,u=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return l+u}function Dne({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=cp(Rh(e),Rh(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Cu(l,up(o))>0}const Lne=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Ine=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),zne=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||Lne;let i;return VL(e)?i={...e}:i={...e,id:r(e)},Ine(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function sI({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,l,u]=iI({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,l,u]}const nT={[Be.Left]:{x:-1,y:0},[Be.Right]:{x:1,y:0},[Be.Top]:{x:0,y:-1},[Be.Bottom]:{x:0,y:1}},Pne=({source:e,sourcePosition:t=Be.Bottom,target:n})=>t===Be.Left||t===Be.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},rT=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Bne({source:e,sourcePosition:t=Be.Bottom,target:n,targetPosition:r=Be.Top,center:i,offset:o,stepPosition:l}){const u=nT[t],d=nT[r],f={x:e.x+u.x*o,y:e.y+u.y*o},p={x:n.x+d.x*o,y:n.y+d.y*o},m=Pne({source:f,sourcePosition:t,target:p}),g=m.x!==0?"x":"y",b=m[g];let y=[],_,w;const S={x:0,y:0},j={x:0,y:0},[,,N,C]=iI({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[g]*d[g]===-1){g==="x"?(_=i.x??f.x+(p.x-f.x)*l,w=i.y??(f.y+p.y)/2):(_=i.x??(f.x+p.x)/2,w=i.y??f.y+(p.y-f.y)*l);const T=[{x:_,y:f.y},{x:_,y:p.y}],M=[{x:f.x,y:w},{x:p.x,y:w}];u[g]===b?y=g==="x"?T:M:y=g==="x"?M:T}else{const T=[{x:f.x,y:p.y}],M=[{x:p.x,y:f.y}];if(g==="x"?y=u.x===b?M:T:y=u.y===b?T:M,t===r){const q=Math.abs(e[g]-n[g]);if(q<=o){const Y=Math.min(o-1,o-q);u[g]===b?S[g]=(f[g]>e[g]?-1:1)*Y:j[g]=(p[g]>n[g]?-1:1)*Y}}if(t!==r){const q=g==="x"?"y":"x",Y=u[g]===d[q],L=f[q]>p[q],F=f[q]<p[q];(u[g]===1&&(!Y&&L||Y&&F)||u[g]!==1&&(!Y&&F||Y&&L))&&(y=g==="x"?T:M)}const P={x:f.x+S.x,y:f.y+S.y},U={x:p.x+j.x,y:p.y+j.y},z=Math.max(Math.abs(P.x-y[0].x),Math.abs(U.x-y[0].x)),R=Math.max(Math.abs(P.y-y[0].y),Math.abs(U.y-y[0].y));z>=R?(_=(P.x+U.x)/2,w=y[0].y):(_=y[0].x,w=(P.y+U.y)/2)}return[[e,{x:f.x+S.x,y:f.y+S.y},...y,{x:p.x+j.x,y:p.y+j.y},n],_,w,N,C]}function $ne(e,t,n,r){const i=Math.min(rT(e,t)/2,rT(t,n)/2,r),{x:o,y:l}=t;if(e.x===o&&o===n.x||e.y===l&&l===n.y)return`L${o} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,p=e.y<n.y?1:-1;return`L ${o+i*f},${l}Q ${o},${l} ${o},${l+i*p}`}const u=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${o},${l+i*d}Q ${o},${l} ${o+i*u},${l}`}function K_({sourceX:e,sourceY:t,sourcePosition:n=Be.Bottom,targetX:r,targetY:i,targetPosition:o=Be.Top,borderRadius:l=5,centerX:u,centerY:d,offset:f=20,stepPosition:p=.5}){const[m,g,b,y,_]=Bne({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:u,y:d},offset:f,stepPosition:p});return[m.reduce((S,j,N)=>{let C="";return N>0&&N<m.length-1?C=$ne(m[N-1],j,m[N+1],l):C=`${N===0?"M":"L"}${j.x} ${j.y}`,S+=C,S},""),g,b,y,_]}function iT(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Une(e){var m;const{sourceNode:t,targetNode:n}=e;if(!iT(t)||!iT(n))return null;const r=t.internals.handleBounds||sT(t.handles),i=n.internals.handleBounds||sT(n.handles),o=aT((r==null?void 0:r.source)??[],e.sourceHandle),l=aT(e.connectionMode===hl.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!l)return(m=e.onError)==null||m.call(e,"008",Zi.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=(o==null?void 0:o.position)||Be.Bottom,d=(l==null?void 0:l.position)||Be.Top,f=ao(t,o,u),p=ao(n,l,d);return{sourceX:f.x,sourceY:f.y,targetX:p.x,targetY:p.y,sourcePosition:u,targetPosition:d}}function sT(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function ao(e,t,n=Be.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:l,height:u}=t??Ls(e);if(r)return{x:i+l/2,y:o+u/2};switch((t==null?void 0:t.position)??n){case Be.Top:return{x:i+l/2,y:o};case Be.Right:return{x:i+l,y:o+u/2};case Be.Bottom:return{x:i+l/2,y:o+u};case Be.Left:return{x:i,y:o+u/2}}}function aT(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Y_(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function qne(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((l,u)=>([u.markerStart||r,u.markerEnd||i].forEach(d=>{if(d&&typeof d=="object"){const f=Y_(d,t);o.has(f)||(l.push({id:f,color:d.color||n,...d}),o.add(f))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))}const aI=1e3,Fne=10,hS={nodeOrigin:[0,0],nodeExtent:Eu,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Hne={...hS,checkEquality:!0};function pS(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Gne(e,t,n){const r=pS(hS,n);for(const i of e.values())if(i.parentId)gS(i,e,t,r);else{const o=Zu(i,r.nodeOrigin),l=gl(i.extent)?i.extent:r.nodeExtent,u=so(o,l,Ls(i));i.internals.positionAbsolute=u}}function Vne(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function mS(e){return e==="manual"}function W_(e,t,n,r={}){var f,p;const i=pS(Hne,r),o={i:0},l=new Map(t),u=i!=null&&i.elevateNodesOnSelect&&!mS(i.zIndexMode)?aI:0;let d=e.length>0;t.clear(),n.clear();for(const m of e){let g=l.get(m.id);if(i.checkEquality&&m===(g==null?void 0:g.internals.userNode))t.set(m.id,g);else{const b=Zu(m,i.nodeOrigin),y=gl(m.extent)?m.extent:i.nodeExtent,_=so(b,y,Ls(m));g={...i.defaults,...m,measured:{width:(f=m.measured)==null?void 0:f.width,height:(p=m.measured)==null?void 0:p.height},internals:{positionAbsolute:_,handleBounds:Vne(m,g),z:oI(m,u,i.zIndexMode),userNode:m}},t.set(m.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(d=!1),m.parentId&&gS(g,t,n,r,o)}return d}function Kne(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function gS(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:l,nodeExtent:u,zIndexMode:d}=pS(hS,r),f=e.parentId,p=t.get(f);if(!p){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Kne(e,n),i&&!p.parentId&&p.internals.rootParentIndex===void 0&&d==="auto"&&(p.internals.rootParentIndex=++i.i,p.internals.z=p.internals.z+i.i*Fne),i&&p.internals.rootParentIndex!==void 0&&(i.i=p.internals.rootParentIndex);const m=o&&!mS(d)?aI:0,{x:g,y:b,z:y}=Yne(e,p,l,u,m,d),{positionAbsolute:_}=e.internals,w=g!==_.x||b!==_.y;(w||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:g,y:b}:_,z:y}})}function oI(e,t,n){const r=Ai(e.zIndex)?e.zIndex:0;return mS(n)?r:r+(e.selected?t:0)}function Yne(e,t,n,r,i,o){const{x:l,y:u}=t.internals.positionAbsolute,d=Ls(e),f=Zu(e,n),p=gl(e.extent)?so(f,e.extent,d):f;let m=so({x:l+p.x,y:u+p.y},r,d);e.extent==="parent"&&(m=YL(m,d,t));const g=oI(e,i,o),b=t.internals.z??0;return{x:m.x,y:m.y,z:b>=g?b+1:g}}function xS(e,t,n,r=[0,0]){var l;const i=[],o=new Map;for(const u of e){const d=t.get(u.parentId);if(!d)continue;const f=((l=o.get(u.parentId))==null?void 0:l.expandedRect)??ml(d),p=XL(f,u.rect);o.set(u.parentId,{expandedRect:p,parent:d})}return o.size>0&&o.forEach(({expandedRect:u,parent:d},f)=>{var N;const p=d.internals.positionAbsolute,m=Ls(d),g=d.origin??r,b=u.x<p.x?Math.round(Math.abs(p.x-u.x)):0,y=u.y<p.y?Math.round(Math.abs(p.y-u.y)):0,_=Math.max(m.width,Math.round(u.width)),w=Math.max(m.height,Math.round(u.height)),S=(_-m.width)*g[0],j=(w-m.height)*g[1];(b>0||y>0||S||j)&&(i.push({id:f,type:"position",position:{x:d.position.x-b+S,y:d.position.y-y+j}}),(N=n.get(f))==null||N.forEach(C=>{e.some(A=>A.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+b,y:C.position.y+y}})})),(m.width<u.width||m.height<u.height||b||y)&&i.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:_+(b?g[0]*b-S:0),height:w+(y?g[1]*y-j:0)}})}),i}function Wne(e,t,n,r,i,o,l){const u=r==null?void 0:r.querySelector(".xyflow__viewport");let d=!1;if(!u)return{changes:[],updatedInternals:d};const f=[],p=window.getComputedStyle(u),{m22:m}=new window.DOMMatrixReadOnly(p.transform),g=[];for(const b of e.values()){const y=t.get(b.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),d=!0;continue}const _=fS(b.nodeElement),w=y.measured.width!==_.width||y.measured.height!==_.height;if(!!(_.width&&_.height&&(w||!y.internals.handleBounds||b.force))){const j=b.nodeElement.getBoundingClientRect(),N=gl(y.extent)?y.extent:o;let{positionAbsolute:C}=y.internals;y.parentId&&y.extent==="parent"?C=YL(C,_,t.get(y.parentId)):N&&(C=so(C,N,_));const A={...y,measured:_,internals:{...y.internals,positionAbsolute:C,handleBounds:{source:eT("source",b.nodeElement,j,m,y.id),target:eT("target",b.nodeElement,j,m,y.id)}}};t.set(y.id,A),y.parentId&&gS(A,t,n,{nodeOrigin:i,zIndexMode:l}),d=!0,w&&(f.push({id:y.id,type:"dimensions",dimensions:_}),y.expandParent&&y.parentId&&g.push({id:y.id,parentId:y.parentId,rect:ml(A,i)}))}}if(g.length>0){const b=xS(g,t,n,i);f.push(...b)}return{changes:f,updatedInternals:d}}async function Xne({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),u=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(u)}function oT(e,t,n,r,i,o){let l=i;const u=r.get(l)||new Map;r.set(l,u.set(n,t)),l=`${i}-${e}`;const d=r.get(l)||new Map;if(r.set(l,d.set(n,t)),o){l=`${i}-${e}-${o}`;const f=r.get(l)||new Map;r.set(l,f.set(n,t))}}function lI(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:l=null,targetHandle:u=null}=r,d={edgeId:r.id,source:i,target:o,sourceHandle:l,targetHandle:u},f=`${i}-${l}--${o}-${u}`,p=`${o}-${u}--${i}-${l}`;oT("source",d,p,e,i,l),oT("target",d,f,e,o,u),t.set(r.id,r)}}function cI(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:cI(n,t):!1}function lT(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Zne(e,t,n,r){const i=new Map;for(const[o,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!cI(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const u=e.get(o);u&&i.set(o,{id:o,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return i}function L0({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var l,u,d;const i=[];for(const[f,p]of t){const m=(l=n.get(f))==null?void 0:l.internals.userNode;m&&i.push({...m,position:p.position,dragging:r})}if(!e)return[i[0],i];const o=(u=n.get(e))==null?void 0:u.internals.userNode;return[o?{...o,position:((d=t.get(e))==null?void 0:d.position)||o.position,dragging:r}:i[0],i]}function Qne({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},l=Ju(o,t);return{x:l.x-o.x,y:l.y-o.y}}function Jne({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},l=0,u=new Map,d=!1,f={x:0,y:0},p=null,m=!1,g=null,b=!1,y=!1,_=null;function w({noDragClassName:j,handleSelector:N,domNode:C,isSelectable:A,nodeId:T,nodeClickDistance:M=0}){g=Hr(C);function P({x:q,y:Y}){const{nodeLookup:L,nodeExtent:F,snapGrid:B,snapToGrid:X,nodeOrigin:W,onNodeDrag:K,onSelectionDrag:D,onError:$,updateNodePositions:H}=t();o={x:q,y:Y};let I=!1;const V=u.size>1,Z=V&&F?V_(Qu(u)):null,Q=V&&X?Qne({dragItems:u,snapGrid:B,x:q,y:Y}):null;for(const[ae,te]of u){if(!L.has(ae))continue;let ne={x:q-te.distance.x,y:Y-te.distance.y};X&&(ne=Q?{x:Math.round(ne.x+Q.x),y:Math.round(ne.y+Q.y)}:Ju(ne,B));let de=null;if(V&&F&&!te.extent&&Z){const{positionAbsolute:ue}=te.internals,_e=ue.x-Z.x+F[0][0],we=ue.x+te.measured.width-Z.x2+F[1][0],be=ue.y-Z.y+F[0][1],je=ue.y+te.measured.height-Z.y2+F[1][1];de=[[_e,be],[we,je]]}const{position:ge,positionAbsolute:re}=KL({nodeId:ae,nextPosition:ne,nodeLookup:L,nodeExtent:de||F,nodeOrigin:W,onError:$});I=I||te.position.x!==ge.x||te.position.y!==ge.y,te.position=ge,te.internals.positionAbsolute=re}if(y=y||I,!!I&&(H(u,!0),_&&(r||K||!T&&D))){const[ae,te]=L0({nodeId:T,dragItems:u,nodeLookup:L});r==null||r(_,u,ae,te),K==null||K(_,ae,te),T||D==null||D(_,te)}}async function U(){if(!p)return;const{transform:q,panBy:Y,autoPanSpeed:L,autoPanOnNodeDrag:F}=t();if(!F){d=!1,cancelAnimationFrame(l);return}const[B,X]=WL(f,p,L);(B!==0||X!==0)&&(o.x=(o.x??0)-B/q[2],o.y=(o.y??0)-X/q[2],await Y({x:B,y:X})&&P(o)),l=requestAnimationFrame(U)}function z(q){var V;const{nodeLookup:Y,multiSelectionActive:L,nodesDraggable:F,transform:B,snapGrid:X,snapToGrid:W,selectNodesOnDrag:K,onNodeDragStart:D,onSelectionDragStart:$,unselectNodesAndEdges:H}=t();m=!0,(!K||!A)&&!L&&T&&((V=Y.get(T))!=null&&V.selected||H()),A&&K&&T&&(e==null||e(T));const I=du(q.sourceEvent,{transform:B,snapGrid:X,snapToGrid:W,containerBounds:p});if(o=I,u=Zne(Y,F,I,T),u.size>0&&(n||D||!T&&$)){const[Z,Q]=L0({nodeId:T,dragItems:u,nodeLookup:Y});n==null||n(q.sourceEvent,u,Z,Q),D==null||D(q.sourceEvent,Z,Q),T||$==null||$(q.sourceEvent,Q)}}const R=kL().clickDistance(M).on("start",q=>{const{domNode:Y,nodeDragThreshold:L,transform:F,snapGrid:B,snapToGrid:X}=t();p=(Y==null?void 0:Y.getBoundingClientRect())||null,b=!1,y=!1,_=q.sourceEvent,L===0&&z(q),o=du(q.sourceEvent,{transform:F,snapGrid:B,snapToGrid:X,containerBounds:p}),f=Mi(q.sourceEvent,p)}).on("drag",q=>{const{autoPanOnNodeDrag:Y,transform:L,snapGrid:F,snapToGrid:B,nodeDragThreshold:X,nodeLookup:W}=t(),K=du(q.sourceEvent,{transform:L,snapGrid:F,snapToGrid:B,containerBounds:p});if(_=q.sourceEvent,(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||T&&!W.has(T))&&(b=!0),!b){if(!d&&Y&&m&&(d=!0,U()),!m){const D=Mi(q.sourceEvent,p),$=D.x-f.x,H=D.y-f.y;Math.sqrt($*$+H*H)>X&&z(q)}(o.x!==K.xSnapped||o.y!==K.ySnapped)&&u&&m&&(f=Mi(q.sourceEvent,p),P(K))}}).on("end",q=>{if(!(!m||b)&&(d=!1,m=!1,cancelAnimationFrame(l),u.size>0)){const{nodeLookup:Y,updateNodePositions:L,onNodeDragStop:F,onSelectionDragStop:B}=t();if(y&&(L(u,!1),y=!1),i||F||!T&&B){const[X,W]=L0({nodeId:T,dragItems:u,nodeLookup:Y,dragging:!1});i==null||i(q.sourceEvent,u,X,W),F==null||F(q.sourceEvent,X,W),T||B==null||B(q.sourceEvent,W)}}}).filter(q=>{const Y=q.target;return!q.button&&(!j||!lT(Y,`.${j}`,C))&&(!N||lT(Y,N,C))});g.call(R)}function S(){g==null||g.on(".drag",null)}return{update:w,destroy:S}}function ere(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Cu(i,ml(o))>0&&r.push(o);return r}const tre=250;function nre(e,t,n,r){var u,d;let i=[],o=1/0;const l=ere(e,n,t+tre);for(const f of l){const p=[...((u=f.internals.handleBounds)==null?void 0:u.source)??[],...((d=f.internals.handleBounds)==null?void 0:d.target)??[]];for(const m of p){if(r.nodeId===m.nodeId&&r.type===m.type&&r.id===m.id)continue;const{x:g,y:b}=ao(f,m,m.position,!0),y=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(b-e.y,2));y>t||(y<o?(i=[{...m,x:g,y:b}],o=y):y===o&&i.push({...m,x:g,y:b}))}}if(!i.length)return null;if(i.length>1){const f=r.type==="source"?"target":"source";return i.find(p=>p.type===f)??i[0]}return i[0]}function uI(e,t,n,r,i,o=!1){var f,p,m;const l=r.get(e);if(!l)return null;const u=i==="strict"?(f=l.internals.handleBounds)==null?void 0:f[t]:[...((p=l.internals.handleBounds)==null?void 0:p.source)??[],...((m=l.internals.handleBounds)==null?void 0:m.target)??[]],d=(n?u==null?void 0:u.find(g=>g.id===n):u==null?void 0:u[0])??null;return d&&o?{...d,...ao(l,d,d.position,!0)}:d}function dI(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function rre(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const fI=()=>!0;function ire(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:l,domNode:u,nodeLookup:d,lib:f,autoPanOnConnect:p,flowId:m,panBy:g,cancelConnection:b,onConnectStart:y,onConnect:_,onConnectEnd:w,isValidConnection:S=fI,onReconnectEnd:j,updateConnection:N,getTransform:C,getFromHandle:A,autoPanSpeed:T,dragThreshold:M=1,handleDomNode:P}){const U=JL(e.target);let z=0,R;const{x:q,y:Y}=Mi(e),L=dI(o,P),F=u==null?void 0:u.getBoundingClientRect();let B=!1;if(!F||!L)return;const X=uI(i,L,r,d,t);if(!X)return;let W=Mi(e,F),K=!1,D=null,$=!1,H=null;function I(){if(!p||!F)return;const[ge,re]=WL(W,F,T);g({x:ge,y:re}),z=requestAnimationFrame(I)}const V={...X,nodeId:i,type:L,position:X.position},Z=d.get(i);let ae={inProgress:!0,isValid:null,from:ao(Z,V,Be.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:Z,to:W,toHandle:null,toPosition:XC[V.position],toNode:null,pointer:W};function te(){B=!0,N(ae),y==null||y(e,{nodeId:i,handleId:r,handleType:L})}M===0&&te();function ne(ge){if(!B){const{x:je,y:qe}=Mi(ge),it=je-q,Ht=qe-Y;if(!(it*it+Ht*Ht>M*M))return;te()}if(!A()||!V){de(ge);return}const re=C();W=Mi(ge,F),R=nre(ed(W,re,!1,[1,1]),n,d,V),K||(I(),K=!0);const ue=hI(ge,{handle:R,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:S,doc:U,lib:f,flowId:m,nodeLookup:d});H=ue.handleDomNode,D=ue.connection,$=rre(!!R,ue.isValid);const _e=d.get(i),we=_e?ao(_e,V,Be.Left,!0):ae.from,be={...ae,from:we,isValid:$,to:ue.toHandle&&$?Oh({x:ue.toHandle.x,y:ue.toHandle.y},re):W,toHandle:ue.toHandle,toPosition:$&&ue.toHandle?ue.toHandle.position:XC[V.position],toNode:ue.toHandle?d.get(ue.toHandle.nodeId):null,pointer:W};N(be),ae=be}function de(ge){if(!("touches"in ge&&ge.touches.length>0)){if(B){(R||H)&&D&&$&&(_==null||_(D));const{inProgress:re,...ue}=ae,_e={...ue,toPosition:ae.toHandle?ae.toPosition:null};w==null||w(ge,_e),o&&(j==null||j(ge,_e))}b(),cancelAnimationFrame(z),K=!1,$=!1,D=null,H=null,U.removeEventListener("mousemove",ne),U.removeEventListener("mouseup",de),U.removeEventListener("touchmove",ne),U.removeEventListener("touchend",de)}}U.addEventListener("mousemove",ne),U.addEventListener("mouseup",de),U.addEventListener("touchmove",ne),U.addEventListener("touchend",de)}function hI(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:l,lib:u,flowId:d,isValidConnection:f=fI,nodeLookup:p}){const m=o==="target",g=t?l.querySelector(`.${u}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:b,y}=Mi(e),_=l.elementFromPoint(b,y),w=_!=null&&_.classList.contains(`${u}-flow__handle`)?_:g,S={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const j=dI(void 0,w),N=w.getAttribute("data-nodeid"),C=w.getAttribute("data-handleid"),A=w.classList.contains("connectable"),T=w.classList.contains("connectableend");if(!N||!j)return S;const M={source:m?N:r,sourceHandle:m?C:i,target:m?r:N,targetHandle:m?i:C};S.connection=M;const U=A&&T&&(n===hl.Strict?m&&j==="source"||!m&&j==="target":N!==r||C!==i);S.isValid=U&&f(M),S.toHandle=uI(N,j,C,p,n,!0)}return S}const X_={onPointerDown:ire,isValid:hI};function sre({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Hr(e);function o({translateExtent:u,width:d,height:f,zoomStep:p=1,pannable:m=!0,zoomable:g=!0,inversePan:b=!1}){const y=N=>{if(N.sourceEvent.type!=="wheel"||!t)return;const C=n(),A=N.sourceEvent.ctrlKey&&Tu()?10:1,T=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*p,M=C[2]*Math.pow(2,T*A);t.scaleTo(M)};let _=[0,0];const w=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(_=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},S=N=>{const C=n();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!t)return;const A=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],T=[A[0]-_[0],A[1]-_[1]];_=A;const M=r()*Math.max(C[2],Math.log(C[2]))*(b?-1:1),P={x:C[0]-T[0]*M,y:C[1]-T[1]*M},U=[[0,0],[d,f]];t.setViewportConstrained({x:P.x,y:P.y,zoom:C[2]},U,u)},j=UL().on("start",w).on("zoom",m?S:null).on("zoom.wheel",g?y:null);i.call(j,{})}function l(){i.on("zoom",null)}return{update:o,destroy:l,pointer:Ci}}const dp=e=>({x:e.x,y:e.y,zoom:e.k}),I0=({x:e,y:t,zoom:n})=>lp.translate(e,t).scale(n),rl=(e,t)=>e.target.closest(`.${t}`),pI=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),are=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,z0=(e,t=0,n=are,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},mI=e=>{const t=e.ctrlKey&&Tu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function ore({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:l,onPanZoomStart:u,onPanZoom:d,onPanZoomEnd:f}){return p=>{if(rl(p,t))return p.ctrlKey&&p.preventDefault(),!1;p.preventDefault(),p.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(p.ctrlKey&&l){const w=Ci(p),S=mI(p),j=m*Math.pow(2,S);r.scaleTo(n,j,w,p);return}const g=p.deltaMode===1?20:1;let b=i===Ja.Vertical?0:p.deltaX*g,y=i===Ja.Horizontal?0:p.deltaY*g;!Tu()&&p.shiftKey&&i!==Ja.Vertical&&(b=p.deltaY*g,y=0),r.translateBy(n,-(b/m)*o,-(y/m)*o,{internal:!0});const _=dp(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(p,_),e.panScrollTimeout=setTimeout(()=>{f==null||f(p,_),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u==null||u(p,_))}}function lre({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",l=!t&&o&&!r.ctrlKey,u=rl(r,e);if(r.ctrlKey&&o&&u&&r.preventDefault(),l||u)return null;r.preventDefault(),n.call(this,r,i)}}function cre({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,l,u;if((o=r.sourceEvent)!=null&&o.internal)return;const i=dp(r.transform);e.mouseButton=((l=r.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((u=r.sourceEvent)==null?void 0:u.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function ure({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var l,u;e.usedRightMouseButton=!!(n&&pI(t,e.mouseButton??0)),(l=o.sourceEvent)!=null&&l.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((u=o.sourceEvent)!=null&&u.internal)&&(i==null||i(o.sourceEvent,dp(o.transform)))}}function dre({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return l=>{var u;if(!((u=l.sourceEvent)!=null&&u.internal)&&(e.isZoomingOrPanning=!1,o&&pI(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&o(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const d=dp(l.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(l.sourceEvent,d)},n?150:0)}}}function fre({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:l,noWheelClassName:u,noPanClassName:d,lib:f,connectionInProgress:p}){return m=>{var w;const g=e||t,b=n&&m.ctrlKey,y=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(rl(m,`${f}-flow__node`)||rl(m,`${f}-flow__edge`)))return!0;if(!r&&!g&&!i&&!o&&!n||l||p&&!y||rl(m,u)&&y||rl(m,d)&&(!y||i&&y&&!e)||!n&&m.ctrlKey&&y)return!1;if(!n&&m.type==="touchstart"&&((w=m.touches)==null?void 0:w.length)>1)return m.preventDefault(),!1;if(!g&&!i&&!b&&y||!r&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(r)&&!r.includes(m.button)&&m.type==="mousedown")return!1;const _=Array.isArray(r)&&r.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||y)&&_}}function hre({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=e.getBoundingClientRect(),m=UL().scaleExtent([t,n]).translateExtent(r),g=Hr(e).call(m);j({x:i.x,y:i.y,zoom:pl(i.zoom,t,n)},[[0,0],[p.width,p.height]],r);const b=g.on("wheel.zoom"),y=g.on("dblclick.zoom");m.wheelDelta(mI);function _(R,q){return g?new Promise(Y=>{m==null||m.interpolate((q==null?void 0:q.interpolate)==="linear"?uu:th).transform(z0(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>Y(!0)),R)}):Promise.resolve(!1)}function w({noWheelClassName:R,noPanClassName:q,onPaneContextMenu:Y,userSelectionActive:L,panOnScroll:F,panOnDrag:B,panOnScrollMode:X,panOnScrollSpeed:W,preventScrolling:K,zoomOnPinch:D,zoomOnScroll:$,zoomOnDoubleClick:H,zoomActivationKeyPressed:I,lib:V,onTransformChange:Z,connectionInProgress:Q,paneClickDistance:ae,selectionOnDrag:te}){L&&!f.isZoomingOrPanning&&S();const ne=F&&!I&&!L;m.clickDistance(te?1/0:!Ai(ae)||ae<0?0:ae);const de=ne?ore({zoomPanValues:f,noWheelClassName:R,d3Selection:g,d3Zoom:m,panOnScrollMode:X,panOnScrollSpeed:W,zoomOnPinch:D,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:u}):lre({noWheelClassName:R,preventScrolling:K,d3ZoomHandler:b});if(g.on("wheel.zoom",de,{passive:!1}),!L){const re=cre({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});m.on("start",re);const ue=ure({zoomPanValues:f,panOnDrag:B,onPaneContextMenu:!!Y,onPanZoom:o,onTransformChange:Z});m.on("zoom",ue);const _e=dre({zoomPanValues:f,panOnDrag:B,panOnScroll:F,onPaneContextMenu:Y,onPanZoomEnd:u,onDraggingChange:d});m.on("end",_e)}const ge=fre({zoomActivationKeyPressed:I,panOnDrag:B,zoomOnScroll:$,panOnScroll:F,zoomOnDoubleClick:H,zoomOnPinch:D,userSelectionActive:L,noPanClassName:q,noWheelClassName:R,lib:V,connectionInProgress:Q});m.filter(ge),H?g.on("dblclick.zoom",y):g.on("dblclick.zoom",null)}function S(){m.on("zoom",null)}async function j(R,q,Y){const L=I0(R),F=m==null?void 0:m.constrain()(L,q,Y);return F&&await _(F),new Promise(B=>B(F))}async function N(R,q){const Y=I0(R);return await _(Y,q),new Promise(L=>L(Y))}function C(R){if(g){const q=I0(R),Y=g.property("__zoom");(Y.k!==R.zoom||Y.x!==R.x||Y.y!==R.y)&&(m==null||m.transform(g,q,null,{sync:!0}))}}function A(){const R=g?$L(g.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function T(R,q){return g?new Promise(Y=>{m==null||m.interpolate((q==null?void 0:q.interpolate)==="linear"?uu:th).scaleTo(z0(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>Y(!0)),R)}):Promise.resolve(!1)}function M(R,q){return g?new Promise(Y=>{m==null||m.interpolate((q==null?void 0:q.interpolate)==="linear"?uu:th).scaleBy(z0(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>Y(!0)),R)}):Promise.resolve(!1)}function P(R){m==null||m.scaleExtent(R)}function U(R){m==null||m.translateExtent(R)}function z(R){const q=!Ai(R)||R<0?0:R;m==null||m.clickDistance(q)}return{update:w,destroy:S,setViewport:N,setViewportConstrained:j,getViewport:A,scaleTo:T,scaleBy:M,setScaleExtent:P,setTranslateExtent:U,syncViewport:C,setClickDistance:z}}var xl;(function(e){e.Line="line",e.Handle="handle"})(xl||(xl={}));function pre({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const l=e-t,u=n-r,d=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&i&&(d[0]=d[0]*-1),u&&o&&(d[1]=d[1]*-1),d}function cT(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function pa(e,t){return Math.max(0,t-e)}function ma(e,t){return Math.max(0,e-t)}function Gf(e,t,n){return Math.max(0,t-e,e-n)}function uT(e,t){return e?!t:t}function mre(e,t,n,r,i,o,l,u){let{affectsX:d,affectsY:f}=t;const{isHorizontal:p,isVertical:m}=t,g=p&&m,{xSnapped:b,ySnapped:y}=n,{minWidth:_,maxWidth:w,minHeight:S,maxHeight:j}=r,{x:N,y:C,width:A,height:T,aspectRatio:M}=e;let P=Math.floor(p?b-e.pointerX:0),U=Math.floor(m?y-e.pointerY:0);const z=A+(d?-P:P),R=T+(f?-U:U),q=-o[0]*A,Y=-o[1]*T;let L=Gf(z,_,w),F=Gf(R,S,j);if(l){let W=0,K=0;d&&P<0?W=pa(N+P+q,l[0][0]):!d&&P>0&&(W=ma(N+z+q,l[1][0])),f&&U<0?K=pa(C+U+Y,l[0][1]):!f&&U>0&&(K=ma(C+R+Y,l[1][1])),L=Math.max(L,W),F=Math.max(F,K)}if(u){let W=0,K=0;d&&P>0?W=ma(N+P,u[0][0]):!d&&P<0&&(W=pa(N+z,u[1][0])),f&&U>0?K=ma(C+U,u[0][1]):!f&&U<0&&(K=pa(C+R,u[1][1])),L=Math.max(L,W),F=Math.max(F,K)}if(i){if(p){const W=Gf(z/M,S,j)*M;if(L=Math.max(L,W),l){let K=0;!d&&!f||d&&!f&&g?K=ma(C+Y+z/M,l[1][1])*M:K=pa(C+Y+(d?P:-P)/M,l[0][1])*M,L=Math.max(L,K)}if(u){let K=0;!d&&!f||d&&!f&&g?K=pa(C+z/M,u[1][1])*M:K=ma(C+(d?P:-P)/M,u[0][1])*M,L=Math.max(L,K)}}if(m){const W=Gf(R*M,_,w)/M;if(F=Math.max(F,W),l){let K=0;!d&&!f||f&&!d&&g?K=ma(N+R*M+q,l[1][0])/M:K=pa(N+(f?U:-U)*M+q,l[0][0])/M,F=Math.max(F,K)}if(u){let K=0;!d&&!f||f&&!d&&g?K=pa(N+R*M,u[1][0])/M:K=ma(N+(f?U:-U)*M,u[0][0])/M,F=Math.max(F,K)}}}U=U+(U<0?F:-F),P=P+(P<0?L:-L),i&&(g?z>R*M?U=(uT(d,f)?-P:P)/M:P=(uT(d,f)?-U:U)*M:p?(U=P/M,f=d):(P=U*M,d=f));const B=d?N+P:N,X=f?C+U:C;return{width:A+(d?-P:P),height:T+(f?-U:U),x:o[0]*P*(d?-1:1)+B,y:o[1]*U*(f?-1:1)+X}}const gI={width:0,height:0,x:0,y:0},gre={...gI,pointerX:0,pointerY:0,aspectRatio:1};function xre(e){return[[0,0],[e.measured.width,e.measured.height]]}function bre(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,l=e.measured.height??0,u=n[0]*o,d=n[1]*l;return[[r-u,i-d],[r+o-u,i+l-d]]}function yre({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Hr(e);let l={controlDirection:cT("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:f,boundaries:p,keepAspectRatio:m,resizeDirection:g,onResizeStart:b,onResize:y,onResizeEnd:_,shouldResize:w}){let S={...gI},j={...gre};l={boundaries:p,resizeDirection:g,keepAspectRatio:m,controlDirection:cT(f)};let N,C=null,A=[],T,M,P,U=!1;const z=kL().on("start",R=>{const{nodeLookup:q,transform:Y,snapGrid:L,snapToGrid:F,nodeOrigin:B,paneDomNode:X}=n();if(N=q.get(t),!N)return;C=(X==null?void 0:X.getBoundingClientRect())??null;const{xSnapped:W,ySnapped:K}=du(R.sourceEvent,{transform:Y,snapGrid:L,snapToGrid:F,containerBounds:C});S={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},j={...S,pointerX:W,pointerY:K,aspectRatio:S.width/S.height},T=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(T=q.get(N.parentId),M=T&&N.extent==="parent"?xre(T):void 0),A=[],P=void 0;for(const[D,$]of q)if($.parentId===t&&(A.push({id:D,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const H=bre($,N,$.origin??B);P?P=[[Math.min(H[0][0],P[0][0]),Math.min(H[0][1],P[0][1])],[Math.max(H[1][0],P[1][0]),Math.max(H[1][1],P[1][1])]]:P=H}b==null||b(R,{...S})}).on("drag",R=>{const{transform:q,snapGrid:Y,snapToGrid:L,nodeOrigin:F}=n(),B=du(R.sourceEvent,{transform:q,snapGrid:Y,snapToGrid:L,containerBounds:C}),X=[];if(!N)return;const{x:W,y:K,width:D,height:$}=S,H={},I=N.origin??F,{width:V,height:Z,x:Q,y:ae}=mre(j,l.controlDirection,B,l.boundaries,l.keepAspectRatio,I,M,P),te=V!==D,ne=Z!==$,de=Q!==W&&te,ge=ae!==K&&ne;if(!de&&!ge&&!te&&!ne)return;if((de||ge||I[0]===1||I[1]===1)&&(H.x=de?Q:S.x,H.y=ge?ae:S.y,S.x=H.x,S.y=H.y,A.length>0)){const we=Q-W,be=ae-K;for(const je of A)je.position={x:je.position.x-we+I[0]*(V-D),y:je.position.y-be+I[1]*(Z-$)},X.push(je)}if((te||ne)&&(H.width=te&&(!l.resizeDirection||l.resizeDirection==="horizontal")?V:S.width,H.height=ne&&(!l.resizeDirection||l.resizeDirection==="vertical")?Z:S.height,S.width=H.width,S.height=H.height),T&&N.expandParent){const we=I[0]*(H.width??0);H.x&&H.x<we&&(S.x=we,j.x=j.x-(H.x-we));const be=I[1]*(H.height??0);H.y&&H.y<be&&(S.y=be,j.y=j.y-(H.y-be))}const re=pre({width:S.width,prevWidth:D,height:S.height,prevHeight:$,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),ue={...S,direction:re};(w==null?void 0:w(R,ue))!==!1&&(U=!0,y==null||y(R,ue),r(H,X))}).on("end",R=>{U&&(_==null||_(R,{...S}),i==null||i({...S}),U=!1)});o.call(z)}function d(){o.on(".drag",null)}return{update:u,destroy:d}}var P0={exports:{}},B0={},$0={exports:{}},U0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function vre(){if(dT)return U0;dT=1;var e=Mu();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(m,g){var b=g(),y=r({inst:{value:b,getSnapshot:g}}),_=y[0].inst,w=y[1];return o(function(){_.value=b,_.getSnapshot=g,d(_)&&w({inst:_})},[m,b,g]),i(function(){return d(_)&&w({inst:_}),m(function(){d(_)&&w({inst:_})})},[m]),l(b),b}function d(m){var g=m.getSnapshot;m=m.value;try{var b=g();return!n(m,b)}catch{return!0}}function f(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return U0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,U0}var fT;function _re(){return fT||(fT=1,$0.exports=vre()),$0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function wre(){if(hT)return B0;hT=1;var e=Mu(),t=_re();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return B0.useSyncExternalStoreWithSelector=function(f,p,m,g,b){var y=o(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=u(function(){function S(T){if(!j){if(j=!0,N=T,T=g(T),b!==void 0&&_.hasValue){var M=_.value;if(b(M,T))return C=M}return C=T}if(M=C,r(N,T))return M;var P=g(T);return b!==void 0&&b(M,P)?(N=T,M):(N=T,C=P)}var j=!1,N,C,A=m===void 0?null:m;return[function(){return S(p())},A===null?void 0:function(){return S(A())}]},[p,m,g,b]);var w=i(f,y[0],y[1]);return l(function(){_.hasValue=!0,_.value=w},[w]),d(w),w},B0}var pT;function Sre(){return pT||(pT=1,P0.exports=wre()),P0.exports}var Nre=Sre();const Ere=yl(Nre),kre={},mT=e=>{let t;const n=new Set,r=(p,m)=>{const g=typeof p=="function"?p(t):p;if(!Object.is(g,t)){const b=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(y=>y(t,b))}},i=()=>t,d={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(kre?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,d);return d},jre=e=>e?mT(e):mT,{useDebugValue:Cre}=un,{useSyncExternalStoreWithSelector:Tre}=Ere,Are=e=>e;function xI(e,t=Are,n){const r=Tre(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Cre(r),r}const gT=(e,t)=>{const n=jre(e),r=(i,o=t)=>xI(n,i,o);return Object.assign(r,n),r},Mre=(e,t)=>e?gT(e,t):gT;function fn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const fp=E.createContext(null),Rre=fp.Provider,bI=Zi.error001();function vt(e,t){const n=E.useContext(fp);if(n===null)throw new Error(bI);return xI(n,e,t)}function hn(){const e=E.useContext(fp);if(e===null)throw new Error(bI);return E.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const xT={display:"none"},Ore={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},yI="react-flow__node-desc",vI="react-flow__edge-desc",Dre="react-flow__aria-live",Lre=e=>e.ariaLiveMessage,Ire=e=>e.ariaLabelConfig;function zre({rfId:e}){const t=vt(Lre);return a.jsx("div",{id:`${Dre}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Ore,children:t})}function Pre({rfId:e,disableKeyboardA11y:t}){const n=vt(Ire);return a.jsxs(a.Fragment,{children:[a.jsx("div",{id:`${yI}-${e}`,style:xT,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),a.jsx("div",{id:`${vI}-${e}`,style:xT,children:n["edge.a11yDescription.default"]}),!t&&a.jsx(zre,{rfId:e})]})}const hp=E.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const l=`${e}`.split("-");return a.jsx("div",{className:$n(["react-flow__panel",n,...l]),style:r,ref:o,...i,children:t})});hp.displayName="Panel";function Bre({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:a.jsx(hp,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:a.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const $re=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Vf=e=>e.id;function Ure(e,t){return fn(e.selectedNodes.map(Vf),t.selectedNodes.map(Vf))&&fn(e.selectedEdges.map(Vf),t.selectedEdges.map(Vf))}function qre({onSelectionChange:e}){const t=hn(),{selectedNodes:n,selectedEdges:r}=vt($re,Ure);return E.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const Fre=e=>!!e.onSelectionChangeHandlers;function Hre({onSelectionChange:e}){const t=vt(Fre);return e||t?a.jsx(qre,{onSelectionChange:e}):null}const _I=[0,0],Gre={x:0,y:0,zoom:1},Vre=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],bT=[...Vre,"rfId"],Kre=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),yT={translateExtent:Eu,nodeOrigin:_I,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Yre(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:l,reset:u,setDefaultNodesAndEdges:d}=vt(Kre,fn),f=hn();E.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{p.current=yT,u()}),[]);const p=E.useRef(yT);return E.useEffect(()=>{for(const m of bT){const g=e[m],b=p.current[m];g!==b&&(typeof e[m]>"u"||(m==="nodes"?t(g):m==="edges"?n(g):m==="minZoom"?r(g):m==="maxZoom"?i(g):m==="translateExtent"?o(g):m==="nodeExtent"?l(g):m==="ariaLabelConfig"?f.setState({ariaLabelConfig:Mne(g)}):m==="fitView"?f.setState({fitViewQueued:g}):m==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[m]:g})))}p.current=e},bT.map(m=>e[m])),null}function vT(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Wre(e){var r;const[t,n]=E.useState(e==="system"?null:e);return E.useEffect(()=>{if(e!=="system"){n(e);return}const i=vT(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=vT())!=null&&r.matches?"dark":"light"}const _T=typeof document<"u"?document:null;function Au(e=null,t={target:_T,actInsideInputWithModifier:!0}){const[n,r]=E.useState(!1),i=E.useRef(!1),o=E.useRef(new Set([])),[l,u]=E.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=f.reduce((m,g)=>m.concat(...g),[]);return[f,p]}return[[],[]]},[e]);return E.useEffect(()=>{const d=(t==null?void 0:t.target)??_T,f=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const p=b=>{var w,S;if(i.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!i.current||i.current&&!f)&&eI(b))return!1;const _=ST(b.code,u);if(o.current.add(b[_]),wT(l,o.current,!1)){const j=((S=(w=b.composedPath)==null?void 0:w.call(b))==null?void 0:S[0])||b.target,N=(j==null?void 0:j.nodeName)==="BUTTON"||(j==null?void 0:j.nodeName)==="A";t.preventDefault!==!1&&(i.current||!N)&&b.preventDefault(),r(!0)}},m=b=>{const y=ST(b.code,u);wT(l,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(b[y]),b.key==="Meta"&&o.current.clear(),i.current=!1},g=()=>{o.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",p),d==null||d.addEventListener("keyup",m),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d==null||d.removeEventListener("keydown",p),d==null||d.removeEventListener("keyup",m),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function wT(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function ST(e,t){return t.includes(e)?"code":"key"}const Xre=()=>{const e=hn();return E.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:l,panZoom:u}=e.getState(),d=dS(t,r,i,o,l,(n==null?void 0:n.padding)??.1);return u?(await u.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:l}=e.getState();if(!l)return t;const{x:u,y:d}=l.getBoundingClientRect(),f={x:t.x-u,y:t.y-d},p=n.snapGrid??i,m=n.snapToGrid??o;return ed(f,r,m,p)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),l=Oh(t,n);return{x:l.x+i,y:l.y+o}}}),[])};function wI(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const l=r.get(o.id);l?l.push(o):r.set(o.id,[o])}for(const o of t){const l=r.get(o.id);if(!l){n.push(o);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const u={...o};for(const d of l)Zre(d,u);n.push(u)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function Zre(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Qre(e,t){return wI(e,t)}function Jre(e,t){return wI(e,t)}function Wa(e,t){return{id:e,type:"select",selected:t}}function il(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const l=t.has(i);!(o.selected===void 0&&!l)&&o.selected!==l&&(n&&(o.selected=l),r.push(Wa(o.id,l)))}return r}function NT({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,l]of e.entries()){const u=t.get(l.id),d=((i=u==null?void 0:u.internals)==null?void 0:i.userNode)??u;d!==void 0&&d!==l&&n.push({id:l.id,item:l,type:"replace"}),d===void 0&&n.push({item:l,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function ET(e){return{id:e.id,type:"remove"}}const kT=e=>_ne(e),eie=e=>VL(e);function SI(e){return E.forwardRef(e)}const tie=typeof window<"u"?E.useLayoutEffect:E.useEffect;function jT(e){const[t,n]=E.useState(BigInt(0)),[r]=E.useState(()=>nie(()=>n(i=>i+BigInt(1))));return tie(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function nie(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const NI=E.createContext(null);function rie({children:e}){const t=hn(),n=E.useCallback(u=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:p,onNodesChange:m,nodeLookup:g,fitViewQueued:b,onNodesChangeMiddlewareMap:y}=t.getState();let _=d;for(const S of u)_=typeof S=="function"?S(_):S;let w=NT({items:_,lookup:g});for(const S of y.values())w=S(w);p&&f(_),w.length>0?m==null||m(w):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:j,setNodes:N}=t.getState();S&&N(j)})},[]),r=jT(n),i=E.useCallback(u=>{const{edges:d=[],setEdges:f,hasDefaultEdges:p,onEdgesChange:m,edgeLookup:g}=t.getState();let b=d;for(const y of u)b=typeof y=="function"?y(b):y;p?f(b):m&&m(NT({items:b,lookup:g}))},[]),o=jT(i),l=E.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return a.jsx(NI.Provider,{value:l,children:e})}function iie(){const e=E.useContext(NI);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const sie=e=>!!e.panZoom;function bS(){const e=Xre(),t=hn(),n=iie(),r=vt(sie),i=E.useMemo(()=>{const o=m=>t.getState().nodeLookup.get(m),l=m=>{n.nodeQueue.push(m)},u=m=>{n.edgeQueue.push(m)},d=m=>{var S,j;const{nodeLookup:g,nodeOrigin:b}=t.getState(),y=kT(m)?m:g.get(m.id),_=y.parentId?QL(y.position,y.measured,y.parentId,g,b):y.position,w={...y,position:_,width:((S=y.measured)==null?void 0:S.width)??y.width,height:((j=y.measured)==null?void 0:j.height)??y.height};return ml(w)},f=(m,g,b={replace:!1})=>{l(y=>y.map(_=>{if(_.id===m){const w=typeof g=="function"?g(_):g;return b.replace&&kT(w)?w:{..._,...w}}return _}))},p=(m,g,b={replace:!1})=>{u(y=>y.map(_=>{if(_.id===m){const w=typeof g=="function"?g(_):g;return b.replace&&eie(w)?w:{..._,...w}}return _}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var g;return(g=o(m))==null?void 0:g.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(g=>({...g}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:l,setEdges:u,addNodes:m=>{const g=Array.isArray(m)?m:[m];n.nodeQueue.push(b=>[...b,...g])},addEdges:m=>{const g=Array.isArray(m)?m:[m];n.edgeQueue.push(b=>[...b,...g])},toObject:()=>{const{nodes:m=[],edges:g=[],transform:b}=t.getState(),[y,_,w]=b;return{nodes:m.map(S=>({...S})),edges:g.map(S=>({...S})),viewport:{x:y,y:_,zoom:w}}},deleteElements:async({nodes:m=[],edges:g=[]})=>{const{nodes:b,edges:y,onNodesDelete:_,onEdgesDelete:w,triggerNodeChanges:S,triggerEdgeChanges:j,onDelete:N,onBeforeDelete:C}=t.getState(),{nodes:A,edges:T}=await kne({nodesToRemove:m,edgesToRemove:g,nodes:b,edges:y,onBeforeDelete:C}),M=T.length>0,P=A.length>0;if(M){const U=T.map(ET);w==null||w(T),j(U)}if(P){const U=A.map(ET);_==null||_(A),S(U)}return(P||M)&&(N==null||N({nodes:A,edges:T})),{deletedNodes:A,deletedEdges:T}},getIntersectingNodes:(m,g=!0,b)=>{const y=QC(m),_=y?m:d(m),w=b!==void 0;return _?(b||t.getState().nodes).filter(S=>{const j=t.getState().nodeLookup.get(S.id);if(j&&!y&&(S.id===m.id||!j.internals.positionAbsolute))return!1;const N=ml(w?S:j),C=Cu(N,_);return g&&C>0||C>=N.width*N.height||C>=_.width*_.height}):[]},isNodeIntersecting:(m,g,b=!0)=>{const _=QC(m)?m:d(m);if(!_)return!1;const w=Cu(_,g);return b&&w>0||w>=g.width*g.height||w>=_.width*_.height},updateNode:f,updateNodeData:(m,g,b={replace:!1})=>{f(m,y=>{const _=typeof g=="function"?g(y):g;return b.replace?{...y,data:_}:{...y,data:{...y.data,..._}}},b)},updateEdge:p,updateEdgeData:(m,g,b={replace:!1})=>{p(m,y=>{const _=typeof g=="function"?g(y):g;return b.replace?{...y,data:_}:{...y,data:{...y.data,..._}}},b)},getNodesBounds:m=>{const{nodeLookup:g,nodeOrigin:b}=t.getState();return wne(m,{nodeLookup:g,nodeOrigin:b})},getHandleConnections:({type:m,id:g,nodeId:b})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${b}-${m}${g?`-${g}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:m,handleId:g,nodeId:b})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${b}${m?g?`-${m}-${g}`:`-${m}`:""}`))==null?void 0:y.values())??[])},fitView:async m=>{const g=t.getState().fitViewResolver??Ane();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:g}),n.nodeQueue.push(b=>[...b]),g.promise}}},[]);return E.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const CT=e=>e.selected,aie=typeof window<"u"?window:void 0;function oie({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=hn(),{deleteElements:r}=bS(),i=Au(e,{actInsideInputWithModifier:!1}),o=Au(t,{target:aie});E.useEffect(()=>{if(i){const{edges:l,nodes:u}=n.getState();r({nodes:u.filter(CT),edges:l.filter(CT)}),n.setState({nodesSelectionActive:!1})}},[i]),E.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function lie(e){const t=hn();E.useEffect(()=>{const n=()=>{var i,o,l,u;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=fS(e.current);(r.height===0||r.width===0)&&((u=(l=t.getState()).onError)==null||u.call(l,"004",Zi.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const pp={position:"absolute",width:"100%",height:"100%",top:0,left:0},cie=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function uie({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Ja.Free,zoomOnDoubleClick:l=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:f,minZoom:p,maxZoom:m,zoomActivationKeyCode:g,preventScrolling:b=!0,children:y,noWheelClassName:_,noPanClassName:w,onViewportChange:S,isControlledViewport:j,paneClickDistance:N,selectionOnDrag:C}){const A=hn(),T=E.useRef(null),{userSelectionActive:M,lib:P,connectionInProgress:U}=vt(cie,fn),z=Au(g),R=E.useRef();lie(T);const q=E.useCallback(Y=>{S==null||S({x:Y[0],y:Y[1],zoom:Y[2]}),j||A.setState({transform:Y})},[S,j]);return E.useEffect(()=>{if(T.current){R.current=hre({domNode:T.current,minZoom:p,maxZoom:m,translateExtent:f,viewport:d,onDraggingChange:B=>A.setState({paneDragging:B}),onPanZoomStart:(B,X)=>{const{onViewportChangeStart:W,onMoveStart:K}=A.getState();K==null||K(B,X),W==null||W(X)},onPanZoom:(B,X)=>{const{onViewportChange:W,onMove:K}=A.getState();K==null||K(B,X),W==null||W(X)},onPanZoomEnd:(B,X)=>{const{onViewportChangeEnd:W,onMoveEnd:K}=A.getState();K==null||K(B,X),W==null||W(X)}});const{x:Y,y:L,zoom:F}=R.current.getViewport();return A.setState({panZoom:R.current,transform:[Y,L,F],domNode:T.current.closest(".react-flow")}),()=>{var B;(B=R.current)==null||B.destroy()}}},[]),E.useEffect(()=>{var Y;(Y=R.current)==null||Y.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:l,panOnDrag:u,zoomActivationKeyPressed:z,preventScrolling:b,noPanClassName:w,userSelectionActive:M,noWheelClassName:_,lib:P,onTransformChange:q,connectionInProgress:U,selectionOnDrag:C,paneClickDistance:N})},[e,t,n,r,i,o,l,u,z,b,w,M,_,P,q,U,C,N]),a.jsx("div",{className:"react-flow__renderer",ref:T,style:pp,children:y})}const die=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function fie(){const{userSelectionActive:e,userSelectionRect:t}=vt(die,fn);return e&&t?a.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const q0=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},hie=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function pie({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ku.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:l,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:g,onPaneMouseLeave:b,children:y}){const _=hn(),{userSelectionActive:w,elementsSelectable:S,dragging:j,connectionInProgress:N}=vt(hie,fn),C=S&&(e||w),A=E.useRef(null),T=E.useRef(),M=E.useRef(new Set),P=E.useRef(new Set),U=E.useRef(!1),z=W=>{if(U.current||N){U.current=!1;return}d==null||d(W),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},R=W=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){W.preventDefault();return}f==null||f(W)},q=p?W=>p(W):void 0,Y=W=>{U.current&&(W.stopPropagation(),U.current=!1)},L=W=>{var Z,Q;const{domNode:K}=_.getState();if(T.current=K==null?void 0:K.getBoundingClientRect(),!T.current)return;const D=W.target===A.current;if(!D&&!!W.target.closest(".nokey")||!e||!(o&&D||t)||W.button!==0||!W.isPrimary)return;(Q=(Z=W.target)==null?void 0:Z.setPointerCapture)==null||Q.call(Z,W.pointerId),U.current=!1;const{x:I,y:V}=Mi(W.nativeEvent,T.current);_.setState({userSelectionRect:{width:0,height:0,startX:I,startY:V,x:I,y:V}}),D||(W.stopPropagation(),W.preventDefault())},F=W=>{const{userSelectionRect:K,transform:D,nodeLookup:$,edgeLookup:H,connectionLookup:I,triggerNodeChanges:V,triggerEdgeChanges:Z,defaultEdgeOptions:Q,resetSelectedElements:ae}=_.getState();if(!T.current||!K)return;const{x:te,y:ne}=Mi(W.nativeEvent,T.current),{startX:de,startY:ge}=K;if(!U.current){const be=t?0:i;if(Math.hypot(te-de,ne-ge)<=be)return;ae(),l==null||l(W)}U.current=!0;const re={startX:de,startY:ge,x:te<de?te:de,y:ne<ge?ne:ge,width:Math.abs(te-de),height:Math.abs(ne-ge)},ue=M.current,_e=P.current;M.current=new Set(uS($,re,D,n===ku.Partial,!0).map(be=>be.id)),P.current=new Set;const we=(Q==null?void 0:Q.selectable)??!0;for(const be of M.current){const je=I.get(be);if(je)for(const{edgeId:qe}of je.values()){const it=H.get(qe);it&&(it.selectable??we)&&P.current.add(qe)}}if(!JC(ue,M.current)){const be=il($,M.current,!0);V(be)}if(!JC(_e,P.current)){const be=il(H,P.current);Z(be)}_.setState({userSelectionRect:re,userSelectionActive:!0,nodesSelectionActive:!1})},B=W=>{var K,D;W.button===0&&((D=(K=W.target)==null?void 0:K.releasePointerCapture)==null||D.call(K,W.pointerId),!w&&W.target===A.current&&_.getState().userSelectionRect&&(z==null||z(W)),_.setState({userSelectionActive:!1,userSelectionRect:null}),U.current&&(u==null||u(W),_.setState({nodesSelectionActive:M.current.size>0})))},X=r===!0||Array.isArray(r)&&r.includes(0);return a.jsxs("div",{className:$n(["react-flow__pane",{draggable:X,dragging:j,selection:e}]),onClick:C?void 0:q0(z,A),onContextMenu:q0(R,A),onWheel:q0(q,A),onPointerEnter:C?void 0:m,onPointerMove:C?F:g,onPointerUp:C?B:void 0,onPointerDownCapture:C?L:void 0,onClickCapture:C?Y:void 0,onPointerLeave:b,ref:A,style:pp,children:[y,a.jsx(fie,{})]})}function Z_({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:l,nodeLookup:u,onError:d}=t.getState(),f=u.get(e);if(!f){d==null||d("012",Zi.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(o({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var p;return(p=r==null?void 0:r.current)==null?void 0:p.blur()})):i([e])}function EI({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:l}){const u=hn(),[d,f]=E.useState(!1),p=E.useRef();return E.useEffect(()=>{p.current=Jne({getStoreItems:()=>u.getState(),onNodeMouseDown:m=>{Z_({id:m,store:u,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),E.useEffect(()=>{var m,g;if(t)(m=p.current)==null||m.destroy();else if(e.current)return(g=p.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:l}),()=>{var b;(b=p.current)==null||b.destroy()}},[n,r,t,o,e,i]),d}const mie=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function kI(){const e=hn();return E.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:l,onError:u,updateNodePositions:d,nodeLookup:f,nodeOrigin:p}=e.getState(),m=new Map,g=mie(l),b=i?o[0]:5,y=i?o[1]:5,_=n.direction.x*b*n.factor,w=n.direction.y*y*n.factor;for(const[,S]of f){if(!g(S))continue;let j={x:S.internals.positionAbsolute.x+_,y:S.internals.positionAbsolute.y+w};i&&(j=Ju(j,o));const{position:N,positionAbsolute:C}=KL({nodeId:S.id,nextPosition:j,nodeLookup:f,nodeExtent:r,nodeOrigin:p,onError:u});S.position=N,S.internals.positionAbsolute=C,m.set(S.id,S)}d(m)},[])}const yS=E.createContext(null),gie=yS.Provider;yS.Consumer;const jI=()=>E.useContext(yS),xie=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),bie=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:l}=r,{fromHandle:u,toHandle:d,isValid:f}=l,p=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n,connectingTo:p,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===hl.Strict?(u==null?void 0:u.type)!==n:e!==(u==null?void 0:u.nodeId)||t!==(u==null?void 0:u.id),connectionInProcess:!!u,clickConnectionInProcess:!!i,valid:p&&f}};function yie({type:e="source",position:t=Be.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:l,onConnect:u,children:d,className:f,onMouseDown:p,onTouchStart:m,...g},b){var F,B;const y=l||null,_=e==="target",w=hn(),S=jI(),{connectOnClick:j,noPanClassName:N,rfId:C}=vt(xie,fn),{connectingFrom:A,connectingTo:T,clickConnecting:M,isPossibleEndHandle:P,connectionInProcess:U,clickConnectionInProcess:z,valid:R}=vt(bie(S,y,e),fn);S||(B=(F=w.getState()).onError)==null||B.call(F,"010",Zi.error010());const q=X=>{const{defaultEdgeOptions:W,onConnect:K,hasDefaultEdges:D}=w.getState(),$={...W,...X};if(D){const{edges:H,setEdges:I}=w.getState();I(zne($,H))}K==null||K($),u==null||u($)},Y=X=>{if(!S)return;const W=tI(X.nativeEvent);if(i&&(W&&X.button===0||!W)){const K=w.getState();X_.onPointerDown(X.nativeEvent,{handleDomNode:X.currentTarget,autoPanOnConnect:K.autoPanOnConnect,connectionMode:K.connectionMode,connectionRadius:K.connectionRadius,domNode:K.domNode,nodeLookup:K.nodeLookup,lib:K.lib,isTarget:_,handleId:y,nodeId:S,flowId:K.rfId,panBy:K.panBy,cancelConnection:K.cancelConnection,onConnectStart:K.onConnectStart,onConnectEnd:K.onConnectEnd,updateConnection:K.updateConnection,onConnect:q,isValidConnection:n||K.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:K.autoPanSpeed,dragThreshold:K.connectionDragThreshold})}W?p==null||p(X):m==null||m(X)},L=X=>{const{onClickConnectStart:W,onClickConnectEnd:K,connectionClickStartHandle:D,connectionMode:$,isValidConnection:H,lib:I,rfId:V,nodeLookup:Z,connection:Q}=w.getState();if(!S||!D&&!i)return;if(!D){W==null||W(X.nativeEvent,{nodeId:S,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:S,type:e,id:y}});return}const ae=JL(X.target),te=n||H,{connection:ne,isValid:de}=X_.isValid(X.nativeEvent,{handle:{nodeId:S,id:y,type:e},connectionMode:$,fromNodeId:D.nodeId,fromHandleId:D.id||null,fromType:D.type,isValidConnection:te,flowId:V,doc:ae,lib:I,nodeLookup:Z});de&&ne&&q(ne);const ge=structuredClone(Q);delete ge.inProgress,ge.toPosition=ge.toHandle?ge.toHandle.position:null,K==null||K(X,ge),w.setState({connectionClickStartHandle:null})};return a.jsx("div",{"data-handleid":y,"data-nodeid":S,"data-handlepos":t,"data-id":`${C}-${S}-${y}-${e}`,className:$n(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,f,{source:!_,target:_,connectable:r,connectablestart:i,connectableend:o,clickconnecting:M,connectingfrom:A,connectingto:T,valid:R,connectionindicator:r&&(!U||P)&&(U||z?o:i)}]),onMouseDown:Y,onTouchStart:Y,onClick:j?L:void 0,ref:b,...g,children:d})}const bl=E.memo(SI(yie));function vie({data:e,isConnectable:t,sourcePosition:n=Be.Bottom}){return a.jsxs(a.Fragment,{children:[e==null?void 0:e.label,a.jsx(bl,{type:"source",position:n,isConnectable:t})]})}function _ie({data:e,isConnectable:t,targetPosition:n=Be.Top,sourcePosition:r=Be.Bottom}){return a.jsxs(a.Fragment,{children:[a.jsx(bl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,a.jsx(bl,{type:"source",position:r,isConnectable:t})]})}function wie(){return null}function Sie({data:e,isConnectable:t,targetPosition:n=Be.Top}){return a.jsxs(a.Fragment,{children:[a.jsx(bl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Dh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},TT={input:vie,default:_ie,output:Sie,group:wie};function Nie(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const Eie=e=>{const{width:t,height:n,x:r,y:i}=Qu(e.nodeLookup,{filter:o=>!!o.selected});return{width:Ai(t)?t:null,height:Ai(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function kie({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=hn(),{width:i,height:o,transformString:l,userSelectionActive:u}=vt(Eie,fn),d=kI(),f=E.useRef(null);if(E.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),EI({nodeRef:f}),u||!i||!o)return null;const p=e?g=>{const b=r.getState().nodes.filter(y=>y.selected);e(g,b)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(Dh,g.key)&&(g.preventDefault(),d({direction:Dh[g.key],factor:g.shiftKey?4:1}))};return a.jsx("div",{className:$n(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:a.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:o}})})}const AT=typeof window<"u"?window:void 0,jie=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function CI({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,paneClickDistance:u,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:b,multiSelectionKeyCode:y,panActivationKeyCode:_,zoomActivationKeyCode:w,elementsSelectable:S,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:C,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:P,defaultViewport:U,translateExtent:z,minZoom:R,maxZoom:q,preventScrolling:Y,onSelectionContextMenu:L,noWheelClassName:F,noPanClassName:B,disableKeyboardA11y:X,onViewportChange:W,isControlledViewport:K}){const{nodesSelectionActive:D,userSelectionActive:$}=vt(jie,fn),H=Au(f,{target:AT}),I=Au(_,{target:AT}),V=I||P,Z=I||C,Q=p&&V!==!0,ae=H||$||Q;return oie({deleteKeyCode:d,multiSelectionKeyCode:y}),a.jsx(uie,{onPaneContextMenu:o,elementsSelectable:S,zoomOnScroll:j,zoomOnPinch:N,panOnScroll:Z,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:!H&&V,defaultViewport:U,translateExtent:z,minZoom:R,maxZoom:q,zoomActivationKeyCode:w,preventScrolling:Y,noWheelClassName:F,noPanClassName:B,onViewportChange:W,isControlledViewport:K,paneClickDistance:u,selectionOnDrag:Q,children:a.jsxs(pie,{onSelectionStart:g,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,panOnDrag:V,isSelecting:!!ae,selectionMode:m,selectionKeyPressed:H,paneClickDistance:u,selectionOnDrag:Q,children:[e,D&&a.jsx(kie,{onSelectionContextMenu:L,noPanClassName:B,disableKeyboardA11y:X})]})})}CI.displayName="FlowRenderer";const Cie=E.memo(CI),Tie=e=>t=>e?uS(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Aie(e){return vt(E.useCallback(Tie(e),[e]),fn)}const Mie=e=>e.updateNodeInternals;function Rie(){const e=vt(Mie),[t]=E.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return E.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Oie({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=hn(),o=E.useRef(null),l=E.useRef(null),u=E.useRef(e.sourcePosition),d=E.useRef(e.targetPosition),f=E.useRef(t),p=n&&!!e.internals.handleBounds;return E.useEffect(()=>{o.current&&!e.hidden&&(!p||l.current!==o.current)&&(l.current&&(r==null||r.unobserve(l.current)),r==null||r.observe(o.current),l.current=o.current)},[p,e.hidden]),E.useEffect(()=>()=>{l.current&&(r==null||r.unobserve(l.current),l.current=null)},[]),E.useEffect(()=>{if(o.current){const m=f.current!==t,g=u.current!==e.sourcePosition,b=d.current!==e.targetPosition;(m||g||b)&&(f.current=t,u.current=e.sourcePosition,d.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function Die({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:l,nodesDraggable:u,elementsSelectable:d,nodesConnectable:f,nodesFocusable:p,resizeObserver:m,noDragClassName:g,noPanClassName:b,disableKeyboardA11y:y,rfId:_,nodeTypes:w,nodeClickDistance:S,onError:j}){const{node:N,internals:C,isParent:A}=vt(te=>{const ne=te.nodeLookup.get(e),de=te.parentLookup.has(e);return{node:ne,internals:ne.internals,isParent:de}},fn);let T=N.type||"default",M=(w==null?void 0:w[T])||TT[T];M===void 0&&(j==null||j("003",Zi.error003(T)),T="default",M=(w==null?void 0:w.default)||TT.default);const P=!!(N.draggable||u&&typeof N.draggable>"u"),U=!!(N.selectable||d&&typeof N.selectable>"u"),z=!!(N.connectable||f&&typeof N.connectable>"u"),R=!!(N.focusable||p&&typeof N.focusable>"u"),q=hn(),Y=ZL(N),L=Oie({node:N,nodeType:T,hasDimensions:Y,resizeObserver:m}),F=EI({nodeRef:L,disabled:N.hidden||!P,noDragClassName:g,handleSelector:N.dragHandle,nodeId:e,isSelectable:U,nodeClickDistance:S}),B=kI();if(N.hidden)return null;const X=Ls(N),W=Nie(N),K=U||P||t||n||r||i,D=n?te=>n(te,{...C.userNode}):void 0,$=r?te=>r(te,{...C.userNode}):void 0,H=i?te=>i(te,{...C.userNode}):void 0,I=o?te=>o(te,{...C.userNode}):void 0,V=l?te=>l(te,{...C.userNode}):void 0,Z=te=>{const{selectNodesOnDrag:ne,nodeDragThreshold:de}=q.getState();U&&(!ne||!P||de>0)&&Z_({id:e,store:q,nodeRef:L}),t&&t(te,{...C.userNode})},Q=te=>{if(!(eI(te.nativeEvent)||y)){if(qL.includes(te.key)&&U){const ne=te.key==="Escape";Z_({id:e,store:q,unselect:ne,nodeRef:L})}else if(P&&N.selected&&Object.prototype.hasOwnProperty.call(Dh,te.key)){te.preventDefault();const{ariaLabelConfig:ne}=q.getState();q.setState({ariaLiveMessage:ne["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),B({direction:Dh[te.key],factor:te.shiftKey?4:1})}}},ae=()=>{var _e;if(y||!((_e=L.current)!=null&&_e.matches(":focus-visible")))return;const{transform:te,width:ne,height:de,autoPanOnNodeFocus:ge,setCenter:re}=q.getState();if(!ge)return;uS(new Map([[e,N]]),{x:0,y:0,width:ne,height:de},te,!0).length>0||re(N.position.x+X.width/2,N.position.y+X.height/2,{zoom:te[2]})};return a.jsx("div",{className:$n(["react-flow__node",`react-flow__node-${T}`,{[b]:P},N.className,{selected:N.selected,selectable:U,parent:A,draggable:P,dragging:F}]),ref:L,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:K?"all":"none",visibility:Y?"visible":"hidden",...N.style,...W},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:D,onMouseMove:$,onMouseLeave:H,onContextMenu:I,onClick:Z,onDoubleClick:V,onKeyDown:R?Q:void 0,tabIndex:R?0:void 0,onFocus:R?ae:void 0,role:N.ariaRole??(R?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${yI}-${_}`,"aria-label":N.ariaLabel,...N.domAttributes,children:a.jsx(gie,{value:e,children:a.jsx(M,{id:e,data:N.data,type:T,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:N.selected??!1,selectable:U,draggable:P,deletable:N.deletable??!0,isConnectable:z,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:F,dragHandle:N.dragHandle,zIndex:C.z,parentId:N.parentId,...X})})})}var Lie=E.memo(Die);const Iie=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function TI(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=vt(Iie,fn),l=Aie(e.onlyRenderVisibleElements),u=Rie();return a.jsx("div",{className:"react-flow__nodes",style:pp,children:l.map(d=>a.jsx(Lie,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},d))})}TI.displayName="NodeRenderer";const zie=E.memo(TI);function Pie(e){return vt(E.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);o&&l&&Dne({sourceNode:o,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),fn)}const Bie=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return a.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},$ie=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return a.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},MT={[ju.Arrow]:Bie,[ju.ArrowClosed]:$ie};function Uie(e){const t=hn();return E.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(MT,e)?MT[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",Zi.error009(e)),null)},[e])}const qie=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:l,orient:u="auto-start-reverse"})=>{const d=Uie(t);return d?a.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:u,refX:"0",refY:"0",children:a.jsx(d,{color:n,strokeWidth:l})}):null},AI=({defaultColor:e,rfId:t})=>{const n=vt(o=>o.edges),r=vt(o=>o.defaultEdgeOptions),i=E.useMemo(()=>qne(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?a.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:a.jsx("defs",{children:i.map(o=>a.jsx(qie,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};AI.displayName="MarkerDefinitions";var Fie=E.memo(AI);function MI({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...p}){const[m,g]=E.useState({x:1,y:0,width:0,height:0}),b=$n(["react-flow__edge-textwrapper",f]),y=E.useRef(null);return E.useEffect(()=>{if(y.current){const _=y.current.getBBox();g({x:_.x,y:_.y,width:_.width,height:_.height})}},[n]),n?a.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:b,visibility:m.width?"visible":"hidden",...p,children:[i&&a.jsx("rect",{width:m.width+2*l[0],x:-l[0],y:-l[1],height:m.height+2*l[1],className:"react-flow__edge-textbg",style:o,rx:u,ry:u}),a.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:y,style:r,children:n}),d]}):null}MI.displayName="EdgeText";const Hie=E.memo(MI);function mp({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:f=20,...p}){return a.jsxs(a.Fragment,{children:[a.jsx("path",{...p,d:e,fill:"none",className:$n(["react-flow__edge-path",p.className])}),f?a.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Ai(t)&&Ai(n)?a.jsx(Hie,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function RT({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Be.Left||e===Be.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function RI({sourceX:e,sourceY:t,sourcePosition:n=Be.Bottom,targetX:r,targetY:i,targetPosition:o=Be.Top}){const[l,u]=RT({pos:n,x1:e,y1:t,x2:r,y2:i}),[d,f]=RT({pos:o,x1:r,y1:i,x2:e,y2:t}),[p,m,g,b]=nI({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${u} ${d},${f} ${r},${i}`,p,m,g,b]}function OI(e){return E.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l,targetPosition:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:b,style:y,markerEnd:_,markerStart:w,interactionWidth:S})=>{const[j,N,C]=RI({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:u}),A=e.isInternal?void 0:t;return a.jsx(mp,{id:A,path:j,labelX:N,labelY:C,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:b,style:y,markerEnd:_,markerStart:w,interactionWidth:S})})}const Gie=OI({isInternal:!1}),DI=OI({isInternal:!0});Gie.displayName="SimpleBezierEdge";DI.displayName="SimpleBezierEdgeInternal";function LI(e){return E.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,sourcePosition:b=Be.Bottom,targetPosition:y=Be.Top,markerEnd:_,markerStart:w,pathOptions:S,interactionWidth:j})=>{const[N,C,A]=K_({sourceX:n,sourceY:r,sourcePosition:b,targetX:i,targetY:o,targetPosition:y,borderRadius:S==null?void 0:S.borderRadius,offset:S==null?void 0:S.offset,stepPosition:S==null?void 0:S.stepPosition}),T=e.isInternal?void 0:t;return a.jsx(mp,{id:T,path:N,labelX:C,labelY:A,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:_,markerStart:w,interactionWidth:j})})}const II=LI({isInternal:!1}),zI=LI({isInternal:!0});II.displayName="SmoothStepEdge";zI.displayName="SmoothStepEdgeInternal";function PI(e){return E.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return a.jsx(II,{...n,id:r,pathOptions:E.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const Vie=PI({isInternal:!1}),BI=PI({isInternal:!0});Vie.displayName="StepEdge";BI.displayName="StepEdgeInternal";function $I(e){return E.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:b,markerStart:y,interactionWidth:_})=>{const[w,S,j]=sI({sourceX:n,sourceY:r,targetX:i,targetY:o}),N=e.isInternal?void 0:t;return a.jsx(mp,{id:N,path:w,labelX:S,labelY:j,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:b,markerStart:y,interactionWidth:_})})}const Kie=$I({isInternal:!1}),UI=$I({isInternal:!0});Kie.displayName="StraightEdge";UI.displayName="StraightEdgeInternal";function qI(e){return E.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l=Be.Bottom,targetPosition:u=Be.Top,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:b,style:y,markerEnd:_,markerStart:w,pathOptions:S,interactionWidth:j})=>{const[N,C,A]=rI({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:u,curvature:S==null?void 0:S.curvature}),T=e.isInternal?void 0:t;return a.jsx(mp,{id:T,path:N,labelX:C,labelY:A,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:b,style:y,markerEnd:_,markerStart:w,interactionWidth:j})})}const Yie=qI({isInternal:!1}),FI=qI({isInternal:!0});Yie.displayName="BezierEdge";FI.displayName="BezierEdgeInternal";const OT={default:FI,straight:UI,step:BI,smoothstep:zI,simplebezier:DI},DT={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Wie=(e,t,n)=>n===Be.Left?e-t:n===Be.Right?e+t:e,Xie=(e,t,n)=>n===Be.Top?e-t:n===Be.Bottom?e+t:e,LT="react-flow__edgeupdater";function IT({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:l,type:u}){return a.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:l,className:$n([LT,`${LT}-${u}`]),cx:Wie(t,r,e),cy:Xie(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Zie({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:l,sourcePosition:u,targetPosition:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,setReconnecting:g,setUpdateHover:b}){const y=hn(),_=(C,A)=>{if(C.button!==0)return;const{autoPanOnConnect:T,domNode:M,isValidConnection:P,connectionMode:U,connectionRadius:z,lib:R,onConnectStart:q,onConnectEnd:Y,cancelConnection:L,nodeLookup:F,rfId:B,panBy:X,updateConnection:W}=y.getState(),K=A.type==="target",D=(I,V)=>{g(!1),m==null||m(I,n,A.type,V)},$=I=>f==null?void 0:f(n,I),H=(I,V)=>{g(!0),p==null||p(C,n,A.type),q==null||q(I,V)};X_.onPointerDown(C.nativeEvent,{autoPanOnConnect:T,connectionMode:U,connectionRadius:z,domNode:M,handleId:A.id,nodeId:A.nodeId,nodeLookup:F,isTarget:K,edgeUpdaterType:A.type,lib:R,flowId:B,cancelConnection:L,panBy:X,isValidConnection:P,onConnect:$,onConnectStart:H,onConnectEnd:Y,onReconnectEnd:D,updateConnection:W,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:C.currentTarget})},w=C=>_(C,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),S=C=>_(C,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),j=()=>b(!0),N=()=>b(!1);return a.jsxs(a.Fragment,{children:[(e===!0||e==="source")&&a.jsx(IT,{position:u,centerX:r,centerY:i,radius:t,onMouseDown:w,onMouseEnter:j,onMouseOut:N,type:"source"}),(e===!0||e==="target")&&a.jsx(IT,{position:d,centerX:o,centerY:l,radius:t,onMouseDown:S,onMouseEnter:j,onMouseOut:N,type:"target"})]})}function Qie({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:b,rfId:y,edgeTypes:_,noPanClassName:w,onError:S,disableKeyboardA11y:j}){let N=vt(re=>re.edgeLookup.get(e));const C=vt(re=>re.defaultEdgeOptions);N=C?{...C,...N}:N;let A=N.type||"default",T=(_==null?void 0:_[A])||OT[A];T===void 0&&(S==null||S("011",Zi.error011(A)),A="default",T=(_==null?void 0:_.default)||OT.default);const M=!!(N.focusable||t&&typeof N.focusable>"u"),P=typeof m<"u"&&(N.reconnectable||n&&typeof N.reconnectable>"u"),U=!!(N.selectable||r&&typeof N.selectable>"u"),z=E.useRef(null),[R,q]=E.useState(!1),[Y,L]=E.useState(!1),F=hn(),{zIndex:B,sourceX:X,sourceY:W,targetX:K,targetY:D,sourcePosition:$,targetPosition:H}=vt(E.useCallback(re=>{const ue=re.nodeLookup.get(N.source),_e=re.nodeLookup.get(N.target);if(!ue||!_e)return{zIndex:N.zIndex,...DT};const we=Une({id:e,sourceNode:ue,targetNode:_e,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:re.connectionMode,onError:S});return{zIndex:One({selected:N.selected,zIndex:N.zIndex,sourceNode:ue,targetNode:_e,elevateOnSelect:re.elevateEdgesOnSelect,zIndexMode:re.zIndexMode}),...we||DT}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),fn),I=E.useMemo(()=>N.markerStart?`url('#${Y_(N.markerStart,y)}')`:void 0,[N.markerStart,y]),V=E.useMemo(()=>N.markerEnd?`url('#${Y_(N.markerEnd,y)}')`:void 0,[N.markerEnd,y]);if(N.hidden||X===null||W===null||K===null||D===null)return null;const Z=re=>{var be;const{addSelectedEdges:ue,unselectNodesAndEdges:_e,multiSelectionActive:we}=F.getState();U&&(F.setState({nodesSelectionActive:!1}),N.selected&&we?(_e({nodes:[],edges:[N]}),(be=z.current)==null||be.blur()):ue([e])),i&&i(re,N)},Q=o?re=>{o(re,{...N})}:void 0,ae=l?re=>{l(re,{...N})}:void 0,te=u?re=>{u(re,{...N})}:void 0,ne=d?re=>{d(re,{...N})}:void 0,de=f?re=>{f(re,{...N})}:void 0,ge=re=>{var ue;if(!j&&qL.includes(re.key)&&U){const{unselectNodesAndEdges:_e,addSelectedEdges:we}=F.getState();re.key==="Escape"?((ue=z.current)==null||ue.blur(),_e({edges:[N]})):we([e])}};return a.jsx("svg",{style:{zIndex:B},children:a.jsxs("g",{className:$n(["react-flow__edge",`react-flow__edge-${A}`,N.className,w,{selected:N.selected,animated:N.animated,inactive:!U&&!i,updating:R,selectable:U}]),onClick:Z,onDoubleClick:Q,onContextMenu:ae,onMouseEnter:te,onMouseMove:ne,onMouseLeave:de,onKeyDown:M?ge:void 0,tabIndex:M?0:void 0,role:N.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":M?`${vI}-${y}`:void 0,ref:z,...N.domAttributes,children:[!Y&&a.jsx(T,{id:e,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:U,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:X,sourceY:W,targetX:K,targetY:D,sourcePosition:$,targetPosition:H,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:I,markerEnd:V,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),P&&a.jsx(Zie,{edge:N,isReconnectable:P,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:b,sourceX:X,sourceY:W,targetX:K,targetY:D,sourcePosition:$,targetPosition:H,setUpdateHover:q,setReconnecting:L})]})})}var Jie=E.memo(Qie);const ese=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function HI({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:p,reconnectRadius:m,onEdgeDoubleClick:g,onReconnectStart:b,onReconnectEnd:y,disableKeyboardA11y:_}){const{edgesFocusable:w,edgesReconnectable:S,elementsSelectable:j,onError:N}=vt(ese,fn),C=Pie(t);return a.jsxs("div",{className:"react-flow__edges",children:[a.jsx(Fie,{defaultColor:e,rfId:n}),C.map(A=>a.jsx(Jie,{id:A,edgesFocusable:w,edgesReconnectable:S,elementsSelectable:j,noPanClassName:i,onReconnect:o,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:p,reconnectRadius:m,onDoubleClick:g,onReconnectStart:b,onReconnectEnd:y,rfId:n,onError:N,edgeTypes:r,disableKeyboardA11y:_},A))]})}HI.displayName="EdgeRenderer";const tse=E.memo(HI),nse=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function rse({children:e}){const t=vt(nse);return a.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function ise(e){const t=bS(),n=E.useRef(!1);E.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const sse=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function ase(e){const t=vt(sse),n=hn();return E.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function ose(e){return e.connection.inProgress?{...e.connection,to:ed(e.connection.to,e.transform)}:{...e.connection}}function lse(e){return ose}function cse(e){const t=lse();return vt(t,fn)}const use=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function dse({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:l,isValid:u,inProgress:d}=vt(use,fn);return!(o&&i&&d)?null:a.jsx("svg",{style:e,width:o,height:l,className:"react-flow__connectionline react-flow__container",children:a.jsx("g",{className:$n(["react-flow__connection",GL(u)]),children:a.jsx(GI,{style:t,type:n,CustomComponent:r,isValid:u})})})}const GI=({style:e,type:t=ba.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:l,fromHandle:u,fromPosition:d,to:f,toNode:p,toHandle:m,toPosition:g,pointer:b}=cse();if(!i)return;if(n)return a.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:o.x,fromY:o.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:GL(r),toNode:p,toHandle:m,pointer:b});let y="";const _={sourceX:o.x,sourceY:o.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case ba.Bezier:[y]=rI(_);break;case ba.SimpleBezier:[y]=RI(_);break;case ba.Step:[y]=K_({..._,borderRadius:0});break;case ba.SmoothStep:[y]=K_(_);break;default:[y]=sI(_)}return a.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};GI.displayName="ConnectionLine";const fse={};function zT(e=fse){E.useRef(e),hn(),E.useEffect(()=>{},[e])}function hse(){hn(),E.useRef(!1),E.useEffect(()=>{},[])}function VI({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:b,connectionLineType:y,connectionLineStyle:_,connectionLineComponent:w,connectionLineContainerStyle:S,selectionKeyCode:j,selectionOnDrag:N,selectionMode:C,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:M,deleteKeyCode:P,onlyRenderVisibleElements:U,elementsSelectable:z,defaultViewport:R,translateExtent:q,minZoom:Y,maxZoom:L,preventScrolling:F,defaultMarkerColor:B,zoomOnScroll:X,zoomOnPinch:W,panOnScroll:K,panOnScrollSpeed:D,panOnScrollMode:$,zoomOnDoubleClick:H,panOnDrag:I,onPaneClick:V,onPaneMouseEnter:Z,onPaneMouseMove:Q,onPaneMouseLeave:ae,onPaneScroll:te,onPaneContextMenu:ne,paneClickDistance:de,nodeClickDistance:ge,onEdgeContextMenu:re,onEdgeMouseEnter:ue,onEdgeMouseMove:_e,onEdgeMouseLeave:we,reconnectRadius:be,onReconnect:je,onReconnectStart:qe,onReconnectEnd:it,noDragClassName:Ht,noWheelClassName:mn,noPanClassName:rn,disableKeyboardA11y:Dt,nodeExtent:ht,rfId:Gn,viewport:he,onViewportChange:Se}){return zT(e),zT(t),hse(),ise(n),ase(he),a.jsx(Cie,{onPaneClick:V,onPaneMouseEnter:Z,onPaneMouseMove:Q,onPaneMouseLeave:ae,onPaneContextMenu:ne,onPaneScroll:te,paneClickDistance:de,deleteKeyCode:P,selectionKeyCode:j,selectionOnDrag:N,selectionMode:C,onSelectionStart:g,onSelectionEnd:b,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:M,elementsSelectable:z,zoomOnScroll:X,zoomOnPinch:W,zoomOnDoubleClick:H,panOnScroll:K,panOnScrollSpeed:D,panOnScrollMode:$,panOnDrag:I,defaultViewport:R,translateExtent:q,minZoom:Y,maxZoom:L,onSelectionContextMenu:m,preventScrolling:F,noDragClassName:Ht,noWheelClassName:mn,noPanClassName:rn,disableKeyboardA11y:Dt,onViewportChange:Se,isControlledViewport:!!he,children:a.jsxs(rse,{children:[a.jsx(tse,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:je,onReconnectStart:qe,onReconnectEnd:it,onlyRenderVisibleElements:U,onEdgeContextMenu:re,onEdgeMouseEnter:ue,onEdgeMouseMove:_e,onEdgeMouseLeave:we,reconnectRadius:be,defaultMarkerColor:B,noPanClassName:rn,disableKeyboardA11y:Dt,rfId:Gn}),a.jsx(dse,{style:_,type:y,component:w,containerStyle:S}),a.jsx("div",{className:"react-flow__edgelabel-renderer"}),a.jsx(zie,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,nodeClickDistance:ge,onlyRenderVisibleElements:U,noPanClassName:rn,noDragClassName:Ht,disableKeyboardA11y:Dt,nodeExtent:ht,rfId:Gn}),a.jsx("div",{className:"react-flow__viewport-portal"})]})})}VI.displayName="GraphView";const pse=E.memo(VI),PT=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:u,minZoom:d=.5,maxZoom:f=2,nodeOrigin:p,nodeExtent:m,zIndexMode:g="basic"}={})=>{const b=new Map,y=new Map,_=new Map,w=new Map,S=r??t??[],j=n??e??[],N=p??[0,0],C=m??Eu;lI(_,w,S);const A=W_(j,b,y,{nodeOrigin:N,nodeExtent:C,zIndexMode:g});let T=[0,0,1];if(l&&i&&o){const M=Qu(b,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:P,y:U,zoom:z}=dS(M,i,o,d,f,(u==null?void 0:u.padding)??.1);T=[P,U,z]}return{rfId:"1",width:i??0,height:o??0,transform:T,nodes:j,nodesInitialized:A,nodeLookup:b,parentLookup:y,edges:S,edgeLookup:w,connectionLookup:_,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:Eu,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:hl.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:u,fitViewResolver:null,connection:{...HL},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:jne,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:FL,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},mse=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:m,zIndexMode:g})=>Mre((b,y)=>{async function _(){const{nodeLookup:w,panZoom:S,fitViewOptions:j,fitViewResolver:N,width:C,height:A,minZoom:T,maxZoom:M}=y();S&&(await Ene({nodes:w,width:C,height:A,panZoom:S,minZoom:T,maxZoom:M},j),N==null||N.resolve(!0),b({fitViewResolver:null}))}return{...PT({nodes:e,edges:t,width:i,height:o,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:m,defaultNodes:n,defaultEdges:r,zIndexMode:g}),setNodes:w=>{const{nodeLookup:S,parentLookup:j,nodeOrigin:N,elevateNodesOnSelect:C,fitViewQueued:A,zIndexMode:T}=y(),M=W_(w,S,j,{nodeOrigin:N,nodeExtent:m,elevateNodesOnSelect:C,checkEquality:!0,zIndexMode:T});A&&M?(_(),b({nodes:w,nodesInitialized:M,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:w,nodesInitialized:M})},setEdges:w=>{const{connectionLookup:S,edgeLookup:j}=y();lI(S,j,w),b({edges:w})},setDefaultNodesAndEdges:(w,S)=>{if(w){const{setNodes:j}=y();j(w),b({hasDefaultNodes:!0})}if(S){const{setEdges:j}=y();j(S),b({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:S,nodeLookup:j,parentLookup:N,domNode:C,nodeOrigin:A,nodeExtent:T,debug:M,fitViewQueued:P,zIndexMode:U}=y(),{changes:z,updatedInternals:R}=Wne(w,j,N,C,A,T,U);R&&(Gne(j,N,{nodeOrigin:A,nodeExtent:T,zIndexMode:U}),P?(_(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),(z==null?void 0:z.length)>0&&(M&&console.log("React Flow: trigger node changes",z),S==null||S(z)))},updateNodePositions:(w,S=!1)=>{const j=[];let N=[];const{nodeLookup:C,triggerNodeChanges:A,connection:T,updateConnection:M,onNodesChangeMiddlewareMap:P}=y();for(const[U,z]of w){const R=C.get(U),q=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&(z!=null&&z.position)),Y={id:U,type:"position",position:q?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:S};if(R&&T.inProgress&&T.fromNode.id===R.id){const L=ao(R,T.fromHandle,Be.Left,!0);M({...T,from:L})}q&&R.parentId&&j.push({id:U,parentId:R.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),N.push(Y)}if(j.length>0){const{parentLookup:U,nodeOrigin:z}=y(),R=xS(j,C,U,z);N.push(...R)}for(const U of P.values())N=U(N);A(N)},triggerNodeChanges:w=>{const{onNodesChange:S,setNodes:j,nodes:N,hasDefaultNodes:C,debug:A}=y();if(w!=null&&w.length){if(C){const T=Qre(w,N);j(T)}A&&console.log("React Flow: trigger node changes",w),S==null||S(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:S,setEdges:j,edges:N,hasDefaultEdges:C,debug:A}=y();if(w!=null&&w.length){if(C){const T=Jre(w,N);j(T)}A&&console.log("React Flow: trigger edge changes",w),S==null||S(w)}},addSelectedNodes:w=>{const{multiSelectionActive:S,edgeLookup:j,nodeLookup:N,triggerNodeChanges:C,triggerEdgeChanges:A}=y();if(S){const T=w.map(M=>Wa(M,!0));C(T);return}C(il(N,new Set([...w]),!0)),A(il(j))},addSelectedEdges:w=>{const{multiSelectionActive:S,edgeLookup:j,nodeLookup:N,triggerNodeChanges:C,triggerEdgeChanges:A}=y();if(S){const T=w.map(M=>Wa(M,!0));A(T);return}A(il(j,new Set([...w]))),C(il(N,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:S}={})=>{const{edges:j,nodes:N,nodeLookup:C,triggerNodeChanges:A,triggerEdgeChanges:T}=y(),M=w||N,P=S||j,U=M.map(R=>{const q=C.get(R.id);return q&&(q.selected=!1),Wa(R.id,!1)}),z=P.map(R=>Wa(R.id,!1));A(U),T(z)},setMinZoom:w=>{const{panZoom:S,maxZoom:j}=y();S==null||S.setScaleExtent([w,j]),b({minZoom:w})},setMaxZoom:w=>{const{panZoom:S,minZoom:j}=y();S==null||S.setScaleExtent([j,w]),b({maxZoom:w})},setTranslateExtent:w=>{var S;(S=y().panZoom)==null||S.setTranslateExtent(w),b({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:S,triggerNodeChanges:j,triggerEdgeChanges:N,elementsSelectable:C}=y();if(!C)return;const A=S.reduce((M,P)=>P.selected?[...M,Wa(P.id,!1)]:M,[]),T=w.reduce((M,P)=>P.selected?[...M,Wa(P.id,!1)]:M,[]);j(A),N(T)},setNodeExtent:w=>{const{nodes:S,nodeLookup:j,parentLookup:N,nodeOrigin:C,elevateNodesOnSelect:A,nodeExtent:T,zIndexMode:M}=y();w[0][0]===T[0][0]&&w[0][1]===T[0][1]&&w[1][0]===T[1][0]&&w[1][1]===T[1][1]||(W_(S,j,N,{nodeOrigin:C,nodeExtent:w,elevateNodesOnSelect:A,checkEquality:!1,zIndexMode:M}),b({nodeExtent:w}))},panBy:w=>{const{transform:S,width:j,height:N,panZoom:C,translateExtent:A}=y();return Xne({delta:w,panZoom:C,transform:S,translateExtent:A,width:j,height:N})},setCenter:async(w,S,j)=>{const{width:N,height:C,maxZoom:A,panZoom:T}=y();if(!T)return Promise.resolve(!1);const M=typeof(j==null?void 0:j.zoom)<"u"?j.zoom:A;return await T.setViewport({x:N/2-w*M,y:C/2-S*M,zoom:M},{duration:j==null?void 0:j.duration,ease:j==null?void 0:j.ease,interpolate:j==null?void 0:j.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...HL}})},updateConnection:w=>{b({connection:w})},reset:()=>b({...PT()})}},Object.is);function gse({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:l,initialMaxZoom:u,initialFitViewOptions:d,fitView:f,nodeOrigin:p,nodeExtent:m,zIndexMode:g,children:b}){const[y]=E.useState(()=>mse({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:f,minZoom:l,maxZoom:u,fitViewOptions:d,nodeOrigin:p,nodeExtent:m,zIndexMode:g}));return a.jsx(Rre,{value:y,children:a.jsx(rie,{children:b})})}function xse({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:l,fitView:u,fitViewOptions:d,minZoom:f,maxZoom:p,nodeOrigin:m,nodeExtent:g,zIndexMode:b}){return E.useContext(fp)?a.jsx(a.Fragment,{children:e}):a.jsx(gse,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:l,fitView:u,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:p,nodeOrigin:m,nodeExtent:g,zIndexMode:b,children:e})}const bse={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function yse({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:l,onNodeClick:u,onEdgeClick:d,onInit:f,onMove:p,onMoveStart:m,onMoveEnd:g,onConnect:b,onConnectStart:y,onConnectEnd:_,onClickConnectStart:w,onClickConnectEnd:S,onNodeMouseEnter:j,onNodeMouseMove:N,onNodeMouseLeave:C,onNodeContextMenu:A,onNodeDoubleClick:T,onNodeDragStart:M,onNodeDrag:P,onNodeDragStop:U,onNodesDelete:z,onEdgesDelete:R,onDelete:q,onSelectionChange:Y,onSelectionDragStart:L,onSelectionDrag:F,onSelectionDragStop:B,onSelectionContextMenu:X,onSelectionStart:W,onSelectionEnd:K,onBeforeDelete:D,connectionMode:$,connectionLineType:H=ba.Bezier,connectionLineStyle:I,connectionLineComponent:V,connectionLineContainerStyle:Z,deleteKeyCode:Q="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:te=!1,selectionMode:ne=ku.Full,panActivationKeyCode:de="Space",multiSelectionKeyCode:ge=Tu()?"Meta":"Control",zoomActivationKeyCode:re=Tu()?"Meta":"Control",snapToGrid:ue,snapGrid:_e,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:be,nodesDraggable:je,autoPanOnNodeFocus:qe,nodesConnectable:it,nodesFocusable:Ht,nodeOrigin:mn=_I,edgesFocusable:rn,edgesReconnectable:Dt,elementsSelectable:ht=!0,defaultViewport:Gn=Gre,minZoom:he=.5,maxZoom:Se=2,translateExtent:Re=Eu,preventScrolling:He=!0,nodeExtent:We,defaultMarkerColor:Gt="#b1b1b7",zoomOnScroll:qn=!0,zoomOnPinch:Lt=!0,panOnScroll:mt=!1,panOnScrollSpeed:vn=.5,panOnScrollMode:gt=Ja.Free,zoomOnDoubleClick:yr=!0,panOnDrag:Rn=!0,onPaneClick:Ps,onPaneMouseEnter:bi,onPaneMouseMove:Bi,onPaneMouseLeave:tn,onPaneScroll:It,onPaneContextMenu:J,paneClickDistance:pe=1,nodeClickDistance:Ee=0,children:De,onReconnect:rt,onReconnectStart:lt,onReconnectEnd:Te,onEdgeContextMenu:Ae,onEdgeDoubleClick:Le,onEdgeMouseEnter:_t,onEdgeMouseMove:wt,onEdgeMouseLeave:Zn,reconnectRadius:Qn=10,onNodesChange:vr,onEdgesChange:ir,noDragClassName:gn="nodrag",noWheelClassName:Vn="nowheel",noPanClassName:yi="nopan",fitView:Bs,fitViewOptions:ja,connectOnClick:$s,attributionPosition:xo,proOptions:ts,defaultEdgeOptions:Ca,elevateNodesOnSelect:Jn=!0,elevateEdgesOnSelect:vi=!1,disableKeyboardA11y:_i=!1,autoPanOnConnect:$i,autoPanOnNodeDrag:_n,autoPanSpeed:bo,connectionRadius:ns,isValidConnection:wi,onError:Ne,style:Pe,id:Ze,nodeDragThreshold:Tt,connectionDragThreshold:xn,viewport:Kn,onViewportChange:fr,width:sr,height:Vt,colorMode:hr="light",debug:yo,onScroll:Si,ariaLabelConfig:Ta,zIndexMode:rs="basic",...Yl},ar){const is=Ze||"1",ss=Wre(hr),Us=E.useCallback(On=>{On.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Si==null||Si(On)},[Si]);return a.jsx("div",{"data-testid":"rf__wrapper",...Yl,onScroll:Us,style:{...Pe,...bse},ref:ar,className:$n(["react-flow",i,ss]),id:Ze,role:"application",children:a.jsxs(xse,{nodes:e,edges:t,width:sr,height:Vt,fitView:Bs,fitViewOptions:ja,minZoom:he,maxZoom:Se,nodeOrigin:mn,nodeExtent:We,zIndexMode:rs,children:[a.jsx(pse,{onInit:f,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:j,onNodeMouseMove:N,onNodeMouseLeave:C,onNodeContextMenu:A,onNodeDoubleClick:T,nodeTypes:o,edgeTypes:l,connectionLineType:H,connectionLineStyle:I,connectionLineComponent:V,connectionLineContainerStyle:Z,selectionKeyCode:ae,selectionOnDrag:te,selectionMode:ne,deleteKeyCode:Q,multiSelectionKeyCode:ge,panActivationKeyCode:de,zoomActivationKeyCode:re,onlyRenderVisibleElements:we,defaultViewport:Gn,translateExtent:Re,minZoom:he,maxZoom:Se,preventScrolling:He,zoomOnScroll:qn,zoomOnPinch:Lt,zoomOnDoubleClick:yr,panOnScroll:mt,panOnScrollSpeed:vn,panOnScrollMode:gt,panOnDrag:Rn,onPaneClick:Ps,onPaneMouseEnter:bi,onPaneMouseMove:Bi,onPaneMouseLeave:tn,onPaneScroll:It,onPaneContextMenu:J,paneClickDistance:pe,nodeClickDistance:Ee,onSelectionContextMenu:X,onSelectionStart:W,onSelectionEnd:K,onReconnect:rt,onReconnectStart:lt,onReconnectEnd:Te,onEdgeContextMenu:Ae,onEdgeDoubleClick:Le,onEdgeMouseEnter:_t,onEdgeMouseMove:wt,onEdgeMouseLeave:Zn,reconnectRadius:Qn,defaultMarkerColor:Gt,noDragClassName:gn,noWheelClassName:Vn,noPanClassName:yi,rfId:is,disableKeyboardA11y:_i,nodeExtent:We,viewport:Kn,onViewportChange:fr}),a.jsx(Yre,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:y,onConnectEnd:_,onClickConnectStart:w,onClickConnectEnd:S,nodesDraggable:je,autoPanOnNodeFocus:qe,nodesConnectable:it,nodesFocusable:Ht,edgesFocusable:rn,edgesReconnectable:Dt,elementsSelectable:ht,elevateNodesOnSelect:Jn,elevateEdgesOnSelect:vi,minZoom:he,maxZoom:Se,nodeExtent:We,onNodesChange:vr,onEdgesChange:ir,snapToGrid:ue,snapGrid:_e,connectionMode:$,translateExtent:Re,connectOnClick:$s,defaultEdgeOptions:Ca,fitView:Bs,fitViewOptions:ja,onNodesDelete:z,onEdgesDelete:R,onDelete:q,onNodeDragStart:M,onNodeDrag:P,onNodeDragStop:U,onSelectionDrag:F,onSelectionDragStart:L,onSelectionDragStop:B,onMove:p,onMoveStart:m,onMoveEnd:g,noPanClassName:yi,nodeOrigin:mn,rfId:is,autoPanOnConnect:$i,autoPanOnNodeDrag:_n,autoPanSpeed:bo,onError:Ne,connectionRadius:ns,isValidConnection:wi,selectNodesOnDrag:be,nodeDragThreshold:Tt,connectionDragThreshold:xn,onBeforeDelete:D,debug:yo,ariaLabelConfig:Ta,zIndexMode:rs}),a.jsx(Hre,{onSelectionChange:Y}),De,a.jsx(Bre,{proOptions:ts,position:xo}),a.jsx(Pre,{rfId:is,disableKeyboardA11y:_i})]})})}var vse=SI(yse);function _se({dimensions:e,lineWidth:t,variant:n,className:r}){return a.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:$n(["react-flow__background-pattern",n,r])})}function wse({radius:e,className:t}){return a.jsx("circle",{cx:e,cy:e,r:e,className:$n(["react-flow__background-pattern","dots",t])})}var va;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(va||(va={}));const Sse={[va.Dots]:1,[va.Lines]:1,[va.Cross]:6},Nse=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function KI({id:e,variant:t=va.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:l,bgColor:u,style:d,className:f,patternClassName:p}){const m=E.useRef(null),{transform:g,patternId:b}=vt(Nse,fn),y=r||Sse[t],_=t===va.Dots,w=t===va.Cross,S=Array.isArray(n)?n:[n,n],j=[S[0]*g[2]||1,S[1]*g[2]||1],N=y*g[2],C=Array.isArray(o)?o:[o,o],A=w?[N,N]:j,T=[C[0]*g[2]||1+A[0]/2,C[1]*g[2]||1+A[1]/2],M=`${b}${e||""}`;return a.jsxs("svg",{className:$n(["react-flow__background",f]),style:{...d,...pp,"--xy-background-color-props":u,"--xy-background-pattern-color-props":l},ref:m,"data-testid":"rf__background",children:[a.jsx("pattern",{id:M,x:g[0]%j[0],y:g[1]%j[1],width:j[0],height:j[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:_?a.jsx(wse,{radius:N/2,className:p}):a.jsx(_se,{dimensions:A,lineWidth:i,variant:t,className:p})}),a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}KI.displayName="Background";const Ese=E.memo(KI);function kse(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:a.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function jse(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:a.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Cse(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:a.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Tse(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Ase(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Kf({children:e,className:t,...n}){return a.jsx("button",{type:"button",className:$n(["react-flow__controls-button",t]),...n,children:e})}const Mse=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function YI({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:l,onFitView:u,onInteractiveChange:d,className:f,children:p,position:m="bottom-left",orientation:g="vertical","aria-label":b}){const y=hn(),{isInteractive:_,minZoomReached:w,maxZoomReached:S,ariaLabelConfig:j}=vt(Mse,fn),{zoomIn:N,zoomOut:C,fitView:A}=bS(),T=()=>{N(),o==null||o()},M=()=>{C(),l==null||l()},P=()=>{A(i),u==null||u()},U=()=>{y.setState({nodesDraggable:!_,nodesConnectable:!_,elementsSelectable:!_}),d==null||d(!_)},z=g==="horizontal"?"horizontal":"vertical";return a.jsxs(hp,{className:$n(["react-flow__controls",z,f]),position:m,style:e,"data-testid":"rf__controls","aria-label":b??j["controls.ariaLabel"],children:[t&&a.jsxs(a.Fragment,{children:[a.jsx(Kf,{onClick:T,className:"react-flow__controls-zoomin",title:j["controls.zoomIn.ariaLabel"],"aria-label":j["controls.zoomIn.ariaLabel"],disabled:S,children:a.jsx(kse,{})}),a.jsx(Kf,{onClick:M,className:"react-flow__controls-zoomout",title:j["controls.zoomOut.ariaLabel"],"aria-label":j["controls.zoomOut.ariaLabel"],disabled:w,children:a.jsx(jse,{})})]}),n&&a.jsx(Kf,{className:"react-flow__controls-fitview",onClick:P,title:j["controls.fitView.ariaLabel"],"aria-label":j["controls.fitView.ariaLabel"],children:a.jsx(Cse,{})}),r&&a.jsx(Kf,{className:"react-flow__controls-interactive",onClick:U,title:j["controls.interactive.ariaLabel"],"aria-label":j["controls.interactive.ariaLabel"],children:_?a.jsx(Ase,{}):a.jsx(Tse,{})}),p]})}YI.displayName="Controls";const Rse=E.memo(YI);function Ose({id:e,x:t,y:n,width:r,height:i,style:o,color:l,strokeColor:u,strokeWidth:d,className:f,borderRadius:p,shapeRendering:m,selected:g,onClick:b}){const{background:y,backgroundColor:_}=o||{},w=l||y||_;return a.jsx("rect",{className:$n(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:p,ry:p,width:r,height:i,style:{fill:w,stroke:u,strokeWidth:d},shapeRendering:m,onClick:b?S=>b(S,e):void 0})}const Dse=E.memo(Ose),Lse=e=>e.nodes.map(t=>t.id),F0=e=>e instanceof Function?e:()=>e;function Ise({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Dse,onClick:l}){const u=vt(Lse,fn),d=F0(t),f=F0(e),p=F0(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return a.jsx(a.Fragment,{children:u.map(g=>a.jsx(Pse,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:p,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:l,shapeRendering:m},g))})}function zse({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:l,NodeComponent:u,onClick:d}){const{node:f,x:p,y:m,width:g,height:b}=vt(y=>{const{internals:_}=y.nodeLookup.get(e),w=_.userNode,{x:S,y:j}=_.positionAbsolute,{width:N,height:C}=Ls(w);return{node:w,x:S,y:j,width:N,height:C}},fn);return!f||f.hidden||!ZL(f)?null:a.jsx(u,{x:p,y:m,width:g,height:b,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:i,strokeColor:n(f),strokeWidth:o,shapeRendering:l,onClick:d,id:f.id})}const Pse=E.memo(zse);var Bse=E.memo(Ise);const $se=200,Use=150,qse=e=>!e.hidden,Fse=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?XL(Qu(e.nodeLookup,{filter:qse}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Hse="react-flow__minimap-desc";function WI({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:u,bgColor:d,maskColor:f,maskStrokeColor:p,maskStrokeWidth:m,position:g="bottom-right",onClick:b,onNodeClick:y,pannable:_=!1,zoomable:w=!1,ariaLabel:S,inversePan:j,zoomStep:N=1,offsetScale:C=5}){const A=hn(),T=E.useRef(null),{boundingRect:M,viewBB:P,rfId:U,panZoom:z,translateExtent:R,flowWidth:q,flowHeight:Y,ariaLabelConfig:L}=vt(Fse,fn),F=(e==null?void 0:e.width)??$se,B=(e==null?void 0:e.height)??Use,X=M.width/F,W=M.height/B,K=Math.max(X,W),D=K*F,$=K*B,H=C*K,I=M.x-(D-M.width)/2-H,V=M.y-($-M.height)/2-H,Z=D+H*2,Q=$+H*2,ae=`${Hse}-${U}`,te=E.useRef(0),ne=E.useRef();te.current=K,E.useEffect(()=>{if(T.current&&z)return ne.current=sre({domNode:T.current,panZoom:z,getTransform:()=>A.getState().transform,getViewScale:()=>te.current}),()=>{var ue;(ue=ne.current)==null||ue.destroy()}},[z]),E.useEffect(()=>{var ue;(ue=ne.current)==null||ue.update({translateExtent:R,width:q,height:Y,inversePan:j,pannable:_,zoomStep:N,zoomable:w})},[_,w,j,N,R,q,Y]);const de=b?ue=>{var be;const[_e,we]=((be=ne.current)==null?void 0:be.pointer(ue))||[0,0];b(ue,{x:_e,y:we})}:void 0,ge=y?E.useCallback((ue,_e)=>{const we=A.getState().nodeLookup.get(_e).internals.userNode;y(ue,we)},[]):void 0,re=S??L["minimap.ariaLabel"];return a.jsx(hp,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*K:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:$n(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:a.jsxs("svg",{width:F,height:B,viewBox:`${I} ${V} ${Z} ${Q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ae,ref:T,onClick:de,children:[re&&a.jsx("title",{id:ae,children:re}),a.jsx(Bse,{onClick:ge,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:u}),a.jsx("path",{className:"react-flow__minimap-mask",d:`M${I-H},${V-H}h${Z+H*2}v${Q+H*2}h${-Z-H*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}WI.displayName="MiniMap";E.memo(WI);const Gse=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Vse={[xl.Line]:"right",[xl.Handle]:"bottom-right"};function Kse({nodeId:e,position:t,variant:n=xl.Handle,className:r,style:i=void 0,children:o,color:l,minWidth:u=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:g,autoScale:b=!0,shouldResize:y,onResizeStart:_,onResize:w,onResizeEnd:S}){const j=jI(),N=typeof e=="string"?e:j,C=hn(),A=E.useRef(null),T=n===xl.Handle,M=vt(E.useCallback(Gse(T&&b),[T,b]),fn),P=E.useRef(null),U=t??Vse[n];E.useEffect(()=>{if(!(!A.current||!N))return P.current||(P.current=yre({domNode:A.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:R,transform:q,snapGrid:Y,snapToGrid:L,nodeOrigin:F,domNode:B}=C.getState();return{nodeLookup:R,transform:q,snapGrid:Y,snapToGrid:L,nodeOrigin:F,paneDomNode:B}},onChange:(R,q)=>{const{triggerNodeChanges:Y,nodeLookup:L,parentLookup:F,nodeOrigin:B}=C.getState(),X=[],W={x:R.x,y:R.y},K=L.get(N);if(K&&K.expandParent&&K.parentId){const D=K.origin??B,$=R.width??K.measured.width??0,H=R.height??K.measured.height??0,I={id:K.id,parentId:K.parentId,rect:{width:$,height:H,...QL({x:R.x??K.position.x,y:R.y??K.position.y},{width:$,height:H},K.parentId,L,D)}},V=xS([I],L,F,B);X.push(...V),W.x=R.x?Math.max(D[0]*$,R.x):void 0,W.y=R.y?Math.max(D[1]*H,R.y):void 0}if(W.x!==void 0&&W.y!==void 0){const D={id:N,type:"position",position:{...W}};X.push(D)}if(R.width!==void 0&&R.height!==void 0){const $={id:N,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:R.width,height:R.height}};X.push($)}for(const D of q){const $={...D,type:"position"};X.push($)}Y(X)},onEnd:({width:R,height:q})=>{const Y={id:N,type:"dimensions",resizing:!1,dimensions:{width:R,height:q}};C.getState().triggerNodeChanges([Y])}})),P.current.update({controlPosition:U,boundaries:{minWidth:u,minHeight:d,maxWidth:f,maxHeight:p},keepAspectRatio:m,resizeDirection:g,onResizeStart:_,onResize:w,onResizeEnd:S,shouldResize:y}),()=>{var R;(R=P.current)==null||R.destroy()}},[U,u,d,f,p,m,_,w,S,y]);const z=U.split("-");return a.jsx("div",{className:$n(["react-flow__resize-control","nodrag",...z,n,r]),ref:A,style:{...i,scale:M,...l&&{[T?"backgroundColor":"borderColor"]:l}},children:o})}E.memo(Kse);function vS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var H0,BT;function Yse(){if(BT)return H0;BT=1;function e(){this.__data__=[],this.size=0}return H0=e,H0}var G0,$T;function Fl(){if($T)return G0;$T=1;function e(t,n){return t===n||t!==t&&n!==n}return G0=e,G0}var V0,UT;function gp(){if(UT)return V0;UT=1;var e=Fl();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return V0=t,V0}var K0,qT;function Wse(){if(qT)return K0;qT=1;var e=gp(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,l=e(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():n.call(o,l,1),--this.size,!0}return K0=r,K0}var Y0,FT;function Xse(){if(FT)return Y0;FT=1;var e=gp();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Y0=t,Y0}var W0,HT;function Zse(){if(HT)return W0;HT=1;var e=gp();function t(n){return e(this.__data__,n)>-1}return W0=t,W0}var X0,GT;function Qse(){if(GT)return X0;GT=1;var e=gp();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return X0=t,X0}var Z0,VT;function xp(){if(VT)return Z0;VT=1;var e=Yse(),t=Wse(),n=Xse(),r=Zse(),i=Qse();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Z0=o,Z0}var Q0,KT;function Jse(){if(KT)return Q0;KT=1;var e=xp();function t(){this.__data__=new e,this.size=0}return Q0=t,Q0}var J0,YT;function eae(){if(YT)return J0;YT=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return J0=e,J0}var ex,WT;function tae(){if(WT)return ex;WT=1;function e(t){return this.__data__.get(t)}return ex=e,ex}var tx,XT;function nae(){if(XT)return tx;XT=1;function e(t){return this.__data__.has(t)}return tx=e,tx}var nx,ZT;function XI(){if(ZT)return nx;ZT=1;var e=typeof bf=="object"&&bf&&bf.Object===Object&&bf;return nx=e,nx}var rx,QT;function Pi(){if(QT)return rx;QT=1;var e=XI(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return rx=n,rx}var ix,JT;function Hl(){if(JT)return ix;JT=1;var e=Pi(),t=e.Symbol;return ix=t,ix}var sx,eA;function rae(){if(eA)return sx;eA=1;var e=Hl(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(l){var u=n.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var p=r.call(l);return f&&(u?l[i]=d:delete l[i]),p}return sx=o,sx}var ax,tA;function iae(){if(tA)return ax;tA=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return ax=n,ax}var ox,nA;function ho(){if(nA)return ox;nA=1;var e=Hl(),t=rae(),n=iae(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:r:o&&o in Object(u)?t(u):n(u)}return ox=l,ox}var lx,rA;function gi(){if(rA)return lx;rA=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return lx=e,lx}var cx,iA;function td(){if(iA)return cx;iA=1;var e=ho(),t=gi(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==r||d==i||d==n||d==o}return cx=l,cx}var ux,sA;function sae(){if(sA)return ux;sA=1;var e=Pi(),t=e["__core-js_shared__"];return ux=t,ux}var dx,aA;function aae(){if(aA)return dx;aA=1;var e=sae(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return dx=n,dx}var fx,oA;function ZI(){if(oA)return fx;oA=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return fx=n,fx}var hx,lA;function oae(){if(lA)return hx;lA=1;var e=td(),t=aae(),n=gi(),r=ZI(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var b=e(g)?p:o;return b.test(r(g))}return hx=m,hx}var px,cA;function lae(){if(cA)return px;cA=1;function e(t,n){return t==null?void 0:t[n]}return px=e,px}var mx,uA;function po(){if(uA)return mx;uA=1;var e=oae(),t=lae();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return mx=n,mx}var gx,dA;function _S(){if(dA)return gx;dA=1;var e=po(),t=Pi(),n=e(t,"Map");return gx=n,gx}var xx,fA;function bp(){if(fA)return xx;fA=1;var e=po(),t=e(Object,"create");return xx=t,xx}var bx,hA;function cae(){if(hA)return bx;hA=1;var e=bp();function t(){this.__data__=e?e(null):{},this.size=0}return bx=t,bx}var yx,pA;function uae(){if(pA)return yx;pA=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return yx=e,yx}var vx,mA;function dae(){if(mA)return vx;mA=1;var e=bp(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return r.call(l,o)?l[o]:void 0}return vx=i,vx}var _x,gA;function fae(){if(gA)return _x;gA=1;var e=bp(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return _x=r,_x}var wx,xA;function hae(){if(xA)return wx;xA=1;var e=bp(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return wx=n,wx}var Sx,bA;function pae(){if(bA)return Sx;bA=1;var e=cae(),t=uae(),n=dae(),r=fae(),i=hae();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Sx=o,Sx}var Nx,yA;function mae(){if(yA)return Nx;yA=1;var e=pae(),t=xp(),n=_S();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Nx=r,Nx}var Ex,vA;function gae(){if(vA)return Ex;vA=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Ex=e,Ex}var kx,_A;function yp(){if(_A)return kx;_A=1;var e=gae();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return kx=t,kx}var jx,wA;function xae(){if(wA)return jx;wA=1;var e=yp();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return jx=t,jx}var Cx,SA;function bae(){if(SA)return Cx;SA=1;var e=yp();function t(n){return e(this,n).get(n)}return Cx=t,Cx}var Tx,NA;function yae(){if(NA)return Tx;NA=1;var e=yp();function t(n){return e(this,n).has(n)}return Tx=t,Tx}var Ax,EA;function vae(){if(EA)return Ax;EA=1;var e=yp();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Ax=t,Ax}var Mx,kA;function wS(){if(kA)return Mx;kA=1;var e=mae(),t=xae(),n=bae(),r=yae(),i=vae();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Mx=o,Mx}var Rx,jA;function _ae(){if(jA)return Rx;jA=1;var e=xp(),t=_S(),n=wS(),r=200;function i(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<r-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(o,l),this.size=u.size,this}return Rx=i,Rx}var Ox,CA;function vp(){if(CA)return Ox;CA=1;var e=xp(),t=Jse(),n=eae(),r=tae(),i=nae(),o=_ae();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,Ox=l,Ox}var Dx,TA;function SS(){if(TA)return Dx;TA=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Dx=e,Dx}var Lx,AA;function QI(){if(AA)return Lx;AA=1;var e=po(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Lx=t,Lx}var Ix,MA;function _p(){if(MA)return Ix;MA=1;var e=QI();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Ix=t,Ix}var zx,RA;function wp(){if(RA)return zx;RA=1;var e=_p(),t=Fl(),n=Object.prototype,r=n.hasOwnProperty;function i(o,l,u){var d=o[l];(!(r.call(o,l)&&t(d,u))||u===void 0&&!(l in o))&&e(o,l,u)}return zx=i,zx}var Px,OA;function nd(){if(OA)return Px;OA=1;var e=wp(),t=_p();function n(r,i,o,l){var u=!o;o||(o={});for(var d=-1,f=i.length;++d<f;){var p=i[d],m=l?l(o[p],r[p],p,o,r):void 0;m===void 0&&(m=r[p]),u?t(o,p,m):e(o,p,m)}return o}return Px=n,Px}var Bx,DA;function wae(){if(DA)return Bx;DA=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Bx=e,Bx}var $x,LA;function es(){if(LA)return $x;LA=1;function e(t){return t!=null&&typeof t=="object"}return $x=e,$x}var Ux,IA;function Sae(){if(IA)return Ux;IA=1;var e=ho(),t=es(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Ux=r,Ux}var qx,zA;function rd(){if(zA)return qx;zA=1;var e=Sae(),t=es(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return qx=o,qx}var Fx,PA;function Un(){if(PA)return Fx;PA=1;var e=Array.isArray;return Fx=e,Fx}var tu={exports:{}},Hx,BA;function Nae(){if(BA)return Hx;BA=1;function e(){return!1}return Hx=e,Hx}tu.exports;var $A;function Gl(){return $A||($A=1,(function(e,t){var n=Pi(),r=Nae(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===i,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||r;e.exports=f})(tu,tu.exports)),tu.exports}var Gx,UA;function Sp(){if(UA)return Gx;UA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Gx=n,Gx}var Vx,qA;function NS(){if(qA)return Vx;qA=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Vx=t,Vx}var Kx,FA;function Eae(){if(FA)return Kx;FA=1;var e=ho(),t=NS(),n=es(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",b="[object Set]",y="[object String]",_="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",j="[object Float32Array]",N="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",M="[object Uint8Array]",P="[object Uint8ClampedArray]",U="[object Uint16Array]",z="[object Uint32Array]",R={};R[j]=R[N]=R[C]=R[A]=R[T]=R[M]=R[P]=R[U]=R[z]=!0,R[r]=R[i]=R[w]=R[o]=R[S]=R[l]=R[u]=R[d]=R[f]=R[p]=R[m]=R[g]=R[b]=R[y]=R[_]=!1;function q(Y){return n(Y)&&t(Y.length)&&!!R[e(Y)]}return Kx=q,Kx}var Yx,HA;function Np(){if(HA)return Yx;HA=1;function e(t){return function(n){return t(n)}}return Yx=e,Yx}var nu={exports:{}};nu.exports;var GA;function ES(){return GA||(GA=1,(function(e,t){var n=XI(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,l=o&&n.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(nu,nu.exports)),nu.exports}var Wx,VA;function id(){if(VA)return Wx;VA=1;var e=Eae(),t=Np(),n=ES(),r=n&&n.isTypedArray,i=r?t(r):e;return Wx=i,Wx}var Xx,KA;function JI(){if(KA)return Xx;KA=1;var e=wae(),t=rd(),n=Un(),r=Gl(),i=Sp(),o=id(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var m=n(f),g=!m&&t(f),b=!m&&!g&&r(f),y=!m&&!g&&!b&&o(f),_=m||g||b||y,w=_?e(f.length,String):[],S=w.length;for(var j in f)(p||u.call(f,j))&&!(_&&(j=="length"||b&&(j=="offset"||j=="parent")||y&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,S)))&&w.push(j);return w}return Xx=d,Xx}var Zx,YA;function Ep(){if(YA)return Zx;YA=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Zx=t,Zx}var Qx,WA;function e6(){if(WA)return Qx;WA=1;function e(t,n){return function(r){return t(n(r))}}return Qx=e,Qx}var Jx,XA;function kae(){if(XA)return Jx;XA=1;var e=e6(),t=e(Object.keys,Object);return Jx=t,Jx}var eb,ZA;function kS(){if(ZA)return eb;ZA=1;var e=Ep(),t=kae(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&l.push(u);return l}return eb=i,eb}var tb,QA;function Is(){if(QA)return tb;QA=1;var e=td(),t=NS();function n(r){return r!=null&&t(r.length)&&!e(r)}return tb=n,tb}var nb,JA;function ka(){if(JA)return nb;JA=1;var e=JI(),t=kS(),n=Is();function r(i){return n(i)?e(i):t(i)}return nb=r,nb}var rb,e4;function jae(){if(e4)return rb;e4=1;var e=nd(),t=ka();function n(r,i){return r&&e(i,t(i),r)}return rb=n,rb}var ib,t4;function Cae(){if(t4)return ib;t4=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return ib=e,ib}var sb,n4;function Tae(){if(n4)return sb;n4=1;var e=gi(),t=Ep(),n=Cae(),r=Object.prototype,i=r.hasOwnProperty;function o(l){if(!e(l))return n(l);var u=t(l),d=[];for(var f in l)f=="constructor"&&(u||!i.call(l,f))||d.push(f);return d}return sb=o,sb}var ab,r4;function mo(){if(r4)return ab;r4=1;var e=JI(),t=Tae(),n=Is();function r(i){return n(i)?e(i,!0):t(i)}return ab=r,ab}var ob,i4;function Aae(){if(i4)return ob;i4=1;var e=nd(),t=mo();function n(r,i){return r&&e(i,t(i),r)}return ob=n,ob}var ru={exports:{}};ru.exports;var s4;function t6(){return s4||(s4=1,(function(e,t){var n=Pi(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,l=o?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function d(f,p){if(p)return f.slice();var m=f.length,g=u?u(m):new f.constructor(m);return f.copy(g),g}e.exports=d})(ru,ru.exports)),ru.exports}var lb,a4;function n6(){if(a4)return lb;a4=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return lb=e,lb}var cb,o4;function r6(){if(o4)return cb;o4=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,l=[];++r<i;){var u=t[r];n(u,r,t)&&(l[o++]=u)}return l}return cb=e,cb}var ub,l4;function i6(){if(l4)return ub;l4=1;function e(){return[]}return ub=e,ub}var db,c4;function jS(){if(c4)return db;c4=1;var e=r6(),t=i6(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return r.call(l,u)}))}:t;return db=o,db}var fb,u4;function Mae(){if(u4)return fb;u4=1;var e=nd(),t=jS();function n(r,i){return e(r,t(r),i)}return fb=n,fb}var hb,d4;function CS(){if(d4)return hb;d4=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return hb=e,hb}var pb,f4;function kp(){if(f4)return pb;f4=1;var e=e6(),t=e(Object.getPrototypeOf,Object);return pb=t,pb}var mb,h4;function s6(){if(h4)return mb;h4=1;var e=CS(),t=kp(),n=jS(),r=i6(),i=Object.getOwnPropertySymbols,o=i?function(l){for(var u=[];l;)e(u,n(l)),l=t(l);return u}:r;return mb=o,mb}var gb,p4;function Rae(){if(p4)return gb;p4=1;var e=nd(),t=s6();function n(r,i){return e(r,t(r),i)}return gb=n,gb}var xb,m4;function a6(){if(m4)return xb;m4=1;var e=CS(),t=Un();function n(r,i,o){var l=i(r);return t(r)?l:e(l,o(r))}return xb=n,xb}var bb,g4;function o6(){if(g4)return bb;g4=1;var e=a6(),t=jS(),n=ka();function r(i){return e(i,n,t)}return bb=r,bb}var yb,x4;function Oae(){if(x4)return yb;x4=1;var e=a6(),t=s6(),n=mo();function r(i){return e(i,n,t)}return yb=r,yb}var vb,b4;function Dae(){if(b4)return vb;b4=1;var e=po(),t=Pi(),n=e(t,"DataView");return vb=n,vb}var _b,y4;function Lae(){if(y4)return _b;y4=1;var e=po(),t=Pi(),n=e(t,"Promise");return _b=n,_b}var wb,v4;function l6(){if(v4)return wb;v4=1;var e=po(),t=Pi(),n=e(t,"Set");return wb=n,wb}var Sb,_4;function Iae(){if(_4)return Sb;_4=1;var e=po(),t=Pi(),n=e(t,"WeakMap");return Sb=n,Sb}var Nb,w4;function Vl(){if(w4)return Nb;w4=1;var e=Dae(),t=_S(),n=Lae(),r=l6(),i=Iae(),o=ho(),l=ZI(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",b=l(e),y=l(t),_=l(n),w=l(r),S=l(i),j=o;return(e&&j(new e(new ArrayBuffer(1)))!=g||t&&j(new t)!=u||n&&j(n.resolve())!=f||r&&j(new r)!=p||i&&j(new i)!=m)&&(j=function(N){var C=o(N),A=C==d?N.constructor:void 0,T=A?l(A):"";if(T)switch(T){case b:return g;case y:return u;case _:return f;case w:return p;case S:return m}return C}),Nb=j,Nb}var Eb,S4;function zae(){if(S4)return Eb;S4=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Eb=n,Eb}var kb,N4;function c6(){if(N4)return kb;N4=1;var e=Pi(),t=e.Uint8Array;return kb=t,kb}var jb,E4;function TS(){if(E4)return jb;E4=1;var e=c6();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return jb=t,jb}var Cb,k4;function Pae(){if(k4)return Cb;k4=1;var e=TS();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Cb=t,Cb}var Tb,j4;function Bae(){if(j4)return Tb;j4=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Tb=t,Tb}var Ab,C4;function $ae(){if(C4)return Ab;C4=1;var e=Hl(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Ab=r,Ab}var Mb,T4;function u6(){if(T4)return Mb;T4=1;var e=TS();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Mb=t,Mb}var Rb,A4;function Uae(){if(A4)return Rb;A4=1;var e=TS(),t=Pae(),n=Bae(),r=$ae(),i=u6(),o="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",f="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",j="[object Int16Array]",N="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",M="[object Uint32Array]";function P(U,z,R){var q=U.constructor;switch(z){case b:return e(U);case o:case l:return new q(+U);case y:return t(U,R);case _:case w:case S:case j:case N:case C:case A:case T:case M:return i(U,R);case u:return new q;case d:case m:return new q(U);case f:return n(U);case p:return new q;case g:return r(U)}}return Rb=P,Rb}var Ob,M4;function d6(){if(M4)return Ob;M4=1;var e=gi(),t=Object.create,n=(function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return Ob=n,Ob}var Db,R4;function f6(){if(R4)return Db;R4=1;var e=d6(),t=kp(),n=Ep();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Db=r,Db}var Lb,O4;function qae(){if(O4)return Lb;O4=1;var e=Vl(),t=es(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Lb=r,Lb}var Ib,D4;function Fae(){if(D4)return Ib;D4=1;var e=qae(),t=Np(),n=ES(),r=n&&n.isMap,i=r?t(r):e;return Ib=i,Ib}var zb,L4;function Hae(){if(L4)return zb;L4=1;var e=Vl(),t=es(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return zb=r,zb}var Pb,I4;function Gae(){if(I4)return Pb;I4=1;var e=Hae(),t=Np(),n=ES(),r=n&&n.isSet,i=r?t(r):e;return Pb=i,Pb}var Bb,z4;function h6(){if(z4)return Bb;z4=1;var e=vp(),t=SS(),n=wp(),r=jae(),i=Aae(),o=t6(),l=n6(),u=Mae(),d=Rae(),f=o6(),p=Oae(),m=Vl(),g=zae(),b=Uae(),y=f6(),_=Un(),w=Gl(),S=Fae(),j=gi(),N=Gae(),C=ka(),A=mo(),T=1,M=2,P=4,U="[object Arguments]",z="[object Array]",R="[object Boolean]",q="[object Date]",Y="[object Error]",L="[object Function]",F="[object GeneratorFunction]",B="[object Map]",X="[object Number]",W="[object Object]",K="[object RegExp]",D="[object Set]",$="[object String]",H="[object Symbol]",I="[object WeakMap]",V="[object ArrayBuffer]",Z="[object DataView]",Q="[object Float32Array]",ae="[object Float64Array]",te="[object Int8Array]",ne="[object Int16Array]",de="[object Int32Array]",ge="[object Uint8Array]",re="[object Uint8ClampedArray]",ue="[object Uint16Array]",_e="[object Uint32Array]",we={};we[U]=we[z]=we[V]=we[Z]=we[R]=we[q]=we[Q]=we[ae]=we[te]=we[ne]=we[de]=we[B]=we[X]=we[W]=we[K]=we[D]=we[$]=we[H]=we[ge]=we[re]=we[ue]=we[_e]=!0,we[Y]=we[L]=we[I]=!1;function be(je,qe,it,Ht,mn,rn){var Dt,ht=qe&T,Gn=qe&M,he=qe&P;if(it&&(Dt=mn?it(je,Ht,mn,rn):it(je)),Dt!==void 0)return Dt;if(!j(je))return je;var Se=_(je);if(Se){if(Dt=g(je),!ht)return l(je,Dt)}else{var Re=m(je),He=Re==L||Re==F;if(w(je))return o(je,ht);if(Re==W||Re==U||He&&!mn){if(Dt=Gn||He?{}:y(je),!ht)return Gn?d(je,i(Dt,je)):u(je,r(Dt,je))}else{if(!we[Re])return mn?je:{};Dt=b(je,Re,ht)}}rn||(rn=new e);var We=rn.get(je);if(We)return We;rn.set(je,Dt),N(je)?je.forEach(function(Lt){Dt.add(be(Lt,qe,it,Lt,je,rn))}):S(je)&&je.forEach(function(Lt,mt){Dt.set(mt,be(Lt,qe,it,mt,je,rn))});var Gt=he?Gn?p:f:Gn?A:C,qn=Se?void 0:Gt(je);return t(qn||je,function(Lt,mt){qn&&(mt=Lt,Lt=je[mt]),n(Dt,mt,be(Lt,qe,it,mt,je,rn))}),Dt}return Bb=be,Bb}var $b,P4;function Vae(){if(P4)return $b;P4=1;var e=h6(),t=4;function n(r){return e(r,t)}return $b=n,$b}var Ub,B4;function AS(){if(B4)return Ub;B4=1;function e(t){return function(){return t}}return Ub=e,Ub}var qb,$4;function Kae(){if($4)return qb;$4=1;function e(t){return function(n,r,i){for(var o=-1,l=Object(n),u=i(n),d=u.length;d--;){var f=u[t?d:++o];if(r(l[f],f,l)===!1)break}return n}}return qb=e,qb}var Fb,U4;function MS(){if(U4)return Fb;U4=1;var e=Kae(),t=e();return Fb=t,Fb}var Hb,q4;function RS(){if(q4)return Hb;q4=1;var e=MS(),t=ka();function n(r,i){return r&&e(r,i,t)}return Hb=n,Hb}var Gb,F4;function Yae(){if(F4)return Gb;F4=1;var e=Is();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var l=i.length,u=r?l:-1,d=Object(i);(r?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return Gb=t,Gb}var Vb,H4;function jp(){if(H4)return Vb;H4=1;var e=RS(),t=Yae(),n=t(e);return Vb=n,Vb}var Kb,G4;function go(){if(G4)return Kb;G4=1;function e(t){return t}return Kb=e,Kb}var Yb,V4;function p6(){if(V4)return Yb;V4=1;var e=go();function t(n){return typeof n=="function"?n:e}return Yb=t,Yb}var Wb,K4;function m6(){if(K4)return Wb;K4=1;var e=SS(),t=jp(),n=p6(),r=Un();function i(o,l){var u=r(o)?e:t;return u(o,n(l))}return Wb=i,Wb}var Xb,Y4;function g6(){return Y4||(Y4=1,Xb=m6()),Xb}var Zb,W4;function Wae(){if(W4)return Zb;W4=1;var e=jp();function t(n,r){var i=[];return e(n,function(o,l,u){r(o,l,u)&&i.push(o)}),i}return Zb=t,Zb}var Qb,X4;function Xae(){if(X4)return Qb;X4=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Qb=t,Qb}var Jb,Z4;function Zae(){if(Z4)return Jb;Z4=1;function e(t){return this.__data__.has(t)}return Jb=e,Jb}var ey,Q4;function x6(){if(Q4)return ey;Q4=1;var e=wS(),t=Xae(),n=Zae();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new e;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,ey=r,ey}var ty,J4;function Qae(){if(J4)return ty;J4=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return ty=e,ty}var ny,eM;function b6(){if(eM)return ny;eM=1;function e(t,n){return t.has(n)}return ny=e,ny}var ry,tM;function y6(){if(tM)return ry;tM=1;var e=x6(),t=Qae(),n=b6(),r=1,i=2;function o(l,u,d,f,p,m){var g=d&r,b=l.length,y=u.length;if(b!=y&&!(g&&y>b))return!1;var _=m.get(l),w=m.get(u);if(_&&w)return _==u&&w==l;var S=-1,j=!0,N=d&i?new e:void 0;for(m.set(l,u),m.set(u,l);++S<b;){var C=l[S],A=u[S];if(f)var T=g?f(A,C,S,u,l,m):f(C,A,S,l,u,m);if(T!==void 0){if(T)continue;j=!1;break}if(N){if(!t(u,function(M,P){if(!n(N,P)&&(C===M||p(C,M,d,f,m)))return N.push(P)})){j=!1;break}}else if(!(C===A||p(C,A,d,f,m))){j=!1;break}}return m.delete(l),m.delete(u),j}return ry=o,ry}var iy,nM;function Jae(){if(nM)return iy;nM=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return iy=e,iy}var sy,rM;function OS(){if(rM)return sy;rM=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return sy=e,sy}var ay,iM;function eoe(){if(iM)return ay;iM=1;var e=Hl(),t=c6(),n=Fl(),r=y6(),i=Jae(),o=OS(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",b="[object RegExp]",y="[object Set]",_="[object String]",w="[object Symbol]",S="[object ArrayBuffer]",j="[object DataView]",N=e?e.prototype:void 0,C=N?N.valueOf:void 0;function A(T,M,P,U,z,R,q){switch(P){case j:if(T.byteLength!=M.byteLength||T.byteOffset!=M.byteOffset)return!1;T=T.buffer,M=M.buffer;case S:return!(T.byteLength!=M.byteLength||!R(new t(T),new t(M)));case d:case f:case g:return n(+T,+M);case p:return T.name==M.name&&T.message==M.message;case b:case _:return T==M+"";case m:var Y=i;case y:var L=U&l;if(Y||(Y=o),T.size!=M.size&&!L)return!1;var F=q.get(T);if(F)return F==M;U|=u,q.set(T,M);var B=r(Y(T),Y(M),U,z,R,q);return q.delete(T),B;case w:if(C)return C.call(T)==C.call(M)}return!1}return ay=A,ay}var oy,sM;function toe(){if(sM)return oy;sM=1;var e=o6(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,l,u,d,f,p){var m=u&t,g=e(o),b=g.length,y=e(l),_=y.length;if(b!=_&&!m)return!1;for(var w=b;w--;){var S=g[w];if(!(m?S in l:r.call(l,S)))return!1}var j=p.get(o),N=p.get(l);if(j&&N)return j==l&&N==o;var C=!0;p.set(o,l),p.set(l,o);for(var A=m;++w<b;){S=g[w];var T=o[S],M=l[S];if(d)var P=m?d(M,T,S,l,o,p):d(T,M,S,o,l,p);if(!(P===void 0?T===M||f(T,M,u,d,p):P)){C=!1;break}A||(A=S=="constructor")}if(C&&!A){var U=o.constructor,z=l.constructor;U!=z&&"constructor"in o&&"constructor"in l&&!(typeof U=="function"&&U instanceof U&&typeof z=="function"&&z instanceof z)&&(C=!1)}return p.delete(o),p.delete(l),C}return oy=i,oy}var ly,aM;function noe(){if(aM)return ly;aM=1;var e=vp(),t=y6(),n=eoe(),r=toe(),i=Vl(),o=Un(),l=Gl(),u=id(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function y(_,w,S,j,N,C){var A=o(_),T=o(w),M=A?p:i(_),P=T?p:i(w);M=M==f?m:M,P=P==f?m:P;var U=M==m,z=P==m,R=M==P;if(R&&l(_)){if(!l(w))return!1;A=!0,U=!1}if(R&&!U)return C||(C=new e),A||u(_)?t(_,w,S,j,N,C):n(_,w,M,S,j,N,C);if(!(S&d)){var q=U&&b.call(_,"__wrapped__"),Y=z&&b.call(w,"__wrapped__");if(q||Y){var L=q?_.value():_,F=Y?w.value():w;return C||(C=new e),N(L,F,S,j,C)}}return R?(C||(C=new e),r(_,w,S,j,N,C)):!1}return ly=y,ly}var cy,oM;function v6(){if(oM)return cy;oM=1;var e=noe(),t=es();function n(r,i,o,l,u){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,l,n,u)}return cy=n,cy}var uy,lM;function roe(){if(lM)return uy;lM=1;var e=vp(),t=v6(),n=1,r=2;function i(o,l,u,d){var f=u.length,p=f,m=!d;if(o==null)return!p;for(o=Object(o);f--;){var g=u[f];if(m&&g[2]?g[1]!==o[g[0]]:!(g[0]in o))return!1}for(;++f<p;){g=u[f];var b=g[0],y=o[b],_=g[1];if(m&&g[2]){if(y===void 0&&!(b in o))return!1}else{var w=new e;if(d)var S=d(y,_,b,o,l,w);if(!(S===void 0?t(_,y,n|r,d,w):S))return!1}}return!0}return uy=i,uy}var dy,cM;function _6(){if(cM)return dy;cM=1;var e=gi();function t(n){return n===n&&!e(n)}return dy=t,dy}var fy,uM;function ioe(){if(uM)return fy;uM=1;var e=_6(),t=ka();function n(r){for(var i=t(r),o=i.length;o--;){var l=i[o],u=r[l];i[o]=[l,u,e(u)]}return i}return fy=n,fy}var hy,dM;function w6(){if(dM)return hy;dM=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return hy=e,hy}var py,fM;function soe(){if(fM)return py;fM=1;var e=roe(),t=ioe(),n=w6();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(l){return l===i||e(l,i,o)}}return py=r,py}var my,hM;function Kl(){if(hM)return my;hM=1;var e=ho(),t=es(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return my=r,my}var gy,pM;function DS(){if(pM)return gy;pM=1;var e=Un(),t=Kl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||l!=null&&o in Object(l)}return gy=i,gy}var xy,mM;function aoe(){if(mM)return xy;mM=1;var e=wS(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var f=r.apply(this,l);return o.cache=d.set(u,f)||d,f};return o.cache=new(n.Cache||e),o}return n.Cache=e,xy=n,xy}var by,gM;function ooe(){if(gM)return by;gM=1;var e=aoe(),t=500;function n(r){var i=e(r,function(l){return o.size===t&&o.clear(),l}),o=i.cache;return i}return by=n,by}var yy,xM;function loe(){if(xM)return yy;xM=1;var e=ooe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(l,u,d,f){o.push(d?f.replace(n,"$1"):u||l)}),o});return yy=r,yy}var vy,bM;function Cp(){if(bM)return vy;bM=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return vy=e,vy}var _y,yM;function coe(){if(yM)return _y;yM=1;var e=Hl(),t=Cp(),n=Un(),r=Kl(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(r(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return _y=l,_y}var wy,vM;function S6(){if(vM)return wy;vM=1;var e=coe();function t(n){return n==null?"":e(n)}return wy=t,wy}var Sy,_M;function Tp(){if(_M)return Sy;_M=1;var e=Un(),t=DS(),n=loe(),r=S6();function i(o,l){return e(o)?o:t(o,l)?[o]:n(r(o))}return Sy=i,Sy}var Ny,wM;function sd(){if(wM)return Ny;wM=1;var e=Kl();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Ny=t,Ny}var Ey,SM;function Ap(){if(SM)return Ey;SM=1;var e=Tp(),t=sd();function n(r,i){i=e(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[t(i[o++])];return o&&o==l?r:void 0}return Ey=n,Ey}var ky,NM;function uoe(){if(NM)return ky;NM=1;var e=Ap();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return ky=t,ky}var jy,EM;function doe(){if(EM)return jy;EM=1;function e(t,n){return t!=null&&n in Object(t)}return jy=e,jy}var Cy,kM;function N6(){if(kM)return Cy;kM=1;var e=Tp(),t=rd(),n=Un(),r=Sp(),i=NS(),o=sd();function l(u,d,f){d=e(d,u);for(var p=-1,m=d.length,g=!1;++p<m;){var b=o(d[p]);if(!(g=u!=null&&f(u,b)))break;u=u[b]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&i(m)&&r(b,m)&&(n(u)||t(u)))}return Cy=l,Cy}var Ty,jM;function E6(){if(jM)return Ty;jM=1;var e=doe(),t=N6();function n(r,i){return r!=null&&t(r,i,e)}return Ty=n,Ty}var Ay,CM;function foe(){if(CM)return Ay;CM=1;var e=v6(),t=uoe(),n=E6(),r=DS(),i=_6(),o=w6(),l=sd(),u=1,d=2;function f(p,m){return r(p)&&i(m)?o(l(p),m):function(g){var b=t(g,p);return b===void 0&&b===m?n(g,p):e(m,b,u|d)}}return Ay=f,Ay}var My,TM;function k6(){if(TM)return My;TM=1;function e(t){return function(n){return n==null?void 0:n[t]}}return My=e,My}var Ry,AM;function hoe(){if(AM)return Ry;AM=1;var e=Ap();function t(n){return function(r){return e(r,n)}}return Ry=t,Ry}var Oy,MM;function poe(){if(MM)return Oy;MM=1;var e=k6(),t=hoe(),n=DS(),r=sd();function i(o){return n(o)?e(r(o)):t(o)}return Oy=i,Oy}var Dy,RM;function zs(){if(RM)return Dy;RM=1;var e=soe(),t=foe(),n=go(),r=Un(),i=poe();function o(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?t(l[0],l[1]):e(l):i(l)}return Dy=o,Dy}var Ly,OM;function j6(){if(OM)return Ly;OM=1;var e=r6(),t=Wae(),n=zs(),r=Un();function i(o,l){var u=r(o)?e:t;return u(o,n(l,3))}return Ly=i,Ly}var Iy,DM;function moe(){if(DM)return Iy;DM=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Iy=n,Iy}var zy,LM;function C6(){if(LM)return zy;LM=1;var e=moe(),t=N6();function n(r,i){return r!=null&&t(r,i,e)}return zy=n,zy}var Py,IM;function goe(){if(IM)return Py;IM=1;var e=kS(),t=Vl(),n=rd(),r=Un(),i=Is(),o=Gl(),l=Ep(),u=id(),d="[object Map]",f="[object Set]",p=Object.prototype,m=p.hasOwnProperty;function g(b){if(b==null)return!0;if(i(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||o(b)||u(b)||n(b)))return!b.length;var y=t(b);if(y==d||y==f)return!b.size;if(l(b))return!e(b).length;for(var _ in b)if(m.call(b,_))return!1;return!0}return Py=g,Py}var By,zM;function T6(){if(zM)return By;zM=1;function e(t){return t===void 0}return By=e,By}var $y,PM;function A6(){if(PM)return $y;PM=1;var e=jp(),t=Is();function n(r,i){var o=-1,l=t(r)?Array(r.length):[];return e(r,function(u,d,f){l[++o]=i(u,d,f)}),l}return $y=n,$y}var Uy,BM;function M6(){if(BM)return Uy;BM=1;var e=Cp(),t=zs(),n=A6(),r=Un();function i(o,l){var u=r(o)?e:n;return u(o,t(l,3))}return Uy=i,Uy}var qy,$M;function xoe(){if($M)return qy;$M=1;function e(t,n,r,i){var o=-1,l=t==null?0:t.length;for(i&&l&&(r=t[++o]);++o<l;)r=n(r,t[o],o,t);return r}return qy=e,qy}var Fy,UM;function boe(){if(UM)return Fy;UM=1;function e(t,n,r,i,o){return o(t,function(l,u,d){r=i?(i=!1,l):n(r,l,u,d)}),r}return Fy=e,Fy}var Hy,qM;function R6(){if(qM)return Hy;qM=1;var e=xoe(),t=jp(),n=zs(),r=boe(),i=Un();function o(l,u,d){var f=i(l)?e:r,p=arguments.length<3;return f(l,n(u,4),d,p,t)}return Hy=o,Hy}var Gy,FM;function yoe(){if(FM)return Gy;FM=1;var e=ho(),t=Un(),n=es(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Gy=i,Gy}var Vy,HM;function voe(){if(HM)return Vy;HM=1;var e=k6(),t=e("length");return Vy=t,Vy}var Ky,GM;function _oe(){if(GM)return Ky;GM=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+o+"]");function d(f){return u.test(f)}return Ky=d,Ky}var Yy,VM;function woe(){if(VM)return Yy;VM=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",y=f+"?",_="["+o+"]?",w="(?:"+b+"(?:"+[p,m,g].join("|")+")"+_+y+")*",S=_+y+w,j="(?:"+[p+u+"?",u,m,g,l].join("|")+")",N=RegExp(d+"(?="+d+")|"+j+S,"g");function C(A){for(var T=N.lastIndex=0;N.test(A);)++T;return T}return Yy=C,Yy}var Wy,KM;function Soe(){if(KM)return Wy;KM=1;var e=voe(),t=_oe(),n=woe();function r(i){return t(i)?n(i):e(i)}return Wy=r,Wy}var Xy,YM;function Noe(){if(YM)return Xy;YM=1;var e=kS(),t=Vl(),n=Is(),r=yoe(),i=Soe(),o="[object Map]",l="[object Set]";function u(d){if(d==null)return 0;if(n(d))return r(d)?i(d):d.length;var f=t(d);return f==o||f==l?d.size:e(d).length}return Xy=u,Xy}var Zy,WM;function Eoe(){if(WM)return Zy;WM=1;var e=SS(),t=d6(),n=RS(),r=zs(),i=kp(),o=Un(),l=Gl(),u=td(),d=gi(),f=id();function p(m,g,b){var y=o(m),_=y||l(m)||f(m);if(g=r(g,4),b==null){var w=m&&m.constructor;_?b=y?new w:[]:d(m)?b=u(w)?t(i(m)):{}:b={}}return(_?e:n)(m,function(S,j,N){return g(b,S,j,N)}),b}return Zy=p,Zy}var Qy,XM;function koe(){if(XM)return Qy;XM=1;var e=Hl(),t=rd(),n=Un(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Qy=i,Qy}var Jy,ZM;function LS(){if(ZM)return Jy;ZM=1;var e=CS(),t=koe();function n(r,i,o,l,u){var d=-1,f=r.length;for(o||(o=t),u||(u=[]);++d<f;){var p=r[d];i>0&&o(p)?i>1?n(p,i-1,o,l,u):e(u,p):l||(u[u.length]=p)}return u}return Jy=n,Jy}var ev,QM;function joe(){if(QM)return ev;QM=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return ev=e,ev}var tv,JM;function O6(){if(JM)return tv;JM=1;var e=joe(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),f=Array(d);++u<d;)f[u]=l[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=l[u];return p[i]=o(f),e(r,this,p)}}return tv=n,tv}var nv,eR;function Coe(){if(eR)return nv;eR=1;var e=AS(),t=QI(),n=go(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return nv=r,nv}var rv,tR;function Toe(){if(tR)return rv;tR=1;var e=800,t=16,n=Date.now;function r(i){var o=0,l=0;return function(){var u=n(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return rv=r,rv}var iv,nR;function D6(){if(nR)return iv;nR=1;var e=Coe(),t=Toe(),n=t(e);return iv=n,iv}var sv,rR;function Mp(){if(rR)return sv;rR=1;var e=go(),t=O6(),n=D6();function r(i,o){return n(t(i,o,e),i+"")}return sv=r,sv}var av,iR;function L6(){if(iR)return av;iR=1;function e(t,n,r,i){for(var o=t.length,l=r+(i?1:-1);i?l--:++l<o;)if(n(t[l],l,t))return l;return-1}return av=e,av}var ov,sR;function Aoe(){if(sR)return ov;sR=1;function e(t){return t!==t}return ov=e,ov}var lv,aR;function Moe(){if(aR)return lv;aR=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return lv=e,lv}var cv,oR;function Roe(){if(oR)return cv;oR=1;var e=L6(),t=Aoe(),n=Moe();function r(i,o,l){return o===o?n(i,o,l):e(i,t,l)}return cv=r,cv}var uv,lR;function Ooe(){if(lR)return uv;lR=1;var e=Roe();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return uv=t,uv}var dv,cR;function Doe(){if(cR)return dv;cR=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return dv=e,dv}var fv,uR;function Loe(){if(uR)return fv;uR=1;function e(){}return fv=e,fv}var hv,dR;function Ioe(){if(dR)return hv;dR=1;var e=l6(),t=Loe(),n=OS(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return hv=i,hv}var pv,fR;function zoe(){if(fR)return pv;fR=1;var e=x6(),t=Ooe(),n=Doe(),r=b6(),i=Ioe(),o=OS(),l=200;function u(d,f,p){var m=-1,g=t,b=d.length,y=!0,_=[],w=_;if(p)y=!1,g=n;else if(b>=l){var S=f?null:i(d);if(S)return o(S);y=!1,g=r,w=new e}else w=f?[]:_;e:for(;++m<b;){var j=d[m],N=f?f(j):j;if(j=p||j!==0?j:0,y&&N===N){for(var C=w.length;C--;)if(w[C]===N)continue e;f&&w.push(N),_.push(j)}else g(w,N,p)||(w!==_&&w.push(N),_.push(j))}return _}return pv=u,pv}var mv,hR;function I6(){if(hR)return mv;hR=1;var e=Is(),t=es();function n(r){return t(r)&&e(r)}return mv=n,mv}var gv,pR;function Poe(){if(pR)return gv;pR=1;var e=LS(),t=Mp(),n=zoe(),r=I6(),i=t(function(o){return n(e(o,1,r,!0))});return gv=i,gv}var xv,mR;function Boe(){if(mR)return xv;mR=1;var e=Cp();function t(n,r){return e(r,function(i){return n[i]})}return xv=t,xv}var bv,gR;function z6(){if(gR)return bv;gR=1;var e=Boe(),t=ka();function n(r){return r==null?[]:e(r,t(r))}return bv=n,bv}var yv,xR;function xi(){if(xR)return yv;xR=1;var e;if(typeof vS=="function")try{e={clone:Vae(),constant:AS(),each:g6(),filter:j6(),has:C6(),isArray:Un(),isEmpty:goe(),isFunction:td(),isUndefined:T6(),keys:ka(),map:M6(),reduce:R6(),size:Noe(),transform:Eoe(),union:Poe(),values:z6()}}catch{}return e||(e=window._),yv=e,yv}var vv,bR;function IS(){if(bR)return vv;bR=1;var e=xi();vv=i;var t="\0",n="\0",r="";function i(p){this._isDirected=e.has(p,"directed")?p.directed:!0,this._isMultigraph=e.has(p,"multigraph")?p.multigraph:!1,this._isCompound=e.has(p,"compound")?p.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(p){return this._label=p,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(p){return e.isFunction(p)||(p=e.constant(p)),this._defaultNodeLabelFn=p,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var p=this;return e.filter(this.nodes(),function(m){return e.isEmpty(p._in[m])})},i.prototype.sinks=function(){var p=this;return e.filter(this.nodes(),function(m){return e.isEmpty(p._out[m])})},i.prototype.setNodes=function(p,m){var g=arguments,b=this;return e.each(p,function(y){g.length>1?b.setNode(y,m):b.setNode(y)}),this},i.prototype.setNode=function(p,m){return e.has(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=m),this):(this._nodes[p]=arguments.length>1?m:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=n,this._children[p]={},this._children[n][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)},i.prototype.node=function(p){return this._nodes[p]},i.prototype.hasNode=function(p){return e.has(this._nodes,p)},i.prototype.removeNode=function(p){var m=this;if(e.has(this._nodes,p)){var g=function(b){m.removeEdge(m._edgeObjs[b])};delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],e.each(this.children(p),function(b){m.setParent(b)}),delete this._children[p]),e.each(e.keys(this._in[p]),g),delete this._in[p],delete this._preds[p],e.each(e.keys(this._out[p]),g),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this},i.prototype.setParent=function(p,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(m))m=n;else{m+="";for(var g=m;!e.isUndefined(g);g=this.parent(g))if(g===p)throw new Error("Setting "+m+" as parent of "+p+" would create a cycle");this.setNode(m)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=m,this._children[m][p]=!0,this},i.prototype._removeFromParentsChildList=function(p){delete this._children[this._parent[p]][p]},i.prototype.parent=function(p){if(this._isCompound){var m=this._parent[p];if(m!==n)return m}},i.prototype.children=function(p){if(e.isUndefined(p)&&(p=n),this._isCompound){var m=this._children[p];if(m)return e.keys(m)}else{if(p===n)return this.nodes();if(this.hasNode(p))return[]}},i.prototype.predecessors=function(p){var m=this._preds[p];if(m)return e.keys(m)},i.prototype.successors=function(p){var m=this._sucs[p];if(m)return e.keys(m)},i.prototype.neighbors=function(p){var m=this.predecessors(p);if(m)return e.union(m,this.successors(p))},i.prototype.isLeaf=function(p){var m;return this.isDirected()?m=this.successors(p):m=this.neighbors(p),m.length===0},i.prototype.filterNodes=function(p){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var g=this;e.each(this._nodes,function(_,w){p(w)&&m.setNode(w,_)}),e.each(this._edgeObjs,function(_){m.hasNode(_.v)&&m.hasNode(_.w)&&m.setEdge(_,g.edge(_))});var b={};function y(_){var w=g.parent(_);return w===void 0||m.hasNode(w)?(b[_]=w,w):w in b?b[w]:y(w)}return this._isCompound&&e.each(m.nodes(),function(_){m.setParent(_,y(_))}),m},i.prototype.setDefaultEdgeLabel=function(p){return e.isFunction(p)||(p=e.constant(p)),this._defaultEdgeLabelFn=p,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(p,m){var g=this,b=arguments;return e.reduce(p,function(y,_){return b.length>1?g.setEdge(y,_,m):g.setEdge(y,_),_}),this},i.prototype.setEdge=function(){var p,m,g,b,y=!1,_=arguments[0];typeof _=="object"&&_!==null&&"v"in _?(p=_.v,m=_.w,g=_.name,arguments.length===2&&(b=arguments[1],y=!0)):(p=_,m=arguments[1],g=arguments[3],arguments.length>2&&(b=arguments[2],y=!0)),p=""+p,m=""+m,e.isUndefined(g)||(g=""+g);var w=u(this._isDirected,p,m,g);if(e.has(this._edgeLabels,w))return y&&(this._edgeLabels[w]=b),this;if(!e.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(m),this._edgeLabels[w]=y?b:this._defaultEdgeLabelFn(p,m,g);var S=d(this._isDirected,p,m,g);return p=S.v,m=S.w,Object.freeze(S),this._edgeObjs[w]=S,o(this._preds[m],p),o(this._sucs[p],m),this._in[m][w]=S,this._out[p][w]=S,this._edgeCount++,this},i.prototype.edge=function(p,m,g){var b=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g);return this._edgeLabels[b]},i.prototype.hasEdge=function(p,m,g){var b=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g);return e.has(this._edgeLabels,b)},i.prototype.removeEdge=function(p,m,g){var b=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g),y=this._edgeObjs[b];return y&&(p=y.v,m=y.w,delete this._edgeLabels[b],delete this._edgeObjs[b],l(this._preds[m],p),l(this._sucs[p],m),delete this._in[m][b],delete this._out[p][b],this._edgeCount--),this},i.prototype.inEdges=function(p,m){var g=this._in[p];if(g){var b=e.values(g);return m?e.filter(b,function(y){return y.v===m}):b}},i.prototype.outEdges=function(p,m){var g=this._out[p];if(g){var b=e.values(g);return m?e.filter(b,function(y){return y.w===m}):b}},i.prototype.nodeEdges=function(p,m){var g=this.inEdges(p,m);if(g)return g.concat(this.outEdges(p,m))};function o(p,m){p[m]?p[m]++:p[m]=1}function l(p,m){--p[m]||delete p[m]}function u(p,m,g,b){var y=""+m,_=""+g;if(!p&&y>_){var w=y;y=_,_=w}return y+r+_+r+(e.isUndefined(b)?t:b)}function d(p,m,g,b){var y=""+m,_=""+g;if(!p&&y>_){var w=y;y=_,_=w}var S={v:y,w:_};return b&&(S.name=b),S}function f(p,m){return u(p,m.v,m.w,m.name)}return vv}var _v,yR;function $oe(){return yR||(yR=1,_v="2.1.8"),_v}var wv,vR;function Uoe(){return vR||(vR=1,wv={Graph:IS(),version:$oe()}),wv}var Sv,_R;function qoe(){if(_R)return Sv;_R=1;var e=xi(),t=IS();Sv={write:n,read:o};function n(l){var u={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:i(l)};return e.isUndefined(l.graph())||(u.value=e.clone(l.graph())),u}function r(l){return e.map(l.nodes(),function(u){var d=l.node(u),f=l.parent(u),p={v:u};return e.isUndefined(d)||(p.value=d),e.isUndefined(f)||(p.parent=f),p})}function i(l){return e.map(l.edges(),function(u){var d=l.edge(u),f={v:u.v,w:u.w};return e.isUndefined(u.name)||(f.name=u.name),e.isUndefined(d)||(f.value=d),f})}function o(l){var u=new t(l.options).setGraph(l.value);return e.each(l.nodes,function(d){u.setNode(d.v,d.value),d.parent&&u.setParent(d.v,d.parent)}),e.each(l.edges,function(d){u.setEdge({v:d.v,w:d.w,name:d.name},d.value)}),u}return Sv}var Nv,wR;function Foe(){if(wR)return Nv;wR=1;var e=xi();Nv=t;function t(n){var r={},i=[],o;function l(u){e.has(r,u)||(r[u]=!0,o.push(u),e.each(n.successors(u),l),e.each(n.predecessors(u),l))}return e.each(n.nodes(),function(u){o=[],l(u),o.length&&i.push(o)}),i}return Nv}var Ev,SR;function P6(){if(SR)return Ev;SR=1;var e=xi();Ev=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,l=o.length;return i[n]=l,o.push({key:n,priority:r}),this._decrease(l),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,l=n;i<r.length&&(l=r[i].priority<r[l].priority?i:l,o<r.length&&(l=r[o].priority<r[l].priority?o:l),l!==n&&(this._swap(n,l),this._heapify(l)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,l=i[n],u=i[r];i[n]=u,i[r]=l,o[u.key]=n,o[l.key]=r},Ev}var kv,NR;function B6(){if(NR)return kv;NR=1;var e=xi(),t=P6();kv=r;var n=e.constant(1);function r(o,l,u,d){return i(o,String(l),u||n,d||function(f){return o.outEdges(f)})}function i(o,l,u,d){var f={},p=new t,m,g,b=function(y){var _=y.v!==m?y.v:y.w,w=f[_],S=u(y),j=g.distance+S;if(S<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+S);j<w.distance&&(w.distance=j,w.predecessor=m,p.decrease(_,j))};for(o.nodes().forEach(function(y){var _=y===l?0:Number.POSITIVE_INFINITY;f[y]={distance:_},p.add(y,_)});p.size()>0&&(m=p.removeMin(),g=f[m],g.distance!==Number.POSITIVE_INFINITY);)d(m).forEach(b);return f}return kv}var jv,ER;function Hoe(){if(ER)return jv;ER=1;var e=B6(),t=xi();jv=n;function n(r,i,o){return t.transform(r.nodes(),function(l,u){l[u]=e(r,u,i,o)},{})}return jv}var Cv,kR;function $6(){if(kR)return Cv;kR=1;var e=xi();Cv=t;function t(n){var r=0,i=[],o={},l=[];function u(d){var f=o[d]={onStack:!0,lowlink:r,index:r++};if(i.push(d),n.successors(d).forEach(function(g){e.has(o,g)?o[g].onStack&&(f.lowlink=Math.min(f.lowlink,o[g].index)):(u(g),f.lowlink=Math.min(f.lowlink,o[g].lowlink))}),f.lowlink===f.index){var p=[],m;do m=i.pop(),o[m].onStack=!1,p.push(m);while(d!==m);l.push(p)}}return n.nodes().forEach(function(d){e.has(o,d)||u(d)}),l}return Cv}var Tv,jR;function Goe(){if(jR)return Tv;jR=1;var e=xi(),t=$6();Tv=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Tv}var Av,CR;function Voe(){if(CR)return Av;CR=1;var e=xi();Av=n;var t=e.constant(1);function n(i,o,l){return r(i,o||t,l||function(u){return i.outEdges(u)})}function r(i,o,l){var u={},d=i.nodes();return d.forEach(function(f){u[f]={},u[f][f]={distance:0},d.forEach(function(p){f!==p&&(u[f][p]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(p){var m=p.v===f?p.w:p.v,g=o(p);u[f][m]={distance:g,predecessor:f}})}),d.forEach(function(f){var p=u[f];d.forEach(function(m){var g=u[m];d.forEach(function(b){var y=g[f],_=p[b],w=g[b],S=y.distance+_.distance;S<w.distance&&(w.distance=S,w.predecessor=_.predecessor)})})}),u}return Av}var Mv,TR;function U6(){if(TR)return Mv;TR=1;var e=xi();Mv=t,t.CycleException=n;function t(r){var i={},o={},l=[];function u(d){if(e.has(o,d))throw new n;e.has(i,d)||(o[d]=!0,i[d]=!0,e.each(r.predecessors(d),u),delete o[d],l.push(d))}if(e.each(r.sinks(),u),e.size(i)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,Mv}var Rv,AR;function Koe(){if(AR)return Rv;AR=1;var e=U6();Rv=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Rv}var Ov,MR;function q6(){if(MR)return Ov;MR=1;var e=xi();Ov=t;function t(r,i,o){e.isArray(i)||(i=[i]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),u=[],d={};return e.each(i,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,o==="post",d,l,u)}),u}function n(r,i,o,l,u,d){e.has(l,i)||(l[i]=!0,o||d.push(i),e.each(u(i),function(f){n(r,f,o,l,u,d)}),o&&d.push(i))}return Ov}var Dv,RR;function Yoe(){if(RR)return Dv;RR=1;var e=q6();Dv=t;function t(n,r){return e(n,r,"post")}return Dv}var Lv,OR;function Woe(){if(OR)return Lv;OR=1;var e=q6();Lv=t;function t(n,r){return e(n,r,"pre")}return Lv}var Iv,DR;function Xoe(){if(DR)return Iv;DR=1;var e=xi(),t=IS(),n=P6();Iv=r;function r(i,o){var l=new t,u={},d=new n,f;function p(g){var b=g.v===f?g.w:g.v,y=d.priority(b);if(y!==void 0){var _=o(g);_<y&&(u[b]=f,d.decrease(b,_))}}if(i.nodeCount()===0)return l;e.each(i.nodes(),function(g){d.add(g,Number.POSITIVE_INFINITY),l.setNode(g)}),d.decrease(i.nodes()[0],0);for(var m=!1;d.size()>0;){if(f=d.removeMin(),e.has(u,f))l.setEdge(f,u[f]);else{if(m)throw new Error("Input graph is not connected: "+i);m=!0}i.nodeEdges(f).forEach(p)}return l}return Iv}var zv,LR;function Zoe(){return LR||(LR=1,zv={components:Foe(),dijkstra:B6(),dijkstraAll:Hoe(),findCycles:Goe(),floydWarshall:Voe(),isAcyclic:Koe(),postorder:Yoe(),preorder:Woe(),prim:Xoe(),tarjan:$6(),topsort:U6()}),zv}var Pv,IR;function Qoe(){if(IR)return Pv;IR=1;var e=Uoe();return Pv={Graph:e.Graph,json:qoe(),alg:Zoe(),version:e.version},Pv}var Bv,zR;function Li(){if(zR)return Bv;zR=1;var e;if(typeof vS=="function")try{e=Qoe()}catch{}return e||(e=window.graphlib),Bv=e,Bv}var $v,PR;function Joe(){if(PR)return $v;PR=1;var e=h6(),t=1,n=4;function r(i){return e(i,t|n)}return $v=r,$v}var Uv,BR;function Rp(){if(BR)return Uv;BR=1;var e=Fl(),t=Is(),n=Sp(),r=gi();function i(o,l,u){if(!r(u))return!1;var d=typeof l;return(d=="number"?t(u)&&n(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return Uv=i,Uv}var qv,$R;function ele(){if($R)return qv;$R=1;var e=Mp(),t=Fl(),n=Rp(),r=mo(),i=Object.prototype,o=i.hasOwnProperty,l=e(function(u,d){u=Object(u);var f=-1,p=d.length,m=p>2?d[2]:void 0;for(m&&n(d[0],d[1],m)&&(p=1);++f<p;)for(var g=d[f],b=r(g),y=-1,_=b.length;++y<_;){var w=b[y],S=u[w];(S===void 0||t(S,i[w])&&!o.call(u,w))&&(u[w]=g[w])}return u});return qv=l,qv}var Fv,UR;function tle(){if(UR)return Fv;UR=1;var e=zs(),t=Is(),n=ka();function r(i){return function(o,l,u){var d=Object(o);if(!t(o)){var f=e(l,3);o=n(o),l=function(m){return f(d[m],m,d)}}var p=i(o,l,u);return p>-1?d[f?o[p]:p]:void 0}}return Fv=r,Fv}var Hv,qR;function nle(){if(qR)return Hv;qR=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Hv=t,Hv}var Gv,FR;function rle(){if(FR)return Gv;FR=1;var e=nle(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Gv=n,Gv}var Vv,HR;function ile(){if(HR)return Vv;HR=1;var e=rle(),t=gi(),n=Kl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=o.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):i.test(f)?r:+f}return Vv=d,Vv}var Kv,GR;function F6(){if(GR)return Kv;GR=1;var e=ile(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Kv=r,Kv}var Yv,VR;function sle(){if(VR)return Yv;VR=1;var e=F6();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Yv=t,Yv}var Wv,KR;function ale(){if(KR)return Wv;KR=1;var e=L6(),t=zs(),n=sle(),r=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:n(u);return f<0&&(f=r(d+f,0)),e(o,t(l,3),f)}return Wv=i,Wv}var Xv,YR;function ole(){if(YR)return Xv;YR=1;var e=tle(),t=ale(),n=e(t);return Xv=n,Xv}var Zv,WR;function H6(){if(WR)return Zv;WR=1;var e=LS();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Zv=t,Zv}var Qv,XR;function lle(){if(XR)return Qv;XR=1;var e=MS(),t=p6(),n=mo();function r(i,o){return i==null?i:e(i,t(o),n)}return Qv=r,Qv}var Jv,ZR;function cle(){if(ZR)return Jv;ZR=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Jv=e,Jv}var e1,QR;function ule(){if(QR)return e1;QR=1;var e=_p(),t=RS(),n=zs();function r(i,o){var l={};return o=n(o,3),t(i,function(u,d,f){e(l,d,o(u,d,f))}),l}return e1=r,e1}var t1,JR;function zS(){if(JR)return t1;JR=1;var e=Kl();function t(n,r,i){for(var o=-1,l=n.length;++o<l;){var u=n[o],d=r(u);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,p=u}return p}return t1=t,t1}var n1,e5;function dle(){if(e5)return n1;e5=1;function e(t,n){return t>n}return n1=e,n1}var r1,t5;function fle(){if(t5)return r1;t5=1;var e=zS(),t=dle(),n=go();function r(i){return i&&i.length?e(i,n,t):void 0}return r1=r,r1}var i1,n5;function G6(){if(n5)return i1;n5=1;var e=_p(),t=Fl();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return i1=n,i1}var s1,r5;function hle(){if(r5)return s1;r5=1;var e=ho(),t=kp(),n=es(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function f(p){if(!n(p)||e(p)!=r)return!1;var m=t(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return s1=f,s1}var a1,i5;function V6(){if(i5)return a1;i5=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return a1=e,a1}var o1,s5;function ple(){if(s5)return o1;s5=1;var e=nd(),t=mo();function n(r){return e(r,t(r))}return o1=n,o1}var l1,a5;function mle(){if(a5)return l1;a5=1;var e=G6(),t=t6(),n=u6(),r=n6(),i=f6(),o=rd(),l=Un(),u=I6(),d=Gl(),f=td(),p=gi(),m=hle(),g=id(),b=V6(),y=ple();function _(w,S,j,N,C,A,T){var M=b(w,j),P=b(S,j),U=T.get(P);if(U){e(w,j,U);return}var z=A?A(M,P,j+"",w,S,T):void 0,R=z===void 0;if(R){var q=l(P),Y=!q&&d(P),L=!q&&!Y&&g(P);z=P,q||Y||L?l(M)?z=M:u(M)?z=r(M):Y?(R=!1,z=t(P,!0)):L?(R=!1,z=n(P,!0)):z=[]:m(P)||o(P)?(z=M,o(M)?z=y(M):(!p(M)||f(M))&&(z=i(P))):R=!1}R&&(T.set(P,z),C(z,P,N,A,T),T.delete(P)),e(w,j,z)}return l1=_,l1}var c1,o5;function gle(){if(o5)return c1;o5=1;var e=vp(),t=G6(),n=MS(),r=mle(),i=gi(),o=mo(),l=V6();function u(d,f,p,m,g){d!==f&&n(f,function(b,y){if(g||(g=new e),i(b))r(d,f,y,p,u,m,g);else{var _=m?m(l(d,y),b,y+"",d,f,g):void 0;_===void 0&&(_=b),t(d,y,_)}},o)}return c1=u,c1}var u1,l5;function xle(){if(l5)return u1;l5=1;var e=Mp(),t=Rp();function n(r){return e(function(i,o){var l=-1,u=o.length,d=u>1?o[u-1]:void 0,f=u>2?o[2]:void 0;for(d=r.length>3&&typeof d=="function"?(u--,d):void 0,f&&t(o[0],o[1],f)&&(d=u<3?void 0:d,u=1),i=Object(i);++l<u;){var p=o[l];p&&r(i,p,l,d)}return i})}return u1=n,u1}var d1,c5;function ble(){if(c5)return d1;c5=1;var e=gle(),t=xle(),n=t(function(r,i,o){e(r,i,o)});return d1=n,d1}var f1,u5;function K6(){if(u5)return f1;u5=1;function e(t,n){return t<n}return f1=e,f1}var h1,d5;function yle(){if(d5)return h1;d5=1;var e=zS(),t=K6(),n=go();function r(i){return i&&i.length?e(i,n,t):void 0}return h1=r,h1}var p1,f5;function vle(){if(f5)return p1;f5=1;var e=zS(),t=zs(),n=K6();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return p1=r,p1}var m1,h5;function _le(){if(h5)return m1;h5=1;var e=Pi(),t=function(){return e.Date.now()};return m1=t,m1}var g1,p5;function wle(){if(p5)return g1;p5=1;var e=wp(),t=Tp(),n=Sp(),r=gi(),i=sd();function o(l,u,d,f){if(!r(l))return l;u=t(u,l);for(var p=-1,m=u.length,g=m-1,b=l;b!=null&&++p<m;){var y=i(u[p]),_=d;if(y==="__proto__"||y==="constructor"||y==="prototype")return l;if(p!=g){var w=b[y];_=f?f(w,y,b):void 0,_===void 0&&(_=r(w)?w:n(u[p+1])?[]:{})}e(b,y,_),b=b[y]}return l}return g1=o,g1}var x1,m5;function Sle(){if(m5)return x1;m5=1;var e=Ap(),t=wle(),n=Tp();function r(i,o,l){for(var u=-1,d=o.length,f={};++u<d;){var p=o[u],m=e(i,p);l(m,p)&&t(f,n(p,i),m)}return f}return x1=r,x1}var b1,g5;function Nle(){if(g5)return b1;g5=1;var e=Sle(),t=E6();function n(r,i){return e(r,i,function(o,l){return t(r,l)})}return b1=n,b1}var y1,x5;function Ele(){if(x5)return y1;x5=1;var e=H6(),t=O6(),n=D6();function r(i){return n(t(i,void 0,e),i+"")}return y1=r,y1}var v1,b5;function kle(){if(b5)return v1;b5=1;var e=Nle(),t=Ele(),n=t(function(r,i){return r==null?{}:e(r,i)});return v1=n,v1}var _1,y5;function jle(){if(y5)return _1;y5=1;var e=Math.ceil,t=Math.max;function n(r,i,o,l){for(var u=-1,d=t(e((i-r)/(o||1)),0),f=Array(d);d--;)f[l?d:++u]=r,r+=o;return f}return _1=n,_1}var w1,v5;function Cle(){if(v5)return w1;v5=1;var e=jle(),t=Rp(),n=F6();function r(i){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=n(o),l===void 0?(l=o,o=0):l=n(l),u=u===void 0?o<l?1:-1:n(u),e(o,l,u,i)}}return w1=r,w1}var S1,_5;function Tle(){if(_5)return S1;_5=1;var e=Cle(),t=e();return S1=t,S1}var N1,w5;function Ale(){if(w5)return N1;w5=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return N1=e,N1}var E1,S5;function Mle(){if(S5)return E1;S5=1;var e=Kl();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,l=n===n,u=e(n),d=r!==void 0,f=r===null,p=r===r,m=e(r);if(!f&&!m&&!u&&n>r||u&&d&&p&&!f&&!m||o&&d&&p||!i&&p||!l)return 1;if(!o&&!u&&!m&&n<r||m&&i&&l&&!o&&!u||f&&i&&l||!d&&l||!p)return-1}return 0}return E1=t,E1}var k1,N5;function Rle(){if(N5)return k1;N5=1;var e=Mle();function t(n,r,i){for(var o=-1,l=n.criteria,u=r.criteria,d=l.length,f=i.length;++o<d;){var p=e(l[o],u[o]);if(p){if(o>=f)return p;var m=i[o];return p*(m=="desc"?-1:1)}}return n.index-r.index}return k1=t,k1}var j1,E5;function Ole(){if(E5)return j1;E5=1;var e=Cp(),t=Ap(),n=zs(),r=A6(),i=Ale(),o=Np(),l=Rle(),u=go(),d=Un();function f(p,m,g){m.length?m=e(m,function(_){return d(_)?function(w){return t(w,_.length===1?_[0]:_)}:_}):m=[u];var b=-1;m=e(m,o(n));var y=r(p,function(_,w,S){var j=e(m,function(N){return N(_)});return{criteria:j,index:++b,value:_}});return i(y,function(_,w){return l(_,w,g)})}return j1=f,j1}var C1,k5;function Dle(){if(k5)return C1;k5=1;var e=LS(),t=Ole(),n=Mp(),r=Rp(),i=n(function(o,l){if(o==null)return[];var u=l.length;return u>1&&r(o,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return C1=i,C1}var T1,j5;function Lle(){if(j5)return T1;j5=1;var e=S6(),t=0;function n(r){var i=++t;return e(r)+i}return T1=n,T1}var A1,C5;function Ile(){if(C5)return A1;C5=1;function e(t,n,r){for(var i=-1,o=t.length,l=n.length,u={};++i<o;){var d=i<l?n[i]:void 0;r(u,t[i],d)}return u}return A1=e,A1}var M1,T5;function zle(){if(T5)return M1;T5=1;var e=wp(),t=Ile();function n(r,i){return t(r||[],i||[],e)}return M1=n,M1}var R1,A5;function pn(){if(A5)return R1;A5=1;var e;if(typeof vS=="function")try{e={cloneDeep:Joe(),constant:AS(),defaults:ele(),each:g6(),filter:j6(),find:ole(),flatten:H6(),forEach:m6(),forIn:lle(),has:C6(),isUndefined:T6(),last:cle(),map:M6(),mapValues:ule(),max:fle(),merge:ble(),min:yle(),minBy:vle(),now:_le(),pick:kle(),range:Tle(),reduce:R6(),sortBy:Dle(),uniqueId:Lle(),values:z6(),zipObject:zle()}}catch{}return e||(e=window._),R1=e,R1}var O1,M5;function Ple(){if(M5)return O1;M5=1,O1=e;function e(){var r={};r._next=r._prev=r,this._sentinel=r}e.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return t(i),i},e.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&t(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},e.prototype.toString=function(){for(var r=[],i=this._sentinel,o=i._prev;o!==i;)r.push(JSON.stringify(o,n)),o=o._prev;return"["+r.join(", ")+"]"};function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return O1}var D1,R5;function Ble(){if(R5)return D1;R5=1;var e=pn(),t=Li().Graph,n=Ple();D1=i;var r=e.constant(1);function i(f,p){if(f.nodeCount()<=1)return[];var m=u(f,p||r),g=o(m.graph,m.buckets,m.zeroIdx);return e.flatten(e.map(g,function(b){return f.outEdges(b.v,b.w)}),!0)}function o(f,p,m){for(var g=[],b=p[p.length-1],y=p[0],_;f.nodeCount();){for(;_=y.dequeue();)l(f,p,m,_);for(;_=b.dequeue();)l(f,p,m,_);if(f.nodeCount()){for(var w=p.length-2;w>0;--w)if(_=p[w].dequeue(),_){g=g.concat(l(f,p,m,_,!0));break}}}return g}function l(f,p,m,g,b){var y=b?[]:void 0;return e.forEach(f.inEdges(g.v),function(_){var w=f.edge(_),S=f.node(_.v);b&&y.push({v:_.v,w:_.w}),S.out-=w,d(p,m,S)}),e.forEach(f.outEdges(g.v),function(_){var w=f.edge(_),S=_.w,j=f.node(S);j.in-=w,d(p,m,j)}),f.removeNode(g.v),y}function u(f,p){var m=new t,g=0,b=0;e.forEach(f.nodes(),function(w){m.setNode(w,{v:w,in:0,out:0})}),e.forEach(f.edges(),function(w){var S=m.edge(w.v,w.w)||0,j=p(w),N=S+j;m.setEdge(w.v,w.w,N),b=Math.max(b,m.node(w.v).out+=j),g=Math.max(g,m.node(w.w).in+=j)});var y=e.range(b+g+3).map(function(){return new n}),_=g+1;return e.forEach(m.nodes(),function(w){d(y,_,m.node(w))}),{graph:m,buckets:y,zeroIdx:_}}function d(f,p,m){m.out?m.in?f[m.out-m.in+p].enqueue(m):f[f.length-1].enqueue(m):f[0].enqueue(m)}return D1}var L1,O5;function $le(){if(O5)return L1;O5=1;var e=pn(),t=Ble();L1={run:n,undo:i};function n(o){var l=o.graph().acyclicer==="greedy"?t(o,u(o)):r(o);e.forEach(l,function(d){var f=o.edge(d);o.removeEdge(d),f.forwardName=d.name,f.reversed=!0,o.setEdge(d.w,d.v,f,e.uniqueId("rev"))});function u(d){return function(f){return d.edge(f).weight}}}function r(o){var l=[],u={},d={};function f(p){e.has(d,p)||(d[p]=!0,u[p]=!0,e.forEach(o.outEdges(p),function(m){e.has(u,m.w)?l.push(m):f(m.w)}),delete u[p])}return e.forEach(o.nodes(),f),l}function i(o){e.forEach(o.edges(),function(l){var u=o.edge(l);if(u.reversed){o.removeEdge(l);var d=u.forwardName;delete u.reversed,delete u.forwardName,o.setEdge(l.w,l.v,u,d)}})}return L1}var I1,D5;function Mr(){if(D5)return I1;D5=1;var e=pn(),t=Li().Graph;I1={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:o,predecessorWeights:l,intersectRect:u,buildLayerMatrix:d,normalizeRanks:f,removeEmptyRanks:p,addBorderNode:m,maxRank:g,partition:b,time:y,notime:_};function n(w,S,j,N){var C;do C=e.uniqueId(N);while(w.hasNode(C));return j.dummy=S,w.setNode(C,j),C}function r(w){var S=new t().setGraph(w.graph());return e.forEach(w.nodes(),function(j){S.setNode(j,w.node(j))}),e.forEach(w.edges(),function(j){var N=S.edge(j.v,j.w)||{weight:0,minlen:1},C=w.edge(j);S.setEdge(j.v,j.w,{weight:N.weight+C.weight,minlen:Math.max(N.minlen,C.minlen)})}),S}function i(w){var S=new t({multigraph:w.isMultigraph()}).setGraph(w.graph());return e.forEach(w.nodes(),function(j){w.children(j).length||S.setNode(j,w.node(j))}),e.forEach(w.edges(),function(j){S.setEdge(j,w.edge(j))}),S}function o(w){var S=e.map(w.nodes(),function(j){var N={};return e.forEach(w.outEdges(j),function(C){N[C.w]=(N[C.w]||0)+w.edge(C).weight}),N});return e.zipObject(w.nodes(),S)}function l(w){var S=e.map(w.nodes(),function(j){var N={};return e.forEach(w.inEdges(j),function(C){N[C.v]=(N[C.v]||0)+w.edge(C).weight}),N});return e.zipObject(w.nodes(),S)}function u(w,S){var j=w.x,N=w.y,C=S.x-j,A=S.y-N,T=w.width/2,M=w.height/2;if(!C&&!A)throw new Error("Not possible to find intersection inside of the rectangle");var P,U;return Math.abs(A)*T>Math.abs(C)*M?(A<0&&(M=-M),P=M*C/A,U=M):(C<0&&(T=-T),P=T,U=T*A/C),{x:j+P,y:N+U}}function d(w){var S=e.map(e.range(g(w)+1),function(){return[]});return e.forEach(w.nodes(),function(j){var N=w.node(j),C=N.rank;e.isUndefined(C)||(S[C][N.order]=j)}),S}function f(w){var S=e.min(e.map(w.nodes(),function(j){return w.node(j).rank}));e.forEach(w.nodes(),function(j){var N=w.node(j);e.has(N,"rank")&&(N.rank-=S)})}function p(w){var S=e.min(e.map(w.nodes(),function(A){return w.node(A).rank})),j=[];e.forEach(w.nodes(),function(A){var T=w.node(A).rank-S;j[T]||(j[T]=[]),j[T].push(A)});var N=0,C=w.graph().nodeRankFactor;e.forEach(j,function(A,T){e.isUndefined(A)&&T%C!==0?--N:N&&e.forEach(A,function(M){w.node(M).rank+=N})})}function m(w,S,j,N){var C={width:0,height:0};return arguments.length>=4&&(C.rank=j,C.order=N),n(w,"border",C,S)}function g(w){return e.max(e.map(w.nodes(),function(S){var j=w.node(S).rank;if(!e.isUndefined(j))return j}))}function b(w,S){var j={lhs:[],rhs:[]};return e.forEach(w,function(N){S(N)?j.lhs.push(N):j.rhs.push(N)}),j}function y(w,S){var j=e.now();try{return S()}finally{console.log(w+" time: "+(e.now()-j)+"ms")}}function _(w,S){return S()}return I1}var z1,L5;function Ule(){if(L5)return z1;L5=1;var e=pn(),t=Mr();z1={run:n,undo:i};function n(o){o.graph().dummyChains=[],e.forEach(o.edges(),function(l){r(o,l)})}function r(o,l){var u=l.v,d=o.node(u).rank,f=l.w,p=o.node(f).rank,m=l.name,g=o.edge(l),b=g.labelRank;if(p!==d+1){o.removeEdge(l);var y,_,w;for(w=0,++d;d<p;++w,++d)g.points=[],_={width:0,height:0,edgeLabel:g,edgeObj:l,rank:d},y=t.addDummyNode(o,"edge",_,"_d"),d===b&&(_.width=g.width,_.height=g.height,_.dummy="edge-label",_.labelpos=g.labelpos),o.setEdge(u,y,{weight:g.weight},m),w===0&&o.graph().dummyChains.push(y),u=y;o.setEdge(u,f,{weight:g.weight},m)}}function i(o){e.forEach(o.graph().dummyChains,function(l){var u=o.node(l),d=u.edgeLabel,f;for(o.setEdge(u.edgeObj,d);u.dummy;)f=o.successors(l)[0],o.removeNode(l),d.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(d.x=u.x,d.y=u.y,d.width=u.width,d.height=u.height),l=f,u=o.node(l)})}return z1}var P1,I5;function Lh(){if(I5)return P1;I5=1;var e=pn();P1={longestPath:t,slack:n};function t(r){var i={};function o(l){var u=r.node(l);if(e.has(i,l))return u.rank;i[l]=!0;var d=e.min(e.map(r.outEdges(l),function(f){return o(f.w)-r.edge(f).minlen}));return(d===Number.POSITIVE_INFINITY||d===void 0||d===null)&&(d=0),u.rank=d}e.forEach(r.sources(),o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return P1}var B1,z5;function Y6(){if(z5)return B1;z5=1;var e=pn(),t=Li().Graph,n=Lh().slack;B1=r;function r(u){var d=new t({directed:!1}),f=u.nodes()[0],p=u.nodeCount();d.setNode(f,{});for(var m,g;i(d,u)<p;)m=o(d,u),g=d.hasNode(m.v)?n(u,m):-n(u,m),l(d,u,g);return d}function i(u,d){function f(p){e.forEach(d.nodeEdges(p),function(m){var g=m.v,b=p===g?m.w:g;!u.hasNode(b)&&!n(d,m)&&(u.setNode(b,{}),u.setEdge(p,b,{}),f(b))})}return e.forEach(u.nodes(),f),u.nodeCount()}function o(u,d){return e.minBy(d.edges(),function(f){if(u.hasNode(f.v)!==u.hasNode(f.w))return n(d,f)})}function l(u,d,f){e.forEach(u.nodes(),function(p){d.node(p).rank+=f})}return B1}var $1,P5;function qle(){if(P5)return $1;P5=1;var e=pn(),t=Y6(),n=Lh().slack,r=Lh().longestPath,i=Li().alg.preorder,o=Li().alg.postorder,l=Mr().simplify;$1=u,u.initLowLimValues=m,u.initCutValues=d,u.calcCutValue=p,u.leaveEdge=b,u.enterEdge=y,u.exchangeEdges=_;function u(N){N=l(N),r(N);var C=t(N);m(C),d(C,N);for(var A,T;A=b(C);)T=y(C,N,A),_(C,N,A,T)}function d(N,C){var A=o(N,N.nodes());A=A.slice(0,A.length-1),e.forEach(A,function(T){f(N,C,T)})}function f(N,C,A){var T=N.node(A),M=T.parent;N.edge(A,M).cutvalue=p(N,C,A)}function p(N,C,A){var T=N.node(A),M=T.parent,P=!0,U=C.edge(A,M),z=0;return U||(P=!1,U=C.edge(M,A)),z=U.weight,e.forEach(C.nodeEdges(A),function(R){var q=R.v===A,Y=q?R.w:R.v;if(Y!==M){var L=q===P,F=C.edge(R).weight;if(z+=L?F:-F,S(N,A,Y)){var B=N.edge(A,Y).cutvalue;z+=L?-B:B}}}),z}function m(N,C){arguments.length<2&&(C=N.nodes()[0]),g(N,{},1,C)}function g(N,C,A,T,M){var P=A,U=N.node(T);return C[T]=!0,e.forEach(N.neighbors(T),function(z){e.has(C,z)||(A=g(N,C,A,z,T))}),U.low=P,U.lim=A++,M?U.parent=M:delete U.parent,A}function b(N){return e.find(N.edges(),function(C){return N.edge(C).cutvalue<0})}function y(N,C,A){var T=A.v,M=A.w;C.hasEdge(T,M)||(T=A.w,M=A.v);var P=N.node(T),U=N.node(M),z=P,R=!1;P.lim>U.lim&&(z=U,R=!0);var q=e.filter(C.edges(),function(Y){return R===j(N,N.node(Y.v),z)&&R!==j(N,N.node(Y.w),z)});return e.minBy(q,function(Y){return n(C,Y)})}function _(N,C,A,T){var M=A.v,P=A.w;N.removeEdge(M,P),N.setEdge(T.v,T.w,{}),m(N),d(N,C),w(N,C)}function w(N,C){var A=e.find(N.nodes(),function(M){return!C.node(M).parent}),T=i(N,A);T=T.slice(1),e.forEach(T,function(M){var P=N.node(M).parent,U=C.edge(M,P),z=!1;U||(U=C.edge(P,M),z=!0),C.node(M).rank=C.node(P).rank+(z?U.minlen:-U.minlen)})}function S(N,C,A){return N.hasEdge(C,A)}function j(N,C,A){return A.low<=C.lim&&C.lim<=A.lim}return $1}var U1,B5;function Fle(){if(B5)return U1;B5=1;var e=Lh(),t=e.longestPath,n=Y6(),r=qle();U1=i;function i(d){switch(d.graph().ranker){case"network-simplex":u(d);break;case"tight-tree":l(d);break;case"longest-path":o(d);break;default:u(d)}}var o=t;function l(d){t(d),n(d)}function u(d){r(d)}return U1}var q1,$5;function Hle(){if($5)return q1;$5=1;var e=pn();q1=t;function t(i){var o=r(i);e.forEach(i.graph().dummyChains,function(l){for(var u=i.node(l),d=u.edgeObj,f=n(i,o,d.v,d.w),p=f.path,m=f.lca,g=0,b=p[g],y=!0;l!==d.w;){if(u=i.node(l),y){for(;(b=p[g])!==m&&i.node(b).maxRank<u.rank;)g++;b===m&&(y=!1)}if(!y){for(;g<p.length-1&&i.node(b=p[g+1]).minRank<=u.rank;)g++;b=p[g]}i.setParent(l,b),l=i.successors(l)[0]}})}function n(i,o,l,u){var d=[],f=[],p=Math.min(o[l].low,o[u].low),m=Math.max(o[l].lim,o[u].lim),g,b;g=l;do g=i.parent(g),d.push(g);while(g&&(o[g].low>p||m>o[g].lim));for(b=g,g=u;(g=i.parent(g))!==b;)f.push(g);return{path:d.concat(f.reverse()),lca:b}}function r(i){var o={},l=0;function u(d){var f=l;e.forEach(i.children(d),u),o[d]={low:f,lim:l++}}return e.forEach(i.children(),u),o}return q1}var F1,U5;function Gle(){if(U5)return F1;U5=1;var e=pn(),t=Mr();F1={run:n,cleanup:l};function n(u){var d=t.addDummyNode(u,"root",{},"_root"),f=i(u),p=e.max(e.values(f))-1,m=2*p+1;u.graph().nestingRoot=d,e.forEach(u.edges(),function(b){u.edge(b).minlen*=m});var g=o(u)+1;e.forEach(u.children(),function(b){r(u,d,m,g,p,f,b)}),u.graph().nodeRankFactor=m}function r(u,d,f,p,m,g,b){var y=u.children(b);if(!y.length){b!==d&&u.setEdge(d,b,{weight:0,minlen:f});return}var _=t.addBorderNode(u,"_bt"),w=t.addBorderNode(u,"_bb"),S=u.node(b);u.setParent(_,b),S.borderTop=_,u.setParent(w,b),S.borderBottom=w,e.forEach(y,function(j){r(u,d,f,p,m,g,j);var N=u.node(j),C=N.borderTop?N.borderTop:j,A=N.borderBottom?N.borderBottom:j,T=N.borderTop?p:2*p,M=C!==A?1:m-g[b]+1;u.setEdge(_,C,{weight:T,minlen:M,nestingEdge:!0}),u.setEdge(A,w,{weight:T,minlen:M,nestingEdge:!0})}),u.parent(b)||u.setEdge(d,_,{weight:0,minlen:m+g[b]})}function i(u){var d={};function f(p,m){var g=u.children(p);g&&g.length&&e.forEach(g,function(b){f(b,m+1)}),d[p]=m}return e.forEach(u.children(),function(p){f(p,1)}),d}function o(u){return e.reduce(u.edges(),function(d,f){return d+u.edge(f).weight},0)}function l(u){var d=u.graph();u.removeNode(d.nestingRoot),delete d.nestingRoot,e.forEach(u.edges(),function(f){var p=u.edge(f);p.nestingEdge&&u.removeEdge(f)})}return F1}var H1,q5;function Vle(){if(q5)return H1;q5=1;var e=pn(),t=Mr();H1=n;function n(i){function o(l){var u=i.children(l),d=i.node(l);if(u.length&&e.forEach(u,o),e.has(d,"minRank")){d.borderLeft=[],d.borderRight=[];for(var f=d.minRank,p=d.maxRank+1;f<p;++f)r(i,"borderLeft","_bl",l,d,f),r(i,"borderRight","_br",l,d,f)}}e.forEach(i.children(),o)}function r(i,o,l,u,d,f){var p={width:0,height:0,rank:f,borderType:o},m=d[o][f-1],g=t.addDummyNode(i,"border",p,l);d[o][f]=g,i.setParent(g,u),m&&i.setEdge(m,g,{weight:1})}return H1}var G1,F5;function Kle(){if(F5)return G1;F5=1;var e=pn();G1={adjust:t,undo:n};function t(f){var p=f.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&r(f)}function n(f){var p=f.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&o(f),(p==="lr"||p==="rl")&&(u(f),r(f))}function r(f){e.forEach(f.nodes(),function(p){i(f.node(p))}),e.forEach(f.edges(),function(p){i(f.edge(p))})}function i(f){var p=f.width;f.width=f.height,f.height=p}function o(f){e.forEach(f.nodes(),function(p){l(f.node(p))}),e.forEach(f.edges(),function(p){var m=f.edge(p);e.forEach(m.points,l),e.has(m,"y")&&l(m)})}function l(f){f.y=-f.y}function u(f){e.forEach(f.nodes(),function(p){d(f.node(p))}),e.forEach(f.edges(),function(p){var m=f.edge(p);e.forEach(m.points,d),e.has(m,"x")&&d(m)})}function d(f){var p=f.x;f.x=f.y,f.y=p}return G1}var V1,H5;function Yle(){if(H5)return V1;H5=1;var e=pn();V1=t;function t(n){var r={},i=e.filter(n.nodes(),function(f){return!n.children(f).length}),o=e.max(e.map(i,function(f){return n.node(f).rank})),l=e.map(e.range(o+1),function(){return[]});function u(f){if(!e.has(r,f)){r[f]=!0;var p=n.node(f);l[p.rank].push(f),e.forEach(n.successors(f),u)}}var d=e.sortBy(i,function(f){return n.node(f).rank});return e.forEach(d,u),l}return V1}var K1,G5;function Wle(){if(G5)return K1;G5=1;var e=pn();K1=t;function t(r,i){for(var o=0,l=1;l<i.length;++l)o+=n(r,i[l-1],i[l]);return o}function n(r,i,o){for(var l=e.zipObject(o,e.map(o,function(g,b){return b})),u=e.flatten(e.map(i,function(g){return e.sortBy(e.map(r.outEdges(g),function(b){return{pos:l[b.w],weight:r.edge(b).weight}}),"pos")}),!0),d=1;d<o.length;)d<<=1;var f=2*d-1;d-=1;var p=e.map(new Array(f),function(){return 0}),m=0;return e.forEach(u.forEach(function(g){var b=g.pos+d;p[b]+=g.weight;for(var y=0;b>0;)b%2&&(y+=p[b+1]),b=b-1>>1,p[b]+=g.weight;m+=g.weight*y})),m}return K1}var Y1,V5;function Xle(){if(V5)return Y1;V5=1;var e=pn();Y1=t;function t(n,r){return e.map(r,function(i){var o=n.inEdges(i);if(o.length){var l=e.reduce(o,function(u,d){var f=n.edge(d),p=n.node(d.v);return{sum:u.sum+f.weight*p.order,weight:u.weight+f.weight}},{sum:0,weight:0});return{v:i,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:i}})}return Y1}var W1,K5;function Zle(){if(K5)return W1;K5=1;var e=pn();W1=t;function t(i,o){var l={};e.forEach(i,function(d,f){var p=l[d.v]={indegree:0,in:[],out:[],vs:[d.v],i:f};e.isUndefined(d.barycenter)||(p.barycenter=d.barycenter,p.weight=d.weight)}),e.forEach(o.edges(),function(d){var f=l[d.v],p=l[d.w];!e.isUndefined(f)&&!e.isUndefined(p)&&(p.indegree++,f.out.push(l[d.w]))});var u=e.filter(l,function(d){return!d.indegree});return n(u)}function n(i){var o=[];function l(f){return function(p){p.merged||(e.isUndefined(p.barycenter)||e.isUndefined(f.barycenter)||p.barycenter>=f.barycenter)&&r(f,p)}}function u(f){return function(p){p.in.push(f),--p.indegree===0&&i.push(p)}}for(;i.length;){var d=i.pop();o.push(d),e.forEach(d.in.reverse(),l(d)),e.forEach(d.out,u(d))}return e.map(e.filter(o,function(f){return!f.merged}),function(f){return e.pick(f,["vs","i","barycenter","weight"])})}function r(i,o){var l=0,u=0;i.weight&&(l+=i.barycenter*i.weight,u+=i.weight),o.weight&&(l+=o.barycenter*o.weight,u+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=l/u,i.weight=u,i.i=Math.min(o.i,i.i),o.merged=!0}return W1}var X1,Y5;function Qle(){if(Y5)return X1;Y5=1;var e=pn(),t=Mr();X1=n;function n(o,l){var u=t.partition(o,function(_){return e.has(_,"barycenter")}),d=u.lhs,f=e.sortBy(u.rhs,function(_){return-_.i}),p=[],m=0,g=0,b=0;d.sort(i(!!l)),b=r(p,f,b),e.forEach(d,function(_){b+=_.vs.length,p.push(_.vs),m+=_.barycenter*_.weight,g+=_.weight,b=r(p,f,b)});var y={vs:e.flatten(p,!0)};return g&&(y.barycenter=m/g,y.weight=g),y}function r(o,l,u){for(var d;l.length&&(d=e.last(l)).i<=u;)l.pop(),o.push(d.vs),u++;return u}function i(o){return function(l,u){return l.barycenter<u.barycenter?-1:l.barycenter>u.barycenter?1:o?u.i-l.i:l.i-u.i}}return X1}var Z1,W5;function Jle(){if(W5)return Z1;W5=1;var e=pn(),t=Xle(),n=Zle(),r=Qle();Z1=i;function i(u,d,f,p){var m=u.children(d),g=u.node(d),b=g?g.borderLeft:void 0,y=g?g.borderRight:void 0,_={};b&&(m=e.filter(m,function(A){return A!==b&&A!==y}));var w=t(u,m);e.forEach(w,function(A){if(u.children(A.v).length){var T=i(u,A.v,f,p);_[A.v]=T,e.has(T,"barycenter")&&l(A,T)}});var S=n(w,f);o(S,_);var j=r(S,p);if(b&&(j.vs=e.flatten([b,j.vs,y],!0),u.predecessors(b).length)){var N=u.node(u.predecessors(b)[0]),C=u.node(u.predecessors(y)[0]);e.has(j,"barycenter")||(j.barycenter=0,j.weight=0),j.barycenter=(j.barycenter*j.weight+N.order+C.order)/(j.weight+2),j.weight+=2}return j}function o(u,d){e.forEach(u,function(f){f.vs=e.flatten(f.vs.map(function(p){return d[p]?d[p].vs:p}),!0)})}function l(u,d){e.isUndefined(u.barycenter)?(u.barycenter=d.barycenter,u.weight=d.weight):(u.barycenter=(u.barycenter*u.weight+d.barycenter*d.weight)/(u.weight+d.weight),u.weight+=d.weight)}return Z1}var Q1,X5;function ece(){if(X5)return Q1;X5=1;var e=pn(),t=Li().Graph;Q1=n;function n(i,o,l){var u=r(i),d=new t({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(f){return i.node(f)});return e.forEach(i.nodes(),function(f){var p=i.node(f),m=i.parent(f);(p.rank===o||p.minRank<=o&&o<=p.maxRank)&&(d.setNode(f),d.setParent(f,m||u),e.forEach(i[l](f),function(g){var b=g.v===f?g.w:g.v,y=d.edge(b,f),_=e.isUndefined(y)?0:y.weight;d.setEdge(b,f,{weight:i.edge(g).weight+_})}),e.has(p,"minRank")&&d.setNode(f,{borderLeft:p.borderLeft[o],borderRight:p.borderRight[o]}))}),d}function r(i){for(var o;i.hasNode(o=e.uniqueId("_root")););return o}return Q1}var J1,Z5;function tce(){if(Z5)return J1;Z5=1;var e=pn();J1=t;function t(n,r,i){var o={},l;e.forEach(i,function(u){for(var d=n.parent(u),f,p;d;){if(f=n.parent(d),f?(p=o[f],o[f]=d):(p=l,l=d),p&&p!==d){r.setEdge(p,d);return}d=f}})}return J1}var e_,Q5;function nce(){if(Q5)return e_;Q5=1;var e=pn(),t=Yle(),n=Wle(),r=Jle(),i=ece(),o=tce(),l=Li().Graph,u=Mr();e_=d;function d(g){var b=u.maxRank(g),y=f(g,e.range(1,b+1),"inEdges"),_=f(g,e.range(b-1,-1,-1),"outEdges"),w=t(g);m(g,w);for(var S=Number.POSITIVE_INFINITY,j,N=0,C=0;C<4;++N,++C){p(N%2?y:_,N%4>=2),w=u.buildLayerMatrix(g);var A=n(g,w);A<S&&(C=0,j=e.cloneDeep(w),S=A)}m(g,j)}function f(g,b,y){return e.map(b,function(_){return i(g,_,y)})}function p(g,b){var y=new l;e.forEach(g,function(_){var w=_.graph().root,S=r(_,w,y,b);e.forEach(S.vs,function(j,N){_.node(j).order=N}),o(_,y,S.vs)})}function m(g,b){e.forEach(b,function(y){e.forEach(y,function(_,w){g.node(_).order=w})})}return e_}var t_,J5;function rce(){if(J5)return t_;J5=1;var e=pn(),t=Li().Graph,n=Mr();t_={positionX:y,findType1Conflicts:r,findType2Conflicts:i,addConflict:l,hasConflict:u,verticalAlignment:d,horizontalCompaction:f,alignCoordinates:g,findSmallestWidthAlignment:m,balance:b};function r(S,j){var N={};function C(A,T){var M=0,P=0,U=A.length,z=e.last(T);return e.forEach(T,function(R,q){var Y=o(S,R),L=Y?S.node(Y).order:U;(Y||R===z)&&(e.forEach(T.slice(P,q+1),function(F){e.forEach(S.predecessors(F),function(B){var X=S.node(B),W=X.order;(W<M||L<W)&&!(X.dummy&&S.node(F).dummy)&&l(N,B,F)})}),P=q+1,M=L)}),T}return e.reduce(j,C),N}function i(S,j){var N={};function C(T,M,P,U,z){var R;e.forEach(e.range(M,P),function(q){R=T[q],S.node(R).dummy&&e.forEach(S.predecessors(R),function(Y){var L=S.node(Y);L.dummy&&(L.order<U||L.order>z)&&l(N,Y,R)})})}function A(T,M){var P=-1,U,z=0;return e.forEach(M,function(R,q){if(S.node(R).dummy==="border"){var Y=S.predecessors(R);Y.length&&(U=S.node(Y[0]).order,C(M,z,q,P,U),z=q,P=U)}C(M,z,M.length,U,T.length)}),M}return e.reduce(j,A),N}function o(S,j){if(S.node(j).dummy)return e.find(S.predecessors(j),function(N){return S.node(N).dummy})}function l(S,j,N){if(j>N){var C=j;j=N,N=C}var A=S[j];A||(S[j]=A={}),A[N]=!0}function u(S,j,N){if(j>N){var C=j;j=N,N=C}return e.has(S[j],N)}function d(S,j,N,C){var A={},T={},M={};return e.forEach(j,function(P){e.forEach(P,function(U,z){A[U]=U,T[U]=U,M[U]=z})}),e.forEach(j,function(P){var U=-1;e.forEach(P,function(z){var R=C(z);if(R.length){R=e.sortBy(R,function(B){return M[B]});for(var q=(R.length-1)/2,Y=Math.floor(q),L=Math.ceil(q);Y<=L;++Y){var F=R[Y];T[z]===z&&U<M[F]&&!u(N,z,F)&&(T[F]=z,T[z]=A[z]=A[F],U=M[F])}}})}),{root:A,align:T}}function f(S,j,N,C,A){var T={},M=p(S,j,N,A),P=A?"borderLeft":"borderRight";function U(q,Y){for(var L=M.nodes(),F=L.pop(),B={};F;)B[F]?q(F):(B[F]=!0,L.push(F),L=L.concat(Y(F))),F=L.pop()}function z(q){T[q]=M.inEdges(q).reduce(function(Y,L){return Math.max(Y,T[L.v]+M.edge(L))},0)}function R(q){var Y=M.outEdges(q).reduce(function(F,B){return Math.min(F,T[B.w]-M.edge(B))},Number.POSITIVE_INFINITY),L=S.node(q);Y!==Number.POSITIVE_INFINITY&&L.borderType!==P&&(T[q]=Math.max(T[q],Y))}return U(z,M.predecessors.bind(M)),U(R,M.successors.bind(M)),e.forEach(C,function(q){T[q]=T[N[q]]}),T}function p(S,j,N,C){var A=new t,T=S.graph(),M=_(T.nodesep,T.edgesep,C);return e.forEach(j,function(P){var U;e.forEach(P,function(z){var R=N[z];if(A.setNode(R),U){var q=N[U],Y=A.edge(q,R);A.setEdge(q,R,Math.max(M(S,z,U),Y||0))}U=z})}),A}function m(S,j){return e.minBy(e.values(j),function(N){var C=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;return e.forIn(N,function(T,M){var P=w(S,M)/2;C=Math.max(T+P,C),A=Math.min(T-P,A)}),C-A})}function g(S,j){var N=e.values(j),C=e.min(N),A=e.max(N);e.forEach(["u","d"],function(T){e.forEach(["l","r"],function(M){var P=T+M,U=S[P],z;if(U!==j){var R=e.values(U);z=M==="l"?C-e.min(R):A-e.max(R),z&&(S[P]=e.mapValues(U,function(q){return q+z}))}})})}function b(S,j){return e.mapValues(S.ul,function(N,C){if(j)return S[j.toLowerCase()][C];var A=e.sortBy(e.map(S,C));return(A[1]+A[2])/2})}function y(S){var j=n.buildLayerMatrix(S),N=e.merge(r(S,j),i(S,j)),C={},A;e.forEach(["u","d"],function(M){A=M==="u"?j:e.values(j).reverse(),e.forEach(["l","r"],function(P){P==="r"&&(A=e.map(A,function(q){return e.values(q).reverse()}));var U=(M==="u"?S.predecessors:S.successors).bind(S),z=d(S,A,N,U),R=f(S,A,z.root,z.align,P==="r");P==="r"&&(R=e.mapValues(R,function(q){return-q})),C[M+P]=R})});var T=m(S,C);return g(C,T),b(C,S.graph().align)}function _(S,j,N){return function(C,A,T){var M=C.node(A),P=C.node(T),U=0,z;if(U+=M.width/2,e.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":z=-M.width/2;break;case"r":z=M.width/2;break}if(z&&(U+=N?z:-z),z=0,U+=(M.dummy?j:S)/2,U+=(P.dummy?j:S)/2,U+=P.width/2,e.has(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":z=P.width/2;break;case"r":z=-P.width/2;break}return z&&(U+=N?z:-z),z=0,U}}function w(S,j){return S.node(j).width}return t_}var n_,eO;function ice(){if(eO)return n_;eO=1;var e=pn(),t=Mr(),n=rce().positionX;n_=r;function r(o){o=t.asNonCompoundGraph(o),i(o),e.forEach(n(o),function(l,u){o.node(u).x=l})}function i(o){var l=t.buildLayerMatrix(o),u=o.graph().ranksep,d=0;e.forEach(l,function(f){var p=e.max(e.map(f,function(m){return o.node(m).height}));e.forEach(f,function(m){o.node(m).y=d+p/2}),d+=p+u})}return n_}var r_,tO;function sce(){if(tO)return r_;tO=1;var e=pn(),t=$le(),n=Ule(),r=Fle(),i=Mr().normalizeRanks,o=Hle(),l=Mr().removeEmptyRanks,u=Gle(),d=Vle(),f=Kle(),p=nce(),m=ice(),g=Mr(),b=Li().Graph;r_=y;function y(V,Z){var Q=Z&&Z.debugTiming?g.time:g.notime;Q("layout",function(){var ae=Q("  buildLayoutGraph",function(){return U(V)});Q("  runLayout",function(){_(ae,Q)}),Q("  updateInputGraph",function(){w(V,ae)})})}function _(V,Z){Z("    makeSpaceForEdgeLabels",function(){z(V)}),Z("    removeSelfEdges",function(){K(V)}),Z("    acyclic",function(){t.run(V)}),Z("    nestingGraph.run",function(){u.run(V)}),Z("    rank",function(){r(g.asNonCompoundGraph(V))}),Z("    injectEdgeLabelProxies",function(){R(V)}),Z("    removeEmptyRanks",function(){l(V)}),Z("    nestingGraph.cleanup",function(){u.cleanup(V)}),Z("    normalizeRanks",function(){i(V)}),Z("    assignRankMinMax",function(){q(V)}),Z("    removeEdgeLabelProxies",function(){Y(V)}),Z("    normalize.run",function(){n.run(V)}),Z("    parentDummyChains",function(){o(V)}),Z("    addBorderSegments",function(){d(V)}),Z("    order",function(){p(V)}),Z("    insertSelfEdges",function(){D(V)}),Z("    adjustCoordinateSystem",function(){f.adjust(V)}),Z("    position",function(){m(V)}),Z("    positionSelfEdges",function(){$(V)}),Z("    removeBorderNodes",function(){W(V)}),Z("    normalize.undo",function(){n.undo(V)}),Z("    fixupEdgeLabelCoords",function(){B(V)}),Z("    undoCoordinateSystem",function(){f.undo(V)}),Z("    translateGraph",function(){L(V)}),Z("    assignNodeIntersects",function(){F(V)}),Z("    reversePoints",function(){X(V)}),Z("    acyclic.undo",function(){t.undo(V)})}function w(V,Z){e.forEach(V.nodes(),function(Q){var ae=V.node(Q),te=Z.node(Q);ae&&(ae.x=te.x,ae.y=te.y,Z.children(Q).length&&(ae.width=te.width,ae.height=te.height))}),e.forEach(V.edges(),function(Q){var ae=V.edge(Q),te=Z.edge(Q);ae.points=te.points,e.has(te,"x")&&(ae.x=te.x,ae.y=te.y)}),V.graph().width=Z.graph().width,V.graph().height=Z.graph().height}var S=["nodesep","edgesep","ranksep","marginx","marginy"],j={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},N=["acyclicer","ranker","rankdir","align"],C=["width","height"],A={width:0,height:0},T=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},P=["labelpos"];function U(V){var Z=new b({multigraph:!0,compound:!0}),Q=I(V.graph());return Z.setGraph(e.merge({},j,H(Q,S),e.pick(Q,N))),e.forEach(V.nodes(),function(ae){var te=I(V.node(ae));Z.setNode(ae,e.defaults(H(te,C),A)),Z.setParent(ae,V.parent(ae))}),e.forEach(V.edges(),function(ae){var te=I(V.edge(ae));Z.setEdge(ae,e.merge({},M,H(te,T),e.pick(te,P)))}),Z}function z(V){var Z=V.graph();Z.ranksep/=2,e.forEach(V.edges(),function(Q){var ae=V.edge(Q);ae.minlen*=2,ae.labelpos.toLowerCase()!=="c"&&(Z.rankdir==="TB"||Z.rankdir==="BT"?ae.width+=ae.labeloffset:ae.height+=ae.labeloffset)})}function R(V){e.forEach(V.edges(),function(Z){var Q=V.edge(Z);if(Q.width&&Q.height){var ae=V.node(Z.v),te=V.node(Z.w),ne={rank:(te.rank-ae.rank)/2+ae.rank,e:Z};g.addDummyNode(V,"edge-proxy",ne,"_ep")}})}function q(V){var Z=0;e.forEach(V.nodes(),function(Q){var ae=V.node(Q);ae.borderTop&&(ae.minRank=V.node(ae.borderTop).rank,ae.maxRank=V.node(ae.borderBottom).rank,Z=e.max(Z,ae.maxRank))}),V.graph().maxRank=Z}function Y(V){e.forEach(V.nodes(),function(Z){var Q=V.node(Z);Q.dummy==="edge-proxy"&&(V.edge(Q.e).labelRank=Q.rank,V.removeNode(Z))})}function L(V){var Z=Number.POSITIVE_INFINITY,Q=0,ae=Number.POSITIVE_INFINITY,te=0,ne=V.graph(),de=ne.marginx||0,ge=ne.marginy||0;function re(ue){var _e=ue.x,we=ue.y,be=ue.width,je=ue.height;Z=Math.min(Z,_e-be/2),Q=Math.max(Q,_e+be/2),ae=Math.min(ae,we-je/2),te=Math.max(te,we+je/2)}e.forEach(V.nodes(),function(ue){re(V.node(ue))}),e.forEach(V.edges(),function(ue){var _e=V.edge(ue);e.has(_e,"x")&&re(_e)}),Z-=de,ae-=ge,e.forEach(V.nodes(),function(ue){var _e=V.node(ue);_e.x-=Z,_e.y-=ae}),e.forEach(V.edges(),function(ue){var _e=V.edge(ue);e.forEach(_e.points,function(we){we.x-=Z,we.y-=ae}),e.has(_e,"x")&&(_e.x-=Z),e.has(_e,"y")&&(_e.y-=ae)}),ne.width=Q-Z+de,ne.height=te-ae+ge}function F(V){e.forEach(V.edges(),function(Z){var Q=V.edge(Z),ae=V.node(Z.v),te=V.node(Z.w),ne,de;Q.points?(ne=Q.points[0],de=Q.points[Q.points.length-1]):(Q.points=[],ne=te,de=ae),Q.points.unshift(g.intersectRect(ae,ne)),Q.points.push(g.intersectRect(te,de))})}function B(V){e.forEach(V.edges(),function(Z){var Q=V.edge(Z);if(e.has(Q,"x"))switch((Q.labelpos==="l"||Q.labelpos==="r")&&(Q.width-=Q.labeloffset),Q.labelpos){case"l":Q.x-=Q.width/2+Q.labeloffset;break;case"r":Q.x+=Q.width/2+Q.labeloffset;break}})}function X(V){e.forEach(V.edges(),function(Z){var Q=V.edge(Z);Q.reversed&&Q.points.reverse()})}function W(V){e.forEach(V.nodes(),function(Z){if(V.children(Z).length){var Q=V.node(Z),ae=V.node(Q.borderTop),te=V.node(Q.borderBottom),ne=V.node(e.last(Q.borderLeft)),de=V.node(e.last(Q.borderRight));Q.width=Math.abs(de.x-ne.x),Q.height=Math.abs(te.y-ae.y),Q.x=ne.x+Q.width/2,Q.y=ae.y+Q.height/2}}),e.forEach(V.nodes(),function(Z){V.node(Z).dummy==="border"&&V.removeNode(Z)})}function K(V){e.forEach(V.edges(),function(Z){if(Z.v===Z.w){var Q=V.node(Z.v);Q.selfEdges||(Q.selfEdges=[]),Q.selfEdges.push({e:Z,label:V.edge(Z)}),V.removeEdge(Z)}})}function D(V){var Z=g.buildLayerMatrix(V);e.forEach(Z,function(Q){var ae=0;e.forEach(Q,function(te,ne){var de=V.node(te);de.order=ne+ae,e.forEach(de.selfEdges,function(ge){g.addDummyNode(V,"selfedge",{width:ge.label.width,height:ge.label.height,rank:de.rank,order:ne+ ++ae,e:ge.e,label:ge.label},"_se")}),delete de.selfEdges})})}function $(V){e.forEach(V.nodes(),function(Z){var Q=V.node(Z);if(Q.dummy==="selfedge"){var ae=V.node(Q.e.v),te=ae.x+ae.width/2,ne=ae.y,de=Q.x-te,ge=ae.height/2;V.setEdge(Q.e,Q.label),V.removeNode(Z),Q.label.points=[{x:te+2*de/3,y:ne-ge},{x:te+5*de/6,y:ne-ge},{x:te+de,y:ne},{x:te+5*de/6,y:ne+ge},{x:te+2*de/3,y:ne+ge}],Q.label.x=Q.x,Q.label.y=Q.y}})}function H(V,Z){return e.mapValues(e.pick(V,Z),Number)}function I(V){var Z={};return e.forEach(V,function(Q,ae){Z[ae.toLowerCase()]=Q}),Z}return r_}var i_,nO;function ace(){if(nO)return i_;nO=1;var e=pn(),t=Mr(),n=Li().Graph;i_={debugOrdering:r};function r(i){var o=t.buildLayerMatrix(i),l=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(i.nodes(),function(u){l.setNode(u,{label:u}),l.setParent(u,"layer"+i.node(u).rank)}),e.forEach(i.edges(),function(u){l.setEdge(u.v,u.w,{},u.name)}),e.forEach(o,function(u,d){var f="layer"+d;l.setNode(f,{rank:"same"}),e.reduce(u,function(p,m){return l.setEdge(p,m,{style:"invis"}),m})}),l}return i_}var s_,rO;function oce(){return rO||(rO=1,s_="0.8.5"),s_}var a_,iO;function lce(){return iO||(iO=1,a_={graphlib:Li(),layout:sce(),debug:ace(),util:{time:Mr().time,notime:Mr().notime},version:oce()}),a_}var cce=lce();const sO=yl(cce),Q_={pending:{bg:"#1f2937",border:"#4b5563",text:"#d1d5db",dot:"#9ca3af"},in_progress:{bg:"#1e1b4b",border:"#6366f1",text:"#a5b4fc",dot:"#818cf8"},blocked:{bg:"#422006",border:"#d97706",text:"#fcd34d",dot:"#f59e0b"},completed:{bg:"#052e16",border:"#22c55e",text:"#86efac",dot:"#4ade80"},failed:{bg:"#450a0a",border:"#ef4444",text:"#fca5a5",dot:"#f87171"}},uce={pending:"Pending",in_progress:"In Progress",blocked:"Blocked",completed:"Completed",failed:"Failed"};function dce(e,t,n="TB"){const r=new sO.graphlib.Graph;r.setDefaultEdgeLabel(()=>({})),r.setGraph({rankdir:n,nodesep:60,ranksep:80,marginx:20,marginy:20});const i=240,o=60;return e.forEach(u=>{r.setNode(u.id,{width:i,height:o})}),t.forEach(u=>{r.setEdge(u.source,u.target)}),sO.layout(r),{nodes:e.map(u=>{const d=r.node(u.id);return{...u,position:{x:d.x-i/2,y:d.y-o/2}}}),edges:t}}function fce({data:e}){const t=Mn(),n=Q_[e.status]||Q_.pending,r=E.useCallback(i=>{i.stopPropagation(),t(`/tasks/${e.taskId}`)},[e.taskId,t]);return a.jsxs("div",{onClick:r,className:"cursor-pointer transition-all duration-150 hover:scale-105 hover:shadow-lg",style:{background:n.bg,border:`1.5px solid ${n.border}`,borderRadius:10,padding:"10px 14px",minWidth:200,maxWidth:260},children:[a.jsx(bl,{type:"target",position:Be.Top,style:{background:n.border,width:8,height:8}}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("div",{style:{background:n.dot,width:8,height:8,borderRadius:"50%",flexShrink:0}}),a.jsx("span",{className:"text-xs font-medium",style:{color:n.text},children:uce[e.status]}),e.priority!=null&&e.priority>0&&a.jsxs("span",{className:"text-[10px] text-gray-500 ml-auto",children:["P",e.priority]})]}),a.jsx("p",{className:"text-sm font-medium truncate",style:{color:"#e5e7eb"},title:e.label,children:e.label}),a.jsx(bl,{type:"source",position:Be.Bottom,style:{background:n.border,width:8,height:8}})]})}const hce={taskNode:fce};function pce({graph:e,taskStatuses:t,className:n=""}){const{layoutedNodes:r,layoutedEdges:i,graphHeight:o}=E.useMemo(()=>{const l=(b,y)=>(t==null?void 0:t.get(b))??y,u=(e.nodes||[]).map(b=>({id:b.id,type:"taskNode",position:{x:0,y:0},data:{label:b.title||"Untitled",status:l(b.id,b.status),priority:b.priority,taskId:b.id}})),d=(e.edges||[]).map((b,y)=>{var j;const _=e.nodes.find(N=>N.id===b.from),w=_?l(_.id,_.status):"pending",S=((j=Q_[w])==null?void 0:j.border)||"#4b5563";return{id:`e-${y}`,source:b.from,target:b.to,animated:w==="in_progress",style:{stroke:S,strokeWidth:2},markerEnd:{type:ju.ArrowClosed,color:S,width:16,height:16}}}),{nodes:f,edges:p}=dce(u,d,"TB"),m=f.reduce((b,y)=>Math.max(b,y.position.y),0),g=Math.max(300,Math.min(700,m+140));return{layoutedNodes:f,layoutedEdges:p,graphHeight:g}},[e,t]);return r.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks to display"}):a.jsx("div",{className:n,style:{height:o},children:a.jsxs(vse,{nodes:r,edges:i,nodeTypes:hce,fitView:!0,fitViewOptions:{padding:.2},minZoom:.3,maxZoom:1.5,proOptions:{hideAttribution:!0},nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,children:[a.jsx(Ese,{color:"#374151",gap:20,size:1}),a.jsx(Rse,{showInteractive:!1,className:"dep-graph-controls"})]})})}function mce(){const{planId:e}=Sl(),t=Mn(),[n,r]=E.useState(null),[i,o]=E.useState([]),[l,u]=E.useState([]),[d,f]=E.useState([]),[p,m]=E.useState(null),[g,b]=E.useState(!0),[y,_]=jl(),w=fi(),S=Gr(),j=Gr(),N=Cl(),C=hi(),A=Rt(cw),T=Ve(oo),M=Ve(Sa),P=Ve(Na),[U,z]=E.useState(null),[R,q]=E.useState(!1),[Y,L]=E.useState(0),[F,B]=E.useState(0),[X,W]=E.useState(!1);E.useEffect(()=>{async function te(){if(!e)return;const ne=!n;ne&&b(!0);try{const[de,ge,re,ue]=await Promise.all([kt.get(e),Mt.list({plan_id:e,limit:100}),kt.listConstraints(e),kt.getDependencyGraph(e).catch(()=>null)]),_e=de.plan||de;r(_e),o(ge.items||[]),u(re.items||[]),m(ue);const be=(de.tasks||[]).flatMap(je=>{const qe=je.task;return(je.decisions||[]).map(it=>({...it,taskId:(qe==null?void 0:qe.id)||"",taskTitle:(qe==null?void 0:qe.title)||(qe==null?void 0:qe.description)||"Untitled task"}))});if(f(be),_e.project_id)try{const qe=((await jt.list()).items||[]).find(it=>it.id===_e.project_id);z(qe||null),qe&&A(qe.id)}catch{z(null)}else z(null)}catch(de){console.error("Failed to fetch plan:",de)}finally{ne&&b(!1)}}te()},[e,T,M,P]);const K=E.useCallback(async(te,ne)=>{const de=i.find(ge=>ge.id===te);o(ge=>ge.map(re=>re.id===te?{...re,status:ne}:re));try{await Mt.update(te,{status:ne}),C.success("Status updated")}catch(ge){de&&o(re=>re.map(ue=>ue.id===te?de:ue)),console.error("Failed to update task status:",ge),C.error("Failed to update task status")}},[i]),D=E.useCallback(te=>Mt.list({plan_id:e,...te}),[e]),$=EX({onSubmit:async te=>{if(e){q(!0);try{const ne=await kt.createTask(e,te);o(de=>[...de,ne]),S.close(),C.success("Task added")}finally{q(!1)}}},loading:R}),H=AX({onSubmit:async te=>{if(e){q(!0);try{const ne=await kt.addConstraint(e,te);u(de=>[...de,ne]),j.close(),C.success("Constraint added")}finally{q(!1)}}},loading:R}),I=["overview","tasks","constraints","decisions",...p&&(p.nodes||[]).length>0?["graph"]:[]],V=Tl(I),Z=E.useMemo(()=>new Map(i.map(te=>[te.id,te.status])),[i]);if(g||!n)return a.jsx(Rr,{});const Q={pending:i.filter(te=>te.status==="pending"),in_progress:i.filter(te=>te.status==="in_progress"),blocked:i.filter(te=>te.status==="blocked"),completed:i.filter(te=>te.status==="completed"),failed:i.filter(te=>te.status==="failed")},ae=[{id:"overview",label:"Overview"},{id:"tasks",label:"Tasks",count:i.length},{id:"constraints",label:"Constraints",count:l.length},{id:"decisions",label:"Decisions",count:d.length},...p&&(p.nodes||[]).length>0?[{id:"graph",label:"Graph",count:(p.nodes||[]).length}]:[]];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(zl,{title:n.title,description:n.description,status:a.jsx(Yh,{status:n.status,options:[{value:"draft",label:"Draft"},{value:"approved",label:"Approved"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],colorMap:{draft:{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},approved:{bg:"bg-blue-900/50",text:"text-blue-400",dot:"bg-blue-400"},in_progress:{bg:"bg-purple-900/50",text:"text-purple-400",dot:"bg-purple-400"},completed:{bg:"bg-green-900/50",text:"text-green-400",dot:"bg-green-400"},cancelled:{bg:"bg-red-900/50",text:"text-red-400",dot:"bg-red-400"}},onStatusChange:async te=>{await kt.updateStatus(n.id,te),r({...n,status:te}),C.success("Status updated")}}),metadata:[{label:"Priority",value:String(n.priority)},{label:"Created by",value:n.created_by},{label:"Created",value:new Date(n.created_at).toLocaleDateString()}],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>w.open({title:"Delete Plan",description:"This will permanently delete this plan and all its tasks, steps, decisions, and constraints.",onConfirm:async()=>{await kt.delete(n.id),C.success("Plan deleted"),t("/plans")}})}],children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Project:"}),U?a.jsx(HF,{label:U.name,linkTo:`/projects/${U.slug}`,onUnlink:async()=>{await kt.unlinkFromProject(n.id),z(null),r({...n,project_id:void 0}),C.success("Project unlinked")}}):a.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>N.open({title:"Link to Project",submitLabel:"Link",fetchOptions:async()=>((await jt.list()).items||[]).map(ne=>({value:ne.id,label:ne.name,description:ne.slug})),onLink:async te=>{await kt.linkToProject(n.id,te);const de=((await jt.list()).items||[]).find(ge=>ge.id===te);z(de||null),r({...n,project_id:te}),C.success("Project linked")}}),children:"Link to Project"})]})}),a.jsx(Il,{sections:ae,activeSection:V}),a.jsx("section",{id:"overview",className:"scroll-mt-20",children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 md:gap-4",children:[a.jsx(Xc,{label:"Pending",value:Q.pending.length,color:"gray"}),a.jsx(Xc,{label:"In Progress",value:Q.in_progress.length,color:"blue"}),a.jsx(Xc,{label:"Blocked",value:Q.blocked.length,color:"yellow"}),a.jsx(Xc,{label:"Completed",value:Q.completed.length,color:"green"}),a.jsx(Xc,{label:"Failed",value:Q.failed.length,color:"red"})]})}),a.jsx("section",{id:"tasks",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ft,{children:["Tasks (",i.length,")"]}),i.length>0&&y==="list"&&a.jsx("button",{onClick:()=>{X?B(te=>te+1):L(te=>te+1),W(!X)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:X?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tt,{size:"sm",onClick:()=>S.open({title:"Add Task",size:"lg"}),children:"Add Task"}),a.jsx(Rl,{value:y,onChange:_})]})]})}),a.jsx(ft,{children:i.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks in this plan"}):y==="kanban"?a.jsx(cL,{fetchFn:D,onTaskStatusChange:K,onTaskClick:te=>t(`/tasks/${te}`),refreshTrigger:M}):a.jsx("div",{className:"space-y-2",children:i.map(te=>a.jsx(gce,{task:te,onStatusChange:ne=>K(te.id,ne),refreshTrigger:M,expandAllSignal:Y,collapseAllSignal:F},te.id))})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsx("section",{id:"constraints",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs(Ft,{children:["Constraints (",l.length,")"]}),a.jsx(tt,{size:"sm",onClick:()=>j.open({title:"Add Constraint"}),children:"Add"})]})}),a.jsx(ft,{children:l.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No constraints defined"}):a.jsx("div",{className:"space-y-2",children:l.map(te=>a.jsx(vce,{constraint:te,onDelete:async()=>{await kt.deleteConstraint(te.id),u(ne=>ne.filter(de=>de.id!==te.id))}},te.id))})})]})}),a.jsx("section",{id:"decisions",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs(Ft,{children:["Decisions (",d.length,")"]})}),a.jsx(ft,{children:d.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No decisions recorded"}):a.jsx("div",{className:"space-y-3",children:d.map(te=>a.jsxs("div",{className:"p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("p",{className:"font-medium text-gray-200",children:te.description})}),a.jsx("p",{className:"text-sm text-gray-400",children:te.rationale}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[te.chosen_option&&a.jsx(zt,{variant:"success",children:te.chosen_option}),a.jsxs(jn,{to:`/tasks/${te.taskId}`,className:"text-xs text-indigo-400 hover:text-indigo-300 transition-colors",children:[" ",te.taskTitle]})]})]},te.id))})})]})})]}),p&&(p.nodes||[]).length>0&&a.jsx("section",{id:"graph",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx(Ft,{children:"Dependency Graph"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(p.nodes||[]).length," tasks  ",(p.edges||[]).length," dependencies"]})]})}),a.jsx(ft,{children:a.jsx(pce,{graph:p,taskStatuses:Z})})]})}),a.jsx(Kr,{...S.dialogProps,onSubmit:$.submit,loading:R,children:$.fields}),a.jsx(Kr,{...j.dialogProps,onSubmit:H.submit,loading:R,children:H.fields}),a.jsx(Ll,{...N.dialogProps}),a.jsx(mi,{...w.dialogProps})]})}function gce({task:e,onStatusChange:t,refreshTrigger:n,expandAllSignal:r,collapseAllSignal:i}){const[o,l]=E.useState(!1),[u,d]=E.useState(null),[f,p]=E.useState(!1),m=e.tags||[],g=E.useCallback(async()=>{try{const w=await Mt.listSteps(e.id);d(Array.isArray(w)?w:[])}catch{d([])}},[e.id]);E.useEffect(()=>{u!==null&&g()},[n,g]),E.useEffect(()=>{r&&(u===null&&(p(!0),g().then(()=>p(!1))),l(!0))},[r]),E.useEffect(()=>{i&&l(!1)},[i]);const b=async w=>{w.preventDefault(),w.stopPropagation(),!o&&u===null&&(p(!0),await g(),p(!1)),l(!o)},y=(u==null?void 0:u.filter(w=>w.status==="completed").length)??0,_=(u==null?void 0:u.length)??0;return a.jsxs("div",{className:"bg-white/[0.06] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3",children:[a.jsx("button",{onClick:b,className:"flex-shrink-0 w-6 h-6 flex items-center justify-center text-gray-500 hover:text-gray-300 transition-colors",title:o?"Replier":"Voir les steps",children:a.jsx("svg",{className:`w-4 h-4 transition-transform duration-150 ${o?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),a.jsxs(jn,{to:`/tasks/${e.id}`,className:"flex-1 min-w-0 hover:text-indigo-400 transition-colors",children:[a.jsx("span",{className:"font-medium text-gray-200",children:e.title||e.description}),m.length>0&&a.jsx("div",{className:"flex gap-1 mt-1",children:m.slice(0,3).map((w,S)=>a.jsx(zt,{variant:"default",children:w},`${w}-${S}`))})]}),u!==null&&_>0&&a.jsxs("span",{className:"text-xs text-gray-500 flex-shrink-0",children:[y,"/",_]}),a.jsx(l3,{status:e.status,onStatusChange:t})]}),o&&a.jsx("div",{className:"pl-11 pr-3 pb-3 space-y-1.5",children:f?a.jsx("div",{className:"text-xs text-gray-500 py-2",children:"Loading steps..."}):u&&u.length>0?u.map((w,S)=>a.jsx(yce,{step:w,index:S},w.id||S)):a.jsx("div",{className:"text-xs text-gray-500 py-1",children:"No steps"})})]})}const xce={pending:"bg-white/[0.15]",in_progress:"bg-blue-600",completed:"bg-green-600",skipped:"bg-yellow-600"},bce={pending:"Pending",in_progress:"In progress",completed:"Done",skipped:"Skipped"};function yce({step:e,index:t}){return a.jsxs("div",{className:"flex items-start gap-2 py-1.5 px-2 rounded bg-white/[0.03]",children:[a.jsx("div",{className:`w-5 h-5 rounded-full ${xce[e.status]} flex items-center justify-center text-[10px] font-medium text-white flex-shrink-0 mt-0.5`,children:e.status==="completed"?"":t+1}),a.jsx("p",{className:"text-sm text-gray-300 flex-1 min-w-0",children:e.description}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full flex-shrink-0 ${e.status==="completed"?"bg-green-500/20 text-green-400":e.status==="in_progress"?"bg-blue-500/20 text-blue-400":e.status==="skipped"?"bg-yellow-500/20 text-yellow-400":"bg-white/[0.08] text-gray-500"}`,children:bce[e.status]})]})}function vce({constraint:e,onDelete:t}){const n={performance:"text-yellow-400",security:"text-red-400",style:"text-purple-400",compatibility:"text-blue-400",testing:"text-green-400",other:"text-gray-400"};return a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("span",{className:`text-xs uppercase font-medium ${n[e.constraint_type]||n.other}`,children:e.constraint_type}),a.jsx("span",{className:"text-sm text-gray-300 flex-1",children:e.description}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Delete constraint",children:""})]})}function Xc({label:e,value:t,color:n}){const r={gray:"text-gray-400",blue:"text-blue-400",yellow:"text-yellow-400",green:"text-green-400",red:"text-red-400"};return a.jsx(et,{children:a.jsxs(ft,{className:"text-center py-3",children:[a.jsx("div",{className:`text-2xl font-bold ${r[n]}`,children:t}),a.jsx("div",{className:"text-xs text-gray-500",children:e})]})})}const _ce=[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}];function wce(){const[e,t]=Ct(Ph),[n,r]=Ct(N8),[i,o]=Ct(UO),l=Ve(Sa),[u,d]=jl(),[f,p]=E.useState(0),{page:m,pageSize:g,offset:b,setPage:y,paginationProps:_}=kl(),w=Mn(),S=fi(),j=hi(),N=U8();E.useEffect(()=>{if(u!=="list")return;async function L(){const F=e.length===0;F&&r(!0);try{const B={limit:g,offset:b};i!=="all"&&(B.status=i);const X=await Mt.list(B);t(X.items||[]),p(X.total||0)}catch(B){console.error("Failed to fetch tasks:",B),j.error("Failed to load tasks")}finally{F&&r(!1)}}L()},[t,r,m,g,b,i,u,l]);const C=N.buildApiParams(),A=JSON.stringify(C),T=E.useCallback(L=>{const F=JSON.parse(A);return Mt.list({...F,...L})},[A]),M=E.useMemo(()=>{const L={},F=JSON.parse(A);return Object.assign(L,F),L},[A]),P=E.useMemo(()=>{const L=[];return N.filters.exclude_completed&&L.push("completed"),N.filters.exclude_failed&&L.push("failed"),L},[N.filters.exclude_completed,N.filters.exclude_failed]),U=L=>{o(L),y(1)},z=E.useCallback(async(L,F)=>{t(B=>B.map(X=>X.id===L?{...X,status:F}:X)),await Mt.update(L,{status:F}),j.success("Status updated")},[t,j]),R=E.useCallback(L=>{w(`/tasks/${L}`)},[w]),q=Al(e,L=>L.id),Y=()=>{const L=q.selectionCount;S.open({title:`Delete ${L} task${L>1?"s":""}`,description:`This will permanently delete ${L} task${L>1?"s":""} and all their steps and decisions.`,onConfirm:async()=>{const F=q.selectedItems;S.setProgress({current:0,total:F.length});for(let B=0;B<F.length;B++)await Mt.delete(F[B].id),S.setProgress({current:B+1,total:F.length});t(B=>B.filter(X=>!q.selectedIds.has(X.id))),p(B=>B-F.length),q.clear(),j.success(`Deleted ${L} task${L>1?"s":""}`)}})};return n&&u==="list"&&e.length===0?a.jsx(Rr,{}):a.jsxs(Pl,{title:"Tasks",description:"Manage tasks across all plans",actions:a.jsxs(a.Fragment,{children:[u==="list"&&a.jsx(kn,{options:_ce,value:i,onChange:L=>U(L),className:"w-full sm:w-40"}),a.jsx(Rl,{value:u,onChange:d})]}),children:[u==="kanban"&&a.jsx(bQ,{filters:N.filters,onFilterChange:N.setFilter,onToggleExcludeProject:N.toggleExcludeProject,onClearFilters:N.clearFilters,activeFilterCount:N.activeFilterCount}),u==="kanban"?a.jsx(cL,{fetchFn:T,filters:M,hiddenStatuses:P,onTaskStatusChange:z,onTaskClick:R,refreshTrigger:l}):e.length===0?a.jsx(_a,{title:"No tasks found",description:f===0&&i==="all"?"Tasks will appear here when you create plans.":"No tasks match the current filters."}):a.jsxs(a.Fragment,{children:[u==="list"&&e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:q.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:q.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"space-y-3",children:e.map(L=>a.jsx(Nce,{selected:q.isSelected(L.id),onToggleSelect:F=>q.toggle(L.id,F),task:L,onStatusChange:async F=>{await Mt.update(L.id,{status:F}),t(B=>B.map(X=>X.id===L.id?{...X,status:F}:X)),j.success("Status updated")},onDelete:()=>S.open({title:"Delete Task",description:"This will permanently delete this task and all its steps and decisions.",onConfirm:async()=>{await Mt.delete(L.id),t(F=>F.filter(B=>B.id!==L.id)),j.success("Task deleted")}})},L.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Ml,{..._(f)})})]}),a.jsx($l,{count:q.selectionCount,onDelete:Y,onClear:q.clear}),a.jsx(mi,{...S.dialogProps})]})}const Sce={pending:"bg-gray-400",in_progress:"bg-blue-400",blocked:"bg-yellow-400",completed:"bg-green-400",failed:"bg-red-400"};function Nce({task:e,onStatusChange:t,onDelete:n,selected:r,onToggleSelect:i}){const o=e.tags||[];return a.jsx(jn,{to:`/tasks/${e.id}`,children:a.jsx(et,{className:`transition-colors ${r?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex",children:[i&&a.jsx(Bl,{selected:!!r,onToggle:i}),a.jsx("div",{className:`w-1 shrink-0 ${i?"":"rounded-l-xl"} ${Sce[e.status]||"bg-gray-400"}`}),a.jsx("div",{className:"flex-1 p-3 md:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-gray-100 truncate min-w-0",children:e.title||(e.description||"").slice(0,60)}),a.jsx(l3,{status:e.status,onStatusChange:t})]}),a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-2",children:e.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-gray-500",children:[a.jsxs("span",{className:"truncate max-w-[200px]",children:["Plan: ",e.plan_title]}),e.assigned_to&&a.jsxs("span",{className:"truncate",children:["Assigned: ",e.assigned_to]})]}),o.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:o.map((l,u)=>a.jsx(zt,{variant:"default",children:l},`${l}-${u}`))})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:ml-4 shrink-0",children:[e.priority!==void 0&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Priority"}),a.jsx("div",{className:"text-lg font-bold text-indigo-400",children:e.priority})]}),a.jsx(uo,{actions:[{label:"Delete",variant:"danger",onClick:()=>n()}]})]})]})})]})})})}function Ece(){const{taskId:e}=Sl(),t=Mn(),n=fi(),r=Gr(),i=Gr(),o=Cl(),l=hi(),u=Ve(Sa),d=Ve(Na),f=Ve(oo),[p,m]=E.useState(!1),[g,b]=E.useState(null),[y,_]=E.useState([]),[w,S]=E.useState([]),[j,N]=E.useState([]),[C,A]=E.useState([]),[T,M]=E.useState([]),[P,U]=E.useState(!0);E.useEffect(()=>{async function D(){if(!e)return;const $=!g;$&&U(!0);try{const H=await Mt.get(e),I=H.task||H;b(I),_(H.steps||[]),S(H.decisions||[]);const[V,Z,Q]=await Promise.all([Mt.getBlockers(e).catch(()=>({items:[]})),Mt.getBlocking(e).catch(()=>({items:[]})),Mt.getCommits(e).catch(()=>({items:[]}))]);N(V.items||[]),A(Z.items||[]),M(Q.items||[])}catch(H){console.error("Failed to fetch task:",H)}finally{$&&U(!1)}}D()},[e,u,d,f]);const z=kX({onSubmit:async D=>{if(e){m(!0);try{const $=await Mt.addStep(e,D);_(H=>[...H,$]),r.close(),l.success("Step added")}finally{m(!1)}}},loading:p}),R=jX({onSubmit:async D=>{if(e){m(!0);try{const $=await Mt.addDecision(e,D);S(H=>[...H,$]),i.close(),l.success("Decision added")}finally{m(!1)}}},loading:p}),Y=Tl(["steps","dependencies","decisions"]);if(P||!g)return a.jsx(Rr,{});const L=g.tags||[],F=g.acceptance_criteria||[],B=g.affected_files||[],X=y.filter(D=>D.status==="completed").length,W=y.length>0?X/y.length*100:0,K=[{id:"steps",label:"Steps",count:y.length},{id:"dependencies",label:"Dependencies",count:j.length+C.length},{id:"decisions",label:"Decisions",count:w.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(zl,{title:g.title||"Task",description:g.description,status:a.jsx(Yh,{status:g.status,options:[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],colorMap:{pending:{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},in_progress:{bg:"bg-blue-900/50",text:"text-blue-400",dot:"bg-blue-400"},blocked:{bg:"bg-yellow-900/50",text:"text-yellow-400",dot:"bg-yellow-400"},completed:{bg:"bg-green-900/50",text:"text-green-400",dot:"bg-green-400"},failed:{bg:"bg-red-900/50",text:"text-red-400",dot:"bg-red-400"}},onStatusChange:async D=>{await Mt.update(g.id,{status:D}),b({...g,status:D}),l.success("Status updated")}}),metadata:[...g.priority!==void 0?[{label:"Priority",value:String(g.priority)}]:[],...g.assigned_to?[{label:"Assigned to",value:g.assigned_to}]:[],...g.estimated_complexity?[{label:"Est. complexity",value:String(g.estimated_complexity)}]:[],...g.actual_complexity?[{label:"Actual complexity",value:String(g.actual_complexity)}]:[]],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>n.open({title:"Delete Task",description:"This will permanently delete this task and all its steps and decisions.",onConfirm:async()=>{await Mt.delete(g.id),l.success("Task deleted"),t("/tasks")}})}],children:L.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:L.map((D,$)=>a.jsx(zt,{children:D},`${D}-${$}`))})}),a.jsx(Il,{sections:K,activeSection:Y}),a.jsx("section",{id:"steps",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsxs(qt,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ft,{children:["Steps (",y.length,")"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[y.length>0&&a.jsxs("span",{className:"text-sm text-gray-400",children:[X,"/",y.length," completed"]}),a.jsx(tt,{size:"sm",onClick:()=>r.open({title:"Add Step"}),children:"Add Step"})]})]}),y.length>0&&a.jsx(Oi,{value:W,size:"sm",className:"mt-2"})]}),a.jsx(ft,{children:y.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No steps defined"}):a.jsx("div",{className:"space-y-2",children:y.map((D,$)=>a.jsx(kce,{step:D,index:$,onStatusChange:async H=>{await Mt.updateStep(D.id,H),_(I=>I.map(V=>V.id===D.id?{...V,status:H}:V)),l.success("Step status updated")},onDelete:async()=>{await Mt.deleteStep(D.id),_(H=>H.filter(I=>I.id!==D.id)),l.success("Step deleted")}},D.id||$))})})]})}),F.length>0&&a.jsx("section",{id:"criteria",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsx(Ft,{children:"Acceptance Criteria"})}),a.jsx(ft,{children:a.jsx("ul",{className:"space-y-2",children:F.map((D,$)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[a.jsx("span",{className:"text-indigo-400 mt-0.5",children:""}),D]},$))})})]})}),a.jsx("section",{id:"dependencies",className:"scroll-mt-20",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ft,{children:["Blocked By (",j.length,")"]}),a.jsx(tt,{size:"sm",onClick:()=>o.open({title:"Add Dependency",submitLabel:"Add",fetchOptions:async()=>{const D=await Mt.list({limit:100}),$=new Set([e,...j.map(H=>H.id)]);return(D.items||[]).filter(H=>!$.has(H.id)).map(H=>({value:H.id,label:H.title||H.description||"Untitled",description:H.status}))},onLink:async D=>{await Mt.addDependencies(e,[D]);const $=await Mt.getBlockers(e).catch(()=>({items:[]}));N($.items||[]),l.success("Dependency added")}}),children:"Add"})]})}),a.jsx(ft,{children:j.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No blockers"}):a.jsx("div",{className:"space-y-2",children:j.map(D=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/[0.06] rounded",children:[a.jsx(jn,{to:`/tasks/${D.id}`,className:"text-gray-200 truncate hover:text-indigo-400 transition-colors",children:D.title||D.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dh,{status:D.status}),a.jsx("button",{onClick:async()=>{await Mt.removeDependency(e,D.id),N($=>$.filter(H=>H.id!==D.id)),l.success("Dependency removed")},className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Remove dependency",children:""})]})]},D.id))})})]}),a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs(Ft,{children:["Blocking (",C.length,")"]})}),a.jsx(ft,{children:C.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Not blocking any tasks"}):a.jsx("div",{className:"space-y-2",children:C.map(D=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/[0.06] rounded",children:[a.jsx(jn,{to:`/tasks/${D.id}`,className:"text-gray-200 truncate hover:text-indigo-400 transition-colors",children:D.title||D.description}),a.jsx(dh,{status:D.status})]},D.id))})})]})]})}),a.jsx("section",{id:"decisions",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ft,{children:["Decisions (",w.length,")"]}),a.jsx(tt,{size:"sm",onClick:()=>i.open({title:"Add Decision",size:"lg"}),children:"Add Decision"})]})}),a.jsx(ft,{children:w.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No decisions recorded"}):a.jsx("div",{className:"space-y-3",children:w.map((D,$)=>a.jsx(jce,{decision:D},D.id||$))})})]})}),B.length>0&&a.jsx("section",{id:"files",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsx(Ft,{children:"Affected Files"})}),a.jsx(ft,{children:a.jsx("div",{className:"space-y-1",children:B.map((D,$)=>a.jsx("div",{className:"font-mono text-sm text-gray-300 p-1",children:D},`${D}-${$}`))})})]})}),T.length>0&&a.jsx("section",{id:"commits",className:"scroll-mt-20",children:a.jsxs(et,{children:[a.jsx(qt,{children:a.jsxs(Ft,{children:["Commits (",T.length,")"]})}),a.jsx(ft,{children:a.jsx("div",{className:"space-y-2",children:T.map(D=>a.jsx("div",{className:"p-2 bg-white/[0.06] rounded",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-xs text-indigo-400",children:D.sha.slice(0,7)}),a.jsx("span",{className:"text-gray-200",children:D.message})]})},D.sha))})})]})}),a.jsx(Kr,{...r.dialogProps,onSubmit:z.submit,loading:p,children:z.fields}),a.jsx(Kr,{...i.dialogProps,onSubmit:R.submit,loading:p,children:R.fields}),a.jsx(Ll,{...o.dialogProps}),a.jsx(mi,{...n.dialogProps})]})}function kce({step:e,index:t,onStatusChange:n,onDelete:r}){const i={pending:"bg-white/[0.15]",in_progress:"bg-blue-600",completed:"bg-green-600",skipped:"bg-yellow-600"};return a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:`w-6 h-6 rounded-full ${i[e.status]} flex items-center justify-center text-xs font-medium text-white`,children:e.status==="completed"?"":t+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-200",children:e.description}),e.verification&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Verification: ",e.verification]})]}),a.jsx(E$,{status:e.status,onStatusChange:n}),a.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Delete step",children:""})]})}function jce({decision:e}){const t=e.alternatives||[];return a.jsxs("div",{className:"p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("p",{className:"font-medium text-gray-200 mb-1",children:e.description}),a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:e.rationale}),t.length>0&&a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Alternatives: ",t.join(", ")]}),e.chosen_option&&a.jsxs(zt,{variant:"success",children:["Chosen: ",e.chosen_option]})]})}const Cce=[{value:"all",label:"All Types"},{value:"guideline",label:"Guideline"},{value:"gotcha",label:"Gotcha"},{value:"pattern",label:"Pattern"},{value:"context",label:"Context"},{value:"tip",label:"Tip"},{value:"observation",label:"Observation"},{value:"assertion",label:"Assertion"}],Tce=[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"needs_review",label:"Needs Review"},{value:"stale",label:"Stale"},{value:"obsolete",label:"Obsolete"},{value:"archived",label:"Archived"}];function Ace(){const[e,t]=Ct(lw),[n,r]=Ct(C8),[i,o]=Ct(qO),[l,u]=Ct(FO),d=Ve(YO),[f,p]=E.useState(0),{page:m,pageSize:g,offset:b,setPage:y,paginationProps:_}=kl(),w=fi(),S=Gr(),j=hi(),[N,C]=E.useState(!1),A=async()=>{r(!0);try{const Y={limit:g,offset:b};i!=="all"&&(Y.note_type=i),l!=="all"&&(Y.status=l);const L=await qc.list(Y);t(L.items||[]),p(L.total||0)}catch(Y){console.error("Failed to fetch notes:",Y),j.error("Failed to load notes")}finally{r(!1)}},T=E.useRef(!1);E.useEffect(()=>{async function Y(){const L=T.current;L||r(!0);try{const F={limit:g,offset:b};i!=="all"&&(F.note_type=i),l!=="all"&&(F.status=l);const B=await qc.list(F);t(B.items||[]),p(B.total||0)}catch(F){console.error("Failed to fetch notes:",F),j.error("Failed to load notes")}finally{L||r(!1)}T.current=!0}Y()},[t,r,m,g,b,i,l,d]);const M=Y=>{o(Y),y(1)},P=Y=>{u(Y),y(1)},U=PX({onSubmit:async Y=>{C(!0);try{await qc.create(Y),j.success("Note created"),S.close(),A()}finally{C(!1)}},loading:N}),z=()=>S.open({title:"Create Note",size:"lg"}),R=Al(e,Y=>Y.id),q=()=>{const Y=R.selectionCount;w.open({title:`Delete ${Y} note${Y>1?"s":""}`,description:`This will permanently delete ${Y} note${Y>1?"s":""}.`,onConfirm:async()=>{const L=R.selectedItems;w.setProgress({current:0,total:L.length});for(let F=0;F<L.length;F++)await qc.delete(L[F].id),w.setProgress({current:F+1,total:L.length});t(F=>F.filter(B=>!R.selectedIds.has(B.id))),p(F=>F-L.length),R.clear(),j.success(`Deleted ${Y} note${Y>1?"s":""}`)}})};return n?a.jsx(Rr,{}):a.jsxs(Pl,{title:"Knowledge Notes",description:"Capture knowledge and decisions",actions:a.jsxs(a.Fragment,{children:[a.jsx(kn,{options:Cce,value:i,onChange:Y=>M(Y),className:"w-full sm:w-36"}),a.jsx(kn,{options:Tce,value:l,onChange:Y=>P(Y),className:"w-full sm:w-36"}),a.jsx(tt,{onClick:z,children:"Create Note"})]}),children:[e.length===0?a.jsx(_a,{title:"No notes found",description:f===0&&i==="all"&&l==="all"?"Knowledge notes capture important patterns, gotchas, and guidelines.":"No notes match the current filters."}):a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:R.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:R.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"space-y-4",children:e.map(Y=>a.jsx(Mce,{selected:R.isSelected(Y.id),onToggleSelect:L=>R.toggle(Y.id,L),note:Y,onDelete:()=>w.open({title:"Delete Note",description:"This note will be permanently deleted.",onConfirm:async()=>{await qc.delete(Y.id),t(L=>L.filter(F=>F.id!==Y.id)),j.success("Note deleted")}})},Y.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Ml,{..._(f)})})]}),a.jsx($l,{count:R.selectionCount,onDelete:q,onClear:R.clear}),a.jsx(Kr,{...S.dialogProps,onSubmit:U.submit,loading:N,children:U.fields}),a.jsx(mi,{...w.dialogProps})]})}function Mce({note:e,onDelete:t,selected:n,onToggleSelect:r}){const i=e.tags||[],o=e.anchors||[],l={guideline:"border-l-blue-500",gotcha:"border-l-red-500",pattern:"border-l-purple-500",context:"border-l-gray-500",tip:"border-l-green-500",observation:"border-l-yellow-500",assertion:"border-l-orange-500"};return a.jsx(et,{className:`border-l-4 ${l[e.note_type]||"border-l-gray-500"} transition-colors ${n?"border-l-indigo-500 bg-indigo-500/[0.05]":""}`,children:a.jsxs("div",{className:"flex",children:[r&&a.jsx(Bl,{selected:!!n,onToggle:r}),a.jsxs(ft,{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(zt,{variant:"default",children:e.note_type}),a.jsx(w$,{status:e.status}),a.jsx(S$,{importance:e.importance})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(e.staleness_score||0)>.5&&a.jsxs("span",{className:"text-xs text-yellow-500",children:["Staleness: ",((e.staleness_score||0)*100).toFixed(0),"%"]}),a.jsx(uo,{actions:[{label:"Delete",variant:"danger",onClick:()=>t()}]})]})]}),a.jsx("p",{className:"text-gray-200 whitespace-pre-wrap break-words overflow-hidden",children:e.content}),i.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:i.map((u,d)=>a.jsx(zt,{variant:"default",children:u},`${u}-${d}`))}),o.length>0&&a.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Linked to ",o.length," ",o.length===1?"entity":"entities"]}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-gray-500",children:[a.jsxs("span",{children:["Created by ",e.created_by]}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),e.last_confirmed_at&&a.jsxs("span",{children:["Last confirmed: ",new Date(e.last_confirmed_at).toLocaleDateString()]})]})]})]})})}function Rce(){const[e,t]=E.useState(""),[n,r]=E.useState([]),[i,o]=E.useState(null),[l,u]=E.useState(!1),[d,f]=E.useState("search"),p=async()=>{if(e.trim()){u(!0);try{const g=await B2.search(e);r(Array.isArray(g)?g:[])}catch(g){console.error("Search failed:",g)}finally{u(!1)}}},m=async()=>{u(!0);try{const g=await B2.getArchitecture();o(g)}catch(g){console.error("Failed to load architecture:",g)}finally{u(!1)}};return a.jsxs("div",{className:"pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 md:mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-100",children:"Code Explorer"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{variant:d==="search"?"primary":"secondary",onClick:()=>f("search"),children:"Search"}),a.jsx(tt,{variant:d==="architecture"?"primary":"secondary",onClick:()=>{f("architecture"),i||m()},children:"Architecture"})]})]}),d==="search"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(et,{children:a.jsx(ft,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx(k$,{value:e,onChange:g=>t(g.target.value),onKeyDown:g=>g.key==="Enter"&&p(),placeholder:"Search code semantically...",className:"flex-1"}),a.jsx(tt,{onClick:p,loading:l,children:"Search"})]})})}),l?a.jsx(Rr,{}):n.length===0?a.jsx(_a,{title:"No results",description:"Enter a search query to find code across your projects."}):a.jsx("div",{className:"space-y-4",children:n.map(g=>a.jsx(et,{children:a.jsxs(ft,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-mono text-sm text-indigo-400 truncate flex-1 mr-4",children:g.document.path}),a.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[a.jsx("span",{className:"text-xs text-gray-500 capitalize",children:g.document.language}),a.jsxs("span",{className:"text-xs text-green-400",children:[(g.score*100).toFixed(0),"% match"]})]})]}),g.document.docstrings&&a.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:g.document.docstrings}),g.document.symbols&&g.document.symbols.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Symbols:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.document.symbols.slice(0,10).map(b=>a.jsx("span",{className:"px-2 py-0.5 bg-white/[0.08] rounded text-xs text-gray-300 font-mono",children:b},b)),g.document.symbols.length>10&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",g.document.symbols.length-10," more"]})]})]}),g.document.signatures&&g.document.signatures.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Signatures:"}),a.jsxs("pre",{className:"bg-gray-900 p-2 rounded text-xs text-gray-300 overflow-x-auto max-h-32",children:[a.jsx("code",{children:g.document.signatures.slice(0,5).join(`
`)}),g.document.signatures.length>5&&a.jsxs("span",{className:"text-gray-500",children:[`
`,"... +",g.document.signatures.length-5," more"]})]})]})]})},g.document.id))})]}),d==="architecture"&&a.jsx("div",{className:"space-y-6",children:l?a.jsx(Rr,{}):i?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 md:gap-4",children:[a.jsxs("div",{className:"p-4 bg-white/[0.06] rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:i.total_files.toLocaleString()}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total Files"})]}),a.jsxs("div",{className:"p-4 bg-white/[0.06] rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:i.languages.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Languages"})]}),a.jsxs("div",{className:"p-4 bg-white/[0.06] rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-amber-400",children:i.key_files.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Key Files"})]}),a.jsxs("div",{className:"p-4 bg-white/[0.06] rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:i.modules.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Modules"})]})]}),a.jsxs(et,{children:[a.jsx(qt,{children:a.jsx(Ft,{children:"Key Files"})}),a.jsx(ft,{children:(i.key_files||[]).length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No data available"}):a.jsx("div",{className:"space-y-2",children:i.key_files.map(g=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/[0.06] rounded",children:[a.jsx("span",{className:"font-mono text-sm text-gray-200 truncate flex-1 mr-4",children:g.path}),a.jsxs("div",{className:"flex gap-4 text-sm shrink-0",children:[a.jsxs("span",{className:"text-indigo-400",children:[g.dependents," dependents"]}),a.jsxs("span",{className:"text-green-400",children:[g.imports," imports"]})]})]},g.path))})})]}),a.jsxs(et,{children:[a.jsx(qt,{children:a.jsx(Ft,{children:"Languages"})}),a.jsx(ft,{children:(i.languages||[]).length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No languages detected"}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:i.languages.map(g=>a.jsxs("div",{className:"p-3 bg-white/[0.06] rounded text-center",children:[a.jsx("div",{className:"text-lg font-bold text-indigo-400",children:g.file_count}),a.jsx("div",{className:"text-sm text-gray-400 capitalize",children:g.language})]},g.language))})})]})]}):a.jsx(_a,{title:"Architecture not loaded",description:"Click the Architecture tab to load the codebase overview."})})]})}const Zc=[{label:"Infrastructure",icon:Dce},{label:"Authentication",icon:Lce},{label:"Chat AI",icon:Ice},{label:"Launch",icon:zce}];function Oce({children:e,onNext:t,onPrev:n,onFinish:r,nextDisabled:i=!1,nextLabel:o,hideNav:l=!1,freeNavigation:u=!1,showClose:d=!1}){const[f,p]=Ct(XO),m=Mn(),g=a3(),b=f===0,y=f===Zc.length-1,_=()=>{n?n():p(j=>Math.max(0,j-1))},w=()=>{y&&r?r():t?t():p(j=>Math.min(Zc.length-1,j+1))},S=()=>{m("/",{replace:!0})};return a.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden text-white",style:{backgroundColor:"var(--surface-base)"},children:[a.jsx("div",{className:"border-b border-white/[0.06] px-6 py-4",onMouseDown:g,children:a.jsxs("div",{className:"mx-auto flex max-w-3xl items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600",children:a.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Project Orchestrator"}),a.jsx("p",{className:"text-xs text-gray-500",children:d?"Configuration":"Initial Setup"})]}),d&&a.jsxs("button",{onClick:S,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm text-gray-400 transition hover:bg-white/[0.06] hover:text-white",title:"Back to app",children:[a.jsx(Bce,{}),a.jsx("span",{className:"hidden sm:inline",children:"Close"})]})]})}),a.jsx("div",{className:"border-b border-white/[0.06] px-6 py-5",children:a.jsx("div",{className:"mx-auto max-w-3xl",children:a.jsx("nav",{className:"flex items-center justify-between",children:Zc.map((j,N)=>{const C=j.icon,A=N===f,T=N<f,M=u&&N!==f,P=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium transition ${A?"bg-indigo-600 text-white":T?"bg-indigo-600/20 text-indigo-400":"bg-white/[0.06] text-gray-500"}`,children:T?a.jsx(Pce,{}):a.jsx(C,{})}),a.jsx("span",{className:`hidden text-sm font-medium sm:block ${A?"text-white":T?"text-indigo-400":"text-gray-500"} ${M?"group-hover:text-white":""}`,children:j.label})]});return a.jsxs("div",{className:"flex flex-1 items-center",children:[M?a.jsx("button",{onClick:()=>p(N),className:"group flex items-center gap-2.5 rounded-lg px-1 py-1 -mx-1 transition hover:bg-white/[0.04]",children:P}):a.jsx("div",{className:"flex items-center gap-2.5",children:P}),N<Zc.length-1&&a.jsx("div",{className:`mx-3 h-px flex-1 ${T?"bg-indigo-600/40":"bg-white/[0.06]"}`})]},j.label)})})})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-8",children:a.jsx("div",{className:"mx-auto max-w-2xl",children:e})}),!l&&a.jsx("div",{className:"border-t border-white/[0.06] px-6 py-4",children:a.jsxs("div",{className:"mx-auto flex max-w-2xl items-center justify-between",children:[a.jsx("button",{onClick:_,disabled:b,className:"rounded-lg px-4 py-2 text-sm font-medium text-gray-400 transition hover:text-white disabled:opacity-30 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Step ",f+1," of ",Zc.length]}),a.jsx("button",{onClick:w,disabled:i,className:"rounded-lg bg-indigo-600 px-5 py-2 text-sm font-medium text-white transition hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o||(y?"Finish":"Next")})]})})]})}function Dce(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 14.25h13.5m-13.5 0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3 0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z"})})}function Lce(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}function Ice(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})})}function zce(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})})}function Pce(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}function Bce(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function W6(){const[e,t]=Ct(Iu),n=r=>t(i=>({...i,...r}));return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Infrastructure"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Choose how to run the required services (Neo4j, MeiliSearch & NATS)."})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsx(aO,{active:e.infraMode==="docker",onClick:()=>n({infraMode:"docker"}),title:"Docker (recommended)",description:"Automatically start Neo4j, MeiliSearch, and NATS in Docker containers. Requires Docker Desktop.",icon:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-2.25-1.313M21 7.5v2.25m0-2.25l-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3l2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75l2.25-1.313M12 21.75V19.5m0 2.25l-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"})})}),a.jsx(aO,{active:e.infraMode==="external",onClick:()=>n({infraMode:"external"}),title:"External servers",description:"Connect to existing Neo4j, MeiliSearch, and NATS instances running elsewhere.",icon:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})})})]}),e.infraMode==="external"&&a.jsxs("div",{className:"space-y-6 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Neo4j Connection"}),a.jsx(o_,{service:"neo4j",url:e.neo4jUri})]}),a.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[a.jsx(ga,{label:"URI",value:e.neo4jUri,onChange:r=>n({neo4jUri:r}),placeholder:"bolt://localhost:7687"}),a.jsx(ga,{label:"User",value:e.neo4jUser,onChange:r=>n({neo4jUser:r}),placeholder:"neo4j"}),a.jsx(ga,{label:"Password",type:"password",value:e.neo4jPassword,onChange:r=>n({neo4jPassword:r}),placeholder:e.hasNeo4jPassword?"(unchanged)":"Enter password",hint:e.hasNeo4jPassword?"A password is already configured  leave blank to keep it":void 0,className:"sm:col-span-2"})]})]}),a.jsxs("div",{className:"border-t border-white/[0.06] pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"MeiliSearch Connection"}),a.jsx(o_,{service:"meilisearch",url:e.meilisearchUrl})]}),a.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[a.jsx(ga,{label:"URL",value:e.meilisearchUrl,onChange:r=>n({meilisearchUrl:r}),placeholder:"http://localhost:7700"}),a.jsx(ga,{label:"API Key",type:"password",value:e.meilisearchKey,onChange:r=>n({meilisearchKey:r}),placeholder:e.hasMeilisearchKey?"(unchanged)":"Master key",hint:e.hasMeilisearchKey?"A key is already configured  leave blank to keep it":void 0})]})]}),e.natsEnabled&&a.jsxs("div",{className:"border-t border-white/[0.06] pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"NATS Connection"}),a.jsx(o_,{service:"nats",url:e.natsUrl||"nats://localhost:4222"})]}),a.jsx("div",{className:"mt-3",children:a.jsx(ga,{label:"URL",value:e.natsUrl,onChange:r=>n({natsUrl:r}),placeholder:"nats://localhost:4222"})})]})]}),e.infraMode==="docker"&&a.jsx("div",{className:"rounded-xl border border-indigo-500/20 bg-indigo-500/5 p-5",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),a.jsxs("div",{className:"text-sm text-gray-300",children:[a.jsx("p",{className:"font-medium text-indigo-400",children:"Docker mode"}),a.jsxs("p",{className:"mt-1",children:[e.natsEnabled?"Neo4j, MeiliSearch, and NATS will be started automatically as Docker containers.":"Neo4j and MeiliSearch will be started automatically as Docker containers."," ","Make sure Docker Desktop is running on your machine."]}),a.jsxs("p",{className:"mt-2 text-gray-500",children:["Ports: Neo4j (7474, 7687)  MeiliSearch (7700)",e.natsEnabled&&a.jsx(a.Fragment,{children:"  NATS (4222)"})," "," API (",e.serverPort,")"]})]})]})}),a.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] p-5",children:a.jsxs("label",{className:"flex cursor-pointer items-start gap-3",children:[a.jsx("input",{type:"checkbox",checked:e.natsEnabled,onChange:r=>n({natsEnabled:r.target.checked}),className:"mt-0.5 h-4 w-4 rounded border-white/20 bg-white/[0.04] text-indigo-600 focus:ring-indigo-500/30 focus:ring-offset-0 accent-indigo-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable real-time events (NATS)"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enables live updates via NATS pub/sub. Required for multi-instance deployments and real-time synchronization between the desktop app, web UI, and MCP server."}),!e.natsEnabled&&a.jsx("p",{className:"mt-1.5 text-xs text-amber-400/70",children:"Without NATS, events are only broadcast in-process. Changes made in one instance won't appear in others until refresh."})]})]})}),a.jsxs("div",{children:[a.jsx(ga,{label:"API Server Port",type:"number",value:String(e.serverPort),onChange:r=>n({serverPort:parseInt(r)||6600}),placeholder:"6600",className:"max-w-[200px]"}),a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Port for the backend API server."})]}),a.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] p-5",children:a.jsxs("label",{className:"flex cursor-pointer items-start gap-3",children:[a.jsx("input",{type:"checkbox",checked:e.serveFrontend,onChange:r=>n({serveFrontend:r.target.checked}),className:"mt-0.5 h-4 w-4 rounded border-white/20 bg-white/[0.04] text-indigo-600 focus:ring-indigo-500/30 focus:ring-offset-0 accent-indigo-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Serve frontend on API port"}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Enable to access the web UI at"," ",a.jsxs("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:["http://localhost:",e.serverPort]})," ","from any browser. Useful for accessing the app from other devices on the same network."]})]})]})}),a.jsxs("div",{children:[a.jsx(ga,{label:"Public URL (optional)",value:e.publicUrl,onChange:r=>n({publicUrl:r}),placeholder:"https://myapp.example.com",hint:"If you use a reverse proxy (e.g. Cloudflare Tunnel, ngrok, ffs.dev), enter the public URL here. Used for OAuth callbacks and CORS."}),e.publicUrl.trim()&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-lg border border-indigo-500/20 bg-indigo-500/[0.06] px-4 py-2.5",children:[a.jsx("svg",{className:"h-4 w-4 shrink-0 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 003 12c0-1.605.42-3.113 1.157-4.418"})}),a.jsxs("span",{className:"text-xs text-indigo-300",children:["Local:"," ",a.jsxs("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:["http://localhost:",e.serverPort]})," "," Public:"," ",a.jsx("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:e.publicUrl.trim().replace(/\/+$/,"")})]})]})]})]})}function aO({active:e,onClick:t,title:n,description:r,icon:i}){return a.jsxs("button",{onClick:t,className:`flex flex-col items-start gap-3 rounded-xl border p-5 text-left transition ${e?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12] hover:bg-white/[0.04]"}`,children:[a.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${e?"bg-indigo-600 text-white":"bg-white/[0.06] text-gray-400"}`,children:i}),a.jsxs("div",{children:[a.jsx("div",{className:`text-sm font-medium ${e?"text-white":"text-gray-300"}`,children:n}),a.jsx("div",{className:"mt-1 text-xs text-gray-500",children:r})]})]})}function ga({label:e,value:t,onChange:n,placeholder:r,type:i="text",className:o,hint:l}){return a.jsxs("div",{className:o,children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:e}),a.jsx("input",{type:i,value:t,onChange:u=>n(u.target.value),placeholder:r,className:"w-full rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-2 text-sm text-white placeholder-gray-600 transition focus:border-indigo-500/50 focus:outline-none focus:ring-1 focus:ring-indigo-500/30"}),l&&a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:l})]})}function o_({service:e,url:t}){const[n,r]=E.useState("idle"),i=async()=>{if(!(!Xn||!t.trim())){r("testing");try{const{invoke:o}=await ci(async()=>{const{invoke:u}=await import("./core-DhEqZVGG.js");return{invoke:u}},[]),l=await o("test_connection",{service:e,url:t});r(l?"success":"failure")}catch{r("failure")}setTimeout(()=>r("idle"),4e3)}};return Xn?a.jsxs("button",{type:"button",onClick:i,disabled:n==="testing",className:"flex items-center gap-1.5 rounded-lg px-2.5 py-1 text-xs font-medium transition hover:bg-white/[0.06] disabled:opacity-50",title:`Test ${e} connection`,children:[n==="testing"&&a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"h-3.5 w-3.5 animate-spin text-gray-400",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a.jsx("span",{className:"text-gray-400",children:"Testing..."})]}),n==="idle"&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-3.5 w-3.5 text-gray-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12 20.5h.008v.008H12V20.5z"})}),a.jsx("span",{className:"text-gray-500",children:"Test"})]}),n==="success"&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-3.5 w-3.5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),a.jsx("span",{className:"text-emerald-400",children:"Connected"})]}),n==="failure"&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-3.5 w-3.5 text-red-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),a.jsx("span",{className:"text-red-400",children:"Failed"})]})]}):null}function $ce(){const[e,t]=Ct(Iu),n=i=>t(o=>({...o,...i})),r=[{value:"none",label:"No authentication",description:"Open access  best for local development or trusted networks."},{value:"password",label:"Password",description:"Create a root account with email and password."},{value:"oidc",label:"OIDC / OAuth",description:"Use Google, Microsoft, Okta, or any OpenID Connect provider."}];return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Authentication"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Configure how users will sign in to the application."})]}),a.jsx("div",{className:"space-y-3",children:r.map(i=>a.jsxs("label",{className:`flex cursor-pointer items-start gap-3 rounded-xl border p-4 transition ${e.authMode===i.value?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12]"}`,children:[a.jsx("input",{type:"radio",name:"authMode",value:i.value,checked:e.authMode===i.value,onChange:()=>n({authMode:i.value}),className:"mt-0.5 h-4 w-4 accent-indigo-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:i.label}),a.jsx("div",{className:"mt-0.5 text-xs text-gray-500",children:i.description})]})]},i.value))}),e.authMode==="none"&&a.jsx("div",{className:"rounded-xl border border-amber-500/20 bg-amber-500/5 p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0 text-amber-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),a.jsxs("div",{className:"text-sm text-gray-300",children:[a.jsx("p",{className:"font-medium text-amber-400",children:"Security notice"}),a.jsx("p",{className:"mt-1",children:"Without authentication, anyone with network access to this server can view and modify all data. Only use this mode for local development."})]})]})}),e.authMode==="password"&&a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Root Account"}),a.jsx(ya,{label:"Email",type:"email",value:e.rootEmail,onChange:i=>n({rootEmail:i}),placeholder:"admin@example.com"}),a.jsx(ya,{label:"Password",type:"password",value:e.rootPassword,onChange:i=>n({rootPassword:i}),placeholder:"Minimum 8 characters"}),a.jsx("p",{className:"text-xs text-gray-500",children:"This will be the initial administrator account. You can add more users later."})]}),e.authMode==="oidc"&&a.jsxs(a.Fragment,{children:[a.jsx(Fce,{config:e,update:n}),a.jsx(Hce,{config:e,update:n}),a.jsx(Gce,{config:e})]}),(e.authMode==="password"||e.authMode==="oidc")&&a.jsx(Vce,{config:e,update:n})]})}const Uce=["google","microsoft","okta","auth0","keycloak","custom"],qce={google:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),microsoft:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("rect",{x:"1",y:"1",width:"10",height:"10"}),a.jsx("rect",{x:"13",y:"1",width:"10",height:"10"}),a.jsx("rect",{x:"1",y:"13",width:"10",height:"10"}),a.jsx("rect",{x:"13",y:"13",width:"10",height:"10"})]}),okta:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",fillOpacity:"0.3"}),a.jsx("circle",{cx:"12",cy:"12",r:"5"})]}),auth0:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.2 2H6.8L2 12l4.8 10h10.4L22 12 17.2 2zM12 16a4 4 0 110-8 4 4 0 010 8z"})}),keycloak:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),custom:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})};function Fce({config:e,update:t}){const n=r=>{const i=pu[r],o={oidcProvider:r,oidcProviderName:i.label==="Custom"?"":i.label};i.discoveryUrl?o.oidcDiscoveryUrl=i.discoveryUrl:r!==e.oidcProvider&&(o.oidcDiscoveryUrl=""),r!==e.oidcProvider&&(o.oidcTenant="",o.oidcAuthEndpoint="",o.oidcTokenEndpoint="",o.oidcUserinfoEndpoint=""),t(o)};return a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"OIDC Provider"}),a.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:Uce.map(r=>{const i=pu[r],o=e.oidcProvider===r;return a.jsxs("button",{onClick:()=>n(r),className:`flex items-start gap-3 rounded-xl border p-4 text-left transition ${o?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12] hover:bg-white/[0.04]"}`,children:[a.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg ${o?"bg-indigo-600 text-white":"bg-white/[0.06] text-gray-400"}`,children:qce[r]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:`text-sm font-medium ${o?"text-white":"text-gray-300"}`,children:i.label}),a.jsx("div",{className:"mt-0.5 text-xs text-gray-500",children:i.description})]})]},r)})})]})}function Hce({config:e,update:t}){const n=pu[e.oidcProvider],r=!n.discoveryUrl&&e.oidcProvider!=="custom",i=e.oidcProvider==="keycloak",[o,l]=E.useState("idle"),[u,d]=E.useState(""),[f,p]=E.useState(null),m=E.useCallback(y=>!n.discoveryTemplate||!y.trim()?"":i?n.discoveryTemplate.replace("{tenant}",y.trim().replace(/\/+$/,"")):n.discoveryTemplate.replace("{tenant}",y.trim()),[n.discoveryTemplate,i]),g=y=>{const _={oidcTenant:y},w=m(y);w&&(_.oidcDiscoveryUrl=w),t(_)},b=E.useCallback(async()=>{const y=e.oidcDiscoveryUrl.trim();if(y){l("fetching"),d(""),p(null);try{let _;if(Xn){const{invoke:w}=await ci(async()=>{const{invoke:S}=await import("./core-DhEqZVGG.js");return{invoke:S}},[]);_=await w("verify_oidc_discovery",{url:y}),_={issuer:_.issuer,authorization_endpoint:_.authorizationEndpoint||_.authorization_endpoint,token_endpoint:_.tokenEndpoint||_.token_endpoint,userinfo_endpoint:_.userinfoEndpoint||_.userinfo_endpoint}}else{const w=await fetch(y);if(!w.ok)throw new Error(`HTTP ${w.status}: ${w.statusText}`);_=await w.json()}if(!_.authorization_endpoint||!_.token_endpoint)throw new Error("Invalid discovery document: missing required endpoints");p(_),l("success"),t({oidcAuthEndpoint:_.authorization_endpoint||"",oidcTokenEndpoint:_.token_endpoint||"",oidcUserinfoEndpoint:_.userinfo_endpoint||""})}catch(_){l("error"),d(_ instanceof Error?_.message:"Failed to fetch discovery document")}}},[e.oidcDiscoveryUrl,t]);return a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[r&&a.jsxs("div",{children:[a.jsx(ya,{label:n.tenantLabel||"Tenant",value:e.oidcTenant,onChange:g,placeholder:n.tenantPlaceholder||""}),i&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Enter the full server URL. You may need to edit the realm name in the discovery URL below."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:"Discovery URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:e.oidcDiscoveryUrl,onChange:y=>t({oidcDiscoveryUrl:y.target.value}),placeholder:"https://.../.well-known/openid-configuration",className:"flex-1 rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-2 text-sm text-white placeholder-gray-600 transition focus:border-indigo-500/50 focus:outline-none focus:ring-1 focus:ring-indigo-500/30"}),a.jsx("button",{onClick:b,disabled:!e.oidcDiscoveryUrl.trim()||o==="fetching",className:"flex shrink-0 items-center gap-1.5 rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-2 text-xs font-medium text-gray-300 transition hover:bg-white/[0.08] disabled:cursor-not-allowed disabled:opacity-50",children:o==="fetching"?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"h-3.5 w-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Verifying..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Verify"]})})]}),n.discoveryUrl&&a.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["Pre-filled for ",n.label,". Click Verify to confirm it's reachable."]})]}),o==="success"&&f&&a.jsxs("div",{className:"rounded-lg border border-emerald-500/20 bg-emerald-500/[0.06] p-3",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-1.5",children:[a.jsx("svg",{className:"h-4 w-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["Discovery successful",f.issuer&&a.jsxs(a.Fragment,{children:["  Issuer: ",f.issuer]})]})]}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Authorization:"})," ",a.jsx("code",{className:"text-emerald-300/70",children:f.authorization_endpoint})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Token:"})," ",a.jsx("code",{className:"text-emerald-300/70",children:f.token_endpoint})]}),f.userinfo_endpoint&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Userinfo:"})," ",a.jsx("code",{className:"text-emerald-300/70",children:f.userinfo_endpoint})]})]})]}),o==="error"&&a.jsxs("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2 text-xs text-red-400",children:[a.jsx("span",{className:"font-medium",children:"Discovery failed:"})," ",u]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsx(ya,{label:"Provider Name",value:e.oidcProviderName,onChange:y=>t({oidcProviderName:y}),placeholder:"Google, Okta, Auth0...",hint:"Display name shown on the login page"}),a.jsx(ya,{label:"Scopes",value:e.oidcScopes,onChange:y=>t({oidcScopes:y}),placeholder:"openid email profile",hint:"Space-separated list of OIDC scopes"})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsx(ya,{label:"Client ID",value:e.oidcClientId,onChange:y=>t({oidcClientId:y}),placeholder:"your-client-id"}),a.jsx(ya,{label:"Client Secret",type:"password",value:e.oidcClientSecret,onChange:y=>t({oidcClientSecret:y}),placeholder:e.hasOidcSecret?"(unchanged)":"your-client-secret",hint:e.hasOidcSecret?"A secret is already configured  leave blank to keep it":void 0})]}),n.consoleUrl&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Get your credentials from"," ",a.jsxs("a",{href:n.consoleUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 underline hover:text-indigo-300",children:[n.label," developer console"]}),"."]})]})}function Gce({config:e}){const t=`http://localhost:${e.serverPort}`,n=e.publicUrl.trim().replace(/\/+$/,""),r=!!n;return a.jsx("div",{className:"rounded-xl border border-indigo-500/20 bg-indigo-500/[0.04] p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("p",{className:"text-sm font-medium text-indigo-300",children:"Configure your OAuth provider with these URLs"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Add the following values in your provider's console. The redirect URI must match exactly."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Yf,{label:r?"Redirect URI (public)":"Authorized redirect URI",value:`${r?n:t}/auth/callback`}),a.jsx(Yf,{label:r?"JavaScript origin (public)":"Authorized JavaScript origin",value:r?n:t})]}),r&&a.jsxs("div",{className:"space-y-2 border-t border-white/[0.06] pt-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"For local development, also add these URLs:"}),a.jsx(Yf,{label:"Redirect URI (local)",value:`${t}/auth/callback`}),a.jsx(Yf,{label:"JavaScript origin (local)",value:t})]}),e.oidcProvider==="google"&&a.jsxs("p",{className:"text-xs text-gray-500",children:["For Google: Go to"," ",a.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 underline hover:text-indigo-300",children:"console.cloud.google.com/apis/credentials"})," "," edit your OAuth 2.0 Client ID  paste these URLs."]}),e.oidcProvider==="microsoft"&&a.jsxs("p",{className:"text-xs text-gray-500",children:["For Microsoft: Go to"," ",a.jsx("a",{href:"https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 underline hover:text-indigo-300",children:"Azure Portal  App registrations"})," "," select your app  Authentication  add the redirect URI."]})]})]})})}function Vce({config:e,update:t}){const n=e.allowedEmails.split(`
`).map(l=>l.trim()).filter(Boolean),r=e.allowedEmailDomain.trim(),i=[];n.length>0&&i.push(`${n.length} user${n.length>1?"s":""} whitelisted`),r&&i.push(`all @${r} emails`);const o=i.length>0?i.join(" + "):null;return a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-white/[0.06] text-gray-400",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Who can access your instance?"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"By default anyone who authenticates can access the app. Restrict access by domain or individual email."})]})]}),a.jsxs("div",{children:[a.jsx(ya,{label:"Allowed email domain",value:e.allowedEmailDomain,onChange:l=>t({allowedEmailDomain:l}),placeholder:"example.com"}),r&&a.jsxs("p",{className:"mt-1.5 text-xs text-indigo-400/80",children:["Only ",a.jsxs("span",{className:"font-medium",children:["@",r]})," emails will be allowed to sign in."]})]}),r&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-px flex-1 bg-white/[0.06]"}),a.jsx("span",{className:"text-[10px] font-medium uppercase tracking-widest text-gray-600",children:"or"}),a.jsx("div",{className:"h-px flex-1 bg-white/[0.06]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:"Individual emails"}),a.jsx(Kce,{emails:n,onChange:l=>t({allowedEmails:l.join(`
`)})}),r&&n.length>0&&a.jsxs("p",{className:"mt-1.5 text-xs text-gray-600",children:["A user is allowed if their email matches the domain ",a.jsx("span",{className:"font-medium text-gray-500",children:"or"})," is in the list above."]})]}),a.jsx("div",{className:`rounded-lg px-3 py-2 text-xs ${o?"border border-indigo-500/20 bg-indigo-500/[0.04] text-indigo-300":"border border-white/[0.04] bg-white/[0.01] text-gray-600"}`,children:o?a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx("svg",{className:"h-3.5 w-3.5 shrink-0",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}),"Access restricted: ",o]}):"No restrictions  all authenticated users have access"})]})}function Kce({emails:e,onChange:t}){const[n,r]=E.useState(""),[i,o]=E.useState(""),l=p=>{const m=p.trim().toLowerCase();if(m){if(!m.includes("@")||!m.includes(".")){o("Invalid email address");return}if(e.includes(m)){o("Email already added");return}o(""),t([...e,m]),r("")}},u=p=>{t(e.filter((m,g)=>g!==p))},d=p=>{p.key==="Enter"||p.key===","?(p.preventDefault(),l(n)):p.key==="Backspace"&&!n&&e.length>0&&u(e.length-1)},f=p=>{const m=p.clipboardData.getData("text");if(m.includes(`
`)||m.includes(",")){p.preventDefault();const b=m.split(/[,\n]/).map(y=>y.trim().toLowerCase()).filter(y=>y&&y.includes("@")).filter(y=>!e.includes(y));b.length>0&&t([...e,...b]),r("")}};return a.jsxs("div",{children:[a.jsx("div",{className:"min-h-[42px] rounded-lg border border-white/[0.1] bg-white/[0.04] px-2 py-1.5 transition focus-within:border-indigo-500/50 focus-within:ring-1 focus-within:ring-indigo-500/30",children:a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.map((p,m)=>a.jsxs("span",{className:"flex items-center gap-1 rounded-md bg-white/[0.08] px-2 py-0.5 text-xs text-gray-300",children:[p,a.jsx("button",{type:"button",onClick:()=>u(m),className:"ml-0.5 rounded p-0.5 text-gray-500 transition hover:bg-white/[0.1] hover:text-gray-300",children:a.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]},p)),a.jsx("input",{type:"email",value:n,onChange:p=>{r(p.target.value),o("")},onKeyDown:d,onPaste:f,onBlur:()=>{n.trim()&&l(n)},placeholder:e.length===0?"alice@gmail.com, bob@company.org...":"Add email...",className:"min-w-[120px] flex-1 border-none bg-transparent px-1 py-0.5 text-sm text-white placeholder-gray-600 outline-none"})]})}),i&&a.jsx("p",{className:"mt-1 text-xs text-red-400",children:i}),!i&&a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Type an email and press Enter. Paste a comma or newline-separated list to add multiple."})]})}function Yf({label:e,value:t}){const[n,r]=E.useState(!1),i=()=>{navigator.clipboard.writeText(t).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(()=>{})};return a.jsxs("div",{className:"rounded-lg bg-white/[0.04] p-3",children:[a.jsx("div",{className:"mb-1 text-xs font-medium text-gray-400",children:e}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 break-all text-xs text-indigo-300",children:t}),a.jsx("button",{type:"button",onClick:i,className:"shrink-0 rounded-md p-1.5 text-gray-500 transition hover:bg-white/[0.06] hover:text-gray-300",title:"Copy to clipboard",children:n?a.jsx("svg",{className:"h-3.5 w-3.5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}):a.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9.75a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})})})]})]})}function ya({label:e,value:t,onChange:n,placeholder:r,type:i="text",className:o,hint:l}){return a.jsxs("div",{className:o,children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:e}),a.jsx("input",{type:i,value:t,onChange:u=>n(u.target.value),placeholder:r,className:"w-full rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-2 text-sm text-white placeholder-gray-600 transition focus:border-indigo-500/50 focus:outline-none focus:ring-1 focus:ring-indigo-500/30"}),l&&a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:l})]})}const Yce=[{value:"sonnet-4-5",label:"Claude Sonnet 4.5",description:"Fast & capable  best for most tasks"},{value:"opus-4-5",label:"Claude Opus 4.5",description:"Most intelligent  complex reasoning"},{value:"opus-4-6",label:"Claude Opus 4.6",description:"Latest & most powerful"}];function Wce(){const[e,t]=Ct(Iu),[n,r]=E.useState(!1),i=d=>t(f=>({...f,...d})),o=E.useCallback(async()=>{if(r(!0),!Xn){i({claudeCodeDetected:!1});return}try{const{invoke:d}=await ci(async()=>{const{invoke:p}=await import("./core-DhEqZVGG.js");return{invoke:p}},[]),f=await d("detect_claude_code");i({claudeCodeDetected:f})}catch{i({claudeCodeDetected:!1})}},[]),l=E.useCallback(async()=>{if(Xn){i({mcpSetupStatus:"configuring",mcpSetupMessage:""});try{const{invoke:d}=await ci(async()=>{const{invoke:p}=await import("./core-DhEqZVGG.js");return{invoke:p}},[]),f=await d("setup_claude_code",{serverUrl:`http://localhost:${e.serverPort}/mcp/sse`});if(f.success){const p=f.method==="already_configured"?"already_configured":"configured";i({mcpSetupStatus:p,mcpSetupMessage:f.message})}else i({mcpSetupStatus:"error",mcpSetupMessage:f.message})}catch(d){i({mcpSetupStatus:"error",mcpSetupMessage:d instanceof Error?d.message:"Unknown error"})}}},[e.serverPort]),u=e.mcpSetupStatus==="configured"||e.mcpSetupStatus==="already_configured";return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Chat AI"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Configure the built-in AI chat assistant. These settings are optional and can be changed later."})]}),a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-3 block text-xs font-medium text-gray-400",children:"Default Model"}),a.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:Yce.map(d=>a.jsxs("button",{onClick:()=>i({chatModel:d.value}),className:`flex flex-col items-start gap-1.5 rounded-xl border p-4 text-left transition ${e.chatModel===d.value?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12] hover:bg-white/[0.04]"}`,children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${e.chatModel===d.value?"text-white":"text-gray-300"}`,children:d.label}),e.chatModel===d.value&&a.jsx("svg",{className:"h-4 w-4 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})]}),a.jsx("span",{className:"text-xs text-gray-500",children:d.description})]},d.value))}),a.jsx("p",{className:"mt-3 text-xs text-gray-500",children:"The model used for AI chat sessions. Requires a Claude Code CLI installation."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:"Max Concurrent Sessions"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:1,max:10,value:e.chatMaxSessions,onChange:d=>i({chatMaxSessions:parseInt(d.target.value)}),className:"h-2 flex-1 cursor-pointer appearance-none rounded-lg bg-white/[0.1] accent-indigo-600"}),a.jsx("span",{className:"w-8 text-center text-sm font-medium text-white",children:e.chatMaxSessions})]}),a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Maximum number of AI chat sessions that can run simultaneously."})]})]}),a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Claude Code CLI"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The chat feature requires Claude Code to be installed on this machine. Click detect to check if it's available."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[e.claudeCodeDetected&&a.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-emerald-400",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Detected"]}),n&&!e.claudeCodeDetected&&a.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-amber-400",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),"Not found"]}),a.jsx("button",{onClick:o,className:"rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-1.5 text-xs font-medium text-gray-300 transition hover:bg-white/[0.08]",children:"Detect"})]})]}),a.jsxs("div",{className:"border-t border-white/[0.06] pt-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"MCP Server Configuration"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Configure Claude Code to use Project Orchestrator as an MCP server. This enables Claude Code to access your projects, plans, and knowledge graph."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[u&&a.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-emerald-400",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.mcpSetupStatus==="already_configured"?"Already configured":"Configured"]}),a.jsx("button",{onClick:l,disabled:e.mcpSetupStatus==="configuring"||u,className:"rounded-lg border border-white/[0.1] bg-indigo-600/20 px-3 py-1.5 text-xs font-medium text-indigo-300 transition hover:bg-indigo-600/30 disabled:cursor-not-allowed disabled:opacity-50",children:e.mcpSetupStatus==="configuring"?a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsxs("svg",{className:"h-3 w-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Configuring"]}):"Configure MCP"})]})]}),e.mcpSetupStatus==="error"&&a.jsx("div",{className:"mt-3 rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2 text-xs text-red-400",children:e.mcpSetupMessage}),u&&e.mcpSetupMessage&&a.jsx("div",{className:"mt-3 rounded-lg border border-emerald-500/20 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-400",children:e.mcpSetupMessage})]})]}),a.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0 text-gray-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["These settings can be changed at any time in"," ",a.jsx("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:"config.yaml"}),". If you don't use the AI chat feature, you can skip this step. You can also configure the MCP server later by running"," ",a.jsx("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:"orchestrator setup-claude"}),"."]})]})})]})}function Xce(){const e=Ve(Iu),t=Rt(uw),[n,r]=E.useState("review"),[i,o]=E.useState(""),[l,u]=E.useState(""),d=async()=>{if(r("generating"),u(""),!Xn){r("generated"),o("(web mode  config.yaml must be created manually on the server)");return}try{const{invoke:p}=await ci(async()=>{const{invoke:g}=await import("./core-DhEqZVGG.js");return{invoke:g}},[]),m=await p("generate_config",{config:e});o(m),t(!0),r("generated")}catch(p){u(p instanceof Error?p.message:String(p)),r("error")}},f=async()=>{if(Xn){r("restarting");try{const{invoke:p}=await ci(async()=>{const{invoke:m}=await import("./core-DhEqZVGG.js");return{invoke:m}},[]);await p("restart_app")}catch(p){u(`Failed to restart: ${p instanceof Error?p.message:String(p)}`),r("error")}}};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Launch"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Review your configuration and generate the config file."})]}),a.jsxs("div",{className:"space-y-3 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Configuration Summary"}),a.jsx(ji,{label:"Infrastructure",value:e.infraMode==="docker"?"Docker (automatic)":"External servers"}),e.infraMode==="external"&&a.jsxs(a.Fragment,{children:[a.jsx(ji,{label:"Neo4j",value:e.neo4jUri}),a.jsx(ji,{label:"MeiliSearch",value:e.meilisearchUrl})]}),a.jsx(ji,{label:"NATS",value:e.natsEnabled?e.infraMode==="docker"?"Enabled (Docker)":`Enabled (${e.natsUrl||"nats://localhost:4222"})`:"Disabled"}),a.jsx(ji,{label:"API Port",value:String(e.serverPort)}),e.publicUrl.trim()&&a.jsx(ji,{label:"Public URL",value:e.publicUrl.trim().replace(/\/+$/,"")}),a.jsx("div",{className:"border-t border-white/[0.04] pt-2"}),a.jsx(ji,{label:"Authentication",value:e.authMode==="none"?"Disabled":e.authMode==="password"?`Password (${e.rootEmail||"no email set"})`:`OIDC (${e.oidcProviderName||"Custom"})`}),(e.allowedEmailDomain||e.allowedEmails)&&a.jsx(ji,{label:"Access",value:[e.allowedEmailDomain?`@${e.allowedEmailDomain}`:"",e.allowedEmails?`${e.allowedEmails.split(`
`).filter(Boolean).length} email(s)`:""].filter(Boolean).join(" + ")}),!(e.allowedEmailDomain||e.allowedEmails)&&e.authMode!=="none"&&a.jsx(ji,{label:"Access",value:"No restrictions"}),a.jsx("div",{className:"border-t border-white/[0.04] pt-2"}),a.jsx(ji,{label:"Chat Model",value:e.chatModel}),a.jsx(ji,{label:"Max Sessions",value:String(e.chatMaxSessions)})]}),n==="generated"&&a.jsx("div",{className:"rounded-xl border border-emerald-500/20 bg-emerald-500/[0.06] p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-emerald-500/20 text-emerald-400",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-emerald-300",children:"Configuration saved!"}),i&&a.jsx("p",{className:"text-xs text-emerald-400/70 break-all font-mono",children:i}),a.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"The application needs to restart to apply the new configuration."})]})]})}),n==="error"&&a.jsx("div",{className:"rounded-xl border border-red-500/20 bg-red-500/[0.06] p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-red-500/20 text-red-400",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-red-300",children:"Configuration failed"}),a.jsx("p",{className:"text-xs text-red-400/70",children:l})]})]})}),n==="restarting"&&a.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("svg",{className:"h-5 w-5 animate-spin text-indigo-400",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a.jsx("span",{className:"text-sm text-gray-400",children:"Restarting application..."})]})}),a.jsxs("div",{className:"flex justify-center gap-4",children:[n==="review"&&a.jsxs("button",{onClick:d,className:"flex items-center gap-2 rounded-xl bg-indigo-600 px-8 py-3 text-sm font-medium text-white transition hover:bg-indigo-500",children:[a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})}),"Generate Config & Save"]}),n==="generating"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[a.jsxs("svg",{className:"h-5 w-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Generating configuration..."]}),n==="generated"&&Xn&&a.jsxs("button",{onClick:f,className:"flex items-center gap-2 rounded-xl bg-emerald-600 px-8 py-3 text-sm font-medium text-white transition hover:bg-emerald-500",children:[a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.183"})}),"Restart Application"]}),n==="error"&&a.jsx("button",{onClick:()=>r("review"),className:"flex items-center gap-2 rounded-xl bg-gray-700 px-8 py-3 text-sm font-medium text-white transition hover:bg-gray-600",children:"Try Again"})]})]})}function ji({label:e,value:t}){return a.jsxs("div",{className:"flex items-center justify-between py-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:e}),a.jsx("span",{className:"text-xs font-medium text-gray-300",children:t})]})}const Zce=[W6,$ce,Wce,Xce];function Qce(){const e=Ve(XO),t=Rt(uw),n=Rt(Iu),r=Mn(),i=Ve(ZO),o=Ve(eo),l=Ve(Nl),[u,d]=E.useState(!i),[f,p]=E.useState(i);if(E.useEffect(()=>{if(i)return;let b=!1;return pw().then(y=>{if(!b){if(y===!0){t(!0),r("/",{replace:!0});return}d(!1)}}),()=>{b=!0}},[r,t,i]),E.useEffect(()=>{if(!i)return;let b=!1;return(async()=>{try{if(Xn){const{invoke:y}=await ci(async()=>{const{invoke:j}=await import("./core-DhEqZVGG.js");return{invoke:j}},[]),_=await y("read_config");if(b)return;const w=_.oidcProvider||"custom",S=Object.keys(pu).includes(w)?w:"custom";n(j=>{var N;return{...j,infraMode:_.infraMode==="external"?"external":"docker",neo4jUri:_.neo4jUri||j.neo4jUri,neo4jUser:_.neo4jUser||j.neo4jUser,neo4jPassword:_.neo4jPassword||"",meilisearchUrl:_.meilisearchUrl||j.meilisearchUrl,meilisearchKey:_.meilisearchKey||"",natsUrl:_.natsUrl||j.natsUrl,natsEnabled:_.natsEnabled??j.natsEnabled,serverPort:_.serverPort||j.serverPort,serveFrontend:_.serveFrontend??j.serveFrontend,publicUrl:_.publicUrl||"",authMode:["none","password","oidc"].includes(_.authMode)?_.authMode:j.authMode,rootEmail:_.rootEmail||"",rootPassword:"",oidcProvider:S,oidcTenant:"",oidcDiscoveryUrl:_.oidcDiscoveryUrl||"",oidcClientId:_.oidcClientId||"",oidcClientSecret:"",oidcProviderName:_.oidcProviderName||((N=pu[S])==null?void 0:N.label)||"",oidcScopes:_.oidcScopes||j.oidcScopes,oidcAuthEndpoint:_.oidcAuthEndpoint||"",oidcTokenEndpoint:_.oidcTokenEndpoint||"",oidcUserinfoEndpoint:_.oidcUserinfoEndpoint||"",allowedEmailDomain:_.allowedEmailDomain||"",allowedEmails:_.allowedEmails||"",chatModel:_.chatModel||j.chatModel,chatMaxSessions:_.chatMaxSessions||j.chatMaxSessions,hasOidcSecret:_.hasOidcSecret||!1,hasNeo4jPassword:_.hasNeo4jPassword||!1,hasMeilisearchKey:_.hasMeilisearchKey||!1}})}}catch(y){console.warn("Failed to read existing config:",y)}finally{b||p(!1)}})(),()=>{b=!0}},[i,n]),i&&!u&&!f&&!(Xn||o==="none"||(l==null?void 0:l.is_root)===!0))return r("/",{replace:!0}),null;if(u||f)return a.jsx("div",{className:"flex min-h-0 flex-1 items-center justify-center",style:{backgroundColor:"var(--surface-base)"},children:a.jsx(xr,{size:"lg"})});const m=Zce[e]||W6,g=e===3;return a.jsx(Oce,{hideNav:g,freeNavigation:i,showClose:i,children:a.jsx(m,{})})}function Jce(){return y$(),a.jsx(hu,{})}function eue(){E.useEffect(()=>{if(!Xn)return;let e;return(async()=>{try{const{enableModernWindowStyle:t,cleanupRoundedCorners:n}=await ci(async()=>{const{enableModernWindowStyle:r,cleanupRoundedCorners:i}=await import("./index-BX8NxulX.js");return{enableModernWindowStyle:r,cleanupRoundedCorners:i}},__vite__mapDeps([3,1,0,2]));await t({cornerRadius:10}),e=n}catch{}})(),()=>e==null?void 0:e()},[])}function tue(){return eue(),a.jsx(h8,{children:a.jsx(D9,{children:a.jsx("div",{className:"tauri-window flex h-dvh flex-col overflow-hidden",children:a.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[a.jsx(gX,{}),a.jsx(xX,{}),a.jsx(c9,{children:a.jsxs(En,{element:a.jsx(Jce,{}),children:[a.jsx(En,{path:"/login",element:a.jsx(vX,{})}),a.jsx(En,{path:"/auth/callback",element:a.jsx(_X,{})}),a.jsx(En,{path:"/setup",element:a.jsx(Qce,{})}),a.jsx(En,{element:a.jsx(hX,{}),children:a.jsx(En,{element:a.jsx(fX,{}),children:a.jsxs(En,{path:"/",element:a.jsx(eX,{}),children:[a.jsx(En,{index:!0,element:a.jsx(_O,{to:"/workspaces",replace:!0})}),a.jsx(En,{path:"workspaces",element:a.jsx(BX,{})}),a.jsx(En,{path:"workspaces/:slug",element:a.jsx(UX,{})}),a.jsx(En,{path:"milestones",element:a.jsx(jQ,{})}),a.jsx(En,{path:"milestones/:milestoneId",element:a.jsx(OQ,{})}),a.jsx(En,{path:"project-milestones/:milestoneId",element:a.jsx(DQ,{})}),a.jsx(En,{path:"projects",element:a.jsx(LQ,{})}),a.jsx(En,{path:"projects/:slug",element:a.jsx(zQ,{})}),a.jsx(En,{path:"plans",element:a.jsx(BQ,{})}),a.jsx(En,{path:"plans/:planId",element:a.jsx(mce,{})}),a.jsx(En,{path:"tasks",element:a.jsx(wce,{})}),a.jsx(En,{path:"tasks/:taskId",element:a.jsx(Ece,{})}),a.jsx(En,{path:"notes",element:a.jsx(Ace,{})}),a.jsx(En,{path:"code",element:a.jsx(Rce,{})})]})})})]})})]})})})})}window.__TAURI_INTERNALS__&&document.documentElement.classList.add("tauri");lB.createRoot(document.getElementById("root")).render(a.jsx(E.StrictMode,{children:a.jsx(tue,{})}));
