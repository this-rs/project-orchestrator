const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/window-DgZLKhRJ.js","assets/core-DhEqZVGG.js","assets/event-DjZVAIBO.js","assets/index-Z9hZp5N5.js"])))=>i.map(i=>d[i]);
var vz=Object.defineProperty;var wz=(e,t,n)=>t in e?vz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cn=(e,t,n)=>wz(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function El(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zg={exports:{}},Fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function _z(){if(_E)return Fc;_E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:e,type:r,key:l,ref:s!==void 0?s:null,props:o}}return Fc.Fragment=t,Fc.jsx=n,Fc.jsxs=n,Fc}var NE;function Nz(){return NE||(NE=1,zg.exports=_z()),zg.exports}var a=Nz(),Bg={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function Sz(){if(SE)return We;SE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function N(q,P,O){this.props=q,this.context=P,this.refs=_,this.updater=O||y}N.prototype.isReactComponent={},N.prototype.setState=function(q,P){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,P,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function j(){}j.prototype=N.prototype;function k(q,P,O){this.props=q,this.context=P,this.refs=_,this.updater=O||y}var C=k.prototype=new j;C.constructor=k,v(C,N.prototype),C.isPureReactComponent=!0;var A=Array.isArray;function T(){}var M={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function $(q,P,O){var H=O.ref;return{$$typeof:e,type:q,key:P,ref:H!==void 0?H:null,props:O}}function D(q,P){return $(q.type,P,q.props)}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function F(q){var P={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(O){return P[O]})}var K=/\/+/g;function B(q,P){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):P.toString(36)}function G(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(T,T):(q.status="pending",q.then(function(P){q.status==="pending"&&(q.status="fulfilled",q.value=P)},function(P){q.status==="pending"&&(q.status="rejected",q.reason=P)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function U(q,P,O,H,Z){var Q=typeof q;(Q==="undefined"||Q==="boolean")&&(q=null);var ie=!1;if(q===null)ie=!0;else switch(Q){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(q.$$typeof){case e:case t:ie=!0;break;case p:return ie=q._init,U(ie(q._payload),P,O,H,Z)}}if(ie)return Z=Z(q),ie=H===""?"."+B(q,0):H,A(Z)?(O="",ie!=null&&(O=ie.replace(K,"$&/")+"/"),U(Z,P,O,"",function(ue){return ue})):Z!=null&&(I(Z)&&(Z=D(Z,O+(Z.key==null||q&&q.key===Z.key?"":(""+Z.key).replace(K,"$&/")+"/")+ie)),P.push(Z)),1;ie=0;var ee=H===""?".":H+":";if(A(q))for(var re=0;re<q.length;re++)H=q[re],Q=ee+B(H,re),ie+=U(H,P,O,Q,Z);else if(re=b(q),typeof re=="function")for(q=re.call(q),re=0;!(H=q.next()).done;)H=H.value,Q=ee+B(H,re++),ie+=U(H,P,O,Q,Z);else if(Q==="object"){if(typeof q.then=="function")return U(G(q),P,O,H,Z);throw P=String(q),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ie}function Y(q,P,O){if(q==null)return q;var H=[],Z=0;return U(q,H,"","",function(Q){return P.call(O,Q,Z++)}),H}function W(q){if(q._status===-1){var P=q._result;P=P(),P.then(function(O){(q._status===0||q._status===-1)&&(q._status=1,q._result=O)},function(O){(q._status===0||q._status===-1)&&(q._status=2,q._result=O)}),q._status===-1&&(q._status=0,q._result=P)}if(q._status===1)return q._result.default;throw q._result}var X=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},L={map:Y,forEach:function(q,P,O){Y(q,function(){P.apply(this,arguments)},O)},count:function(q){var P=0;return Y(q,function(){P++}),P},toArray:function(q){return Y(q,function(P){return P})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return We.Activity=m,We.Children=L,We.Component=N,We.Fragment=n,We.Profiler=s,We.PureComponent=k,We.StrictMode=r,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,We.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},We.cache=function(q){return function(){return q.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(q,P,O){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var H=v({},q.props),Z=q.key;if(P!=null)for(Q in P.key!==void 0&&(Z=""+P.key),P)!z.call(P,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&P.ref===void 0||(H[Q]=P[Q]);var Q=arguments.length-2;if(Q===1)H.children=O;else if(1<Q){for(var ie=Array(Q),ee=0;ee<Q;ee++)ie[ee]=arguments[ee+2];H.children=ie}return $(q.type,Z,H)},We.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},We.createElement=function(q,P,O){var H,Z={},Q=null;if(P!=null)for(H in P.key!==void 0&&(Q=""+P.key),P)z.call(P,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Z[H]=P[H]);var ie=arguments.length-2;if(ie===1)Z.children=O;else if(1<ie){for(var ee=Array(ie),re=0;re<ie;re++)ee[re]=arguments[re+2];Z.children=ee}if(q&&q.defaultProps)for(H in ie=q.defaultProps,ie)Z[H]===void 0&&(Z[H]=ie[H]);return $(q,Q,Z)},We.createRef=function(){return{current:null}},We.forwardRef=function(q){return{$$typeof:u,render:q}},We.isValidElement=I,We.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:W}},We.memo=function(q,P){return{$$typeof:f,type:q,compare:P===void 0?null:P}},We.startTransition=function(q){var P=M.T,O={};M.T=O;try{var H=q(),Z=M.S;Z!==null&&Z(O,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(T,X)}catch(Q){X(Q)}finally{P!==null&&O.types!==null&&(P.types=O.types),M.T=P}},We.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},We.use=function(q){return M.H.use(q)},We.useActionState=function(q,P,O){return M.H.useActionState(q,P,O)},We.useCallback=function(q,P){return M.H.useCallback(q,P)},We.useContext=function(q){return M.H.useContext(q)},We.useDebugValue=function(){},We.useDeferredValue=function(q,P){return M.H.useDeferredValue(q,P)},We.useEffect=function(q,P){return M.H.useEffect(q,P)},We.useEffectEvent=function(q){return M.H.useEffectEvent(q)},We.useId=function(){return M.H.useId()},We.useImperativeHandle=function(q,P,O){return M.H.useImperativeHandle(q,P,O)},We.useInsertionEffect=function(q,P){return M.H.useInsertionEffect(q,P)},We.useLayoutEffect=function(q,P){return M.H.useLayoutEffect(q,P)},We.useMemo=function(q,P){return M.H.useMemo(q,P)},We.useOptimistic=function(q,P){return M.H.useOptimistic(q,P)},We.useReducer=function(q,P,O){return M.H.useReducer(q,P,O)},We.useRef=function(q){return M.H.useRef(q)},We.useState=function(q){return M.H.useState(q)},We.useSyncExternalStore=function(q,P,O){return M.H.useSyncExternalStore(q,P,O)},We.useTransition=function(){return M.H.useTransition()},We.version="19.2.4",We}var kE;function Pu(){return kE||(kE=1,Bg.exports=Sz()),Bg.exports}var S=Pu();const fn=El(S);var $g={exports:{}},Hc={},Ug={exports:{}},qg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function kz(){return EE||(EE=1,(function(e){function t(U,Y){var W=U.length;U.push(Y);e:for(;0<W;){var X=W-1>>>1,L=U[X];if(0<s(L,Y))U[X]=Y,U[W]=L,W=X;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],W=U.pop();if(W!==Y){U[0]=W;e:for(var X=0,L=U.length,q=L>>>1;X<q;){var P=2*(X+1)-1,O=U[P],H=P+1,Z=U[H];if(0>s(O,W))H<L&&0>s(Z,O)?(U[X]=Z,U[H]=W,X=H):(U[X]=O,U[P]=W,X=P);else if(H<L&&0>s(Z,W))U[X]=Z,U[H]=W,X=H;else break e}}return Y}function s(U,Y){var W=U.sortIndex-Y.sortIndex;return W!==0?W:U.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,g=3,b=!1,y=!1,v=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function C(U){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=U)r(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(f)}}function A(U){if(v=!1,C(U),!y)if(n(d)!==null)y=!0,T||(T=!0,F());else{var Y=n(f);Y!==null&&G(A,Y.startTime-U)}}var T=!1,M=-1,z=5,$=-1;function D(){return _?!0:!(e.unstable_now()-$<z)}function I(){if(_=!1,T){var U=e.unstable_now();$=U;var Y=!0;try{e:{y=!1,v&&(v=!1,j(M),M=-1),b=!0;var W=g;try{t:{for(C(U),m=n(d);m!==null&&!(m.expirationTime>U&&D());){var X=m.callback;if(typeof X=="function"){m.callback=null,g=m.priorityLevel;var L=X(m.expirationTime<=U);if(U=e.unstable_now(),typeof L=="function"){m.callback=L,C(U),Y=!0;break t}m===n(d)&&r(d),C(U)}else r(d);m=n(d)}if(m!==null)Y=!0;else{var q=n(f);q!==null&&G(A,q.startTime-U),Y=!1}}break e}finally{m=null,g=W,b=!1}Y=void 0}}finally{Y?F():T=!1}}}var F;if(typeof k=="function")F=function(){k(I)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,B=K.port2;K.port1.onmessage=I,F=function(){B.postMessage(null)}}else F=function(){N(I,0)};function G(U,Y){M=N(function(){U(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var W=g;g=Y;try{return U()}finally{g=W}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=g;g=U;try{return Y()}finally{g=W}},e.unstable_scheduleCallback=function(U,Y,W){var X=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,U){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,U={id:p++,callback:Y,priorityLevel:U,startTime:W,expirationTime:L,sortIndex:-1},W>X?(U.sortIndex=W,t(f,U),n(d)===null&&U===n(f)&&(v?(j(M),M=-1):v=!0,G(A,W-X))):(U.sortIndex=L,t(d,U),y||b||(y=!0,T||(T=!0,F()))),U},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(U){var Y=g;return function(){var W=g;g=Y;try{return U.apply(this,arguments)}finally{g=W}}}})(qg)),qg}var jE;function Ez(){return jE||(jE=1,Ug.exports=kz()),Ug.exports}var Fg={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function jz(){if(CE)return ur;CE=1;var e=Pu();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},ur.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},ur.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},ur.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ur.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ur.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},ur.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ur.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},ur.requestFormReset=function(d){r.d.r(d)},ur.unstable_batchedUpdates=function(d,f){return d(f)},ur.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},ur.useFormStatus=function(){return l.H.useHostTransitionStatus()},ur.version="19.2.4",ur}var TE;function N3(){if(TE)return Fg.exports;TE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fg.exports=jz(),Fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function Cz(){if(AE)return Hc;AE=1;var e=Ez(),t=Pu(),n=N3();function r(i){var c="https://react.dev/errors/"+i;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var c=i,h=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(h=c.return),i=c.return;while(i)}return c.tag===3?h:null}function l(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function u(i){if(i.tag===31){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var c=i.alternate;if(!c){if(c=o(i),c===null)throw Error(r(188));return c!==i?null:i}for(var h=i,x=c;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(x=w.return,x!==null){h=x;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return d(w),i;if(E===x)return d(w),c;E=E.sibling}throw Error(r(188))}if(h.return!==x.return)h=w,x=E;else{for(var R=!1,V=w.child;V;){if(V===h){R=!0,h=w,x=E;break}if(V===x){R=!0,x=w,h=E;break}V=V.sibling}if(!R){for(V=E.child;V;){if(V===h){R=!0,h=E,x=w;break}if(V===x){R=!0,x=E,h=w;break}V=V.sibling}if(!R)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?i:c}function p(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i;for(i=i.child;i!==null;){if(c=p(i),c!==null)return c;i=i.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var K=Symbol.for("react.client.reference");function B(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===K?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case v:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case k:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case C:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return c=i.displayName||null,c!==null?c:B(i.type)||"Memo";case z:c=i._payload,i=i._init;try{return B(i(c))}catch{}}return null}var G=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},X=[],L=-1;function q(i){return{current:i}}function P(i){0>L||(i.current=X[L],X[L]=null,L--)}function O(i,c){L++,X[L]=i.current,i.current=c}var H=q(null),Z=q(null),Q=q(null),ie=q(null);function ee(i,c){switch(O(Q,c),O(Z,i),O(H,null),c.nodeType){case 9:case 11:i=(i=c.documentElement)&&(i=i.namespaceURI)?Gk(i):0;break;default:if(i=c.tagName,c=c.namespaceURI)c=Gk(c),i=Vk(c,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}P(H),O(H,i)}function re(){P(H),P(Z),P(Q)}function ue(i){i.memoizedState!==null&&O(ie,i);var c=H.current,h=Vk(c,i.type);c!==h&&(O(Z,i),O(H,h))}function ge(i){Z.current===i&&(P(H),P(Z)),ie.current===i&&(P(ie),Bc._currentValue=W)}var J,ae;function pe(i){if(J===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);J=c&&c[1]||"",ae=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+i+ae}var ve=!1;function xe(i,c){if(!i||ve)return"";ve=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(fe){var de=fe}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(fe){de=fe}i.call(_e.prototype)}}else{try{throw Error()}catch(fe){de=fe}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(fe){if(fe&&de&&typeof fe.stack=="string")return[fe.stack,de.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=x.DetermineComponentFrameRoot(),R=E[0],V=E[1];if(R&&V){var ne=R.split(`
`),ce=V.split(`
`);for(w=x=0;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;for(;w<ce.length&&!ce[w].includes("DetermineComponentFrameRoot");)w++;if(x===ne.length||w===ce.length)for(x=ne.length-1,w=ce.length-1;1<=x&&0<=w&&ne[x]!==ce[w];)w--;for(;1<=x&&0<=w;x--,w--)if(ne[x]!==ce[w]){if(x!==1||w!==1)do if(x--,w--,0>w||ne[x]!==ce[w]){var be=`
`+ne[x].replace(" at new "," at ");return i.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",i.displayName)),be}while(1<=x&&0<=w);break}}}finally{ve=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?pe(h):""}function Se(i,c){switch(i.tag){case 26:case 27:case 5:return pe(i.type);case 16:return pe("Lazy");case 13:return i.child!==c&&c!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return xe(i.type,!1);case 11:return xe(i.type.render,!1);case 1:return xe(i.type,!0);case 31:return pe("Activity");default:return""}}function ze(i){try{var c="",h=null;do c+=Se(i,h),h=i,i=i.return;while(i);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var tt=Object.prototype.hasOwnProperty,Ht=e.unstable_scheduleCallback,xn=e.unstable_cancelCallback,sn=e.unstable_shouldYield,Pt=e.unstable_requestPaint,pt=e.unstable_now,Yn=e.unstable_getCurrentPriorityLevel,he=e.unstable_ImmediatePriority,Ne=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,He=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,Gt=e.log,Gn=e.unstable_setDisableYieldValue,zt=null,gt=null;function Sn(i){if(typeof Gt=="function"&&Gn(i),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(zt,i)}catch{}}var xt=Math.clz32?Math.clz32:qi,Sr=Math.log,Ln=Math.LN2;function qi(i){return i>>>=0,i===0?32:31-(Sr(i)/Ln|0)|0}var ws=256,qs=262144,tn=4194304;function Bt(i){var c=i&42;if(c!==0)return c;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function te(i,c,h){var x=i.pendingLanes;if(x===0)return 0;var w=0,E=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var V=x&134217727;return V!==0?(x=V&~E,x!==0?w=Bt(x):(R&=V,R!==0?w=Bt(R):h||(h=V&~i,h!==0&&(w=Bt(h))))):(V=x&~E,V!==0?w=Bt(V):R!==0?w=Bt(R):h||(h=x&~i,h!==0&&(w=Bt(h)))),w===0?0:c!==0&&c!==w&&(c&E)===0&&(E=w&-w,h=c&-c,E>=h||E===32&&(h&4194048)!==0)?c:w}function me(i,c){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&c)===0}function Ee(i,c){switch(i){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var i=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),i}function rt(i){for(var c=[],h=0;31>h;h++)c.push(i);return c}function ct(i,c){i.pendingLanes|=c,c!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Te(i,c,h,x,w,E){var R=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var V=i.entanglements,ne=i.expirationTimes,ce=i.hiddenUpdates;for(h=R&~h;0<h;){var be=31-xt(h),_e=1<<be;V[be]=0,ne[be]=-1;var de=ce[be];if(de!==null)for(ce[be]=null,be=0;be<de.length;be++){var fe=de[be];fe!==null&&(fe.lane&=-536870913)}h&=~_e}x!==0&&Ae(i,x,0),E!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=E&~(R&~c))}function Ae(i,c,h){i.pendingLanes|=c,i.suspendedLanes&=~c;var x=31-xt(c);i.entangledLanes|=c,i.entanglements[x]=i.entanglements[x]|1073741824|h&261930}function Le(i,c){var h=i.entangledLanes|=c;for(i=i.entanglements;h;){var x=31-xt(h),w=1<<x;w&c|i[x]&c&&(i[x]|=c),h&=~w}}function Nt(i,c){var h=c&-c;return h=(h&42)!==0?1:kt(h),(h&(i.suspendedLanes|c))!==0?0:h}function kt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function er(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function tr(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:mE(i.type))}function kr(i,c){var h=Y.p;try{return Y.p=i,c()}finally{Y.p=h}}var or=Math.random().toString(36).slice(2),bn="__reactFiber$"+or,Xn="__reactProps$"+or,_s="__reactContainer$"+or,Fi="__reactEvents$"+or,Ma="__reactListeners$"+or,Hi="__reactHandles$"+or,_o="__reactResources$"+or,si="__reactMarker$"+or;function Ra(i){delete i[bn],delete i[Xn],delete i[Fi],delete i[Ma],delete i[Hi]}function nr(i){var c=i[bn];if(c)return c;for(var h=i.parentNode;h;){if(c=h[_s]||h[bn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(i=Jk(i);i!==null;){if(h=i[bn])return h;i=Jk(i)}return c}i=h,h=i.parentNode}return null}function Ns(i){if(i=i[bn]||i[_s]){var c=i.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return i}return null}function Ss(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i.stateNode;throw Error(r(33))}function Fs(i){var c=i[_o];return c||(c=i[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function kn(i){i[si]=!0}var No=new Set,ii={};function ks(i,c){ke(i,c),ke(i+"Capture",c)}function ke(i,c){for(ii[i]=c,i=0;i<c.length;i++)No.add(c[i])}var Be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qe={},Mt={};function yn(i){return tt.call(Mt,i)?!0:tt.call(Qe,i)?!1:Be.test(i)?Mt[i]=!0:(Qe[i]=!0,!1)}function Zn(i,c,h){if(yn(c))if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(c);return}}i.setAttribute(c,""+h)}}function gr(i,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttribute(c,""+h)}}function lr(i,c,h,x){if(x===null)i.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(c,h,""+x)}}function Vt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xr(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function So(i,c,h){var x=Object.getOwnPropertyDescriptor(i.constructor.prototype,c);if(!i.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var w=x.get,E=x.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return w.call(this)},set:function(R){h=""+R,E.call(this,R)}}),Object.defineProperty(i,c,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function Es(i){if(!i._valueTracker){var c=xr(i)?"checked":"value";i._valueTracker=So(i,c,""+i[c])}}function Oa(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return i&&(x=xr(i)?i.checked?"true":"false":i.value),i=x,i!==h?(c.setValue(i),!0):!1}function ai(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Jl=/[\n"\\]/g;function cr(i){return i.replace(Jl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function oi(i,c,h,x,w,E,R,V){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),c!=null?R==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+Vt(c)):i.value!==""+Vt(c)&&(i.value=""+Vt(c)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),c!=null?Gi(i,R,Vt(c)):h!=null?Gi(i,R,Vt(h)):x!=null&&i.removeAttribute("value"),w==null&&E!=null&&(i.defaultChecked=!!E),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.name=""+Vt(V):i.removeAttribute("name")}function li(i,c,h,x,w,E,R,V){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.type=E),c!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){Es(i);return}h=h!=null?""+Vt(h):"",c=c!=null?""+Vt(c):h,V||c===i.value||(i.value=c),i.defaultValue=c}x=x??w,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=V?i.checked:!!x,i.defaultChecked=!!x,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),Es(i)}function Gi(i,c,h){c==="number"&&ai(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function In(i,c,h,x){if(i=i.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<i.length;h++)w=c.hasOwnProperty("$"+i[h].value),i[h].selected!==w&&(i[h].selected=w),w&&x&&(i[h].defaultSelected=!0)}else{for(h=""+Vt(h),c=null,w=0;w<i.length;w++){if(i[w].value===h){i[w].selected=!0,x&&(i[w].defaultSelected=!0);return}c!==null||i[w].disabled||(c=i[w])}c!==null&&(c.selected=!0)}}function fd(i,c,h){if(c!=null&&(c=""+Vt(c),c!==i.value&&(i.value=c),h==null)){i.defaultValue!==c&&(i.defaultValue=c);return}i.defaultValue=h!=null?""+Vt(h):""}function ko(i,c,h,x){if(c==null){if(x!=null){if(h!=null)throw Error(r(92));if(G(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),c=h}h=Vt(c),i.defaultValue=h,x=i.textContent,x===h&&x!==""&&x!==null&&(i.value=x),Es(i)}function Ge(i,c){if(c){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=c;return}}i.textContent=c}var hd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pn(i,c,h){var x=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="":x?i.setProperty(c,h):typeof h!="number"||h===0||hd.has(c)?c==="float"?i.cssFloat=h:i[c]=(""+h).trim():i[c]=h+"px"}function Ut(i,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(i=i.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var w in c)x=c[w],c.hasOwnProperty(w)&&h[w]!==x&&Pn(i,w,x)}else for(var E in c)c.hasOwnProperty(E)&&Pn(i,E,c[E])}function Vi(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ci=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ec=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(i){return ec.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ce(){}var Ie=null;function Ke(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ut=null,vn=null;function ss(i){var c=Ns(i);if(c&&(i=c.stateNode)){var h=i[Xn]||null;e:switch(i=c.stateNode,c.type){case"input":if(oi(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+cr(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==i&&x.form===i.form){var w=x[Xn]||null;if(!w)throw Error(r(90));oi(x,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)x=h[c],x.form===i.form&&Oa(x)}break e;case"textarea":fd(i,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&In(i,!!h.multiple,c,!1)}}}var tc=!1;function pd(i,c,h){if(tc)return i(c,h);tc=!0;try{var x=i(c);return x}finally{if(tc=!1,(ut!==null||vn!==null)&&(tf(),ut&&(c=ut,i=vn,vn=ut=null,ss(c),i)))for(c=0;c<i.length;c++)ss(i[c])}}function nc(i,c){var h=i.stateNode;if(h===null)return null;var x=h[Xn]||null;if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=!1;if(ui)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){zp=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{zp=!1}var Ki=null,Bp=null,md=null;function VN(){if(md)return md;var i,c=Bp,h=c.length,x,w="value"in Ki?Ki.value:Ki.textContent,E=w.length;for(i=0;i<h&&c[i]===w[i];i++);var R=h-i;for(x=1;x<=R&&c[h-x]===w[E-x];x++);return md=w.slice(i,1<x?1-x:void 0)}function gd(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function xd(){return!0}function WN(){return!1}function Er(i){function c(h,x,w,E,R){this._reactName=h,this._targetInst=w,this.type=x,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(h=i[V],this[V]=h?h(E):E[V]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?xd:WN,this.isPropagationStopped=WN,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=xd)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=xd)},persist:function(){},isPersistent:xd}),c}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bd=Er(Da),sc=m({},Da,{view:0,detail:0}),b9=Er(sc),$p,Up,ic,yd=m({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ic&&(ic&&i.type==="mousemove"?($p=i.screenX-ic.screenX,Up=i.screenY-ic.screenY):Up=$p=0,ic=i),$p)},movementY:function(i){return"movementY"in i?i.movementY:Up}}),KN=Er(yd),y9=m({},yd,{dataTransfer:0}),v9=Er(y9),w9=m({},sc,{relatedTarget:0}),qp=Er(w9),_9=m({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),N9=Er(_9),S9=m({},Da,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),k9=Er(S9),E9=m({},Da,{data:0}),YN=Er(E9),j9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A9(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=T9[i])?!!c[i]:!1}function Fp(){return A9}var M9=m({},sc,{key:function(i){if(i.key){var c=j9[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=gd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?C9[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fp,charCode:function(i){return i.type==="keypress"?gd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),R9=Er(M9),O9=m({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XN=Er(O9),D9=m({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fp}),L9=Er(D9),I9=m({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),P9=Er(I9),z9=m({},yd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),B9=Er(z9),$9=m({},Da,{newState:0,oldState:0}),U9=Er($9),q9=[9,13,27,32],Hp=ui&&"CompositionEvent"in window,ac=null;ui&&"documentMode"in document&&(ac=document.documentMode);var F9=ui&&"TextEvent"in window&&!ac,ZN=ui&&(!Hp||ac&&8<ac&&11>=ac),QN=" ",JN=!1;function e2(i,c){switch(i){case"keyup":return q9.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Eo=!1;function H9(i,c){switch(i){case"compositionend":return t2(c);case"keypress":return c.which!==32?null:(JN=!0,QN);case"textInput":return i=c.data,i===QN&&JN?null:i;default:return null}}function G9(i,c){if(Eo)return i==="compositionend"||!Hp&&e2(i,c)?(i=VN(),md=Bp=Ki=null,Eo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ZN&&c.locale!=="ko"?null:c.data;default:return null}}var V9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n2(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!V9[i.type]:c==="textarea"}function r2(i,c,h,x){ut?vn?vn.push(x):vn=[x]:ut=x,c=cf(c,"onChange"),0<c.length&&(h=new bd("onChange","change",null,h,x),i.push({event:h,listeners:c}))}var oc=null,lc=null;function W9(i){Bk(i,0)}function vd(i){var c=Ss(i);if(Oa(c))return i}function s2(i,c){if(i==="change")return c}var i2=!1;if(ui){var Gp;if(ui){var Vp="oninput"in document;if(!Vp){var a2=document.createElement("div");a2.setAttribute("oninput","return;"),Vp=typeof a2.oninput=="function"}Gp=Vp}else Gp=!1;i2=Gp&&(!document.documentMode||9<document.documentMode)}function o2(){oc&&(oc.detachEvent("onpropertychange",l2),lc=oc=null)}function l2(i){if(i.propertyName==="value"&&vd(lc)){var c=[];r2(c,lc,i,Ke(i)),pd(W9,c)}}function K9(i,c,h){i==="focusin"?(o2(),oc=c,lc=h,oc.attachEvent("onpropertychange",l2)):i==="focusout"&&o2()}function Y9(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vd(lc)}function X9(i,c){if(i==="click")return vd(c)}function Z9(i,c){if(i==="input"||i==="change")return vd(c)}function Q9(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var Br=typeof Object.is=="function"?Object.is:Q9;function cc(i,c){if(Br(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var h=Object.keys(i),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var w=h[x];if(!tt.call(c,w)||!Br(i[w],c[w]))return!1}return!0}function c2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function u2(i,c){var h=c2(i);i=0;for(var x;h;){if(h.nodeType===3){if(x=i+h.textContent.length,i<=c&&x>=c)return{node:h,offset:c-i};i=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=c2(h)}}function d2(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?d2(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function f2(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var c=ai(i.document);c instanceof i.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)i=c.contentWindow;else break;c=ai(i.document)}return c}function Wp(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}var J9=ui&&"documentMode"in document&&11>=document.documentMode,jo=null,Kp=null,uc=null,Yp=!1;function h2(i,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Yp||jo==null||jo!==ai(x)||(x=jo,"selectionStart"in x&&Wp(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),uc&&cc(uc,x)||(uc=x,x=cf(Kp,"onSelect"),0<x.length&&(c=new bd("onSelect","select",null,c,h),i.push({event:c,listeners:x}),c.target=jo)))}function La(i,c){var h={};return h[i.toLowerCase()]=c.toLowerCase(),h["Webkit"+i]="webkit"+c,h["Moz"+i]="moz"+c,h}var Co={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Xp={},p2={};ui&&(p2=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Ia(i){if(Xp[i])return Xp[i];if(!Co[i])return i;var c=Co[i],h;for(h in c)if(c.hasOwnProperty(h)&&h in p2)return Xp[i]=c[h];return i}var m2=Ia("animationend"),g2=Ia("animationiteration"),x2=Ia("animationstart"),eP=Ia("transitionrun"),tP=Ia("transitionstart"),nP=Ia("transitioncancel"),b2=Ia("transitionend"),y2=new Map,Zp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zp.push("scrollEnd");function js(i,c){y2.set(i,c),ks(c,[i])}var wd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},is=[],To=0,Qp=0;function _d(){for(var i=To,c=Qp=To=0;c<i;){var h=is[c];is[c++]=null;var x=is[c];is[c++]=null;var w=is[c];is[c++]=null;var E=is[c];if(is[c++]=null,x!==null&&w!==null){var R=x.pending;R===null?w.next=w:(w.next=R.next,R.next=w),x.pending=w}E!==0&&v2(h,w,E)}}function Nd(i,c,h,x){is[To++]=i,is[To++]=c,is[To++]=h,is[To++]=x,Qp|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function Jp(i,c,h,x){return Nd(i,c,h,x),Sd(i)}function Pa(i,c){return Nd(i,null,null,c),Sd(i)}function v2(i,c,h){i.lanes|=h;var x=i.alternate;x!==null&&(x.lanes|=h);for(var w=!1,E=i.return;E!==null;)E.childLanes|=h,x=E.alternate,x!==null&&(x.childLanes|=h),E.tag===22&&(i=E.stateNode,i===null||i._visibility&1||(w=!0)),i=E,E=E.return;return i.tag===3?(E=i.stateNode,w&&c!==null&&(w=31-xt(h),i=E.hiddenUpdates,x=i[w],x===null?i[w]=[c]:x.push(c),c.lane=h|536870912),E):null}function Sd(i){if(50<Rc)throw Rc=0,lg=null,Error(r(185));for(var c=i.return;c!==null;)i=c,c=i.return;return i.tag===3?i.stateNode:null}var Ao={};function rP(i,c,h,x){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(i,c,h,x){return new rP(i,c,h,x)}function em(i){return i=i.prototype,!(!i||!i.isReactComponent)}function di(i,c){var h=i.alternate;return h===null?(h=$r(i.tag,c,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=c,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&65011712,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,c=i.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function w2(i,c){i.flags&=65011714;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=c,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,c=h.dependencies,i.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),i}function kd(i,c,h,x,w,E){var R=0;if(x=i,typeof i=="function")em(i)&&(R=1);else if(typeof i=="string")R=lz(i,h,H.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=$r(31,h,c,w),i.elementType=$,i.lanes=E,i;case v:return za(h.children,w,E,c);case _:R=8,w|=24;break;case N:return i=$r(12,h,c,w|2),i.elementType=N,i.lanes=E,i;case A:return i=$r(13,h,c,w),i.elementType=A,i.lanes=E,i;case T:return i=$r(19,h,c,w),i.elementType=T,i.lanes=E,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:R=10;break e;case j:R=9;break e;case C:R=11;break e;case M:R=14;break e;case z:R=16,x=null;break e}R=29,h=Error(r(130,i===null?"null":typeof i,"")),x=null}return c=$r(R,h,c,w),c.elementType=i,c.type=x,c.lanes=E,c}function za(i,c,h,x){return i=$r(7,i,x,c),i.lanes=h,i}function tm(i,c,h){return i=$r(6,i,null,c),i.lanes=h,i}function _2(i){var c=$r(18,null,null,0);return c.stateNode=i,c}function nm(i,c,h){return c=$r(4,i.children!==null?i.children:[],i.key,c),c.lanes=h,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}var N2=new WeakMap;function as(i,c){if(typeof i=="object"&&i!==null){var h=N2.get(i);return h!==void 0?h:(c={value:i,source:c,stack:ze(c)},N2.set(i,c),c)}return{value:i,source:c,stack:ze(c)}}var Mo=[],Ro=0,Ed=null,dc=0,os=[],ls=0,Yi=null,Hs=1,Gs="";function fi(i,c){Mo[Ro++]=dc,Mo[Ro++]=Ed,Ed=i,dc=c}function S2(i,c,h){os[ls++]=Hs,os[ls++]=Gs,os[ls++]=Yi,Yi=i;var x=Hs;i=Gs;var w=32-xt(x)-1;x&=~(1<<w),h+=1;var E=32-xt(c)+w;if(30<E){var R=w-w%5;E=(x&(1<<R)-1).toString(32),x>>=R,w-=R,Hs=1<<32-xt(c)+w|h<<w|x,Gs=E+i}else Hs=1<<E|h<<w|x,Gs=i}function rm(i){i.return!==null&&(fi(i,1),S2(i,1,0))}function sm(i){for(;i===Ed;)Ed=Mo[--Ro],Mo[Ro]=null,dc=Mo[--Ro],Mo[Ro]=null;for(;i===Yi;)Yi=os[--ls],os[ls]=null,Gs=os[--ls],os[ls]=null,Hs=os[--ls],os[ls]=null}function k2(i,c){os[ls++]=Hs,os[ls++]=Gs,os[ls++]=Yi,Hs=c.id,Gs=c.overflow,Yi=i}var rr=null,an=null,mt=!1,Xi=null,cs=!1,im=Error(r(519));function Zi(i){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fc(as(c,i)),im}function E2(i){var c=i.stateNode,h=i.type,x=i.memoizedProps;switch(c[bn]=i,c[Xn]=x,h){case"dialog":ot("cancel",c),ot("close",c);break;case"iframe":case"object":case"embed":ot("load",c);break;case"video":case"audio":for(h=0;h<Dc.length;h++)ot(Dc[h],c);break;case"source":ot("error",c);break;case"img":case"image":case"link":ot("error",c),ot("load",c);break;case"details":ot("toggle",c);break;case"input":ot("invalid",c),li(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":ot("invalid",c);break;case"textarea":ot("invalid",c),ko(c,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||x.suppressHydrationWarning===!0||Fk(c.textContent,h)?(x.popover!=null&&(ot("beforetoggle",c),ot("toggle",c)),x.onScroll!=null&&ot("scroll",c),x.onScrollEnd!=null&&ot("scrollend",c),x.onClick!=null&&(c.onclick=Ce),c=!0):c=!1,c||Zi(i,!0)}function j2(i){for(rr=i.return;rr;)switch(rr.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:rr=rr.return}}function Oo(i){if(i!==rr)return!1;if(!mt)return j2(i),mt=!0,!1;var c=i.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||Ng(i.type,i.memoizedProps)),h=!h),h&&an&&Zi(i),j2(i),c===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));an=Qk(i)}else if(c===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));an=Qk(i)}else c===27?(c=an,da(i.type)?(i=Cg,Cg=null,an=i):an=c):an=rr?ds(i.stateNode.nextSibling):null;return!0}function Ba(){an=rr=null,mt=!1}function am(){var i=Xi;return i!==null&&(Ar===null?Ar=i:Ar.push.apply(Ar,i),Xi=null),i}function fc(i){Xi===null?Xi=[i]:Xi.push(i)}var om=q(null),$a=null,hi=null;function Qi(i,c,h){O(om,c._currentValue),c._currentValue=h}function pi(i){i._currentValue=om.current,P(om)}function lm(i,c,h){for(;i!==null;){var x=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),i===h)break;i=i.return}}function cm(i,c,h,x){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var E=w.dependencies;if(E!==null){var R=w.child;E=E.firstContext;e:for(;E!==null;){var V=E;E=w;for(var ne=0;ne<c.length;ne++)if(V.context===c[ne]){E.lanes|=h,V=E.alternate,V!==null&&(V.lanes|=h),lm(E.return,h,i),x||(R=null);break e}E=V.next}}else if(w.tag===18){if(R=w.return,R===null)throw Error(r(341));R.lanes|=h,E=R.alternate,E!==null&&(E.lanes|=h),lm(R,h,i),R=null}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===i){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}}function Do(i,c,h,x){i=null;for(var w=c,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var R=w.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var V=w.type;Br(w.pendingProps.value,R.value)||(i!==null?i.push(V):i=[V])}}else if(w===ie.current){if(R=w.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(Bc):i=[Bc])}w=w.return}i!==null&&cm(c,i,h,x),c.flags|=262144}function jd(i){for(i=i.firstContext;i!==null;){if(!Br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ua(i){$a=i,hi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sr(i){return C2($a,i)}function Cd(i,c){return $a===null&&Ua(i),C2(i,c)}function C2(i,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},hi===null){if(i===null)throw Error(r(308));hi=c,i.dependencies={lanes:0,firstContext:c},i.flags|=524288}else hi=hi.next=c;return h}var sP=typeof AbortController<"u"?AbortController:function(){var i=[],c=this.signal={aborted:!1,addEventListener:function(h,x){i.push(x)}};this.abort=function(){c.aborted=!0,i.forEach(function(h){return h()})}},iP=e.unstable_scheduleCallback,aP=e.unstable_NormalPriority,zn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new sP,data:new Map,refCount:0}}function hc(i){i.refCount--,i.refCount===0&&iP(aP,function(){i.controller.abort()})}var pc=null,dm=0,Lo=0,Io=null;function oP(i,c){if(pc===null){var h=pc=[];dm=0,Lo=pg(),Io={status:"pending",value:void 0,then:function(x){h.push(x)}}}return dm++,c.then(T2,T2),c}function T2(){if(--dm===0&&pc!==null){Io!==null&&(Io.status="fulfilled");var i=pc;pc=null,Lo=0,Io=null;for(var c=0;c<i.length;c++)(0,i[c])()}}function lP(i,c){var h=[],x={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return i.then(function(){x.status="fulfilled",x.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(x.status="rejected",x.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),x}var A2=U.S;U.S=function(i,c){hk=pt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&oP(i,c),A2!==null&&A2(i,c)};var qa=q(null);function fm(){var i=qa.current;return i!==null?i:Qt.pooledCache}function Td(i,c){c===null?O(qa,qa.current):O(qa,c.pool)}function M2(){var i=fm();return i===null?null:{parent:zn._currentValue,pool:i}}var Po=Error(r(460)),hm=Error(r(474)),Ad=Error(r(542)),Md={then:function(){}};function R2(i){return i=i.status,i==="fulfilled"||i==="rejected"}function O2(i,c,h){switch(h=i[h],h===void 0?i.push(c):h!==c&&(c.then(Ce,Ce),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,L2(i),i;default:if(typeof c.status=="string")c.then(Ce,Ce);else{if(i=Qt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=c,i.status="pending",i.then(function(x){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=x}},function(x){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,L2(i),i}throw Ha=c,Po}}function Fa(i){try{var c=i._init;return c(i._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Ha=h,Po):h}}var Ha=null;function D2(){if(Ha===null)throw Error(r(459));var i=Ha;return Ha=null,i}function L2(i){if(i===Po||i===Ad)throw Error(r(483))}var zo=null,mc=0;function Rd(i){var c=mc;return mc+=1,zo===null&&(zo=[]),O2(zo,i,c)}function gc(i,c){c=c.props.ref,i.ref=c!==void 0?c:null}function Od(i,c){throw c.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(c),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i)))}function I2(i){function c(oe,se){if(i){var le=oe.deletions;le===null?(oe.deletions=[se],oe.flags|=16):le.push(se)}}function h(oe,se){if(!i)return null;for(;se!==null;)c(oe,se),se=se.sibling;return null}function x(oe){for(var se=new Map;oe!==null;)oe.key!==null?se.set(oe.key,oe):se.set(oe.index,oe),oe=oe.sibling;return se}function w(oe,se){return oe=di(oe,se),oe.index=0,oe.sibling=null,oe}function E(oe,se,le){return oe.index=le,i?(le=oe.alternate,le!==null?(le=le.index,le<se?(oe.flags|=67108866,se):le):(oe.flags|=67108866,se)):(oe.flags|=1048576,se)}function R(oe){return i&&oe.alternate===null&&(oe.flags|=67108866),oe}function V(oe,se,le,we){return se===null||se.tag!==6?(se=tm(le,oe.mode,we),se.return=oe,se):(se=w(se,le),se.return=oe,se)}function ne(oe,se,le,we){var Ue=le.type;return Ue===v?be(oe,se,le.props.children,we,le.key):se!==null&&(se.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===z&&Fa(Ue)===se.type)?(se=w(se,le.props),gc(se,le),se.return=oe,se):(se=kd(le.type,le.key,le.props,null,oe.mode,we),gc(se,le),se.return=oe,se)}function ce(oe,se,le,we){return se===null||se.tag!==4||se.stateNode.containerInfo!==le.containerInfo||se.stateNode.implementation!==le.implementation?(se=nm(le,oe.mode,we),se.return=oe,se):(se=w(se,le.children||[]),se.return=oe,se)}function be(oe,se,le,we,Ue){return se===null||se.tag!==7?(se=za(le,oe.mode,we,Ue),se.return=oe,se):(se=w(se,le),se.return=oe,se)}function _e(oe,se,le){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=tm(""+se,oe.mode,le),se.return=oe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return le=kd(se.type,se.key,se.props,null,oe.mode,le),gc(le,se),le.return=oe,le;case y:return se=nm(se,oe.mode,le),se.return=oe,se;case z:return se=Fa(se),_e(oe,se,le)}if(G(se)||F(se))return se=za(se,oe.mode,le,null),se.return=oe,se;if(typeof se.then=="function")return _e(oe,Rd(se),le);if(se.$$typeof===k)return _e(oe,Cd(oe,se),le);Od(oe,se)}return null}function de(oe,se,le,we){var Ue=se!==null?se.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ue!==null?null:V(oe,se,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return le.key===Ue?ne(oe,se,le,we):null;case y:return le.key===Ue?ce(oe,se,le,we):null;case z:return le=Fa(le),de(oe,se,le,we)}if(G(le)||F(le))return Ue!==null?null:be(oe,se,le,we,null);if(typeof le.then=="function")return de(oe,se,Rd(le),we);if(le.$$typeof===k)return de(oe,se,Cd(oe,le),we);Od(oe,le)}return null}function fe(oe,se,le,we,Ue){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return oe=oe.get(le)||null,V(se,oe,""+we,Ue);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return oe=oe.get(we.key===null?le:we.key)||null,ne(se,oe,we,Ue);case y:return oe=oe.get(we.key===null?le:we.key)||null,ce(se,oe,we,Ue);case z:return we=Fa(we),fe(oe,se,le,we,Ue)}if(G(we)||F(we))return oe=oe.get(le)||null,be(se,oe,we,Ue,null);if(typeof we.then=="function")return fe(oe,se,le,Rd(we),Ue);if(we.$$typeof===k)return fe(oe,se,le,Cd(se,we),Ue);Od(se,we)}return null}function Oe(oe,se,le,we){for(var Ue=null,Et=null,Pe=se,Je=se=0,ft=null;Pe!==null&&Je<le.length;Je++){Pe.index>Je?(ft=Pe,Pe=null):ft=Pe.sibling;var jt=de(oe,Pe,le[Je],we);if(jt===null){Pe===null&&(Pe=ft);break}i&&Pe&&jt.alternate===null&&c(oe,Pe),se=E(jt,se,Je),Et===null?Ue=jt:Et.sibling=jt,Et=jt,Pe=ft}if(Je===le.length)return h(oe,Pe),mt&&fi(oe,Je),Ue;if(Pe===null){for(;Je<le.length;Je++)Pe=_e(oe,le[Je],we),Pe!==null&&(se=E(Pe,se,Je),Et===null?Ue=Pe:Et.sibling=Pe,Et=Pe);return mt&&fi(oe,Je),Ue}for(Pe=x(Pe);Je<le.length;Je++)ft=fe(Pe,oe,Je,le[Je],we),ft!==null&&(i&&ft.alternate!==null&&Pe.delete(ft.key===null?Je:ft.key),se=E(ft,se,Je),Et===null?Ue=ft:Et.sibling=ft,Et=ft);return i&&Pe.forEach(function(ga){return c(oe,ga)}),mt&&fi(oe,Je),Ue}function Fe(oe,se,le,we){if(le==null)throw Error(r(151));for(var Ue=null,Et=null,Pe=se,Je=se=0,ft=null,jt=le.next();Pe!==null&&!jt.done;Je++,jt=le.next()){Pe.index>Je?(ft=Pe,Pe=null):ft=Pe.sibling;var ga=de(oe,Pe,jt.value,we);if(ga===null){Pe===null&&(Pe=ft);break}i&&Pe&&ga.alternate===null&&c(oe,Pe),se=E(ga,se,Je),Et===null?Ue=ga:Et.sibling=ga,Et=ga,Pe=ft}if(jt.done)return h(oe,Pe),mt&&fi(oe,Je),Ue;if(Pe===null){for(;!jt.done;Je++,jt=le.next())jt=_e(oe,jt.value,we),jt!==null&&(se=E(jt,se,Je),Et===null?Ue=jt:Et.sibling=jt,Et=jt);return mt&&fi(oe,Je),Ue}for(Pe=x(Pe);!jt.done;Je++,jt=le.next())jt=fe(Pe,oe,Je,jt.value,we),jt!==null&&(i&&jt.alternate!==null&&Pe.delete(jt.key===null?Je:jt.key),se=E(jt,se,Je),Et===null?Ue=jt:Et.sibling=jt,Et=jt);return i&&Pe.forEach(function(yz){return c(oe,yz)}),mt&&fi(oe,Je),Ue}function Yt(oe,se,le,we){if(typeof le=="object"&&le!==null&&le.type===v&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case b:e:{for(var Ue=le.key;se!==null;){if(se.key===Ue){if(Ue=le.type,Ue===v){if(se.tag===7){h(oe,se.sibling),we=w(se,le.props.children),we.return=oe,oe=we;break e}}else if(se.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===z&&Fa(Ue)===se.type){h(oe,se.sibling),we=w(se,le.props),gc(we,le),we.return=oe,oe=we;break e}h(oe,se);break}else c(oe,se);se=se.sibling}le.type===v?(we=za(le.props.children,oe.mode,we,le.key),we.return=oe,oe=we):(we=kd(le.type,le.key,le.props,null,oe.mode,we),gc(we,le),we.return=oe,oe=we)}return R(oe);case y:e:{for(Ue=le.key;se!==null;){if(se.key===Ue)if(se.tag===4&&se.stateNode.containerInfo===le.containerInfo&&se.stateNode.implementation===le.implementation){h(oe,se.sibling),we=w(se,le.children||[]),we.return=oe,oe=we;break e}else{h(oe,se);break}else c(oe,se);se=se.sibling}we=nm(le,oe.mode,we),we.return=oe,oe=we}return R(oe);case z:return le=Fa(le),Yt(oe,se,le,we)}if(G(le))return Oe(oe,se,le,we);if(F(le)){if(Ue=F(le),typeof Ue!="function")throw Error(r(150));return le=Ue.call(le),Fe(oe,se,le,we)}if(typeof le.then=="function")return Yt(oe,se,Rd(le),we);if(le.$$typeof===k)return Yt(oe,se,Cd(oe,le),we);Od(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,se!==null&&se.tag===6?(h(oe,se.sibling),we=w(se,le),we.return=oe,oe=we):(h(oe,se),we=tm(le,oe.mode,we),we.return=oe,oe=we),R(oe)):h(oe,se)}return function(oe,se,le,we){try{mc=0;var Ue=Yt(oe,se,le,we);return zo=null,Ue}catch(Pe){if(Pe===Po||Pe===Ad)throw Pe;var Et=$r(29,Pe,null,oe.mode);return Et.lanes=we,Et.return=oe,Et}finally{}}}var Ga=I2(!0),P2=I2(!1),Ji=!1;function pm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ea(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ta(i,c,h){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Rt&2)!==0){var w=x.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),x.pending=c,c=Sd(i),v2(i,null,h),c}return Nd(i,x,c,h),Sd(i)}function xc(i,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var x=c.lanes;x&=i.pendingLanes,h|=x,c.lanes=h,Le(i,h)}}function gm(i,c){var h=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var R={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?w=E=R:E=E.next=R,h=h.next}while(h!==null);E===null?w=E=c:E=E.next=c}else w=E=c;h={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:x.shared,callbacks:x.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=c:i.next=c,h.lastBaseUpdate=c}var xm=!1;function bc(){if(xm){var i=Io;if(i!==null)throw i}}function yc(i,c,h,x){xm=!1;var w=i.updateQueue;Ji=!1;var E=w.firstBaseUpdate,R=w.lastBaseUpdate,V=w.shared.pending;if(V!==null){w.shared.pending=null;var ne=V,ce=ne.next;ne.next=null,R===null?E=ce:R.next=ce,R=ne;var be=i.alternate;be!==null&&(be=be.updateQueue,V=be.lastBaseUpdate,V!==R&&(V===null?be.firstBaseUpdate=ce:V.next=ce,be.lastBaseUpdate=ne))}if(E!==null){var _e=w.baseState;R=0,be=ce=ne=null,V=E;do{var de=V.lane&-536870913,fe=de!==V.lane;if(fe?(dt&de)===de:(x&de)===de){de!==0&&de===Lo&&(xm=!0),be!==null&&(be=be.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Oe=i,Fe=V;de=c;var Yt=h;switch(Fe.tag){case 1:if(Oe=Fe.payload,typeof Oe=="function"){_e=Oe.call(Yt,_e,de);break e}_e=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Fe.payload,de=typeof Oe=="function"?Oe.call(Yt,_e,de):Oe,de==null)break e;_e=m({},_e,de);break e;case 2:Ji=!0}}de=V.callback,de!==null&&(i.flags|=64,fe&&(i.flags|=8192),fe=w.callbacks,fe===null?w.callbacks=[de]:fe.push(de))}else fe={lane:de,tag:V.tag,payload:V.payload,callback:V.callback,next:null},be===null?(ce=be=fe,ne=_e):be=be.next=fe,R|=de;if(V=V.next,V===null){if(V=w.shared.pending,V===null)break;fe=V,V=fe.next,fe.next=null,w.lastBaseUpdate=fe,w.shared.pending=null}}while(!0);be===null&&(ne=_e),w.baseState=ne,w.firstBaseUpdate=ce,w.lastBaseUpdate=be,E===null&&(w.shared.lanes=0),aa|=R,i.lanes=R,i.memoizedState=_e}}function z2(i,c){if(typeof i!="function")throw Error(r(191,i));i.call(c)}function B2(i,c){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)z2(h[i],c)}var Bo=q(null),Dd=q(0);function $2(i,c){i=Ni,O(Dd,i),O(Bo,c),Ni=i|c.baseLanes}function bm(){O(Dd,Ni),O(Bo,Bo.current)}function ym(){Ni=Dd.current,P(Bo),P(Dd)}var Ur=q(null),us=null;function na(i){var c=i.alternate;O(Mn,Mn.current&1),O(Ur,i),us===null&&(c===null||Bo.current!==null||c.memoizedState!==null)&&(us=i)}function vm(i){O(Mn,Mn.current),O(Ur,i),us===null&&(us=i)}function U2(i){i.tag===22?(O(Mn,Mn.current),O(Ur,i),us===null&&(us=i)):ra()}function ra(){O(Mn,Mn.current),O(Ur,Ur.current)}function qr(i){P(Ur),us===i&&(us=null),P(Mn)}var Mn=q(0);function Ld(i){for(var c=i;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Eg(h)||jg(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var mi=0,Ze=null,Wt=null,Bn=null,Id=!1,$o=!1,Va=!1,Pd=0,vc=0,Uo=null,cP=0;function En(){throw Error(r(321))}function wm(i,c){if(c===null)return!1;for(var h=0;h<c.length&&h<i.length;h++)if(!Br(i[h],c[h]))return!1;return!0}function _m(i,c,h,x,w,E){return mi=E,Ze=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,U.H=i===null||i.memoizedState===null?SS:Pm,Va=!1,E=h(x,w),Va=!1,$o&&(E=F2(c,h,x,w)),q2(i),E}function q2(i){U.H=Nc;var c=Wt!==null&&Wt.next!==null;if(mi=0,Bn=Wt=Ze=null,Id=!1,vc=0,Uo=null,c)throw Error(r(300));i===null||$n||(i=i.dependencies,i!==null&&jd(i)&&($n=!0))}function F2(i,c,h,x){Ze=i;var w=0;do{if($o&&(Uo=null),vc=0,$o=!1,25<=w)throw Error(r(301));if(w+=1,Bn=Wt=null,i.updateQueue!=null){var E=i.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}U.H=kS,E=c(h,x)}while($o);return E}function uP(){var i=U.H,c=i.useState()[0];return c=typeof c.then=="function"?wc(c):c,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ze.flags|=1024),c}function Nm(){var i=Pd!==0;return Pd=0,i}function Sm(i,c,h){c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~h}function km(i){if(Id){for(i=i.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}Id=!1}mi=0,Bn=Wt=Ze=null,$o=!1,vc=Pd=0,Uo=null}function br(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Ze.memoizedState=Bn=i:Bn=Bn.next=i,Bn}function Rn(){if(Wt===null){var i=Ze.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var c=Bn===null?Ze.memoizedState:Bn.next;if(c!==null)Bn=c,Wt=i;else{if(i===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Bn===null?Ze.memoizedState=Bn=i:Bn=Bn.next=i}return Bn}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(i){var c=vc;return vc+=1,Uo===null&&(Uo=[]),i=O2(Uo,i,c),c=Ze,(Bn===null?c.memoizedState:Bn.next)===null&&(c=c.alternate,U.H=c===null||c.memoizedState===null?SS:Pm),i}function Bd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wc(i);if(i.$$typeof===k)return sr(i)}throw Error(r(438,String(i)))}function Em(i){var c=null,h=Ze.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var x=Ze.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=zd(),Ze.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(i),x=0;x<i;x++)h[x]=D;return c.index++,h}function gi(i,c){return typeof c=="function"?c(i):c}function $d(i){var c=Rn();return jm(c,Wt,i)}function jm(i,c,h){var x=i.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var w=i.baseQueue,E=x.pending;if(E!==null){if(w!==null){var R=w.next;w.next=E.next,E.next=R}c.baseQueue=w=E,x.pending=null}if(E=i.baseState,w===null)i.memoizedState=E;else{c=w.next;var V=R=null,ne=null,ce=c,be=!1;do{var _e=ce.lane&-536870913;if(_e!==ce.lane?(dt&_e)===_e:(mi&_e)===_e){var de=ce.revertLane;if(de===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),_e===Lo&&(be=!0);else if((mi&de)===de){ce=ce.next,de===Lo&&(be=!0);continue}else _e={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},ne===null?(V=ne=_e,R=E):ne=ne.next=_e,Ze.lanes|=de,aa|=de;_e=ce.action,Va&&h(E,_e),E=ce.hasEagerState?ce.eagerState:h(E,_e)}else de={lane:_e,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},ne===null?(V=ne=de,R=E):ne=ne.next=de,Ze.lanes|=_e,aa|=_e;ce=ce.next}while(ce!==null&&ce!==c);if(ne===null?R=E:ne.next=V,!Br(E,i.memoizedState)&&($n=!0,be&&(h=Io,h!==null)))throw h;i.memoizedState=E,i.baseState=R,i.baseQueue=ne,x.lastRenderedState=E}return w===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function Cm(i){var c=Rn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var x=h.dispatch,w=h.pending,E=c.memoizedState;if(w!==null){h.pending=null;var R=w=w.next;do E=i(E,R.action),R=R.next;while(R!==w);Br(E,c.memoizedState)||($n=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,x]}function H2(i,c,h){var x=Ze,w=Rn(),E=mt;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=c();var R=!Br((Wt||w).memoizedState,h);if(R&&(w.memoizedState=h,$n=!0),w=w.queue,Mm(W2.bind(null,x,w,i),[i]),w.getSnapshot!==c||R||Bn!==null&&Bn.memoizedState.tag&1){if(x.flags|=2048,qo(9,{destroy:void 0},V2.bind(null,x,w,h,c),null),Qt===null)throw Error(r(349));E||(mi&127)!==0||G2(x,c,h)}return h}function G2(i,c,h){i.flags|=16384,i={getSnapshot:c,value:h},c=Ze.updateQueue,c===null?(c=zd(),Ze.updateQueue=c,c.stores=[i]):(h=c.stores,h===null?c.stores=[i]:h.push(i))}function V2(i,c,h,x){c.value=h,c.getSnapshot=x,K2(c)&&Y2(i)}function W2(i,c,h){return h(function(){K2(c)&&Y2(i)})}function K2(i){var c=i.getSnapshot;i=i.value;try{var h=c();return!Br(i,h)}catch{return!0}}function Y2(i){var c=Pa(i,2);c!==null&&Mr(c,i,2)}function Tm(i){var c=br();if(typeof i=="function"){var h=i;if(i=h(),Va){Sn(!0);try{h()}finally{Sn(!1)}}}return c.memoizedState=c.baseState=i,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:i},c}function X2(i,c,h,x){return i.baseState=h,jm(i,Wt,typeof x=="function"?x:gi)}function dP(i,c,h,x,w){if(Fd(i))throw Error(r(485));if(i=c.action,i!==null){var E={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){E.listeners.push(R)}};U.T!==null?h(!0):E.isTransition=!1,x(E),h=c.pending,h===null?(E.next=c.pending=E,Z2(c,E)):(E.next=h.next,c.pending=h.next=E)}}function Z2(i,c){var h=c.action,x=c.payload,w=i.state;if(c.isTransition){var E=U.T,R={};U.T=R;try{var V=h(w,x),ne=U.S;ne!==null&&ne(R,V),Q2(i,c,V)}catch(ce){Am(i,c,ce)}finally{E!==null&&R.types!==null&&(E.types=R.types),U.T=E}}else try{E=h(w,x),Q2(i,c,E)}catch(ce){Am(i,c,ce)}}function Q2(i,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){J2(i,c,x)},function(x){return Am(i,c,x)}):J2(i,c,h)}function J2(i,c,h){c.status="fulfilled",c.value=h,eS(c),i.state=h,c=i.pending,c!==null&&(h=c.next,h===c?i.pending=null:(h=h.next,c.next=h,Z2(i,h)))}function Am(i,c,h){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=h,eS(c),c=c.next;while(c!==x)}i.action=null}function eS(i){i=i.listeners;for(var c=0;c<i.length;c++)(0,i[c])()}function tS(i,c){return c}function nS(i,c){if(mt){var h=Qt.formState;if(h!==null){e:{var x=Ze;if(mt){if(an){t:{for(var w=an,E=cs;w.nodeType!==8;){if(!E){w=null;break t}if(w=ds(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){an=ds(w.nextSibling),x=w.data==="F!";break e}}Zi(x)}x=!1}x&&(c=h[0])}}return h=br(),h.memoizedState=h.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tS,lastRenderedState:c},h.queue=x,h=wS.bind(null,Ze,x),x.dispatch=h,x=Tm(!1),E=Im.bind(null,Ze,!1,x.queue),x=br(),w={state:c,dispatch:null,action:i,pending:null},x.queue=w,h=dP.bind(null,Ze,w,E,h),w.dispatch=h,x.memoizedState=i,[c,h,!1]}function rS(i){var c=Rn();return sS(c,Wt,i)}function sS(i,c,h){if(c=jm(i,c,tS)[0],i=$d(gi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=wc(c)}catch(R){throw R===Po?Ad:R}else x=c;c=Rn();var w=c.queue,E=w.dispatch;return h!==c.memoizedState&&(Ze.flags|=2048,qo(9,{destroy:void 0},fP.bind(null,w,h),null)),[x,E,i]}function fP(i,c){i.action=c}function iS(i){var c=Rn(),h=Wt;if(h!==null)return sS(c,h,i);Rn(),c=c.memoizedState,h=Rn();var x=h.queue.dispatch;return h.memoizedState=i,[c,x,!1]}function qo(i,c,h,x){return i={tag:i,create:h,deps:x,inst:c,next:null},c=Ze.updateQueue,c===null&&(c=zd(),Ze.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=i.next=i:(x=h.next,h.next=i,i.next=x,c.lastEffect=i),i}function aS(){return Rn().memoizedState}function Ud(i,c,h,x){var w=br();Ze.flags|=i,w.memoizedState=qo(1|c,{destroy:void 0},h,x===void 0?null:x)}function qd(i,c,h,x){var w=Rn();x=x===void 0?null:x;var E=w.memoizedState.inst;Wt!==null&&x!==null&&wm(x,Wt.memoizedState.deps)?w.memoizedState=qo(c,E,h,x):(Ze.flags|=i,w.memoizedState=qo(1|c,E,h,x))}function oS(i,c){Ud(8390656,8,i,c)}function Mm(i,c){qd(2048,8,i,c)}function hP(i){Ze.flags|=4;var c=Ze.updateQueue;if(c===null)c=zd(),Ze.updateQueue=c,c.events=[i];else{var h=c.events;h===null?c.events=[i]:h.push(i)}}function lS(i){var c=Rn().memoizedState;return hP({ref:c,nextImpl:i}),function(){if((Rt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function cS(i,c){return qd(4,2,i,c)}function uS(i,c){return qd(4,4,i,c)}function dS(i,c){if(typeof c=="function"){i=i();var h=c(i);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function fS(i,c,h){h=h!=null?h.concat([i]):null,qd(4,4,dS.bind(null,c,i),h)}function Rm(){}function hS(i,c){var h=Rn();c=c===void 0?null:c;var x=h.memoizedState;return c!==null&&wm(c,x[1])?x[0]:(h.memoizedState=[i,c],i)}function pS(i,c){var h=Rn();c=c===void 0?null:c;var x=h.memoizedState;if(c!==null&&wm(c,x[1]))return x[0];if(x=i(),Va){Sn(!0);try{i()}finally{Sn(!1)}}return h.memoizedState=[x,c],x}function Om(i,c,h){return h===void 0||(mi&1073741824)!==0&&(dt&261930)===0?i.memoizedState=c:(i.memoizedState=h,i=mk(),Ze.lanes|=i,aa|=i,h)}function mS(i,c,h,x){return Br(h,c)?h:Bo.current!==null?(i=Om(i,h,x),Br(i,c)||($n=!0),i):(mi&42)===0||(mi&1073741824)!==0&&(dt&261930)===0?($n=!0,i.memoizedState=h):(i=mk(),Ze.lanes|=i,aa|=i,c)}function gS(i,c,h,x,w){var E=Y.p;Y.p=E!==0&&8>E?E:8;var R=U.T,V={};U.T=V,Im(i,!1,c,h);try{var ne=w(),ce=U.S;if(ce!==null&&ce(V,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var be=lP(ne,x);_c(i,c,be,Gr(i))}else _c(i,c,x,Gr(i))}catch(_e){_c(i,c,{then:function(){},status:"rejected",reason:_e},Gr())}finally{Y.p=E,R!==null&&V.types!==null&&(R.types=V.types),U.T=R}}function pP(){}function Dm(i,c,h,x){if(i.tag!==5)throw Error(r(476));var w=xS(i).queue;gS(i,w,c,W,h===null?pP:function(){return bS(i),h(x)})}function xS(i){var c=i.memoizedState;if(c!==null)return c;c={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:W},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:h},next:null},i.memoizedState=c,i=i.alternate,i!==null&&(i.memoizedState=c),c}function bS(i){var c=xS(i);c.next===null&&(c=i.alternate.memoizedState),_c(i,c.next.queue,{},Gr())}function Lm(){return sr(Bc)}function yS(){return Rn().memoizedState}function vS(){return Rn().memoizedState}function mP(i){for(var c=i.return;c!==null;){switch(c.tag){case 24:case 3:var h=Gr();i=ea(h);var x=ta(c,i,h);x!==null&&(Mr(x,c,h),xc(x,c,h)),c={cache:um()},i.payload=c;return}c=c.return}}function gP(i,c,h){var x=Gr();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Fd(i)?_S(c,h):(h=Jp(i,c,h,x),h!==null&&(Mr(h,i,x),NS(h,c,x)))}function wS(i,c,h){var x=Gr();_c(i,c,h,x)}function _c(i,c,h,x){var w={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Fd(i))_S(c,w);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var R=c.lastRenderedState,V=E(R,h);if(w.hasEagerState=!0,w.eagerState=V,Br(V,R))return Nd(i,c,w,0),Qt===null&&_d(),!1}catch{}finally{}if(h=Jp(i,c,w,x),h!==null)return Mr(h,i,x),NS(h,c,x),!0}return!1}function Im(i,c,h,x){if(x={lane:2,revertLane:pg(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Fd(i)){if(c)throw Error(r(479))}else c=Jp(i,h,x,2),c!==null&&Mr(c,i,2)}function Fd(i){var c=i.alternate;return i===Ze||c!==null&&c===Ze}function _S(i,c){$o=Id=!0;var h=i.pending;h===null?c.next=c:(c.next=h.next,h.next=c),i.pending=c}function NS(i,c,h){if((h&4194048)!==0){var x=c.lanes;x&=i.pendingLanes,h|=x,c.lanes=h,Le(i,h)}}var Nc={readContext:sr,use:Bd,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En};Nc.useEffectEvent=En;var SS={readContext:sr,use:Bd,useCallback:function(i,c){return br().memoizedState=[i,c===void 0?null:c],i},useContext:sr,useEffect:oS,useImperativeHandle:function(i,c,h){h=h!=null?h.concat([i]):null,Ud(4194308,4,dS.bind(null,c,i),h)},useLayoutEffect:function(i,c){return Ud(4194308,4,i,c)},useInsertionEffect:function(i,c){Ud(4,2,i,c)},useMemo:function(i,c){var h=br();c=c===void 0?null:c;var x=i();if(Va){Sn(!0);try{i()}finally{Sn(!1)}}return h.memoizedState=[x,c],x},useReducer:function(i,c,h){var x=br();if(h!==void 0){var w=h(c);if(Va){Sn(!0);try{h(c)}finally{Sn(!1)}}}else w=c;return x.memoizedState=x.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},x.queue=i,i=i.dispatch=gP.bind(null,Ze,i),[x.memoizedState,i]},useRef:function(i){var c=br();return i={current:i},c.memoizedState=i},useState:function(i){i=Tm(i);var c=i.queue,h=wS.bind(null,Ze,c);return c.dispatch=h,[i.memoizedState,h]},useDebugValue:Rm,useDeferredValue:function(i,c){var h=br();return Om(h,i,c)},useTransition:function(){var i=Tm(!1);return i=gS.bind(null,Ze,i.queue,!0,!1),br().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,c,h){var x=Ze,w=br();if(mt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Qt===null)throw Error(r(349));(dt&127)!==0||G2(x,c,h)}w.memoizedState=h;var E={value:h,getSnapshot:c};return w.queue=E,oS(W2.bind(null,x,E,i),[i]),x.flags|=2048,qo(9,{destroy:void 0},V2.bind(null,x,E,h,c),null),h},useId:function(){var i=br(),c=Qt.identifierPrefix;if(mt){var h=Gs,x=Hs;h=(x&~(1<<32-xt(x)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Pd++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=cP++,c="_"+c+"r_"+h.toString(32)+"_";return i.memoizedState=c},useHostTransitionStatus:Lm,useFormState:nS,useActionState:nS,useOptimistic:function(i){var c=br();c.memoizedState=c.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Im.bind(null,Ze,!0,h),h.dispatch=c,[i,c]},useMemoCache:Em,useCacheRefresh:function(){return br().memoizedState=mP.bind(null,Ze)},useEffectEvent:function(i){var c=br(),h={impl:i};return c.memoizedState=h,function(){if((Rt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Pm={readContext:sr,use:Bd,useCallback:hS,useContext:sr,useEffect:Mm,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:uS,useMemo:pS,useReducer:$d,useRef:aS,useState:function(){return $d(gi)},useDebugValue:Rm,useDeferredValue:function(i,c){var h=Rn();return mS(h,Wt.memoizedState,i,c)},useTransition:function(){var i=$d(gi)[0],c=Rn().memoizedState;return[typeof i=="boolean"?i:wc(i),c]},useSyncExternalStore:H2,useId:yS,useHostTransitionStatus:Lm,useFormState:rS,useActionState:rS,useOptimistic:function(i,c){var h=Rn();return X2(h,Wt,i,c)},useMemoCache:Em,useCacheRefresh:vS};Pm.useEffectEvent=lS;var kS={readContext:sr,use:Bd,useCallback:hS,useContext:sr,useEffect:Mm,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:uS,useMemo:pS,useReducer:Cm,useRef:aS,useState:function(){return Cm(gi)},useDebugValue:Rm,useDeferredValue:function(i,c){var h=Rn();return Wt===null?Om(h,i,c):mS(h,Wt.memoizedState,i,c)},useTransition:function(){var i=Cm(gi)[0],c=Rn().memoizedState;return[typeof i=="boolean"?i:wc(i),c]},useSyncExternalStore:H2,useId:yS,useHostTransitionStatus:Lm,useFormState:iS,useActionState:iS,useOptimistic:function(i,c){var h=Rn();return Wt!==null?X2(h,Wt,i,c):(h.baseState=i,[i,h.queue.dispatch])},useMemoCache:Em,useCacheRefresh:vS};kS.useEffectEvent=lS;function zm(i,c,h,x){c=i.memoizedState,h=h(x,c),h=h==null?c:m({},c,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var Bm={enqueueSetState:function(i,c,h){i=i._reactInternals;var x=Gr(),w=ea(x);w.payload=c,h!=null&&(w.callback=h),c=ta(i,w,x),c!==null&&(Mr(c,i,x),xc(c,i,x))},enqueueReplaceState:function(i,c,h){i=i._reactInternals;var x=Gr(),w=ea(x);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=ta(i,w,x),c!==null&&(Mr(c,i,x),xc(c,i,x))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var h=Gr(),x=ea(h);x.tag=2,c!=null&&(x.callback=c),c=ta(i,x,h),c!==null&&(Mr(c,i,h),xc(c,i,h))}};function ES(i,c,h,x,w,E,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,E,R):c.prototype&&c.prototype.isPureReactComponent?!cc(h,x)||!cc(w,E):!0}function jS(i,c,h,x){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==i&&Bm.enqueueReplaceState(c,c.state,null)}function Wa(i,c){var h=c;if("ref"in c){h={};for(var x in c)x!=="ref"&&(h[x]=c[x])}if(i=i.defaultProps){h===c&&(h=m({},h));for(var w in i)h[w]===void 0&&(h[w]=i[w])}return h}function CS(i){wd(i)}function TS(i){console.error(i)}function AS(i){wd(i)}function Hd(i,c){try{var h=i.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function MS(i,c,h){try{var x=i.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function $m(i,c,h){return h=ea(h),h.tag=3,h.payload={element:null},h.callback=function(){Hd(i,c)},h}function RS(i){return i=ea(i),i.tag=3,i}function OS(i,c,h,x){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var E=x.value;i.payload=function(){return w(E)},i.callback=function(){MS(c,h,x)}}var R=h.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){MS(c,h,x),typeof w!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var V=x.stack;this.componentDidCatch(x.value,{componentStack:V!==null?V:""})})}function xP(i,c,h,x,w){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=h.alternate,c!==null&&Do(c,h,w,!0),h=Ur.current,h!==null){switch(h.tag){case 31:case 13:return us===null?nf():h.alternate===null&&jn===0&&(jn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,x===Md?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([x]):c.add(x),dg(i,x,w)),!1;case 22:return h.flags|=65536,x===Md?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([x]):h.add(x)),dg(i,x,w)),!1}throw Error(r(435,h.tag))}return dg(i,x,w),nf(),!1}if(mt)return c=Ur.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,x!==im&&(i=Error(r(422),{cause:x}),fc(as(i,h)))):(x!==im&&(c=Error(r(423),{cause:x}),fc(as(c,h))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,x=as(x,h),w=$m(i.stateNode,x,w),gm(i,w),jn!==4&&(jn=2)),!1;var E=Error(r(520),{cause:x});if(E=as(E,h),Mc===null?Mc=[E]:Mc.push(E),jn!==4&&(jn=2),c===null)return!0;x=as(x,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,i=w&-w,h.lanes|=i,i=$m(h.stateNode,x,i),gm(h,i),!1;case 1:if(c=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(oa===null||!oa.has(E))))return h.flags|=65536,w&=-w,h.lanes|=w,w=RS(w),OS(w,i,h,x),gm(h,w),!1}h=h.return}while(h!==null);return!1}var Um=Error(r(461)),$n=!1;function ir(i,c,h,x){c.child=i===null?P2(c,null,h,x):Ga(c,i.child,h,x)}function DS(i,c,h,x,w){h=h.render;var E=c.ref;if("ref"in x){var R={};for(var V in x)V!=="ref"&&(R[V]=x[V])}else R=x;return Ua(c),x=_m(i,c,h,R,E,w),V=Nm(),i!==null&&!$n?(Sm(i,c,w),xi(i,c,w)):(mt&&V&&rm(c),c.flags|=1,ir(i,c,x,w),c.child)}function LS(i,c,h,x,w){if(i===null){var E=h.type;return typeof E=="function"&&!em(E)&&E.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=E,IS(i,c,E,x,w)):(i=kd(h.type,null,x,c,c.mode,w),i.ref=c.ref,i.return=c,c.child=i)}if(E=i.child,!Ym(i,w)){var R=E.memoizedProps;if(h=h.compare,h=h!==null?h:cc,h(R,x)&&i.ref===c.ref)return xi(i,c,w)}return c.flags|=1,i=di(E,x),i.ref=c.ref,i.return=c,c.child=i}function IS(i,c,h,x,w){if(i!==null){var E=i.memoizedProps;if(cc(E,x)&&i.ref===c.ref)if($n=!1,c.pendingProps=x=E,Ym(i,w))(i.flags&131072)!==0&&($n=!0);else return c.lanes=i.lanes,xi(i,c,w)}return qm(i,c,h,x,w)}function PS(i,c,h,x){var w=x.children,E=i!==null?i.memoizedState:null;if(i===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,i!==null){for(x=c.child=i.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;x=w&~E}else x=0,c.child=null;return zS(i,c,E,h,x)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},i!==null&&Td(c,E!==null?E.cachePool:null),E!==null?$2(c,E):bm(),U2(c);else return x=c.lanes=536870912,zS(i,c,E!==null?E.baseLanes|h:h,h,x)}else E!==null?(Td(c,E.cachePool),$2(c,E),ra(),c.memoizedState=null):(i!==null&&Td(c,null),bm(),ra());return ir(i,c,w,h),c.child}function Sc(i,c){return i!==null&&i.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function zS(i,c,h,x,w){var E=fm();return E=E===null?null:{parent:zn._currentValue,pool:E},c.memoizedState={baseLanes:h,cachePool:E},i!==null&&Td(c,null),bm(),U2(c),i!==null&&Do(i,c,x,!0),c.childLanes=w,null}function Gd(i,c){return c=Wd({mode:c.mode,children:c.children},i.mode),c.ref=i.ref,i.child=c,c.return=i,c}function BS(i,c,h){return Ga(c,i.child,null,h),i=Gd(c,c.pendingProps),i.flags|=2,qr(c),c.memoizedState=null,i}function bP(i,c,h){var x=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,i===null){if(mt){if(x.mode==="hidden")return i=Gd(c,x),c.lanes=536870912,Sc(null,i);if(vm(c),(i=an)?(i=Zk(i,cs),i=i!==null&&i.data==="&"?i:null,i!==null&&(c.memoizedState={dehydrated:i,treeContext:Yi!==null?{id:Hs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},h=_2(i),h.return=c,c.child=h,rr=c,an=null)):i=null,i===null)throw Zi(c);return c.lanes=536870912,null}return Gd(c,x)}var E=i.memoizedState;if(E!==null){var R=E.dehydrated;if(vm(c),w)if(c.flags&256)c.flags&=-257,c=BS(i,c,h);else if(c.memoizedState!==null)c.child=i.child,c.flags|=128,c=null;else throw Error(r(558));else if($n||Do(i,c,h,!1),w=(h&i.childLanes)!==0,$n||w){if(x=Qt,x!==null&&(R=Nt(x,h),R!==0&&R!==E.retryLane))throw E.retryLane=R,Pa(i,R),Mr(x,i,R),Um;nf(),c=BS(i,c,h)}else i=E.treeContext,an=ds(R.nextSibling),rr=c,mt=!0,Xi=null,cs=!1,i!==null&&k2(c,i),c=Gd(c,x),c.flags|=4096;return c}return i=di(i.child,{mode:x.mode,children:x.children}),i.ref=c.ref,c.child=i,i.return=c,i}function Vd(i,c){var h=c.ref;if(h===null)i!==null&&i.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(i===null||i.ref!==h)&&(c.flags|=4194816)}}function qm(i,c,h,x,w){return Ua(c),h=_m(i,c,h,x,void 0,w),x=Nm(),i!==null&&!$n?(Sm(i,c,w),xi(i,c,w)):(mt&&x&&rm(c),c.flags|=1,ir(i,c,h,w),c.child)}function $S(i,c,h,x,w,E){return Ua(c),c.updateQueue=null,h=F2(c,x,h,w),q2(i),x=Nm(),i!==null&&!$n?(Sm(i,c,E),xi(i,c,E)):(mt&&x&&rm(c),c.flags|=1,ir(i,c,h,E),c.child)}function US(i,c,h,x,w){if(Ua(c),c.stateNode===null){var E=Ao,R=h.contextType;typeof R=="object"&&R!==null&&(E=sr(R)),E=new h(x,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Bm,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=x,E.state=c.memoizedState,E.refs={},pm(c),R=h.contextType,E.context=typeof R=="object"&&R!==null?sr(R):Ao,E.state=c.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(zm(c,h,R,x),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(R=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),R!==E.state&&Bm.enqueueReplaceState(E,E.state,null),yc(c,x,E,w),bc(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(i===null){E=c.stateNode;var V=c.memoizedProps,ne=Wa(h,V);E.props=ne;var ce=E.context,be=h.contextType;R=Ao,typeof be=="object"&&be!==null&&(R=sr(be));var _e=h.getDerivedStateFromProps;be=typeof _e=="function"||typeof E.getSnapshotBeforeUpdate=="function",V=c.pendingProps!==V,be||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(V||ce!==R)&&jS(c,E,x,R),Ji=!1;var de=c.memoizedState;E.state=de,yc(c,x,E,w),bc(),ce=c.memoizedState,V||de!==ce||Ji?(typeof _e=="function"&&(zm(c,h,_e,x),ce=c.memoizedState),(ne=Ji||ES(c,h,ne,x,de,ce,R))?(be||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ce),E.props=x,E.state=ce,E.context=R,x=ne):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{E=c.stateNode,mm(i,c),R=c.memoizedProps,be=Wa(h,R),E.props=be,_e=c.pendingProps,de=E.context,ce=h.contextType,ne=Ao,typeof ce=="object"&&ce!==null&&(ne=sr(ce)),V=h.getDerivedStateFromProps,(ce=typeof V=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==_e||de!==ne)&&jS(c,E,x,ne),Ji=!1,de=c.memoizedState,E.state=de,yc(c,x,E,w),bc();var fe=c.memoizedState;R!==_e||de!==fe||Ji||i!==null&&i.dependencies!==null&&jd(i.dependencies)?(typeof V=="function"&&(zm(c,h,V,x),fe=c.memoizedState),(be=Ji||ES(c,h,be,x,de,fe,ne)||i!==null&&i.dependencies!==null&&jd(i.dependencies))?(ce||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(x,fe,ne),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(x,fe,ne)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=fe),E.props=x,E.state=fe,E.context=ne,x=be):(typeof E.componentDidUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&de===i.memoizedState||(c.flags|=1024),x=!1)}return E=x,Vd(i,c),x=(c.flags&128)!==0,E||x?(E=c.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,i!==null&&x?(c.child=Ga(c,i.child,null,w),c.child=Ga(c,null,h,w)):ir(i,c,h,w),c.memoizedState=E.state,i=c.child):i=xi(i,c,w),i}function qS(i,c,h,x){return Ba(),c.flags|=256,ir(i,c,h,x),c.child}var Fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(i){return{baseLanes:i,cachePool:M2()}}function Gm(i,c,h){return i=i!==null?i.childLanes&~h:0,c&&(i|=Hr),i}function FS(i,c,h){var x=c.pendingProps,w=!1,E=(c.flags&128)!==0,R;if((R=E)||(R=i!==null&&i.memoizedState===null?!1:(Mn.current&2)!==0),R&&(w=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,i===null){if(mt){if(w?na(c):ra(),(i=an)?(i=Zk(i,cs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(c.memoizedState={dehydrated:i,treeContext:Yi!==null?{id:Hs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},h=_2(i),h.return=c,c.child=h,rr=c,an=null)):i=null,i===null)throw Zi(c);return jg(i)?c.lanes=32:c.lanes=536870912,null}var V=x.children;return x=x.fallback,w?(ra(),w=c.mode,V=Wd({mode:"hidden",children:V},w),x=za(x,w,h,null),V.return=c,x.return=c,V.sibling=x,c.child=V,x=c.child,x.memoizedState=Hm(h),x.childLanes=Gm(i,R,h),c.memoizedState=Fm,Sc(null,x)):(na(c),Vm(c,V))}var ne=i.memoizedState;if(ne!==null&&(V=ne.dehydrated,V!==null)){if(E)c.flags&256?(na(c),c.flags&=-257,c=Wm(i,c,h)):c.memoizedState!==null?(ra(),c.child=i.child,c.flags|=128,c=null):(ra(),V=x.fallback,w=c.mode,x=Wd({mode:"visible",children:x.children},w),V=za(V,w,h,null),V.flags|=2,x.return=c,V.return=c,x.sibling=V,c.child=x,Ga(c,i.child,null,h),x=c.child,x.memoizedState=Hm(h),x.childLanes=Gm(i,R,h),c.memoizedState=Fm,c=Sc(null,x));else if(na(c),jg(V)){if(R=V.nextSibling&&V.nextSibling.dataset,R)var ce=R.dgst;R=ce,x=Error(r(419)),x.stack="",x.digest=R,fc({value:x,source:null,stack:null}),c=Wm(i,c,h)}else if($n||Do(i,c,h,!1),R=(h&i.childLanes)!==0,$n||R){if(R=Qt,R!==null&&(x=Nt(R,h),x!==0&&x!==ne.retryLane))throw ne.retryLane=x,Pa(i,x),Mr(R,i,x),Um;Eg(V)||nf(),c=Wm(i,c,h)}else Eg(V)?(c.flags|=192,c.child=i.child,c=null):(i=ne.treeContext,an=ds(V.nextSibling),rr=c,mt=!0,Xi=null,cs=!1,i!==null&&k2(c,i),c=Vm(c,x.children),c.flags|=4096);return c}return w?(ra(),V=x.fallback,w=c.mode,ne=i.child,ce=ne.sibling,x=di(ne,{mode:"hidden",children:x.children}),x.subtreeFlags=ne.subtreeFlags&65011712,ce!==null?V=di(ce,V):(V=za(V,w,h,null),V.flags|=2),V.return=c,x.return=c,x.sibling=V,c.child=x,Sc(null,x),x=c.child,V=i.child.memoizedState,V===null?V=Hm(h):(w=V.cachePool,w!==null?(ne=zn._currentValue,w=w.parent!==ne?{parent:ne,pool:ne}:w):w=M2(),V={baseLanes:V.baseLanes|h,cachePool:w}),x.memoizedState=V,x.childLanes=Gm(i,R,h),c.memoizedState=Fm,Sc(i.child,x)):(na(c),h=i.child,i=h.sibling,h=di(h,{mode:"visible",children:x.children}),h.return=c,h.sibling=null,i!==null&&(R=c.deletions,R===null?(c.deletions=[i],c.flags|=16):R.push(i)),c.child=h,c.memoizedState=null,h)}function Vm(i,c){return c=Wd({mode:"visible",children:c},i.mode),c.return=i,i.child=c}function Wd(i,c){return i=$r(22,i,null,c),i.lanes=0,i}function Wm(i,c,h){return Ga(c,i.child,null,h),i=Vm(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function HS(i,c,h){i.lanes|=c;var x=i.alternate;x!==null&&(x.lanes|=c),lm(i.return,c,h)}function Km(i,c,h,x,w,E){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:w,treeForkCount:E}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=x,R.tail=h,R.tailMode=w,R.treeForkCount=E)}function GS(i,c,h){var x=c.pendingProps,w=x.revealOrder,E=x.tail;x=x.children;var R=Mn.current,V=(R&2)!==0;if(V?(R=R&1|2,c.flags|=128):R&=1,O(Mn,R),ir(i,c,x,h),x=mt?dc:0,!V&&i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&HS(i,h,c);else if(i.tag===19)HS(i,h,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(h=c.child,w=null;h!==null;)i=h.alternate,i!==null&&Ld(i)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),Km(c,!1,w,h,E,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(i=w.alternate,i!==null&&Ld(i)===null){c.child=w;break}i=w.sibling,w.sibling=h,h=w,w=i}Km(c,!0,h,null,E,x);break;case"together":Km(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function xi(i,c,h){if(i!==null&&(c.dependencies=i.dependencies),aa|=c.lanes,(h&c.childLanes)===0)if(i!==null){if(Do(i,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(i!==null&&c.child!==i.child)throw Error(r(153));if(c.child!==null){for(i=c.child,h=di(i,i.pendingProps),c.child=h,h.return=c;i.sibling!==null;)i=i.sibling,h=h.sibling=di(i,i.pendingProps),h.return=c;h.sibling=null}return c.child}function Ym(i,c){return(i.lanes&c)!==0?!0:(i=i.dependencies,!!(i!==null&&jd(i)))}function yP(i,c,h){switch(c.tag){case 3:ee(c,c.stateNode.containerInfo),Qi(c,zn,i.memoizedState.cache),Ba();break;case 27:case 5:ue(c);break;case 4:ee(c,c.stateNode.containerInfo);break;case 10:Qi(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,vm(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(na(c),c.flags|=128,null):(h&c.child.childLanes)!==0?FS(i,c,h):(na(c),i=xi(i,c,h),i!==null?i.sibling:null);na(c);break;case 19:var w=(i.flags&128)!==0;if(x=(h&c.childLanes)!==0,x||(Do(i,c,h,!1),x=(h&c.childLanes)!==0),w){if(x)return GS(i,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),O(Mn,Mn.current),x)break;return null;case 22:return c.lanes=0,PS(i,c,h,c.pendingProps);case 24:Qi(c,zn,i.memoizedState.cache)}return xi(i,c,h)}function VS(i,c,h){if(i!==null)if(i.memoizedProps!==c.pendingProps)$n=!0;else{if(!Ym(i,h)&&(c.flags&128)===0)return $n=!1,yP(i,c,h);$n=(i.flags&131072)!==0}else $n=!1,mt&&(c.flags&1048576)!==0&&S2(c,dc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(i=Fa(c.elementType),c.type=i,typeof i=="function")em(i)?(x=Wa(i,x),c.tag=1,c=US(null,c,i,x,h)):(c.tag=0,c=qm(null,c,i,x,h));else{if(i!=null){var w=i.$$typeof;if(w===C){c.tag=11,c=DS(null,c,i,x,h);break e}else if(w===M){c.tag=14,c=LS(null,c,i,x,h);break e}}throw c=B(i)||i,Error(r(306,c,""))}}return c;case 0:return qm(i,c,c.type,c.pendingProps,h);case 1:return x=c.type,w=Wa(x,c.pendingProps),US(i,c,x,w,h);case 3:e:{if(ee(c,c.stateNode.containerInfo),i===null)throw Error(r(387));x=c.pendingProps;var E=c.memoizedState;w=E.element,mm(i,c),yc(c,x,null,h);var R=c.memoizedState;if(x=R.cache,Qi(c,zn,x),x!==E.cache&&cm(c,[zn],h,!0),bc(),x=R.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=qS(i,c,x,h);break e}else if(x!==w){w=as(Error(r(424)),c),fc(w),c=qS(i,c,x,h);break e}else{switch(i=c.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(an=ds(i.firstChild),rr=c,mt=!0,Xi=null,cs=!0,h=P2(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ba(),x===w){c=xi(i,c,h);break e}ir(i,c,x,h)}c=c.child}return c;case 26:return Vd(i,c),i===null?(h=rE(c.type,null,c.pendingProps,null))?c.memoizedState=h:mt||(h=c.type,i=c.pendingProps,x=uf(Q.current).createElement(h),x[bn]=c,x[Xn]=i,ar(x,h,i),kn(x),c.stateNode=x):c.memoizedState=rE(c.type,i.memoizedProps,c.pendingProps,i.memoizedState),null;case 27:return ue(c),i===null&&mt&&(x=c.stateNode=eE(c.type,c.pendingProps,Q.current),rr=c,cs=!0,w=an,da(c.type)?(Cg=w,an=ds(x.firstChild)):an=w),ir(i,c,c.pendingProps.children,h),Vd(i,c),i===null&&(c.flags|=4194304),c.child;case 5:return i===null&&mt&&((w=x=an)&&(x=YP(x,c.type,c.pendingProps,cs),x!==null?(c.stateNode=x,rr=c,an=ds(x.firstChild),cs=!1,w=!0):w=!1),w||Zi(c)),ue(c),w=c.type,E=c.pendingProps,R=i!==null?i.memoizedProps:null,x=E.children,Ng(w,E)?x=null:R!==null&&Ng(w,R)&&(c.flags|=32),c.memoizedState!==null&&(w=_m(i,c,uP,null,null,h),Bc._currentValue=w),Vd(i,c),ir(i,c,x,h),c.child;case 6:return i===null&&mt&&((i=h=an)&&(h=XP(h,c.pendingProps,cs),h!==null?(c.stateNode=h,rr=c,an=null,i=!0):i=!1),i||Zi(c)),null;case 13:return FS(i,c,h);case 4:return ee(c,c.stateNode.containerInfo),x=c.pendingProps,i===null?c.child=Ga(c,null,x,h):ir(i,c,x,h),c.child;case 11:return DS(i,c,c.type,c.pendingProps,h);case 7:return ir(i,c,c.pendingProps,h),c.child;case 8:return ir(i,c,c.pendingProps.children,h),c.child;case 12:return ir(i,c,c.pendingProps.children,h),c.child;case 10:return x=c.pendingProps,Qi(c,c.type,x.value),ir(i,c,x.children,h),c.child;case 9:return w=c.type._context,x=c.pendingProps.children,Ua(c),w=sr(w),x=x(w),c.flags|=1,ir(i,c,x,h),c.child;case 14:return LS(i,c,c.type,c.pendingProps,h);case 15:return IS(i,c,c.type,c.pendingProps,h);case 19:return GS(i,c,h);case 31:return bP(i,c,h);case 22:return PS(i,c,h,c.pendingProps);case 24:return Ua(c),x=sr(zn),i===null?(w=fm(),w===null&&(w=Qt,E=um(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=h),w=E),c.memoizedState={parent:x,cache:w},pm(c),Qi(c,zn,w)):((i.lanes&h)!==0&&(mm(i,c),yc(c,null,null,h),bc()),w=i.memoizedState,E=c.memoizedState,w.parent!==x?(w={parent:x,cache:x},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),Qi(c,zn,x)):(x=E.cache,Qi(c,zn,x),x!==w.cache&&cm(c,[zn],h,!0))),ir(i,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function bi(i){i.flags|=4}function Xm(i,c,h,x,w){if((c=(i.mode&32)!==0)&&(c=!1),c){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(yk())i.flags|=8192;else throw Ha=Md,hm}else i.flags&=-16777217}function WS(i,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lE(c))if(yk())i.flags|=8192;else throw Ha=Md,hm}function Kd(i,c){c!==null&&(i.flags|=4),i.flags&16384&&(c=i.tag!==22?De():536870912,i.lanes|=c,Vo|=c)}function kc(i,c){if(!mt)switch(i.tailMode){case"hidden":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function on(i){var c=i.alternate!==null&&i.alternate.child===i.child,h=0,x=0;if(c)for(var w=i.child;w!==null;)h|=w.lanes|w.childLanes,x|=w.subtreeFlags&65011712,x|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)h|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=x,i.childLanes=h,c}function vP(i,c,h){var x=c.pendingProps;switch(sm(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(c),null;case 1:return on(c),null;case 3:return h=c.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),pi(zn),re(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Oo(c)?bi(c):i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,am())),on(c),null;case 26:var w=c.type,E=c.memoizedState;return i===null?(bi(c),E!==null?(on(c),WS(c,E)):(on(c),Xm(c,w,null,x,h))):E?E!==i.memoizedState?(bi(c),on(c),WS(c,E)):(on(c),c.flags&=-16777217):(i=i.memoizedProps,i!==x&&bi(c),on(c),Xm(c,w,i,x,h)),null;case 27:if(ge(c),h=Q.current,w=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==x&&bi(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return on(c),null}i=H.current,Oo(c)?E2(c):(i=eE(w,x,h),c.stateNode=i,bi(c))}return on(c),null;case 5:if(ge(c),w=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==x&&bi(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return on(c),null}if(E=H.current,Oo(c))E2(c);else{var R=uf(Q.current);switch(E){case 1:E=R.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:E=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":E=R.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":E=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":E=R.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof x.is=="string"?R.createElement("select",{is:x.is}):R.createElement("select"),x.multiple?E.multiple=!0:x.size&&(E.size=x.size);break;default:E=typeof x.is=="string"?R.createElement(w,{is:x.is}):R.createElement(w)}}E[bn]=c,E[Xn]=x;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)E.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=E;e:switch(ar(E,w,x),w){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&bi(c)}}return on(c),Xm(c,c.type,i===null?null:i.memoizedProps,c.pendingProps,h),null;case 6:if(i&&c.stateNode!=null)i.memoizedProps!==x&&bi(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(i=Q.current,Oo(c)){if(i=c.stateNode,h=c.memoizedProps,x=null,w=rr,w!==null)switch(w.tag){case 27:case 5:x=w.memoizedProps}i[bn]=c,i=!!(i.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||Fk(i.nodeValue,h)),i||Zi(c,!0)}else i=uf(i).createTextNode(x),i[bn]=c,c.stateNode=i}return on(c),null;case 31:if(h=c.memoizedState,i===null||i.memoizedState!==null){if(x=Oo(c),h!==null){if(i===null){if(!x)throw Error(r(318));if(i=c.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[bn]=c}else Ba(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;on(c),i=!1}else h=am(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),i=!0;if(!i)return c.flags&256?(qr(c),c):(qr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return on(c),null;case 13:if(x=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=Oo(c),x!==null&&x.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[bn]=c}else Ba(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;on(c),w=!1}else w=am(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(qr(c),c):(qr(c),null)}return qr(c),(c.flags&128)!==0?(c.lanes=h,c):(h=x!==null,i=i!==null&&i.memoizedState!==null,h&&(x=c.child,w=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(w=x.alternate.memoizedState.cachePool.pool),E=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(E=x.memoizedState.cachePool.pool),E!==w&&(x.flags|=2048)),h!==i&&h&&(c.child.flags|=8192),Kd(c,c.updateQueue),on(c),null);case 4:return re(),i===null&&bg(c.stateNode.containerInfo),on(c),null;case 10:return pi(c.type),on(c),null;case 19:if(P(Mn),x=c.memoizedState,x===null)return on(c),null;if(w=(c.flags&128)!==0,E=x.rendering,E===null)if(w)kc(x,!1);else{if(jn!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if(E=Ld(i),E!==null){for(c.flags|=128,kc(x,!1),i=E.updateQueue,c.updateQueue=i,Kd(c,i),c.subtreeFlags=0,i=h,h=c.child;h!==null;)w2(h,i),h=h.sibling;return O(Mn,Mn.current&1|2),mt&&fi(c,x.treeForkCount),c.child}i=i.sibling}x.tail!==null&&pt()>Jd&&(c.flags|=128,w=!0,kc(x,!1),c.lanes=4194304)}else{if(!w)if(i=Ld(E),i!==null){if(c.flags|=128,w=!0,i=i.updateQueue,c.updateQueue=i,Kd(c,i),kc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!mt)return on(c),null}else 2*pt()-x.renderingStartTime>Jd&&h!==536870912&&(c.flags|=128,w=!0,kc(x,!1),c.lanes=4194304);x.isBackwards?(E.sibling=c.child,c.child=E):(i=x.last,i!==null?i.sibling=E:c.child=E,x.last=E)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=pt(),i.sibling=null,h=Mn.current,O(Mn,w?h&1|2:h&1),mt&&fi(c,x.treeForkCount),i):(on(c),null);case 22:case 23:return qr(c),ym(),x=c.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(h&536870912)!==0&&(c.flags&128)===0&&(on(c),c.subtreeFlags&6&&(c.flags|=8192)):on(c),h=c.updateQueue,h!==null&&Kd(c,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==h&&(c.flags|=2048),i!==null&&P(qa),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),pi(zn),on(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function wP(i,c){switch(sm(c),c.tag){case 1:return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return pi(zn),re(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 26:case 27:case 5:return ge(c),null;case 31:if(c.memoizedState!==null){if(qr(c),c.alternate===null)throw Error(r(340));Ba()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 13:if(qr(c),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ba()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return P(Mn),null;case 4:return re(),null;case 10:return pi(c.type),null;case 22:case 23:return qr(c),ym(),i!==null&&P(qa),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 24:return pi(zn),null;case 25:return null;default:return null}}function KS(i,c){switch(sm(c),c.tag){case 3:pi(zn),re();break;case 26:case 27:case 5:ge(c);break;case 4:re();break;case 31:c.memoizedState!==null&&qr(c);break;case 13:qr(c);break;case 19:P(Mn);break;case 10:pi(c.type);break;case 22:case 23:qr(c),ym(),i!==null&&P(qa);break;case 24:pi(zn)}}function Ec(i,c){try{var h=c.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var w=x.next;h=w;do{if((h.tag&i)===i){x=void 0;var E=h.create,R=h.inst;x=E(),R.destroy=x}h=h.next}while(h!==w)}}catch(V){Ft(c,c.return,V)}}function sa(i,c,h){try{var x=c.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var E=w.next;x=E;do{if((x.tag&i)===i){var R=x.inst,V=R.destroy;if(V!==void 0){R.destroy=void 0,w=c;var ne=h,ce=V;try{ce()}catch(be){Ft(w,ne,be)}}}x=x.next}while(x!==E)}}catch(be){Ft(c,c.return,be)}}function YS(i){var c=i.updateQueue;if(c!==null){var h=i.stateNode;try{B2(c,h)}catch(x){Ft(i,i.return,x)}}}function XS(i,c,h){h.props=Wa(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(x){Ft(i,c,x)}}function jc(i,c){try{var h=i.ref;if(h!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof h=="function"?i.refCleanup=h(x):h.current=x}}catch(w){Ft(i,c,w)}}function Vs(i,c){var h=i.ref,x=i.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(w){Ft(i,c,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Ft(i,c,w)}else h.current=null}function ZS(i){var c=i.type,h=i.memoizedProps,x=i.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(w){Ft(i,i.return,w)}}function Zm(i,c,h){try{var x=i.stateNode;FP(x,i.type,h,c),x[Xn]=c}catch(w){Ft(i,i.return,w)}}function QS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&da(i.type)||i.tag===4}function Qm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||QS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&da(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jm(i,c,h){var x=i.tag;if(x===5||x===6)i=i.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(i,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(i),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ce));else if(x!==4&&(x===27&&da(i.type)&&(h=i.stateNode,c=null),i=i.child,i!==null))for(Jm(i,c,h),i=i.sibling;i!==null;)Jm(i,c,h),i=i.sibling}function Yd(i,c,h){var x=i.tag;if(x===5||x===6)i=i.stateNode,c?h.insertBefore(i,c):h.appendChild(i);else if(x!==4&&(x===27&&da(i.type)&&(h=i.stateNode),i=i.child,i!==null))for(Yd(i,c,h),i=i.sibling;i!==null;)Yd(i,c,h),i=i.sibling}function JS(i){var c=i.stateNode,h=i.memoizedProps;try{for(var x=i.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);ar(c,x,h),c[bn]=i,c[Xn]=h}catch(E){Ft(i,i.return,E)}}var yi=!1,Un=!1,eg=!1,ek=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function _P(i,c){if(i=i.containerInfo,wg=xf,i=f2(i),Wp(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var w=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var R=0,V=-1,ne=-1,ce=0,be=0,_e=i,de=null;t:for(;;){for(var fe;_e!==h||w!==0&&_e.nodeType!==3||(V=R+w),_e!==E||x!==0&&_e.nodeType!==3||(ne=R+x),_e.nodeType===3&&(R+=_e.nodeValue.length),(fe=_e.firstChild)!==null;)de=_e,_e=fe;for(;;){if(_e===i)break t;if(de===h&&++ce===w&&(V=R),de===E&&++be===x&&(ne=R),(fe=_e.nextSibling)!==null)break;_e=de,de=_e.parentNode}_e=fe}h=V===-1||ne===-1?null:{start:V,end:ne}}else h=null}h=h||{start:0,end:0}}else h=null;for(_g={focusedElem:i,selectionRange:h},xf=!1,Qn=c;Qn!==null;)if(c=Qn,i=c.child,(c.subtreeFlags&1028)!==0&&i!==null)i.return=c,Qn=i;else for(;Qn!==null;){switch(c=Qn,E=c.alternate,i=c.flags,c.tag){case 0:if((i&4)!==0&&(i=c.updateQueue,i=i!==null?i.events:null,i!==null))for(h=0;h<i.length;h++)w=i[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&E!==null){i=void 0,h=c,w=E.memoizedProps,E=E.memoizedState,x=h.stateNode;try{var Oe=Wa(h.type,w);i=x.getSnapshotBeforeUpdate(Oe,E),x.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){Ft(h,h.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=c.stateNode.containerInfo,h=i.nodeType,h===9)kg(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=c.sibling,i!==null){i.return=c.return,Qn=i;break}Qn=c.return}}function tk(i,c,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:wi(i,h),x&4&&Ec(5,h);break;case 1:if(wi(i,h),x&4)if(i=h.stateNode,c===null)try{i.componentDidMount()}catch(R){Ft(h,h.return,R)}else{var w=Wa(h.type,c.memoizedProps);c=c.memoizedState;try{i.componentDidUpdate(w,c,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Ft(h,h.return,R)}}x&64&&YS(h),x&512&&jc(h,h.return);break;case 3:if(wi(i,h),x&64&&(i=h.updateQueue,i!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{B2(i,c)}catch(R){Ft(h,h.return,R)}}break;case 27:c===null&&x&4&&JS(h);case 26:case 5:wi(i,h),c===null&&x&4&&ZS(h),x&512&&jc(h,h.return);break;case 12:wi(i,h);break;case 31:wi(i,h),x&4&&sk(i,h);break;case 13:wi(i,h),x&4&&ik(i,h),x&64&&(i=h.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(h=MP.bind(null,h),ZP(i,h))));break;case 22:if(x=h.memoizedState!==null||yi,!x){c=c!==null&&c.memoizedState!==null||Un,w=yi;var E=Un;yi=x,(Un=c)&&!E?_i(i,h,(h.subtreeFlags&8772)!==0):wi(i,h),yi=w,Un=E}break;case 30:break;default:wi(i,h)}}function nk(i){var c=i.alternate;c!==null&&(i.alternate=null,nk(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&Ra(c)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var cn=null,jr=!1;function vi(i,c,h){for(h=h.child;h!==null;)rk(i,c,h),h=h.sibling}function rk(i,c,h){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(zt,h)}catch{}switch(h.tag){case 26:Un||Vs(h,c),vi(i,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Un||Vs(h,c);var x=cn,w=jr;da(h.type)&&(cn=h.stateNode,jr=!1),vi(i,c,h),Ic(h.stateNode),cn=x,jr=w;break;case 5:Un||Vs(h,c);case 6:if(x=cn,w=jr,cn=null,vi(i,c,h),cn=x,jr=w,cn!==null)if(jr)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(h.stateNode)}catch(E){Ft(h,c,E)}else try{cn.removeChild(h.stateNode)}catch(E){Ft(h,c,E)}break;case 18:cn!==null&&(jr?(i=cn,Yk(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,h.stateNode),el(i)):Yk(cn,h.stateNode));break;case 4:x=cn,w=jr,cn=h.stateNode.containerInfo,jr=!0,vi(i,c,h),cn=x,jr=w;break;case 0:case 11:case 14:case 15:sa(2,h,c),Un||sa(4,h,c),vi(i,c,h);break;case 1:Un||(Vs(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"&&XS(h,c,x)),vi(i,c,h);break;case 21:vi(i,c,h);break;case 22:Un=(x=Un)||h.memoizedState!==null,vi(i,c,h),Un=x;break;default:vi(i,c,h)}}function sk(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{el(i)}catch(h){Ft(c,c.return,h)}}}function ik(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{el(i)}catch(h){Ft(c,c.return,h)}}function NP(i){switch(i.tag){case 31:case 13:case 19:var c=i.stateNode;return c===null&&(c=i.stateNode=new ek),c;case 22:return i=i.stateNode,c=i._retryCache,c===null&&(c=i._retryCache=new ek),c;default:throw Error(r(435,i.tag))}}function Xd(i,c){var h=NP(i);c.forEach(function(x){if(!h.has(x)){h.add(x);var w=RP.bind(null,i,x);x.then(w,w)}})}function Cr(i,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var w=h[x],E=i,R=c,V=R;e:for(;V!==null;){switch(V.tag){case 27:if(da(V.type)){cn=V.stateNode,jr=!1;break e}break;case 5:cn=V.stateNode,jr=!1;break e;case 3:case 4:cn=V.stateNode.containerInfo,jr=!0;break e}V=V.return}if(cn===null)throw Error(r(160));rk(E,R,w),cn=null,jr=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)ak(c,i),c=c.sibling}var Cs=null;function ak(i,c){var h=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cr(c,i),Tr(i),x&4&&(sa(3,i,i.return),Ec(3,i),sa(5,i,i.return));break;case 1:Cr(c,i),Tr(i),x&512&&(Un||h===null||Vs(h,h.return)),x&64&&yi&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var w=Cs;if(Cr(c,i),Tr(i),x&512&&(Un||h===null||Vs(h,h.return)),x&4){var E=h!==null?h.memoizedState:null;if(x=i.memoizedState,h===null)if(x===null)if(i.stateNode===null){e:{x=i.type,h=i.memoizedProps,w=w.ownerDocument||w;t:switch(x){case"title":E=w.getElementsByTagName("title")[0],(!E||E[si]||E[bn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(x),w.head.insertBefore(E,w.querySelector("head > title"))),ar(E,x,h),E[bn]=i,kn(E),x=E;break e;case"link":var R=aE("link","href",w).get(x+(h.href||""));if(R){for(var V=0;V<R.length;V++)if(E=R[V],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){R.splice(V,1);break t}}E=w.createElement(x),ar(E,x,h),w.head.appendChild(E);break;case"meta":if(R=aE("meta","content",w).get(x+(h.content||""))){for(V=0;V<R.length;V++)if(E=R[V],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){R.splice(V,1);break t}}E=w.createElement(x),ar(E,x,h),w.head.appendChild(E);break;default:throw Error(r(468,x))}E[bn]=i,kn(E),x=E}i.stateNode=x}else oE(w,i.type,i.stateNode);else i.stateNode=iE(w,x,i.memoizedProps);else E!==x?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,x===null?oE(w,i.type,i.stateNode):iE(w,x,i.memoizedProps)):x===null&&i.stateNode!==null&&Zm(i,i.memoizedProps,h.memoizedProps)}break;case 27:Cr(c,i),Tr(i),x&512&&(Un||h===null||Vs(h,h.return)),h!==null&&x&4&&Zm(i,i.memoizedProps,h.memoizedProps);break;case 5:if(Cr(c,i),Tr(i),x&512&&(Un||h===null||Vs(h,h.return)),i.flags&32){w=i.stateNode;try{Ge(w,"")}catch(Oe){Ft(i,i.return,Oe)}}x&4&&i.stateNode!=null&&(w=i.memoizedProps,Zm(i,w,h!==null?h.memoizedProps:w)),x&1024&&(eg=!0);break;case 6:if(Cr(c,i),Tr(i),x&4){if(i.stateNode===null)throw Error(r(162));x=i.memoizedProps,h=i.stateNode;try{h.nodeValue=x}catch(Oe){Ft(i,i.return,Oe)}}break;case 3:if(hf=null,w=Cs,Cs=df(c.containerInfo),Cr(c,i),Cs=w,Tr(i),x&4&&h!==null&&h.memoizedState.isDehydrated)try{el(c.containerInfo)}catch(Oe){Ft(i,i.return,Oe)}eg&&(eg=!1,ok(i));break;case 4:x=Cs,Cs=df(i.stateNode.containerInfo),Cr(c,i),Tr(i),Cs=x;break;case 12:Cr(c,i),Tr(i);break;case 31:Cr(c,i),Tr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Xd(i,x)));break;case 13:Cr(c,i),Tr(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Qd=pt()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Xd(i,x)));break;case 22:w=i.memoizedState!==null;var ne=h!==null&&h.memoizedState!==null,ce=yi,be=Un;if(yi=ce||w,Un=be||ne,Cr(c,i),Un=be,yi=ce,Tr(i),x&8192)e:for(c=i.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||ne||yi||Un||Ka(i)),h=null,c=i;;){if(c.tag===5||c.tag===26){if(h===null){ne=h=c;try{if(E=ne.stateNode,w)R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{V=ne.stateNode;var _e=ne.memoizedProps.style,de=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;V.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Oe){Ft(ne,ne.return,Oe)}}}else if(c.tag===6){if(h===null){ne=c;try{ne.stateNode.nodeValue=w?"":ne.memoizedProps}catch(Oe){Ft(ne,ne.return,Oe)}}}else if(c.tag===18){if(h===null){ne=c;try{var fe=ne.stateNode;w?Xk(fe,!0):Xk(ne.stateNode,!1)}catch(Oe){Ft(ne,ne.return,Oe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===i)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break e;for(;c.sibling===null;){if(c.return===null||c.return===i)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=i.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,Xd(i,h))));break;case 19:Cr(c,i),Tr(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,Xd(i,x)));break;case 30:break;case 21:break;default:Cr(c,i),Tr(i)}}function Tr(i){var c=i.flags;if(c&2){try{for(var h,x=i.return;x!==null;){if(QS(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,E=Qm(i);Yd(i,E,w);break;case 5:var R=h.stateNode;h.flags&32&&(Ge(R,""),h.flags&=-33);var V=Qm(i);Yd(i,V,R);break;case 3:case 4:var ne=h.stateNode.containerInfo,ce=Qm(i);Jm(i,ce,ne);break;default:throw Error(r(161))}}catch(be){Ft(i,i.return,be)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function ok(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var c=i;ok(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),i=i.sibling}}function wi(i,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)tk(i,c.alternate,c),c=c.sibling}function Ka(i){for(i=i.child;i!==null;){var c=i;switch(c.tag){case 0:case 11:case 14:case 15:sa(4,c,c.return),Ka(c);break;case 1:Vs(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&XS(c,c.return,h),Ka(c);break;case 27:Ic(c.stateNode);case 26:case 5:Vs(c,c.return),Ka(c);break;case 22:c.memoizedState===null&&Ka(c);break;case 30:Ka(c);break;default:Ka(c)}i=i.sibling}}function _i(i,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,w=i,E=c,R=E.flags;switch(E.tag){case 0:case 11:case 15:_i(w,E,h),Ec(4,E);break;case 1:if(_i(w,E,h),x=E,w=x.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ce){Ft(x,x.return,ce)}if(x=E,w=x.updateQueue,w!==null){var V=x.stateNode;try{var ne=w.shared.hiddenCallbacks;if(ne!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ne.length;w++)z2(ne[w],V)}catch(ce){Ft(x,x.return,ce)}}h&&R&64&&YS(E),jc(E,E.return);break;case 27:JS(E);case 26:case 5:_i(w,E,h),h&&x===null&&R&4&&ZS(E),jc(E,E.return);break;case 12:_i(w,E,h);break;case 31:_i(w,E,h),h&&R&4&&sk(w,E);break;case 13:_i(w,E,h),h&&R&4&&ik(w,E);break;case 22:E.memoizedState===null&&_i(w,E,h),jc(E,E.return);break;case 30:break;default:_i(w,E,h)}c=c.sibling}}function tg(i,c){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(i=c.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&hc(h))}function ng(i,c){i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&hc(i))}function Ts(i,c,h,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)lk(i,c,h,x),c=c.sibling}function lk(i,c,h,x){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Ts(i,c,h,x),w&2048&&Ec(9,c);break;case 1:Ts(i,c,h,x);break;case 3:Ts(i,c,h,x),w&2048&&(i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&hc(i)));break;case 12:if(w&2048){Ts(i,c,h,x),i=c.stateNode;try{var E=c.memoizedProps,R=E.id,V=E.onPostCommit;typeof V=="function"&&V(R,c.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ne){Ft(c,c.return,ne)}}else Ts(i,c,h,x);break;case 31:Ts(i,c,h,x);break;case 13:Ts(i,c,h,x);break;case 23:break;case 22:E=c.stateNode,R=c.alternate,c.memoizedState!==null?E._visibility&2?Ts(i,c,h,x):Cc(i,c):E._visibility&2?Ts(i,c,h,x):(E._visibility|=2,Fo(i,c,h,x,(c.subtreeFlags&10256)!==0||!1)),w&2048&&tg(R,c);break;case 24:Ts(i,c,h,x),w&2048&&ng(c.alternate,c);break;default:Ts(i,c,h,x)}}function Fo(i,c,h,x,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=i,R=c,V=h,ne=x,ce=R.flags;switch(R.tag){case 0:case 11:case 15:Fo(E,R,V,ne,w),Ec(8,R);break;case 23:break;case 22:var be=R.stateNode;R.memoizedState!==null?be._visibility&2?Fo(E,R,V,ne,w):Cc(E,R):(be._visibility|=2,Fo(E,R,V,ne,w)),w&&ce&2048&&tg(R.alternate,R);break;case 24:Fo(E,R,V,ne,w),w&&ce&2048&&ng(R.alternate,R);break;default:Fo(E,R,V,ne,w)}c=c.sibling}}function Cc(i,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=i,x=c,w=x.flags;switch(x.tag){case 22:Cc(h,x),w&2048&&tg(x.alternate,x);break;case 24:Cc(h,x),w&2048&&ng(x.alternate,x);break;default:Cc(h,x)}c=c.sibling}}var Tc=8192;function Ho(i,c,h){if(i.subtreeFlags&Tc)for(i=i.child;i!==null;)ck(i,c,h),i=i.sibling}function ck(i,c,h){switch(i.tag){case 26:Ho(i,c,h),i.flags&Tc&&i.memoizedState!==null&&cz(h,Cs,i.memoizedState,i.memoizedProps);break;case 5:Ho(i,c,h);break;case 3:case 4:var x=Cs;Cs=df(i.stateNode.containerInfo),Ho(i,c,h),Cs=x;break;case 22:i.memoizedState===null&&(x=i.alternate,x!==null&&x.memoizedState!==null?(x=Tc,Tc=16777216,Ho(i,c,h),Tc=x):Ho(i,c,h));break;default:Ho(i,c,h)}}function uk(i){var c=i.alternate;if(c!==null&&(i=c.child,i!==null)){c.child=null;do c=i.sibling,i.sibling=null,i=c;while(i!==null)}}function Ac(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var x=c[h];Qn=x,fk(x,i)}uk(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dk(i),i=i.sibling}function dk(i){switch(i.tag){case 0:case 11:case 15:Ac(i),i.flags&2048&&sa(9,i,i.return);break;case 3:Ac(i);break;case 12:Ac(i);break;case 22:var c=i.stateNode;i.memoizedState!==null&&c._visibility&2&&(i.return===null||i.return.tag!==13)?(c._visibility&=-3,Zd(i)):Ac(i);break;default:Ac(i)}}function Zd(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var x=c[h];Qn=x,fk(x,i)}uk(i)}for(i=i.child;i!==null;){switch(c=i,c.tag){case 0:case 11:case 15:sa(8,c,c.return),Zd(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Zd(c));break;default:Zd(c)}i=i.sibling}}function fk(i,c){for(;Qn!==null;){var h=Qn;switch(h.tag){case 0:case 11:case 15:sa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:hc(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,Qn=x;else e:for(h=i;Qn!==null;){x=Qn;var w=x.sibling,E=x.return;if(nk(x),x===h){Qn=null;break e}if(w!==null){w.return=E,Qn=w;break e}Qn=E}}}var SP={getCacheForType:function(i){var c=sr(zn),h=c.data.get(i);return h===void 0&&(h=i(),c.data.set(i,h)),h},cacheSignal:function(){return sr(zn).controller.signal}},kP=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Qt=null,at=null,dt=0,qt=0,Fr=null,ia=!1,Go=!1,rg=!1,Ni=0,jn=0,aa=0,Ya=0,sg=0,Hr=0,Vo=0,Mc=null,Ar=null,ig=!1,Qd=0,hk=0,Jd=1/0,ef=null,oa=null,Vn=0,la=null,Wo=null,Si=0,ag=0,og=null,pk=null,Rc=0,lg=null;function Gr(){return(Rt&2)!==0&&dt!==0?dt&-dt:U.T!==null?pg():tr()}function mk(){if(Hr===0)if((dt&536870912)===0||mt){var i=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Hr=i}else Hr=536870912;return i=Ur.current,i!==null&&(i.flags|=32),Hr}function Mr(i,c,h){(i===Qt&&(qt===2||qt===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),ca(i,dt,Hr,!1)),ct(i,h),((Rt&2)===0||i!==Qt)&&(i===Qt&&((Rt&2)===0&&(Ya|=h),jn===4&&ca(i,dt,Hr,!1)),Ws(i))}function gk(i,c,h){if((Rt&6)!==0)throw Error(r(327));var x=!h&&(c&127)===0&&(c&i.expiredLanes)===0||me(i,c),w=x?CP(i,c):ug(i,c,!0),E=x;do{if(w===0){Go&&!x&&ca(i,c,0,!1);break}else{if(h=i.current.alternate,E&&!EP(h)){w=ug(i,c,!1),E=!1;continue}if(w===2){if(E=c,i.errorRecoveryDisabledLanes&E)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var V=i;w=Mc;var ne=V.current.memoizedState.isDehydrated;if(ne&&(Ko(V,R).flags|=256),R=ug(V,R,!1),R!==2){if(rg&&!ne){V.errorRecoveryDisabledLanes|=E,Ya|=E,w=4;break e}E=Ar,Ar=w,E!==null&&(Ar===null?Ar=E:Ar.push.apply(Ar,E))}w=R}if(E=!1,w!==2)continue}}if(w===1){Ko(i,0),ca(i,c,0,!0);break}e:{switch(x=i,E=w,E){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ca(x,c,Hr,!ia);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=Qd+300-pt(),10<w)){if(ca(x,c,Hr,!ia),te(x,0,!0)!==0)break e;Si=c,x.timeoutHandle=Wk(xk.bind(null,x,h,Ar,ef,ig,c,Hr,Ya,Vo,ia,E,"Throttled",-0,0),w);break e}xk(x,h,Ar,ef,ig,c,Hr,Ya,Vo,ia,E,null,-0,0)}}break}while(!0);Ws(i)}function xk(i,c,h,x,w,E,R,V,ne,ce,be,_e,de,fe){if(i.timeoutHandle=-1,_e=c.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ce},ck(c,E,_e);var Oe=(E&62914560)===E?Qd-pt():(E&4194048)===E?hk-pt():0;if(Oe=uz(_e,Oe),Oe!==null){Si=E,i.cancelPendingCommit=Oe(kk.bind(null,i,c,E,h,x,w,R,V,ne,be,_e,null,de,fe)),ca(i,E,R,!ce);return}}kk(i,c,E,h,x,w,R,V,ne)}function EP(i){for(var c=i;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var w=h[x],E=w.getSnapshot;w=w.value;try{if(!Br(E(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ca(i,c,h,x){c&=~sg,c&=~Ya,i.suspendedLanes|=c,i.pingedLanes&=~c,x&&(i.warmLanes|=c),x=i.expirationTimes;for(var w=c;0<w;){var E=31-xt(w),R=1<<E;x[E]=-1,w&=~R}h!==0&&Ae(i,h,c)}function tf(){return(Rt&6)===0?(Oc(0),!1):!0}function cg(){if(at!==null){if(qt===0)var i=at.return;else i=at,hi=$a=null,km(i),zo=null,mc=0,i=at;for(;i!==null;)KS(i.alternate,i),i=i.return;at=null}}function Ko(i,c){var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,VP(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),Si=0,cg(),Qt=i,at=h=di(i.current,null),dt=c,qt=0,Fr=null,ia=!1,Go=me(i,c),rg=!1,Vo=Hr=sg=Ya=aa=jn=0,Ar=Mc=null,ig=!1,(c&8)!==0&&(c|=c&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=c;0<x;){var w=31-xt(x),E=1<<w;c|=i[w],x&=~E}return Ni=c,_d(),h}function bk(i,c){Ze=null,U.H=Nc,c===Po||c===Ad?(c=D2(),qt=3):c===hm?(c=D2(),qt=4):qt=c===Um?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Fr=c,at===null&&(jn=1,Hd(i,as(c,i.current)))}function yk(){var i=Ur.current;return i===null?!0:(dt&4194048)===dt?us===null:(dt&62914560)===dt||(dt&536870912)!==0?i===us:!1}function vk(){var i=U.H;return U.H=Nc,i===null?Nc:i}function wk(){var i=U.A;return U.A=SP,i}function nf(){jn=4,ia||(dt&4194048)!==dt&&Ur.current!==null||(Go=!0),(aa&134217727)===0&&(Ya&134217727)===0||Qt===null||ca(Qt,dt,Hr,!1)}function ug(i,c,h){var x=Rt;Rt|=2;var w=vk(),E=wk();(Qt!==i||dt!==c)&&(ef=null,Ko(i,c)),c=!1;var R=jn;e:do try{if(qt!==0&&at!==null){var V=at,ne=Fr;switch(qt){case 8:cg(),R=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(c=!0);var ce=qt;if(qt=0,Fr=null,Yo(i,V,ne,ce),h&&Go){R=0;break e}break;default:ce=qt,qt=0,Fr=null,Yo(i,V,ne,ce)}}jP(),R=jn;break}catch(be){bk(i,be)}while(!0);return c&&i.shellSuspendCounter++,hi=$a=null,Rt=x,U.H=w,U.A=E,at===null&&(Qt=null,dt=0,_d()),R}function jP(){for(;at!==null;)_k(at)}function CP(i,c){var h=Rt;Rt|=2;var x=vk(),w=wk();Qt!==i||dt!==c?(ef=null,Jd=pt()+500,Ko(i,c)):Go=me(i,c);e:do try{if(qt!==0&&at!==null){c=at;var E=Fr;t:switch(qt){case 1:qt=0,Fr=null,Yo(i,c,E,1);break;case 2:case 9:if(R2(E)){qt=0,Fr=null,Nk(c);break}c=function(){qt!==2&&qt!==9||Qt!==i||(qt=7),Ws(i)},E.then(c,c);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:R2(E)?(qt=0,Fr=null,Nk(c)):(qt=0,Fr=null,Yo(i,c,E,7));break;case 5:var R=null;switch(at.tag){case 26:R=at.memoizedState;case 5:case 27:var V=at;if(R?lE(R):V.stateNode.complete){qt=0,Fr=null;var ne=V.sibling;if(ne!==null)at=ne;else{var ce=V.return;ce!==null?(at=ce,rf(ce)):at=null}break t}}qt=0,Fr=null,Yo(i,c,E,5);break;case 6:qt=0,Fr=null,Yo(i,c,E,6);break;case 8:cg(),jn=6;break e;default:throw Error(r(462))}}TP();break}catch(be){bk(i,be)}while(!0);return hi=$a=null,U.H=x,U.A=w,Rt=h,at!==null?0:(Qt=null,dt=0,_d(),jn)}function TP(){for(;at!==null&&!sn();)_k(at)}function _k(i){var c=VS(i.alternate,i,Ni);i.memoizedProps=i.pendingProps,c===null?rf(i):at=c}function Nk(i){var c=i,h=c.alternate;switch(c.tag){case 15:case 0:c=$S(h,c,c.pendingProps,c.type,void 0,dt);break;case 11:c=$S(h,c,c.pendingProps,c.type.render,c.ref,dt);break;case 5:km(c);default:KS(h,c),c=at=w2(c,Ni),c=VS(h,c,Ni)}i.memoizedProps=i.pendingProps,c===null?rf(i):at=c}function Yo(i,c,h,x){hi=$a=null,km(c),zo=null,mc=0;var w=c.return;try{if(xP(i,w,c,h,dt)){jn=1,Hd(i,as(h,i.current)),at=null;return}}catch(E){if(w!==null)throw at=w,E;jn=1,Hd(i,as(h,i.current)),at=null;return}c.flags&32768?(mt||x===1?i=!0:Go||(dt&536870912)!==0?i=!1:(ia=i=!0,(x===2||x===9||x===3||x===6)&&(x=Ur.current,x!==null&&x.tag===13&&(x.flags|=16384))),Sk(c,i)):rf(c)}function rf(i){var c=i;do{if((c.flags&32768)!==0){Sk(c,ia);return}i=c.return;var h=vP(c.alternate,c,Ni);if(h!==null){at=h;return}if(c=c.sibling,c!==null){at=c;return}at=c=i}while(c!==null);jn===0&&(jn=5)}function Sk(i,c){do{var h=wP(i.alternate,i);if(h!==null){h.flags&=32767,at=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(i=i.sibling,i!==null)){at=i;return}at=i=h}while(i!==null);jn=6,at=null}function kk(i,c,h,x,w,E,R,V,ne){i.cancelPendingCommit=null;do sf();while(Vn!==0);if((Rt&6)!==0)throw Error(r(327));if(c!==null){if(c===i.current)throw Error(r(177));if(E=c.lanes|c.childLanes,E|=Qp,Te(i,h,E,R,V,ne),i===Qt&&(at=Qt=null,dt=0),Wo=c,la=i,Si=h,ag=E,og=w,pk=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,OP(Re,function(){return Ak(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=U.T,U.T=null,w=Y.p,Y.p=2,R=Rt,Rt|=4;try{_P(i,c,h)}finally{Rt=R,Y.p=w,U.T=x}}Vn=1,Ek(),jk(),Ck()}}function Ek(){if(Vn===1){Vn=0;var i=la,c=Wo,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=U.T,U.T=null;var x=Y.p;Y.p=2;var w=Rt;Rt|=4;try{ak(c,i);var E=_g,R=f2(i.containerInfo),V=E.focusedElem,ne=E.selectionRange;if(R!==V&&V&&V.ownerDocument&&d2(V.ownerDocument.documentElement,V)){if(ne!==null&&Wp(V)){var ce=ne.start,be=ne.end;if(be===void 0&&(be=ce),"selectionStart"in V)V.selectionStart=ce,V.selectionEnd=Math.min(be,V.value.length);else{var _e=V.ownerDocument||document,de=_e&&_e.defaultView||window;if(de.getSelection){var fe=de.getSelection(),Oe=V.textContent.length,Fe=Math.min(ne.start,Oe),Yt=ne.end===void 0?Fe:Math.min(ne.end,Oe);!fe.extend&&Fe>Yt&&(R=Yt,Yt=Fe,Fe=R);var oe=u2(V,Fe),se=u2(V,Yt);if(oe&&se&&(fe.rangeCount!==1||fe.anchorNode!==oe.node||fe.anchorOffset!==oe.offset||fe.focusNode!==se.node||fe.focusOffset!==se.offset)){var le=_e.createRange();le.setStart(oe.node,oe.offset),fe.removeAllRanges(),Fe>Yt?(fe.addRange(le),fe.extend(se.node,se.offset)):(le.setEnd(se.node,se.offset),fe.addRange(le))}}}}for(_e=[],fe=V;fe=fe.parentNode;)fe.nodeType===1&&_e.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<_e.length;V++){var we=_e[V];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}xf=!!wg,_g=wg=null}finally{Rt=w,Y.p=x,U.T=h}}i.current=c,Vn=2}}function jk(){if(Vn===2){Vn=0;var i=la,c=Wo,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=U.T,U.T=null;var x=Y.p;Y.p=2;var w=Rt;Rt|=4;try{tk(i,c.alternate,c)}finally{Rt=w,Y.p=x,U.T=h}}Vn=3}}function Ck(){if(Vn===4||Vn===3){Vn=0,Pt();var i=la,c=Wo,h=Si,x=pk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Vn=5:(Vn=0,Wo=la=null,Tk(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(oa=null),er(h),c=c.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(zt,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=U.T,w=Y.p,Y.p=2,U.T=null;try{for(var E=i.onRecoverableError,R=0;R<x.length;R++){var V=x[R];E(V.value,{componentStack:V.stack})}}finally{U.T=c,Y.p=w}}(Si&3)!==0&&sf(),Ws(i),w=i.pendingLanes,(h&261930)!==0&&(w&42)!==0?i===lg?Rc++:(Rc=0,lg=i):Rc=0,Oc(0)}}function Tk(i,c){(i.pooledCacheLanes&=c)===0&&(c=i.pooledCache,c!=null&&(i.pooledCache=null,hc(c)))}function sf(){return Ek(),jk(),Ck(),Ak()}function Ak(){if(Vn!==5)return!1;var i=la,c=ag;ag=0;var h=er(Si),x=U.T,w=Y.p;try{Y.p=32>h?32:h,U.T=null,h=og,og=null;var E=la,R=Si;if(Vn=0,Wo=la=null,Si=0,(Rt&6)!==0)throw Error(r(331));var V=Rt;if(Rt|=4,dk(E.current),lk(E,E.current,R,h),Rt=V,Oc(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(zt,E)}catch{}return!0}finally{Y.p=w,U.T=x,Tk(i,c)}}function Mk(i,c,h){c=as(h,c),c=$m(i.stateNode,c,2),i=ta(i,c,2),i!==null&&(ct(i,2),Ws(i))}function Ft(i,c,h){if(i.tag===3)Mk(i,i,h);else for(;c!==null;){if(c.tag===3){Mk(c,i,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(oa===null||!oa.has(x))){i=as(h,i),h=RS(2),x=ta(c,h,2),x!==null&&(OS(h,x,c,i),ct(x,2),Ws(x));break}}c=c.return}}function dg(i,c,h){var x=i.pingCache;if(x===null){x=i.pingCache=new kP;var w=new Set;x.set(c,w)}else w=x.get(c),w===void 0&&(w=new Set,x.set(c,w));w.has(h)||(rg=!0,w.add(h),i=AP.bind(null,i,c,h),c.then(i,i))}function AP(i,c,h){var x=i.pingCache;x!==null&&x.delete(c),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,Qt===i&&(dt&h)===h&&(jn===4||jn===3&&(dt&62914560)===dt&&300>pt()-Qd?(Rt&2)===0&&Ko(i,0):sg|=h,Vo===dt&&(Vo=0)),Ws(i)}function Rk(i,c){c===0&&(c=De()),i=Pa(i,c),i!==null&&(ct(i,c),Ws(i))}function MP(i){var c=i.memoizedState,h=0;c!==null&&(h=c.retryLane),Rk(i,h)}function RP(i,c){var h=0;switch(i.tag){case 31:case 13:var x=i.stateNode,w=i.memoizedState;w!==null&&(h=w.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),Rk(i,h)}function OP(i,c){return Ht(i,c)}var af=null,Xo=null,fg=!1,of=!1,hg=!1,ua=0;function Ws(i){i!==Xo&&i.next===null&&(Xo===null?af=Xo=i:Xo=Xo.next=i),of=!0,fg||(fg=!0,LP())}function Oc(i,c){if(!hg&&of){hg=!0;do for(var h=!1,x=af;x!==null;){if(i!==0){var w=x.pendingLanes;if(w===0)var E=0;else{var R=x.suspendedLanes,V=x.pingedLanes;E=(1<<31-xt(42|i)+1)-1,E&=w&~(R&~V),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,Ik(x,E))}else E=dt,E=te(x,x===Qt?E:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(E&3)===0||me(x,E)||(h=!0,Ik(x,E));x=x.next}while(h);hg=!1}}function DP(){Ok()}function Ok(){of=fg=!1;var i=0;ua!==0&&GP()&&(i=ua);for(var c=pt(),h=null,x=af;x!==null;){var w=x.next,E=Dk(x,c);E===0?(x.next=null,h===null?af=w:h.next=w,w===null&&(Xo=h)):(h=x,(i!==0||(E&3)!==0)&&(of=!0)),x=w}Vn!==0&&Vn!==5||Oc(i),ua!==0&&(ua=0)}function Dk(i,c){for(var h=i.suspendedLanes,x=i.pingedLanes,w=i.expirationTimes,E=i.pendingLanes&-62914561;0<E;){var R=31-xt(E),V=1<<R,ne=w[R];ne===-1?((V&h)===0||(V&x)!==0)&&(w[R]=Ee(V,c)):ne<=c&&(i.expiredLanes|=V),E&=~V}if(c=Qt,h=dt,h=te(i,i===c?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,h===0||i===c&&(qt===2||qt===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&xn(x),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||me(i,h)){if(c=h&-h,c===i.callbackPriority)return c;switch(x!==null&&xn(x),er(h)){case 2:case 8:h=Ne;break;case 32:h=Re;break;case 268435456:h=Xe;break;default:h=Re}return x=Lk.bind(null,i),h=Ht(h,x),i.callbackPriority=c,i.callbackNode=h,c}return x!==null&&x!==null&&xn(x),i.callbackPriority=2,i.callbackNode=null,2}function Lk(i,c){if(Vn!==0&&Vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var h=i.callbackNode;if(sf()&&i.callbackNode!==h)return null;var x=dt;return x=te(i,i===Qt?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(gk(i,x,c),Dk(i,pt()),i.callbackNode!=null&&i.callbackNode===h?Lk.bind(null,i):null)}function Ik(i,c){if(sf())return null;gk(i,c,!0)}function LP(){WP(function(){(Rt&6)!==0?Ht(he,DP):Ok()})}function pg(){if(ua===0){var i=Lo;i===0&&(i=ws,ws<<=1,(ws&261888)===0&&(ws=256)),ua=i}return ua}function Pk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wi(""+i)}function zk(i,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,i.id&&h.setAttribute("form",i.id),c.parentNode.insertBefore(h,c),i=new FormData(i),h.parentNode.removeChild(h),i}function IP(i,c,h,x,w){if(c==="submit"&&h&&h.stateNode===w){var E=Pk((w[Xn]||null).action),R=x.submitter;R&&(c=(c=R[Xn]||null)?Pk(c.formAction):R.getAttribute("formAction"),c!==null&&(E=c,R=null));var V=new bd("action","action",null,x,w);i.push({event:V,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(ua!==0){var ne=R?zk(w,R):new FormData(w);Dm(h,{pending:!0,data:ne,method:w.method,action:E},null,ne)}}else typeof E=="function"&&(V.preventDefault(),ne=R?zk(w,R):new FormData(w),Dm(h,{pending:!0,data:ne,method:w.method,action:E},E,ne))},currentTarget:w}]})}}for(var mg=0;mg<Zp.length;mg++){var gg=Zp[mg],PP=gg.toLowerCase(),zP=gg[0].toUpperCase()+gg.slice(1);js(PP,"on"+zP)}js(m2,"onAnimationEnd"),js(g2,"onAnimationIteration"),js(x2,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(eP,"onTransitionRun"),js(tP,"onTransitionStart"),js(nP,"onTransitionCancel"),js(b2,"onTransitionEnd"),ke("onMouseEnter",["mouseout","mouseover"]),ke("onMouseLeave",["mouseout","mouseover"]),ke("onPointerEnter",["pointerout","pointerover"]),ke("onPointerLeave",["pointerout","pointerover"]),ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function Bk(i,c){c=(c&4)!==0;for(var h=0;h<i.length;h++){var x=i[h],w=x.event;x=x.listeners;e:{var E=void 0;if(c)for(var R=x.length-1;0<=R;R--){var V=x[R],ne=V.instance,ce=V.currentTarget;if(V=V.listener,ne!==E&&w.isPropagationStopped())break e;E=V,w.currentTarget=ce;try{E(w)}catch(be){wd(be)}w.currentTarget=null,E=ne}else for(R=0;R<x.length;R++){if(V=x[R],ne=V.instance,ce=V.currentTarget,V=V.listener,ne!==E&&w.isPropagationStopped())break e;E=V,w.currentTarget=ce;try{E(w)}catch(be){wd(be)}w.currentTarget=null,E=ne}}}}function ot(i,c){var h=c[Fi];h===void 0&&(h=c[Fi]=new Set);var x=i+"__bubble";h.has(x)||($k(c,i,2,!1),h.add(x))}function xg(i,c,h){var x=0;c&&(x|=4),$k(h,i,x,c)}var lf="_reactListening"+Math.random().toString(36).slice(2);function bg(i){if(!i[lf]){i[lf]=!0,No.forEach(function(h){h!=="selectionchange"&&(BP.has(h)||xg(h,!1,i),xg(h,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[lf]||(c[lf]=!0,xg("selectionchange",!1,c))}}function $k(i,c,h,x){switch(mE(c)){case 2:var w=hz;break;case 8:w=pz;break;default:w=Og}h=w.bind(null,c,h,i),w=void 0,!zp||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),x?w!==void 0?i.addEventListener(c,h,{capture:!0,passive:w}):i.addEventListener(c,h,!0):w!==void 0?i.addEventListener(c,h,{passive:w}):i.addEventListener(c,h,!1)}function yg(i,c,h,x,w){var E=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var R=x.tag;if(R===3||R===4){var V=x.stateNode.containerInfo;if(V===w)break;if(R===4)for(R=x.return;R!==null;){var ne=R.tag;if((ne===3||ne===4)&&R.stateNode.containerInfo===w)return;R=R.return}for(;V!==null;){if(R=nr(V),R===null)return;if(ne=R.tag,ne===5||ne===6||ne===26||ne===27){x=E=R;continue e}V=V.parentNode}}x=x.return}pd(function(){var ce=E,be=Ke(h),_e=[];e:{var de=y2.get(i);if(de!==void 0){var fe=bd,Oe=i;switch(i){case"keypress":if(gd(h)===0)break e;case"keydown":case"keyup":fe=R9;break;case"focusin":Oe="focus",fe=qp;break;case"focusout":Oe="blur",fe=qp;break;case"beforeblur":case"afterblur":fe=qp;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=KN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=v9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=L9;break;case m2:case g2:case x2:fe=N9;break;case b2:fe=P9;break;case"scroll":case"scrollend":fe=b9;break;case"wheel":fe=B9;break;case"copy":case"cut":case"paste":fe=k9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=XN;break;case"toggle":case"beforetoggle":fe=U9}var Fe=(c&4)!==0,Yt=!Fe&&(i==="scroll"||i==="scrollend"),oe=Fe?de!==null?de+"Capture":null:de;Fe=[];for(var se=ce,le;se!==null;){var we=se;if(le=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||le===null||oe===null||(we=nc(se,oe),we!=null&&Fe.push(Lc(se,we,le))),Yt)break;se=se.return}0<Fe.length&&(de=new fe(de,Oe,null,h,be),_e.push({event:de,listeners:Fe}))}}if((c&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",de&&h!==Ie&&(Oe=h.relatedTarget||h.fromElement)&&(nr(Oe)||Oe[_s]))break e;if((fe||de)&&(de=be.window===be?be:(de=be.ownerDocument)?de.defaultView||de.parentWindow:window,fe?(Oe=h.relatedTarget||h.toElement,fe=ce,Oe=Oe?nr(Oe):null,Oe!==null&&(Yt=o(Oe),Fe=Oe.tag,Oe!==Yt||Fe!==5&&Fe!==27&&Fe!==6)&&(Oe=null)):(fe=null,Oe=ce),fe!==Oe)){if(Fe=KN,we="onMouseLeave",oe="onMouseEnter",se="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=XN,we="onPointerLeave",oe="onPointerEnter",se="pointer"),Yt=fe==null?de:Ss(fe),le=Oe==null?de:Ss(Oe),de=new Fe(we,se+"leave",fe,h,be),de.target=Yt,de.relatedTarget=le,we=null,nr(be)===ce&&(Fe=new Fe(oe,se+"enter",Oe,h,be),Fe.target=le,Fe.relatedTarget=Yt,we=Fe),Yt=we,fe&&Oe)t:{for(Fe=$P,oe=fe,se=Oe,le=0,we=oe;we;we=Fe(we))le++;we=0;for(var Ue=se;Ue;Ue=Fe(Ue))we++;for(;0<le-we;)oe=Fe(oe),le--;for(;0<we-le;)se=Fe(se),we--;for(;le--;){if(oe===se||se!==null&&oe===se.alternate){Fe=oe;break t}oe=Fe(oe),se=Fe(se)}Fe=null}else Fe=null;fe!==null&&Uk(_e,de,fe,Fe,!1),Oe!==null&&Yt!==null&&Uk(_e,Yt,Oe,Fe,!0)}}e:{if(de=ce?Ss(ce):window,fe=de.nodeName&&de.nodeName.toLowerCase(),fe==="select"||fe==="input"&&de.type==="file")var Et=s2;else if(n2(de))if(i2)Et=Z9;else{Et=Y9;var Pe=K9}else fe=de.nodeName,!fe||fe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&Vi(ce.elementType)&&(Et=s2):Et=X9;if(Et&&(Et=Et(i,ce))){r2(_e,Et,h,be);break e}Pe&&Pe(i,de,ce),i==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Gi(de,"number",de.value)}switch(Pe=ce?Ss(ce):window,i){case"focusin":(n2(Pe)||Pe.contentEditable==="true")&&(jo=Pe,Kp=ce,uc=null);break;case"focusout":uc=Kp=jo=null;break;case"mousedown":Yp=!0;break;case"contextmenu":case"mouseup":case"dragend":Yp=!1,h2(_e,h,be);break;case"selectionchange":if(J9)break;case"keydown":case"keyup":h2(_e,h,be)}var Je;if(Hp)e:{switch(i){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Eo?e2(i,h)&&(ft="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(ft="onCompositionStart");ft&&(ZN&&h.locale!=="ko"&&(Eo||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Eo&&(Je=VN()):(Ki=be,Bp="value"in Ki?Ki.value:Ki.textContent,Eo=!0)),Pe=cf(ce,ft),0<Pe.length&&(ft=new YN(ft,i,null,h,be),_e.push({event:ft,listeners:Pe}),Je?ft.data=Je:(Je=t2(h),Je!==null&&(ft.data=Je)))),(Je=F9?H9(i,h):G9(i,h))&&(ft=cf(ce,"onBeforeInput"),0<ft.length&&(Pe=new YN("onBeforeInput","beforeinput",null,h,be),_e.push({event:Pe,listeners:ft}),Pe.data=Je)),IP(_e,i,ce,h,be)}Bk(_e,c)})}function Lc(i,c,h){return{instance:i,listener:c,currentTarget:h}}function cf(i,c){for(var h=c+"Capture",x=[];i!==null;){var w=i,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=nc(i,h),w!=null&&x.unshift(Lc(i,w,E)),w=nc(i,c),w!=null&&x.push(Lc(i,w,E))),i.tag===3)return x;i=i.return}return[]}function $P(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Uk(i,c,h,x,w){for(var E=c._reactName,R=[];h!==null&&h!==x;){var V=h,ne=V.alternate,ce=V.stateNode;if(V=V.tag,ne!==null&&ne===x)break;V!==5&&V!==26&&V!==27||ce===null||(ne=ce,w?(ce=nc(h,E),ce!=null&&R.unshift(Lc(h,ce,ne))):w||(ce=nc(h,E),ce!=null&&R.push(Lc(h,ce,ne)))),h=h.return}R.length!==0&&i.push({event:c,listeners:R})}var UP=/\r\n?/g,qP=/\u0000|\uFFFD/g;function qk(i){return(typeof i=="string"?i:""+i).replace(UP,`
`).replace(qP,"")}function Fk(i,c){return c=qk(c),qk(i)===c}function Kt(i,c,h,x,w,E){switch(h){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||Ge(i,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&Ge(i,""+x);break;case"className":gr(i,"class",x);break;case"tabIndex":gr(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(i,h,x);break;case"style":Ut(i,x,E);break;case"data":if(c!=="object"){gr(i,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||h!=="href")){i.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(h);break}x=Wi(""+x),i.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(c!=="input"&&Kt(i,c,"name",w.name,w,null),Kt(i,c,"formEncType",w.formEncType,w,null),Kt(i,c,"formMethod",w.formMethod,w,null),Kt(i,c,"formTarget",w.formTarget,w,null)):(Kt(i,c,"encType",w.encType,w,null),Kt(i,c,"method",w.method,w,null),Kt(i,c,"target",w.target,w,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(h);break}x=Wi(""+x),i.setAttribute(h,x);break;case"onClick":x!=null&&(i.onclick=Ce);break;case"onScroll":x!=null&&ot("scroll",i);break;case"onScrollEnd":x!=null&&ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}h=Wi(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(h,""+x):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":x===!0?i.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(h,x):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(h,x):i.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(h):i.setAttribute(h,x);break;case"popover":ot("beforetoggle",i),ot("toggle",i),Zn(i,"popover",x);break;case"xlinkActuate":lr(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":lr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":lr(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":lr(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":lr(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":lr(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":lr(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":lr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":lr(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Zn(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=ci.get(h)||h,Zn(i,h,x))}}function vg(i,c,h,x,w,E){switch(h){case"style":Ut(i,x,E);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"children":typeof x=="string"?Ge(i,x):(typeof x=="number"||typeof x=="bigint")&&Ge(i,""+x);break;case"onScroll":x!=null&&ot("scroll",i);break;case"onScrollEnd":x!=null&&ot("scrollend",i);break;case"onClick":x!=null&&(i.onclick=Ce);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ii.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),E=i[Xn]||null,E=E!=null?E[h]:null,typeof E=="function"&&i.removeEventListener(c,E,w),typeof x=="function")){typeof E!="function"&&E!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(c,x,w);break e}h in i?i[h]=x:x===!0?i.setAttribute(h,""):Zn(i,h,x)}}}function ar(i,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",i),ot("load",i);var x=!1,w=!1,E;for(E in h)if(h.hasOwnProperty(E)){var R=h[E];if(R!=null)switch(E){case"src":x=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Kt(i,c,E,R,h,null)}}w&&Kt(i,c,"srcSet",h.srcSet,h,null),x&&Kt(i,c,"src",h.src,h,null);return;case"input":ot("invalid",i);var V=E=R=w=null,ne=null,ce=null;for(x in h)if(h.hasOwnProperty(x)){var be=h[x];if(be!=null)switch(x){case"name":w=be;break;case"type":R=be;break;case"checked":ne=be;break;case"defaultChecked":ce=be;break;case"value":E=be;break;case"defaultValue":V=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:Kt(i,c,x,be,h,null)}}li(i,E,V,ne,ce,R,w,!1);return;case"select":ot("invalid",i),x=R=E=null;for(w in h)if(h.hasOwnProperty(w)&&(V=h[w],V!=null))switch(w){case"value":E=V;break;case"defaultValue":R=V;break;case"multiple":x=V;default:Kt(i,c,w,V,h,null)}c=E,h=R,i.multiple=!!x,c!=null?In(i,!!x,c,!1):h!=null&&In(i,!!x,h,!0);return;case"textarea":ot("invalid",i),E=w=x=null;for(R in h)if(h.hasOwnProperty(R)&&(V=h[R],V!=null))switch(R){case"value":x=V;break;case"defaultValue":w=V;break;case"children":E=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Kt(i,c,R,V,h,null)}ko(i,x,w,E);return;case"option":for(ne in h)if(h.hasOwnProperty(ne)&&(x=h[ne],x!=null))switch(ne){case"selected":i.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Kt(i,c,ne,x,h,null)}return;case"dialog":ot("beforetoggle",i),ot("toggle",i),ot("cancel",i),ot("close",i);break;case"iframe":case"object":ot("load",i);break;case"video":case"audio":for(x=0;x<Dc.length;x++)ot(Dc[x],i);break;case"image":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"embed":case"source":case"link":ot("error",i),ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in h)if(h.hasOwnProperty(ce)&&(x=h[ce],x!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Kt(i,c,ce,x,h,null)}return;default:if(Vi(c)){for(be in h)h.hasOwnProperty(be)&&(x=h[be],x!==void 0&&vg(i,c,be,x,h,void 0));return}}for(V in h)h.hasOwnProperty(V)&&(x=h[V],x!=null&&Kt(i,c,V,x,h,null))}function FP(i,c,h,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,R=null,V=null,ne=null,ce=null,be=null;for(fe in h){var _e=h[fe];if(h.hasOwnProperty(fe)&&_e!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":ne=_e;default:x.hasOwnProperty(fe)||Kt(i,c,fe,null,x,_e)}}for(var de in x){var fe=x[de];if(_e=h[de],x.hasOwnProperty(de)&&(fe!=null||_e!=null))switch(de){case"type":E=fe;break;case"name":w=fe;break;case"checked":ce=fe;break;case"defaultChecked":be=fe;break;case"value":R=fe;break;case"defaultValue":V=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,c));break;default:fe!==_e&&Kt(i,c,de,fe,x,_e)}}oi(i,R,V,ne,ce,be,E,w);return;case"select":fe=R=V=de=null;for(E in h)if(ne=h[E],h.hasOwnProperty(E)&&ne!=null)switch(E){case"value":break;case"multiple":fe=ne;default:x.hasOwnProperty(E)||Kt(i,c,E,null,x,ne)}for(w in x)if(E=x[w],ne=h[w],x.hasOwnProperty(w)&&(E!=null||ne!=null))switch(w){case"value":de=E;break;case"defaultValue":V=E;break;case"multiple":R=E;default:E!==ne&&Kt(i,c,w,E,x,ne)}c=V,h=R,x=fe,de!=null?In(i,!!h,de,!1):!!x!=!!h&&(c!=null?In(i,!!h,c,!0):In(i,!!h,h?[]:"",!1));return;case"textarea":fe=de=null;for(V in h)if(w=h[V],h.hasOwnProperty(V)&&w!=null&&!x.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Kt(i,c,V,null,x,w)}for(R in x)if(w=x[R],E=h[R],x.hasOwnProperty(R)&&(w!=null||E!=null))switch(R){case"value":de=w;break;case"defaultValue":fe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==E&&Kt(i,c,R,w,x,E)}fd(i,de,fe);return;case"option":for(var Oe in h)if(de=h[Oe],h.hasOwnProperty(Oe)&&de!=null&&!x.hasOwnProperty(Oe))switch(Oe){case"selected":i.selected=!1;break;default:Kt(i,c,Oe,null,x,de)}for(ne in x)if(de=x[ne],fe=h[ne],x.hasOwnProperty(ne)&&de!==fe&&(de!=null||fe!=null))switch(ne){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Kt(i,c,ne,de,x,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in h)de=h[Fe],h.hasOwnProperty(Fe)&&de!=null&&!x.hasOwnProperty(Fe)&&Kt(i,c,Fe,null,x,de);for(ce in x)if(de=x[ce],fe=h[ce],x.hasOwnProperty(ce)&&de!==fe&&(de!=null||fe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,c));break;default:Kt(i,c,ce,de,x,fe)}return;default:if(Vi(c)){for(var Yt in h)de=h[Yt],h.hasOwnProperty(Yt)&&de!==void 0&&!x.hasOwnProperty(Yt)&&vg(i,c,Yt,void 0,x,de);for(be in x)de=x[be],fe=h[be],!x.hasOwnProperty(be)||de===fe||de===void 0&&fe===void 0||vg(i,c,be,de,x,fe);return}}for(var oe in h)de=h[oe],h.hasOwnProperty(oe)&&de!=null&&!x.hasOwnProperty(oe)&&Kt(i,c,oe,null,x,de);for(_e in x)de=x[_e],fe=h[_e],!x.hasOwnProperty(_e)||de===fe||de==null&&fe==null||Kt(i,c,_e,de,x,fe)}function Hk(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HP(){if(typeof performance.getEntriesByType=="function"){for(var i=0,c=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var w=h[x],E=w.transferSize,R=w.initiatorType,V=w.duration;if(E&&V&&Hk(R)){for(R=0,V=w.responseEnd,x+=1;x<h.length;x++){var ne=h[x],ce=ne.startTime;if(ce>V)break;var be=ne.transferSize,_e=ne.initiatorType;be&&Hk(_e)&&(ne=ne.responseEnd,R+=be*(ne<V?1:(V-ce)/(ne-ce)))}if(--x,c+=8*(E+R)/(w.duration/1e3),i++,10<i)break}}if(0<i)return c/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var wg=null,_g=null;function uf(i){return i.nodeType===9?i:i.ownerDocument}function Gk(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vk(i,c){if(i===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&c==="foreignObject"?0:i}function Ng(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Sg=null;function GP(){var i=window.event;return i&&i.type==="popstate"?i===Sg?!1:(Sg=i,!0):(Sg=null,!1)}var Wk=typeof setTimeout=="function"?setTimeout:void 0,VP=typeof clearTimeout=="function"?clearTimeout:void 0,Kk=typeof Promise=="function"?Promise:void 0,WP=typeof queueMicrotask=="function"?queueMicrotask:typeof Kk<"u"?function(i){return Kk.resolve(null).then(i).catch(KP)}:Wk;function KP(i){setTimeout(function(){throw i})}function da(i){return i==="head"}function Yk(i,c){var h=c,x=0;do{var w=h.nextSibling;if(i.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(x===0){i.removeChild(w),el(c);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")Ic(i.ownerDocument.documentElement);else if(h==="head"){h=i.ownerDocument.head,Ic(h);for(var E=h.firstChild;E;){var R=E.nextSibling,V=E.nodeName;E[si]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=R}}else h==="body"&&Ic(i.ownerDocument.body);h=w}while(h);el(c)}function Xk(i,c){var h=i;i=0;do{var x=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(i===0)break;i--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||i++;h=x}while(h)}function kg(i){var c=i.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":kg(h),Ra(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function YP(i,c,h,x){for(;i.nodeType===1;){var w=h;if(i.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[si])switch(c){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(E=i.getAttribute("rel"),E==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(E!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(E=i.getAttribute("src"),(E!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(c==="input"&&i.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===E)return i}else return i;if(i=ds(i.nextSibling),i===null)break}return null}function XP(i,c,h){if(c==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=ds(i.nextSibling),i===null))return null;return i}function Zk(i,c){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=ds(i.nextSibling),i===null))return null;return i}function Eg(i){return i.data==="$?"||i.data==="$~"}function jg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ZP(i,c){var h=i.ownerDocument;if(i.data==="$~")i._reactRetry=c;else if(i.data!=="$?"||h.readyState!=="loading")c();else{var x=function(){c(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function ds(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return i}var Cg=null;function Qk(i){i=i.nextSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"||h==="/&"){if(c===0)return ds(i.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}i=i.nextSibling}return null}function Jk(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return i;c--}else h!=="/$"&&h!=="/&"||c++}i=i.previousSibling}return null}function eE(i,c,h){switch(c=uf(h),i){case"html":if(i=c.documentElement,!i)throw Error(r(452));return i;case"head":if(i=c.head,!i)throw Error(r(453));return i;case"body":if(i=c.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ic(i){for(var c=i.attributes;c.length;)i.removeAttributeNode(c[0]);Ra(i)}var fs=new Map,tE=new Set;function df(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ki=Y.d;Y.d={f:QP,r:JP,D:ez,C:tz,L:nz,m:rz,X:iz,S:sz,M:az};function QP(){var i=ki.f(),c=tf();return i||c}function JP(i){var c=Ns(i);c!==null&&c.tag===5&&c.type==="form"?bS(c):ki.r(i)}var Zo=typeof document>"u"?null:document;function nE(i,c,h){var x=Zo;if(x&&typeof c=="string"&&c){var w=cr(c);w='link[rel="'+i+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),tE.has(w)||(tE.add(w),i={rel:i,crossOrigin:h,href:c},x.querySelector(w)===null&&(c=x.createElement("link"),ar(c,"link",i),kn(c),x.head.appendChild(c)))}}function ez(i){ki.D(i),nE("dns-prefetch",i,null)}function tz(i,c){ki.C(i,c),nE("preconnect",i,c)}function nz(i,c,h){ki.L(i,c,h);var x=Zo;if(x&&i&&c){var w='link[rel="preload"][as="'+cr(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+cr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+cr(h.imageSizes)+'"]')):w+='[href="'+cr(i)+'"]';var E=w;switch(c){case"style":E=Qo(i);break;case"script":E=Jo(i)}fs.has(E)||(i=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:i,as:c},h),fs.set(E,i),x.querySelector(w)!==null||c==="style"&&x.querySelector(Pc(E))||c==="script"&&x.querySelector(zc(E))||(c=x.createElement("link"),ar(c,"link",i),kn(c),x.head.appendChild(c)))}}function rz(i,c){ki.m(i,c);var h=Zo;if(h&&i){var x=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+cr(x)+'"][href="'+cr(i)+'"]',E=w;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Jo(i)}if(!fs.has(E)&&(i=m({rel:"modulepreload",href:i},c),fs.set(E,i),h.querySelector(w)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(zc(E)))return}x=h.createElement("link"),ar(x,"link",i),kn(x),h.head.appendChild(x)}}}function sz(i,c,h){ki.S(i,c,h);var x=Zo;if(x&&i){var w=Fs(x).hoistableStyles,E=Qo(i);c=c||"default";var R=w.get(E);if(!R){var V={loading:0,preload:null};if(R=x.querySelector(Pc(E)))V.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":c},h),(h=fs.get(E))&&Tg(i,h);var ne=R=x.createElement("link");kn(ne),ar(ne,"link",i),ne._p=new Promise(function(ce,be){ne.onload=ce,ne.onerror=be}),ne.addEventListener("load",function(){V.loading|=1}),ne.addEventListener("error",function(){V.loading|=2}),V.loading|=4,ff(R,c,x)}R={type:"stylesheet",instance:R,count:1,state:V},w.set(E,R)}}}function iz(i,c){ki.X(i,c);var h=Zo;if(h&&i){var x=Fs(h).hoistableScripts,w=Jo(i),E=x.get(w);E||(E=h.querySelector(zc(w)),E||(i=m({src:i,async:!0},c),(c=fs.get(w))&&Ag(i,c),E=h.createElement("script"),kn(E),ar(E,"link",i),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},x.set(w,E))}}function az(i,c){ki.M(i,c);var h=Zo;if(h&&i){var x=Fs(h).hoistableScripts,w=Jo(i),E=x.get(w);E||(E=h.querySelector(zc(w)),E||(i=m({src:i,async:!0,type:"module"},c),(c=fs.get(w))&&Ag(i,c),E=h.createElement("script"),kn(E),ar(E,"link",i),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},x.set(w,E))}}function rE(i,c,h,x){var w=(w=Q.current)?df(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Qo(h.href),h=Fs(w).hoistableStyles,x=h.get(c),x||(x={type:"style",instance:null,count:0,state:null},h.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=Qo(h.href);var E=Fs(w).hoistableStyles,R=E.get(i);if(R||(w=w.ownerDocument||w,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(i,R),(E=w.querySelector(Pc(i)))&&!E._p&&(R.instance=E,R.state.loading=5),fs.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},fs.set(i,h),E||oz(w,i,h,R.state))),c&&x===null)throw Error(r(528,""));return R}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Jo(h),h=Fs(w).hoistableScripts,x=h.get(c),x||(x={type:"script",instance:null,count:0,state:null},h.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Qo(i){return'href="'+cr(i)+'"'}function Pc(i){return'link[rel="stylesheet"]['+i+"]"}function sE(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function oz(i,c,h,x){i.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=i.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),ar(c,"link",h),kn(c),i.head.appendChild(c))}function Jo(i){return'[src="'+cr(i)+'"]'}function zc(i){return"script[async]"+i}function iE(i,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var x=i.querySelector('style[data-href~="'+cr(h.href)+'"]');if(x)return c.instance=x,kn(x),x;var w=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),kn(x),ar(x,"style",w),ff(x,h.precedence,i),c.instance=x;case"stylesheet":w=Qo(h.href);var E=i.querySelector(Pc(w));if(E)return c.state.loading|=4,c.instance=E,kn(E),E;x=sE(h),(w=fs.get(w))&&Tg(x,w),E=(i.ownerDocument||i).createElement("link"),kn(E);var R=E;return R._p=new Promise(function(V,ne){R.onload=V,R.onerror=ne}),ar(E,"link",x),c.state.loading|=4,ff(E,h.precedence,i),c.instance=E;case"script":return E=Jo(h.src),(w=i.querySelector(zc(E)))?(c.instance=w,kn(w),w):(x=h,(w=fs.get(E))&&(x=m({},h),Ag(x,w)),i=i.ownerDocument||i,w=i.createElement("script"),kn(w),ar(w,"link",x),i.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,ff(x,h.precedence,i));return c.instance}function ff(i,c,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=x.length?x[x.length-1]:null,E=w,R=0;R<x.length;R++){var V=x[R];if(V.dataset.precedence===c)E=V;else if(E!==w)break}E?E.parentNode.insertBefore(i,E.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(i,c.firstChild))}function Tg(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.title==null&&(i.title=c.title)}function Ag(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.integrity==null&&(i.integrity=c.integrity)}var hf=null;function aE(i,c,h){if(hf===null){var x=new Map,w=hf=new Map;w.set(h,x)}else w=hf,x=w.get(h),x||(x=new Map,w.set(h,x));if(x.has(i))return x;for(x.set(i,null),h=h.getElementsByTagName(i),w=0;w<h.length;w++){var E=h[w];if(!(E[si]||E[bn]||i==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var R=E.getAttribute(c)||"";R=i+R;var V=x.get(R);V?V.push(E):x.set(R,[E])}}return x}function oE(i,c,h){i=i.ownerDocument||i,i.head.insertBefore(h,c==="title"?i.querySelector("head > title"):null)}function lz(i,c,h){if(h===1||c.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return i=c.disabled,typeof c.precedence=="string"&&i==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function lE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function cz(i,c,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=Qo(x.href),E=c.querySelector(Pc(w));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(i.count++,i=pf.bind(i),c.then(i,i)),h.state.loading|=4,h.instance=E,kn(E);return}E=c.ownerDocument||c,x=sE(x),(w=fs.get(w))&&Tg(x,w),E=E.createElement("link"),kn(E);var R=E;R._p=new Promise(function(V,ne){R.onload=V,R.onerror=ne}),ar(E,"link",x),h.instance=E}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(i.count++,h=pf.bind(i),c.addEventListener("load",h),c.addEventListener("error",h))}}var Mg=0;function uz(i,c){return i.stylesheets&&i.count===0&&gf(i,i.stylesheets),0<i.count||0<i.imgCount?function(h){var x=setTimeout(function(){if(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend){var E=i.unsuspend;i.unsuspend=null,E()}},6e4+c);0<i.imgBytes&&Mg===0&&(Mg=62500*HP());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend)){var E=i.unsuspend;i.unsuspend=null,E()}},(i.imgBytes>Mg?50:800)+c);return i.unsuspend=h,function(){i.unsuspend=null,clearTimeout(x),clearTimeout(w)}}:null}function pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mf=null;function gf(i,c){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mf=new Map,c.forEach(dz,i),mf=null,pf.call(i))}function dz(i,c){if(!(c.state.loading&4)){var h=mf.get(i);if(h)var x=h.get(null);else{h=new Map,mf.set(i,h);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var R=w[E];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(h.set(R.dataset.precedence,R),x=R)}x&&h.set(null,x)}w=c.instance,R=w.getAttribute("data-precedence"),E=h.get(R)||x,E===x&&h.set(null,w),h.set(R,w),this.count++,x=pf.bind(this),w.addEventListener("load",x),w.addEventListener("error",x),E?E.parentNode.insertBefore(w,E.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),c.state.loading|=4}}var Bc={$$typeof:k,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function fz(i,c,h,x,w,E,R,V,ne){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=x,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function cE(i,c,h,x,w,E,R,V,ne,ce,be,_e){return i=new fz(i,c,h,R,ne,ce,be,_e,V),c=1,E===!0&&(c|=24),E=$r(3,null,null,c),i.current=E,E.stateNode=i,c=um(),c.refCount++,i.pooledCache=c,c.refCount++,E.memoizedState={element:x,isDehydrated:h,cache:c},pm(E),i}function uE(i){return i?(i=Ao,i):Ao}function dE(i,c,h,x,w,E){w=uE(w),x.context===null?x.context=w:x.pendingContext=w,x=ea(c),x.payload={element:h},E=E===void 0?null:E,E!==null&&(x.callback=E),h=ta(i,x,c),h!==null&&(Mr(h,i,c),xc(h,i,c))}function fE(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<c?h:c}}function Rg(i,c){fE(i,c),(i=i.alternate)&&fE(i,c)}function hE(i){if(i.tag===13||i.tag===31){var c=Pa(i,67108864);c!==null&&Mr(c,i,67108864),Rg(i,67108864)}}function pE(i){if(i.tag===13||i.tag===31){var c=Gr();c=kt(c);var h=Pa(i,c);h!==null&&Mr(h,i,c),Rg(i,c)}}var xf=!0;function hz(i,c,h,x){var w=U.T;U.T=null;var E=Y.p;try{Y.p=2,Og(i,c,h,x)}finally{Y.p=E,U.T=w}}function pz(i,c,h,x){var w=U.T;U.T=null;var E=Y.p;try{Y.p=8,Og(i,c,h,x)}finally{Y.p=E,U.T=w}}function Og(i,c,h,x){if(xf){var w=Dg(x);if(w===null)yg(i,c,x,bf,h),gE(i,x);else if(gz(w,i,c,h,x))x.stopPropagation();else if(gE(i,x),c&4&&-1<mz.indexOf(i)){for(;w!==null;){var E=Ns(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var R=Bt(E.pendingLanes);if(R!==0){var V=E;for(V.pendingLanes|=2,V.entangledLanes|=2;R;){var ne=1<<31-xt(R);V.entanglements[1]|=ne,R&=~ne}Ws(E),(Rt&6)===0&&(Jd=pt()+500,Oc(0))}}break;case 31:case 13:V=Pa(E,2),V!==null&&Mr(V,E,2),tf(),Rg(E,2)}if(E=Dg(x),E===null&&yg(i,c,x,bf,h),E===w)break;w=E}w!==null&&x.stopPropagation()}else yg(i,c,x,null,h)}}function Dg(i){return i=Ke(i),Lg(i)}var bf=null;function Lg(i){if(bf=null,i=nr(i),i!==null){var c=o(i);if(c===null)i=null;else{var h=c.tag;if(h===13){if(i=l(c),i!==null)return i;i=null}else if(h===31){if(i=u(c),i!==null)return i;i=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null)}}return bf=i,null}function mE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case he:return 2;case Ne:return 8;case Re:case He:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var Ig=!1,fa=null,ha=null,pa=null,$c=new Map,Uc=new Map,ma=[],mz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gE(i,c){switch(i){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":$c.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(c.pointerId)}}function qc(i,c,h,x,w,E){return i===null||i.nativeEvent!==E?(i={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:E,targetContainers:[w]},c!==null&&(c=Ns(c),c!==null&&hE(c)),i):(i.eventSystemFlags|=x,c=i.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),i)}function gz(i,c,h,x,w){switch(c){case"focusin":return fa=qc(fa,i,c,h,x,w),!0;case"dragenter":return ha=qc(ha,i,c,h,x,w),!0;case"mouseover":return pa=qc(pa,i,c,h,x,w),!0;case"pointerover":var E=w.pointerId;return $c.set(E,qc($c.get(E)||null,i,c,h,x,w)),!0;case"gotpointercapture":return E=w.pointerId,Uc.set(E,qc(Uc.get(E)||null,i,c,h,x,w)),!0}return!1}function xE(i){var c=nr(i.target);if(c!==null){var h=o(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){i.blockedOn=c,kr(i.priority,function(){pE(h)});return}}else if(c===31){if(c=u(h),c!==null){i.blockedOn=c,kr(i.priority,function(){pE(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yf(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var h=Dg(i.nativeEvent);if(h===null){h=i.nativeEvent;var x=new h.constructor(h.type,h);Ie=x,h.target.dispatchEvent(x),Ie=null}else return c=Ns(h),c!==null&&hE(c),i.blockedOn=h,!1;c.shift()}return!0}function bE(i,c,h){yf(i)&&h.delete(c)}function xz(){Ig=!1,fa!==null&&yf(fa)&&(fa=null),ha!==null&&yf(ha)&&(ha=null),pa!==null&&yf(pa)&&(pa=null),$c.forEach(bE),Uc.forEach(bE)}function vf(i,c){i.blockedOn===c&&(i.blockedOn=null,Ig||(Ig=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xz)))}var wf=null;function yE(i){wf!==i&&(wf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wf===i&&(wf=null);for(var c=0;c<i.length;c+=3){var h=i[c],x=i[c+1],w=i[c+2];if(typeof x!="function"){if(Lg(x||h)===null)continue;break}var E=Ns(h);E!==null&&(i.splice(c,3),c-=3,Dm(E,{pending:!0,data:w,method:h.method,action:x},x,w))}}))}function el(i){function c(ne){return vf(ne,i)}fa!==null&&vf(fa,i),ha!==null&&vf(ha,i),pa!==null&&vf(pa,i),$c.forEach(c),Uc.forEach(c);for(var h=0;h<ma.length;h++){var x=ma[h];x.blockedOn===i&&(x.blockedOn=null)}for(;0<ma.length&&(h=ma[0],h.blockedOn===null);)xE(h),h.blockedOn===null&&ma.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var w=h[x],E=h[x+1],R=w[Xn]||null;if(typeof E=="function")R||yE(h);else if(R){var V=null;if(E&&E.hasAttribute("formAction")){if(w=E,R=E[Xn]||null)V=R.formAction;else if(Lg(w)!==null)continue}else V=R.action;typeof V=="function"?h[x+1]=V:(h.splice(x,3),x-=3),yE(h)}}}function vE(){function i(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(R){return w=R})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function Pg(i){this._internalRoot=i}_f.prototype.render=Pg.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,x=Gr();dE(h,x,i,c,null,null)},_f.prototype.unmount=Pg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;dE(i.current,2,null,i,null,null),tf(),c[_s]=null}};function _f(i){this._internalRoot=i}_f.prototype.unstable_scheduleHydration=function(i){if(i){var c=tr();i={blockedOn:null,target:i,priority:c};for(var h=0;h<ma.length&&c!==0&&c<ma[h].priority;h++);ma.splice(h,0,i),h===0&&xE(i)}};var wE=t.version;if(wE!=="19.2.4")throw Error(r(527,wE,"19.2.4"));Y.findDOMNode=function(i){var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(c),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var bz={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{zt=Nf.inject(bz),gt=Nf}catch{}}return Hc.createRoot=function(i,c){if(!s(i))throw Error(r(299));var h=!1,x="",w=CS,E=TS,R=AS;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),c=cE(i,1,!1,null,null,h,x,null,w,E,R,vE),i[_s]=c.current,bg(i),new Pg(c)},Hc.hydrateRoot=function(i,c,h){if(!s(i))throw Error(r(299));var x=!1,w="",E=CS,R=TS,V=AS,ne=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(R=h.onCaughtError),h.onRecoverableError!==void 0&&(V=h.onRecoverableError),h.formState!==void 0&&(ne=h.formState)),c=cE(i,1,!0,c,h??null,x,w,ne,E,R,V,vE),c.context=uE(null),h=c.current,x=Gr(),x=kt(x),w=ea(x),w.callback=null,ta(h,w,x),h=x,c.current.lanes=h,ct(c,h),Ws(c),i[_s]=c.current,bg(i),new _f(c)},Hc.version="19.2.4",Hc}var ME;function Tz(){if(ME)return $g.exports;ME=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$g.exports=Cz(),$g.exports}var Az=Tz();const Mz="modulepreload",Rz=function(e){return"/"+e},RE={},hr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(n.map(f=>{if(f=Rz(f),f in RE)return;RE[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Mz,p||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),p)return new Promise((b,y)=>{g.addEventListener("load",b),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var OE="popstate";function Oz(e={}){function t(r,s){let{pathname:o,search:l,hash:u}=r.location;return pw("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xu(s)}return Lz(t,n,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dz(){return Math.random().toString(36).substring(2,10)}function DE(e,t){return{usr:e.state,key:e.key,idx:t}}function pw(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?jl(t):t,state:n,key:t&&t.key||r||Dz()}}function xu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Lz(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let _=p(),N=_==null?null:_-f;f=_,d&&d({action:u,location:v.location,delta:N})}function g(_,N){u="PUSH";let j=pw(v.location,_,N);f=p()+1;let k=DE(j,f),C=v.createHref(j);try{l.pushState(k,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(C)}o&&d&&d({action:u,location:v.location,delta:1})}function b(_,N){u="REPLACE";let j=pw(v.location,_,N);f=p();let k=DE(j,f),C=v.createHref(j);l.replaceState(k,"",C),o&&d&&d({action:u,location:v.location,delta:0})}function y(_){return Iz(_)}let v={get action(){return u},get location(){return e(s,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(OE,m),d=_,()=>{s.removeEventListener(OE,m),d=null}},createHref(_){return t(s,_)},createURL:y,encodeLocation(_){let N=y(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:b,go(_){return l.go(_)}};return v}function Iz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function S3(e,t,n="/"){return Pz(e,t,n,!1)}function Pz(e,t,n,r){let s=typeof t=="string"?jl(t):t,o=Mi(s.pathname||"/",n);if(o==null)return null;let l=k3(e);zz(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=Yz(o);u=Wz(l[d],f,r)}return u}function k3(e,t=[],n=[],r="",s=!1){let o=(l,u,d=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;hn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=Ti([r,p.relativePath]),g=n.concat(p);l.children&&l.children.length>0&&(hn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),k3(l.children,t,g,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:Gz(m,l.index),routesMeta:g})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of E3(l.path))o(l,u,!0,f)}),t}function E3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=E3(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function zz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Bz=/^:[\w-]+$/,$z=3,Uz=2,qz=1,Fz=10,Hz=-2,LE=e=>e==="*";function Gz(e,t){let n=e.split("/"),r=n.length;return n.some(LE)&&(r+=Hz),t&&(r+=Uz),n.filter(s=>!LE(s)).reduce((s,o)=>s+(Bz.test(o)?$z:o===""?qz:Fz),r)}function Vz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Wz(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=ch({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),g=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=ch({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Ti([o,m.pathname]),pathnameBase:Jz(Ti([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=Ti([o,m.pathnameBase]))}return l}function ch(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Kz(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},g)=>{if(p==="*"){let y=u[g]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const b=u[g];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function Kz(e,t=!1,n=!0){gs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Yz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Mi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Xz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Zz(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?jl(e):e,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=IE(n.substring(1),"/"):o=IE(n,t)):o=t,{pathname:o,search:e8(r),hash:t8(s)}}function IE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a_(e){let t=Qz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function o_(e,t,n,r=!1){let s;typeof e=="string"?s=jl(e):(s={...e},hn(!s.pathname||!s.pathname.includes("?"),Hg("?","pathname","search",s)),hn(!s.pathname||!s.pathname.includes("#"),Hg("#","pathname","hash",s)),hn(!s.search||!s.search.includes("#"),Hg("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}u=m>=0?t[m]:"/"}let d=Zz(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ti=e=>e.join("/").replace(/\/\/+/g,"/"),Jz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,n8=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function r8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function s8(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var j3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function C3(e,t){let n=e;if(typeof n!="string"||!Xz.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(j3)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),u=Mi(l.pathname,t);l.origin===o.origin&&u!=null?n=u+l.search+l.hash:s=!0}catch{gs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T3=["POST","PUT","PATCH","DELETE"];new Set(T3);var i8=["GET",...T3];new Set(i8);var Cl=S.createContext(null);Cl.displayName="DataRouter";var Uh=S.createContext(null);Uh.displayName="DataRouterState";var a8=S.createContext(!1),A3=S.createContext({isTransitioning:!1});A3.displayName="ViewTransition";var o8=S.createContext(new Map);o8.displayName="Fetchers";var l8=S.createContext(null);l8.displayName="Await";var ts=S.createContext(null);ts.displayName="Navigation";var zu=S.createContext(null);zu.displayName="Location";var xs=S.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var l_=S.createContext(null);l_.displayName="RouteError";var M3="REACT_ROUTER_ERROR",c8="REDIRECT",u8="ROUTE_ERROR_RESPONSE";function d8(e){if(e.startsWith(`${M3}:${c8}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function f8(e){if(e.startsWith(`${M3}:${u8}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new n8(t.status,t.statusText,t.data)}catch{}}function h8(e,{relative:t}={}){hn(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ts),{hash:s,pathname:o,search:l}=Bu(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:Ti([n,o])),r.createHref({pathname:u,search:l,hash:s})}function Tl(){return S.useContext(zu)!=null}function Bs(){return hn(Tl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(zu).location}var R3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O3(e){S.useContext(ts).static||S.useLayoutEffect(e)}function An(){let{isDataRoute:e}=S.useContext(xs);return e?C8():p8()}function p8(){hn(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Cl),{basename:t,navigator:n}=S.useContext(ts),{matches:r}=S.useContext(xs),{pathname:s}=Bs(),o=JSON.stringify(a_(r)),l=S.useRef(!1);return O3(()=>{l.current=!0}),S.useCallback((d,f={})=>{if(gs(l.current,R3),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=o_(d,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ti([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,s,e])}var m8=S.createContext(null);function g8(e){let t=S.useContext(xs).outlet;return S.useMemo(()=>t&&S.createElement(m8.Provider,{value:e},t),[t,e])}function uo(){let{matches:e}=S.useContext(xs),t=e[e.length-1];return t?t.params:{}}function Bu(e,{relative:t}={}){let{matches:n}=S.useContext(xs),{pathname:r}=Bs(),s=JSON.stringify(a_(n));return S.useMemo(()=>o_(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function x8(e,t){return D3(e,t)}function D3(e,t,n,r,s){var j;hn(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(ts),{matches:l}=S.useContext(xs),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let k=m&&m.path||"";I3(f,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=Bs(),b;if(t){let k=typeof t=="string"?jl(t):t;hn(p==="/"||((j=k.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=g;let y=b.pathname||"/",v=y;if(p!=="/"){let k=p.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=S3(e,{pathname:v});gs(m||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),gs(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=_8(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Ti([p,o.encodeLocation?o.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Ti([p,o.encodeLocation?o.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,n,r,s);return t&&N?S.createElement(zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function b8(){let e=j8(),t=r8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,l)}var y8=S.createElement(b8,null),L3=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=f8(e.digest);n&&(e=n)}let t=e!==void 0?S.createElement(xs.Provider,{value:this.props.routeContext},S.createElement(l_.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?S.createElement(v8,{error:e},t):t}};L3.contextType=a8;var Gg=new WeakMap;function v8({children:e,error:t}){let{basename:n}=S.useContext(ts);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=d8(t.digest);if(r){let s=Gg.get(t);if(s)throw s;let o=C3(r.location,n);if(j3&&!Gg.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Gg.set(t,l),l}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function w8({routeContext:e,match:t,children:n}){let r=S.useContext(Cl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(xs.Provider,{value:e},n)}function _8(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);hn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:g,errors:b}=n,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||y){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=n&&r?(p,m)=>{var g,b;r(p,{location:n.location,params:((b=(g=n.matches)==null?void 0:g[0])==null?void 0:b.params)??{},unstable_pattern:s8(n.matches),errorInfo:m})}:void 0;return o.reduceRight((p,m,g)=>{let b,y=!1,v=null,_=null;n&&(b=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||y8,u&&(d<0&&g===0?(I3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):d===g&&(y=!0,_=m.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,g+1)),j=()=>{let k;return b?k=v:y?k=_:m.route.Component?k=S.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,S.createElement(w8,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?S.createElement(L3,{location:n.location,revalidation:n.revalidation,component:v,error:b,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:f}):j()},null)}function c_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N8(e){let t=S.useContext(Cl);return hn(t,c_(e)),t}function S8(e){let t=S.useContext(Uh);return hn(t,c_(e)),t}function k8(e){let t=S.useContext(xs);return hn(t,c_(e)),t}function u_(e){let t=k8(e),n=t.matches[t.matches.length-1];return hn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function E8(){return u_("useRouteId")}function j8(){var r;let e=S.useContext(l_),t=S8("useRouteError"),n=u_("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function C8(){let{router:e}=N8("useNavigate"),t=u_("useNavigate"),n=S.useRef(!1);return O3(()=>{n.current=!0}),S.useCallback(async(s,o={})=>{gs(n.current,R3),n.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var PE={};function I3(e,t,n){!t&&!PE[e]&&(PE[e]=!0,gs(!1,n))}S.memo(T8);function T8({routes:e,future:t,state:n,onError:r}){return D3(e,void 0,n,r,t)}function P3({to:e,replace:t,state:n,relative:r}){hn(Tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(ts);gs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=S.useContext(xs),{pathname:l}=Bs(),u=An(),d=o_(e,a_(o),l,r==="path"),f=JSON.stringify(d);return S.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function bu(e){return g8(e.context)}function wn(e){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A8({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:l}){hn(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:u,navigator:s,static:o,unstable_useTransitions:l,future:{}}),[u,s,o,l]);typeof n=="string"&&(n=jl(n));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:b="default"}=n,y=S.useMemo(()=>{let v=Mi(f,u);return v==null?null:{location:{pathname:v,search:p,hash:m,state:g,key:b},navigationType:r}},[u,f,p,m,g,b,r]);return gs(y!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:S.createElement(ts.Provider,{value:d},S.createElement(zu.Provider,{children:t,value:y}))}function M8({children:e,location:t}){return x8(mw(e),t)}function mw(e,t=[]){let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let o=[...t,s];if(r.type===S.Fragment){n.push.apply(n,mw(r.props.children,o));return}hn(r.type===wn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=mw(r.props.children,o)),n.push(l)}),n}var eh="get",th="application/x-www-form-urlencoded";function qh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function R8(e){return qh(e)&&e.tagName.toLowerCase()==="button"}function O8(e){return qh(e)&&e.tagName.toLowerCase()==="form"}function D8(e){return qh(e)&&e.tagName.toLowerCase()==="input"}function L8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I8(e,t){return e.button===0&&(!t||t==="_self")&&!L8(e)}function gw(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function P8(e,t){let n=gw(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}var kf=null;function z8(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var B8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(e){return e!=null&&!B8.has(e)?(gs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):e}function $8(e,t){let n,r,s,o,l;if(O8(e)){let u=e.getAttribute("action");r=u?Mi(u,t):null,n=e.getAttribute("method")||eh,s=Vg(e.getAttribute("enctype"))||th,o=new FormData(e)}else if(R8(e)||D8(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Mi(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||eh,s=Vg(e.getAttribute("formenctype"))||Vg(u.getAttribute("enctype"))||th,o=new FormData(u,e),!z8()){let{name:f,type:p,value:m}=e;if(p==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,m)}}else{if(qh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,r=null,s=th,l=e}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U8(e,t,n,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:t&&Mi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function q8(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function H8(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await q8(o,n);return l.links?l.links():[]}return[]}));return K8(r.flat(1).filter(F8).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function zE(e,t,n,r,s,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var p;return n[f].pathname!==d.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var m;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function G8(e,t,{includeHydrateFallback:n}={}){return V8(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function V8(e){return[...new Set(e)]}function W8(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function K8(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(W8(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function z3(){let e=S.useContext(Cl);return d_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Y8(){let e=S.useContext(Uh);return d_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var f_=S.createContext(void 0);f_.displayName="FrameworkContext";function B3(){let e=S.useContext(f_);return d_(e,"You must render this element inside a <HydratedRouter> element"),e}function X8(e,t){let n=S.useContext(f_),[r,s]=S.useState(!1),[o,l]=S.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,g=S.useRef(null);S.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=N=>{N.forEach(j=>{l(j.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[e]),S.useEffect(()=>{if(r){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[r]);let b=()=>{s(!0)},y=()=>{s(!1),l(!1)};return n?e!=="intent"?[o,g,{}]:[o,g,{onFocus:Gc(u,b),onBlur:Gc(d,y),onMouseEnter:Gc(f,b),onMouseLeave:Gc(p,y),onTouchStart:Gc(m,b)}]:[!1,g,{}]}function Gc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Z8({page:e,...t}){let{router:n}=z3(),r=S.useMemo(()=>S3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(J8,{page:e,matches:r,...t}):null}function Q8(e){let{manifest:t,routeModules:n}=B3(),[r,s]=S.useState([]);return S.useEffect(()=>{let o=!1;return H8(e,t,n).then(l=>{o||s(l)}),()=>{o=!0}},[e,t,n]),r}function J8({page:e,matches:t,...n}){let r=Bs(),{future:s,manifest:o,routeModules:l}=B3(),{basename:u}=z3(),{loaderData:d,matches:f}=Y8(),p=S.useMemo(()=>zE(e,t,f,o,r,"data"),[e,t,f,o,r]),m=S.useMemo(()=>zE(e,t,f,o,r,"assets"),[e,t,f,o,r]),g=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,_=!1;if(t.forEach(j=>{var C;let k=o.routes[j.route.id];!k||!k.hasLoader||(!p.some(A=>A.route.id===j.route.id)&&j.route.id in d&&((C=l[j.route.id])!=null&&C.shouldRevalidate)||k.hasClientLoader?_=!0:v.add(j.route.id))}),v.size===0)return[];let N=U8(e,u,s.unstable_trailingSlashAwareDataRequests,"data");return _&&v.size>0&&N.searchParams.set("_routes",t.filter(j=>v.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[u,s.unstable_trailingSlashAwareDataRequests,d,r,o,p,t,e,l]),b=S.useMemo(()=>G8(m,o),[m,o]),y=Q8(m);return S.createElement(S.Fragment,null,g.map(v=>S.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),b.map(v=>S.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:_})=>S.createElement("link",{key:v,nonce:n.nonce,..._,crossOrigin:_.crossOrigin??n.crossOrigin})))}function eB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var tB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tB&&(window.__reactRouterVersion="7.13.0")}catch{}function nB({basename:e,children:t,unstable_useTransitions:n,window:r}){let s=S.useRef();s.current==null&&(s.current=Oz({window:r,v5Compat:!0}));let o=s.current,[l,u]=S.useState({action:o.action,location:o.location}),d=S.useCallback(f=>{n===!1?u(f):S.startTransition(()=>u(f))},[n]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(A8,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var $3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g,...b},y){let{basename:v,unstable_useTransitions:_}=S.useContext(ts),N=typeof f=="string"&&$3.test(f),j=C3(f,v);f=j.to;let k=h8(f,{relative:s}),[C,A,T]=X8(r,b),M=iB(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:_});function z(D){t&&t(D),D.defaultPrevented||M(D)}let $=S.createElement("a",{...b,...T,href:j.absoluteURL||k,onClick:j.isExternal||o?t:z,ref:eB(y,A),target:d,"data-discover":!N&&n==="render"?"true":void 0});return C&&!N?S.createElement(S.Fragment,null,$,S.createElement(Z8,{page:k})):$});ln.displayName="Link";var uh=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let m=Bu(l,{relative:f.relative}),g=Bs(),b=S.useContext(Uh),{navigator:y,basename:v}=S.useContext(ts),_=b!=null&&uB(m)&&u===!0,N=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,j=g.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(j=j.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&v&&(k=Mi(k,v)||k);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=j===N||!s&&j.startsWith(N)&&j.charAt(C)==="/",T=k!=null&&(k===N||!s&&k.startsWith(N)&&k.charAt(N.length)==="/"),M={isActive:A,isPending:T,isTransitioning:_},z=A?t:void 0,$;typeof r=="function"?$=r(M):$=[r,A?"active":null,T?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(M):o;return S.createElement(ln,{...f,"aria-current":z,className:$,ref:p,style:D,to:l,viewTransition:u},typeof d=="function"?d(M):d)});uh.displayName="NavLink";var rB=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:l=eh,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g,...b},y)=>{let{unstable_useTransitions:v}=S.useContext(ts),_=lB(),N=cB(u,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&$3.test(u),C=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,M=(T==null?void 0:T.getAttribute("formmethod"))||l,z=()=>_(T||A.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:g});v&&n!==!1?S.startTransition(()=>z()):z()};return S.createElement("form",{ref:y,method:j,action:N,onSubmit:r?d:C,...b,"data-discover":!k&&e==="render"?"true":void 0})});rB.displayName="Form";function sB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U3(e){let t=S.useContext(Cl);return hn(t,sB(e)),t}function iB(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=An(),p=Bs(),m=Bu(e,{relative:o});return S.useCallback(g=>{if(I8(g,t)){g.preventDefault();let b=n!==void 0?n:xu(p)===xu(m),y=()=>f(e,{replace:b,state:r,preventScrollReset:s,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?S.startTransition(()=>y()):y()}},[p,f,m,n,r,t,e,s,o,l,u,d])}function $u(e){gs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=S.useRef(gw(e)),n=S.useRef(!1),r=Bs(),s=S.useMemo(()=>P8(r.search,n.current?null:t.current),[r.search]),o=An(),l=S.useCallback((u,d)=>{const f=gw(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,o("?"+f,d)},[o,s]);return[s,l]}var aB=0,oB=()=>`__${String(++aB)}__`;function lB(){let{router:e}=U3("useSubmit"),{basename:t}=S.useContext(ts),n=E8(),r=e.fetch,s=e.navigate;return S.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:m}=$8(o,t);if(l.navigate===!1){let g=l.fetcherKey||oB();await r(g,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,s,t,n])}function cB(e,{relative:t}={}){let{basename:n}=S.useContext(ts),r=S.useContext(xs);hn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Bu(e||".",{relative:t})},l=Bs();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ti([n,o.pathname])),xu(o)}function uB(e,{relative:t}={}){let n=S.useContext(A3);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U3("useViewTransitionState"),s=Bu(e,{relative:t});if(!n.isTransitioning)return!1;let o=Mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ch(s.pathname,l)!=null||ch(s.pathname,o)!=null}var ms=N3();const Zs={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ALLOWED_HOSTS:"ffs.dev,localhost"};function q3(e){return"init"in e}function xw(e){return!!e.write}function BE(e){return"v"in e||"e"in e}function dh(e){if("e"in e)throw e.e;if((Zs?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}const fh=new WeakMap;function F3(e){var t;return hh(e)&&!!((t=fh.get(e))!=null&&t[0])}function dB(e){const t=fh.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))}function bw(e,t){let n=fh.get(e);if(!n){n=[!0,new Set],fh.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)}function hh(e){return typeof(e==null?void 0:e.then)=="function"}function H3(e,t,n){if(!n.p.has(e)){n.p.add(e);const r=()=>n.p.delete(e);t.then(r,r)}}function G3(e,t,n){var r;const s=new Set;for(const o of((r=n.get(e))==null?void 0:r.t)||[])s.add(o);for(const o of t.p)s.add(o);return s}const fB=(e,t,...n)=>t.read(...n),hB=(e,t,...n)=>t.write(...n),pB=(e,t)=>{var n;return(n=t.INTERNAL_onInit)==null?void 0:n.call(t,e)},mB=(e,t,n)=>{var r;return(r=t.onMount)==null?void 0:r.call(t,n)},gB=(e,t)=>{var n;const r=fr(e),s=r[0],o=r[6],l=r[9];if((Zs?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let u=s.get(t);return u||(u={d:new Map,p:new Set,n:0},s.set(t,u),(n=o.i)==null||n.call(o,t),l==null||l(e,t)),u},xB=e=>{const t=fr(e),n=t[1],r=t[3],s=t[4],o=t[5],l=t[6],u=t[13],d=[],f=p=>{try{p()}catch(m){d.push(m)}};do{l.f&&f(l.f);const p=new Set,m=p.add.bind(p);r.forEach(g=>{var b;return(b=n.get(g))==null?void 0:b.l.forEach(m)}),r.clear(),o.forEach(m),o.clear(),s.forEach(m),s.clear(),p.forEach(f),r.size&&u(e)}while(r.size||o.size||s.size);if(d.length)throw new AggregateError(d)},bB=e=>{const t=fr(e),n=t[1],r=t[2],s=t[3],o=t[11],l=t[14],u=t[17],d=[],f=new WeakSet,p=new WeakSet,m=Array.from(s);for(;m.length;){const g=m[m.length-1],b=o(e,g);if(p.has(g)){m.pop();continue}if(f.has(g)){if(r.get(g)===b.n)d.push([g,b]);else if((Zs?"production":void 0)!=="production"&&r.has(g))throw new Error("[Bug] invalidated atom exists");p.add(g),m.pop();continue}f.add(g);for(const y of G3(g,b,n))f.has(y)||m.push(y)}for(let g=d.length-1;g>=0;--g){const[b,y]=d[g];let v=!1;for(const _ of y.d.keys())if(_!==b&&s.has(_)){v=!0;break}v&&(l(e,b),u(e,b)),r.delete(b)}},yw=new WeakSet,yB=(e,t)=>{var n,r;const s=fr(e),o=s[1],l=s[2],u=s[3],d=s[6],f=s[7],p=s[11],m=s[12],g=s[13],b=s[14],y=s[16],v=s[17],_=s[20],N=p(e,t);if(BE(N)){if(o.has(t)&&l.get(t)!==N.n)return N;let $=!1;for(const[D,I]of N.d)if(b(e,D).n!==I){$=!0;break}if(!$)return N}N.d.clear();let j=!0;function k(){o.has(t)&&(v(e,t),g(e),m(e))}function C($){var D;if($===t){const F=p(e,$);if(!BE(F))if(q3($))_(e,$,$.init);else throw new Error("no atom init");return dh(F)}const I=b(e,$);try{return dh(I)}finally{N.d.set($,I.n),F3(N.v)&&H3(t,N.v,I),o.has(t)&&((D=o.get($))==null||D.t.add(t)),j||k()}}let A,T;const M={get signal(){return A||(A=new AbortController),A.signal},get setSelf(){return(Zs?"production":void 0)!=="production"&&console.warn("[DEPRECATED] setSelf is deprecated and will be removed in v3."),(Zs?"production":void 0)!=="production"&&!xw(t)&&console.warn("setSelf function cannot be used with read-only atom"),!T&&xw(t)&&(T=(...$)=>{if((Zs?"production":void 0)!=="production"&&j&&console.warn("setSelf function cannot be called in sync"),!j)try{return y(e,t,...$)}finally{g(e),m(e)}}),T}},z=N.n;try{(Zs?"production":void 0)!=="production"&&yw.delete(e);const $=f(e,t,C,M);return(Zs?"production":void 0)!=="production"&&yw.has(e)&&console.warn("Detected store mutation during atom read. This is not supported."),_(e,t,$),hh($)&&(bw($,()=>A==null?void 0:A.abort()),$.then(k,k)),(n=d.r)==null||n.call(d,t),N}catch($){return delete N.v,N.e=$,++N.n,N}finally{j=!1,z!==N.n&&l.get(t)===z&&(l.set(t,N.n),u.add(t),(r=d.c)==null||r.call(d,t))}},vB=(e,t)=>{const n=fr(e),r=n[1],s=n[2],o=n[11],l=[t];for(;l.length;){const u=l.pop(),d=o(e,u);for(const f of G3(u,d,r)){const p=o(e,f);s.set(f,p.n),l.push(f)}}},wB=(e,t,...n)=>{const r=fr(e),s=r[3],o=r[6],l=r[8],u=r[11],d=r[12],f=r[13],p=r[14],m=r[15],g=r[16],b=r[17],y=r[20];let v=!0;const _=j=>dh(p(e,j)),N=(j,...k)=>{var C;const A=u(e,j);try{if(j===t){if(!q3(j))throw new Error("atom not writable");(Zs?"production":void 0)!=="production"&&yw.add(e);const T=A.n,M=k[0];y(e,j,M),b(e,j),T!==A.n&&(s.add(j),m(e,j),(C=o.c)==null||C.call(o,j));return}else return g(e,j,...k)}finally{v||(f(e),d(e))}};try{return l(e,t,_,N,...n)}finally{v=!1}},_B=(e,t)=>{var n;const r=fr(e),s=r[1],o=r[3],l=r[6],u=r[11],d=r[15],f=r[18],p=r[19],m=u(e,t),g=s.get(t);if(g&&!F3(m.v)){for(const[b,y]of m.d)if(!g.d.has(b)){const v=u(e,b);f(e,b).t.add(t),g.d.add(b),y!==v.n&&(o.add(b),d(e,b),(n=l.c)==null||n.call(l,b))}for(const b of g.d)if(!m.d.has(b)){g.d.delete(b);const y=p(e,b);y==null||y.t.delete(t)}}},NB=(e,t)=>{var n;const r=fr(e),s=r[1],o=r[4],l=r[6],u=r[10],d=r[11],f=r[12],p=r[13],m=r[14],g=r[16],b=r[18],y=d(e,t);let v=s.get(t);if(!v){m(e,t);for(const _ of y.d.keys())b(e,_).t.add(t);if(v={l:new Set,d:new Set(y.d.keys()),t:new Set},s.set(t,v),xw(t)){const _=()=>{let N=!0;const j=(...k)=>{try{return g(e,t,...k)}finally{N||(p(e),f(e))}};try{const k=u(e,t,j);k&&(v.u=()=>{N=!0;try{k()}finally{N=!1}})}finally{N=!1}};o.add(_)}(n=l.m)==null||n.call(l,t)}return v},SB=(e,t)=>{var n,r;const s=fr(e),o=s[1],l=s[5],u=s[6],d=s[11],f=s[19],p=d(e,t);let m=o.get(t);if(!m||m.l.size)return m;let g=!1;for(const b of m.t)if((n=o.get(b))!=null&&n.d.has(t)){g=!0;break}if(!g){m.u&&l.add(m.u),m=void 0,o.delete(t);for(const b of p.d.keys()){const y=f(e,b);y==null||y.t.delete(t)}(r=u.u)==null||r.call(u,t);return}return m},kB=(e,t,n)=>{const r=fr(e)[11],s=r(e,t),o="v"in s,l=s.v;if(hh(n))for(const u of s.d.keys())H3(t,n,r(e,u));s.v=n,delete s.e,(!o||!Object.is(l,s.v))&&(++s.n,hh(l)&&dB(l))},EB=(e,t)=>{const n=fr(e)[14];return dh(n(e,t))},jB=(e,t,...n)=>{const r=fr(e),s=r[12],o=r[13],l=r[16];try{return l(e,t,...n)}finally{o(e),s(e)}},CB=(e,t,n)=>{const r=fr(e),s=r[12],o=r[18],l=r[19],d=o(e,t).l;return d.add(n),s(e),()=>{d.delete(n),l(e,t),s(e)}},V3=new WeakMap,fr=e=>{const t=V3.get(e);if((Zs?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function TB(...e){const t={get(r){const s=fr(t)[21];return s(t,r)},set(r,...s){const o=fr(t)[22];return o(t,r,...s)},sub(r,s){const o=fr(t)[23];return o(t,r,s)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},fB,hB,pB,mB,gB,xB,bB,yB,vB,wB,_B,NB,SB,kB,EB,jB,CB,void 0].map((r,s)=>e[s]||r);return V3.set(t,Object.freeze(n)),t}const W3={};let AB=0;function Me(e,t){const n=`atom${++AB}`,r={toString(){return(W3?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=MB,r.write=RB),t&&(r.write=t),r}function MB(e){return e(this)}function RB(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function K3(){return TB()}let Vc;function OB(){return Vc||(Vc=K3(),(W3?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Vc),globalThis.__JOTAI_DEFAULT_STORE__!==Vc&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Vc}const DB={},vw=S.createContext(void 0);function Y3(e){return S.useContext(vw)||OB()}function LB({children:e,store:t}){const n=S.useRef(null);return t?S.createElement(vw.Provider,{value:t},e):(n.current===null&&(n.current=K3()),S.createElement(vw.Provider,{value:n.current},e))}const ww=e=>typeof(e==null?void 0:e.then)=="function",_w=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},IB=fn.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(_w(e),e)}),Wg=new WeakMap,$E=(e,t)=>{let n=Wg.get(e);return n||(n=new Promise((r,s)=>{let o=e;const l=f=>p=>{o===f&&r(p)},u=f=>p=>{o===f&&s(p)},d=()=>{try{const f=t();ww(f)?(Wg.set(f,n),o=f,f.then(l(f),u(f)),bw(f,d)):r(f)}catch(f){s(f)}};e.then(l(e),u(e)),bw(e,d)}),Wg.set(e,n)),n};function Ve(e,t){const{delay:n,unstable_promiseStatus:r=!fn.use}={},s=Y3(),[[o,l,u],d]=S.useReducer(p=>{const m=s.get(e);return Object.is(p[0],m)&&p[1]===s&&p[2]===e?p:[m,s,e]},void 0,()=>[s.get(e),s,e]);let f=o;if((l!==s||u!==e)&&(d(),f=s.get(e)),S.useEffect(()=>{const p=s.sub(e,()=>{if(r)try{const m=s.get(e);ww(m)&&_w($E(m,()=>s.get(e)))}catch{}if(typeof n=="number"){setTimeout(d,n);return}d()});return d(),p},[s,e,n,r]),S.useDebugValue(f),ww(f)){const p=$E(f,()=>s.get(e));return r&&_w(p),IB(p)}return f}function At(e,t){const n=Y3();return S.useCallback((...s)=>{if((DB?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...s)},[n,e])}function ht(e,t){return[Ve(e),At(e)]}const h_={},PB=Symbol((h_?"production":void 0)!=="production"?"RESET":""),X3=e=>typeof(e==null?void 0:e.then)=="function";function zB(e=()=>{try{return window.localStorage}catch(n){(h_?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,s;const o={getItem:(d,f)=>{var p,m;const g=y=>{if(y=y||"",r!==y){try{s=JSON.parse(y,t==null?void 0:t.reviver)}catch{return f}r=y}return s},b=(m=(p=e())==null?void 0:p.getItem(d))!=null?m:null;return X3(b)?b.then(g):g(b)},setItem:(d,f)=>{var p;return(p=e())==null?void 0:p.setItem(d,JSON.stringify(f,void 0))},removeItem:d=>{var f;return(f=e())==null?void 0:f.removeItem(d)}},l=d=>(f,p,m)=>d(f,g=>{let b;try{b=JSON.parse(g||"")}catch{b=m}p(b)});let u;try{u=(n=e())==null?void 0:n.subscribe}catch{}return!u&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(u=(d,f)=>{if(!(e()instanceof window.Storage))return()=>{};const p=m=>{m.storageArea===e()&&m.key===d&&f(m.newValue)};return window.addEventListener("storage",p),()=>{window.removeEventListener("storage",p)}}),u&&(o.subscribe=l(u)),o}const BB=zB();function Z3(e,t,n=BB,r){const s=Me(t);return(h_?"production":void 0)!=="production"&&(s.debugPrivate=!0),s.onMount=l=>{l(n.getItem(e,t));let u;return n.subscribe&&(u=n.subscribe(e,l,t)),u},Me(l=>l(s),(l,u,d)=>{const f=typeof d=="function"?d(l(s)):d;return f===PB?(u(s,t),n.removeItem(e)):X3(f)?f.then(p=>(u(s,p),n.setItem(e,p))):(u(s,f),n.setItem(e,f))})}const Uu=Z3("auth_token",null),Al=Me(null),ro=Me("required"),Nw=Me([]),Sw=Me(!1),Q3=Me(!1),J3=Me(e=>e(ro)==="none"?!0:e(Uu)!==null),eO=Me([]),$B=Me(!1),UB=Me(null);Me(e=>{const t=e(UB);return e(eO).find(r=>r.slug===t)??null});Me(null);const tO=Me([]),qB=Me(!1),FB=Me(null);Me(e=>{const t=e(FB);return e(tO).find(r=>r.slug===t)??null});Me(null);const p_=Me([]),HB=Me(!1),GB=Me(null);Me(e=>{const t=e(GB);return e(p_).find(r=>r.id===t)??null});Me(null);Me(null);const nO=Me("all");Me(e=>{const t=e(p_),n=e(nO);return n==="all"?t:t.filter(r=>r.status===n)});const Fh=Me([]),VB=Me(!1),WB=Me(null);Me(e=>{const t=e(WB);return e(Fh).find(r=>r.id===t)??null});Me(null);const rO=Me("all"),KB=Me([]),YB=Me(null);Me(e=>{const t=e(Fh),n=e(rO),r=e(KB),s=e(YB);return t.filter(o=>!(n!=="all"&&o.status!==n||r.length>0&&!r.some(l=>{var u;return(u=o.tags)==null?void 0:u.includes(l)})||s&&o.assigned_to!==s))});Me(e=>{const t=e(Fh);return{total:t.length,pending:t.filter(n=>n.status==="pending").length,in_progress:t.filter(n=>n.status==="in_progress").length,blocked:t.filter(n=>n.status==="blocked").length,completed:t.filter(n=>n.status==="completed").length,failed:t.filter(n=>n.status==="failed").length}});const m_=Me([]),XB=Me(!1),ZB=Me(null);Me(e=>{const t=e(ZB);return e(m_).find(r=>r.id===t)??null});const sO=Me("all"),iO=Me("all"),QB=Me("all");Me(e=>{const t=e(m_),n=e(sO),r=e(iO),s=e(QB);return t.filter(o=>!(n!=="all"&&o.note_type!==n||r!=="all"&&o.status!==r||s!=="all"&&o.importance!==s))});Me([]);const JB=Me(!1);Me("");Me(null);const kw=Me([]);Z3("tasks-view-mode","list");const g_=Me(null),aO=Me("closed"),oO=Me(400),e7=Me(null),t7=Me(!1),n7=Me("disconnected"),r7=Me(!1),lO=Me(null),yu=Me(null),cO=Me(null),s7=Me(new Set);Me(e=>{const t=e(yu);return t!==null&&t.mode!=="bypassPermissions"});const uO=Me("disconnected"),fo=Me(0),ja=Me(0),Ca=Me(0),Ml=Me(0),dO=Me(0),Hh=Me(0),fO=Me(0),vu={google:{label:"Google",description:"Google Workspace & Gmail accounts",discoveryUrl:"https://accounts.google.com/.well-known/openid-configuration",consoleUrl:"https://console.cloud.google.com/apis/credentials"},microsoft:{label:"Microsoft",description:"Azure AD & Microsoft 365",discoveryUrl:null,discoveryTemplate:"https://login.microsoftonline.com/{tenant}/v2.0/.well-known/openid-configuration",tenantLabel:"Tenant ID",tenantPlaceholder:"common or your-tenant-id",consoleUrl:"https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps"},okta:{label:"Okta",description:"Okta identity platform",discoveryUrl:null,discoveryTemplate:"https://{tenant}.okta.com/.well-known/openid-configuration",tenantLabel:"Okta Domain",tenantPlaceholder:"your-org (without .okta.com)",consoleUrl:"https://developer.okta.com/"},auth0:{label:"Auth0",description:"Auth0 by Okta",discoveryUrl:null,discoveryTemplate:"https://{tenant}.auth0.com/.well-known/openid-configuration",tenantLabel:"Auth0 Domain",tenantPlaceholder:"your-tenant (without .auth0.com)",consoleUrl:"https://manage.auth0.com/"},keycloak:{label:"Keycloak",description:"Self-hosted Keycloak server",discoveryUrl:null,discoveryTemplate:"{tenant}/realms/{realm}/.well-known/openid-configuration",tenantLabel:"Server URL",tenantPlaceholder:"https://keycloak.example.com",consoleUrl:void 0},custom:{label:"Custom",description:"Any OpenID Connect provider",discoveryUrl:null,consoleUrl:void 0}},i7={infraMode:"docker",neo4jUri:"bolt://localhost:7687",neo4jUser:"neo4j",neo4jPassword:"",meilisearchUrl:"http://localhost:7700",meilisearchKey:"",natsUrl:"nats://localhost:4222",natsEnabled:!0,serverPort:6600,serveFrontend:!0,publicUrl:"",authMode:"none",rootEmail:"",rootPassword:"",oidcProvider:"custom",oidcTenant:"",oidcDiscoveryUrl:"",oidcClientId:"",oidcClientSecret:"",oidcProviderName:"",oidcScopes:"openid email profile",oidcAuthEndpoint:"",oidcTokenEndpoint:"",oidcUserinfoEndpoint:"",allowedEmailDomain:"",allowedEmails:"",chatModel:"sonnet-4-5",chatMaxSessions:3,chatMaxTurns:50,chatPermissionMode:"default",claudeCodeDetected:!1,mcpSetupStatus:"idle",mcpSetupMessage:"",hasOidcSecret:!1,hasNeo4jPassword:!1,hasMeilisearchKey:!1},qu=Me({...i7}),hO=Me(0),x_=Me(null),pO=Me(typeof window<"u"&&new URLSearchParams(window.location.search).get("from")==="tray"),a7=Me(null),o7={primary:"bg-indigo-600 hover:bg-indigo-500 text-white shadow-md shadow-indigo-500/20 hover:shadow-lg hover:shadow-indigo-500/30",secondary:"bg-white/[0.06] hover:bg-white/[0.1] text-gray-100 border border-white/[0.06]",danger:"bg-red-600 hover:bg-red-500 text-white shadow-md shadow-red-500/20",ghost:"hover:bg-white/[0.06] text-gray-300"},l7={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"},it=S.forwardRef(({variant:e="primary",size:t="md",loading:n,disabled:r,className:s="",children:o,...l},u)=>a.jsxs("button",{ref:u,disabled:r||n,className:`
          inline-flex items-center justify-center font-medium rounded-lg
          transition-all duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-[#0f1117]
          disabled:opacity-50 disabled:cursor-not-allowed
          ${o7[e]}
          ${l7[t]}
          ${s}
        `,...l,children:[n&&a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]}));it.displayName="Button";function Rl(e={}){const{defaultPageSize:t=25,defaultPage:n=1}=e,[r,s]=$u(),o=S.useMemo(()=>{const g=r.get("page"),b=g?parseInt(g,10):n;return isNaN(b)||b<1?n:b},[r,n]),l=S.useMemo(()=>{const g=r.get("limit"),b=g?parseInt(g,10):t;return isNaN(b)||b<1?t:b},[r,t]),u=S.useMemo(()=>(o-1)*l,[o,l]),d=S.useCallback(g=>{s(b=>{const y=new URLSearchParams(b);return g===1?y.delete("page"):y.set("page",String(g)),y})},[s]),f=S.useCallback(g=>{s(b=>{const y=new URLSearchParams(b);return g===t?y.delete("limit"):y.set("limit",String(g)),y.delete("page"),y})},[s,t]),p=S.useCallback(g=>Math.ceil(g/l),[l]),m=S.useCallback(g=>({currentPage:o,totalPages:Math.ceil(g/l),totalItems:g,pageSize:l,onPageChange:d,onPageSizeChange:f}),[o,l,d,f]);return{page:o,pageSize:l,offset:u,setPage:d,setPageSize:f,totalPages:p,paginationProps:m}}function UE(e){const t={},n=e.get("milestone");n&&(t.milestone_id=n);const r=e.get("plan");r&&(t.plan_id=r);const s=e.get("assigned");s&&(t.assigned_to=s);const o=e.get("tags");o&&(t.tags=o.split(",").filter(Boolean));const l=e.get("priority_min");l&&(t.priority_min=Number(l));const u=e.get("priority_max");u&&(t.priority_max=Number(u));const d=e.get("exclude_projects");return d&&(t.exclude_projects=d.split(",").filter(Boolean)),e.get("hide_completed")==="1"&&(t.exclude_completed=!0),e.get("hide_failed")==="1"&&(t.exclude_failed=!0),t}function c7(e){var n,r;const t={};return e.milestone_id&&(t.milestone=e.milestone_id),e.plan_id&&(t.plan=e.plan_id),e.assigned_to&&(t.assigned=e.assigned_to),(n=e.tags)!=null&&n.length&&(t.tags=e.tags.join(",")),e.priority_min!==void 0&&(t.priority_min=String(e.priority_min)),e.priority_max!==void 0&&(t.priority_max=String(e.priority_max)),(r=e.exclude_projects)!=null&&r.length&&(t.exclude_projects=e.exclude_projects.join(",")),e.exclude_completed&&(t.hide_completed="1"),e.exclude_failed&&(t.hide_failed="1"),t}function u7(){const[e,t]=$u(),n=S.useMemo(()=>UE(e),[e]),r=S.useCallback((d,f)=>{const p={...UE(e),[d]:f};(f===void 0||f===""||Array.isArray(f)&&f.length===0)&&delete p[d],t(m=>{const g=new URLSearchParams,b=m.get("view");b&&g.set("view",b);const y=c7(p);for(const[v,_]of Object.entries(y))g.set(v,_);return g},{replace:!0})},[e,t]),s=S.useCallback(d=>{const f=n.exclude_projects||[],p=f.includes(d)?f.filter(m=>m!==d):[...f,d];r("exclude_projects",p.length>0?p:void 0)},[n.exclude_projects,r]),o=S.useCallback(()=>{t(d=>{const f=new URLSearchParams,p=d.get("view");return p&&f.set("view",p),f},{replace:!0})},[t]),l=S.useMemo(()=>{var f,p;let d=0;return n.milestone_id&&d++,n.plan_id&&d++,n.assigned_to&&d++,(f=n.tags)!=null&&f.length&&d++,n.priority_min!==void 0&&d++,n.priority_max!==void 0&&d++,(p=n.exclude_projects)!=null&&p.length&&d++,n.exclude_completed&&d++,n.exclude_failed&&d++,d},[n]),u=S.useCallback(()=>{var f;const d={};return n.plan_id&&(d.plan_id=n.plan_id),n.assigned_to&&(d.assigned_to=n.assigned_to),(f=n.tags)!=null&&f.length&&(d.tags=n.tags.join(",")),n.priority_min!==void 0&&(d.priority_min=n.priority_min),n.priority_max!==void 0&&(d.priority_max=n.priority_max),d},[n]);return{filters:n,setFilter:r,toggleExcludeProject:s,clearFilters:o,hasActiveFilters:l>0,activeFilterCount:l,buildApiParams:u}}function Ol(e="list"){const[t,n]=$u(),r=t.get("view")||e,s=S.useCallback(o=>{n(l=>{const u=new URLSearchParams(l);return o===e?u.delete("view"):u.set("view",o),u},{replace:!0})},[n,e]);return[r,s]}function ns(){const[e,t]=S.useState(null),[n,r]=S.useState(null),s=S.useCallback(u=>{t(u),r(null)},[]),o=S.useCallback(()=>{t(null),r(null)},[]),l={open:e!==null,onClose:o,onConfirm:(e==null?void 0:e.onConfirm)??(()=>{}),title:(e==null?void 0:e.title)??"",description:e==null?void 0:e.description,confirmLabel:e==null?void 0:e.confirmLabel,variant:e==null?void 0:e.variant,progress:n};return{open:s,close:o,setProgress:r,dialogProps:l}}function Xr(){const[e,t]=S.useState({open:!1,title:""}),n=S.useCallback(s=>{t({open:!0,...s})},[]),r=S.useCallback(()=>{t(s=>({...s,open:!1}))},[]);return{open:n,close:r,isOpen:e.open,dialogProps:{open:e.open,onClose:r,title:e.title,submitLabel:e.submitLabel,size:e.size}}}function Dl(){const[e,t]=S.useState(!1),[n,r]=S.useState(""),[s,o]=S.useState("Link"),[l,u]=S.useState([]),[d,f]=S.useState(""),[p,m]=S.useState(""),[g,b]=S.useState(!1),[y,v]=S.useState(!1),_=S.useRef(null),N=S.useCallback(A=>{r(A.title),o(A.submitLabel||"Link"),f(""),m(""),u([]),t(!0),_.current=A.onLink,v(!0),A.fetchOptions().then(T=>u(T)).catch(()=>u([])).finally(()=>v(!1))},[]),j=S.useCallback(()=>{t(!1),_.current=null},[]),k=S.useCallback(async()=>{if(!(!d||!_.current)){b(!0);try{await _.current(d),j()}catch(A){console.error("Link action failed:",A)}finally{b(!1)}}},[d,j]),C=p?l.filter(A=>{const T=p.toLowerCase();return A.label.toLowerCase().includes(T)||A.description&&A.description.toLowerCase().includes(T)}):l;return{open:N,close:j,dialogProps:{open:e,onClose:j,title:n,submitLabel:s,options:C,selectedId:d,onSelect:f,onSubmit:k,loading:g,fetching:y,searchQuery:p,onSearchChange:m}}}function mO({onLoadMore:e,hasMore:t,loading:n,threshold:r=100}){const s=S.useRef(null),o=S.useRef(null),l=S.useRef(e);l.current=e;const u=S.useRef({hasMore:t,loading:n});u.current={hasMore:t,loading:n};const d=S.useCallback(f=>{o.current&&(o.current.disconnect(),o.current=null),s.current=f,f&&(o.current=new IntersectionObserver(p=>{const m=p[0];m!=null&&m.isIntersecting&&u.current.hasMore&&!u.current.loading&&l.current()},{rootMargin:`${r}px`}),o.current.observe(f))},[r]);return S.useEffect(()=>()=>{o.current&&o.current.disconnect()},[]),{sentinelRef:d}}function Qs({status:e,fetchFn:t,pageSize:n=20,filters:r={},enabled:s=!0,getId:o=u=>u.id,refreshTrigger:l=0}){const[u,d]=S.useState([]),[f,p]=S.useState(0),[m,g]=S.useState(!1),[b,y]=S.useState(!1),v=S.useRef(0),_=S.useRef(!1),N=JSON.stringify(r);S.useEffect(()=>{if(!s)return;let M=!1;v.current=0;async function z(){g(!0),_.current=!0;try{const $=JSON.parse(N),D=await t({...$,status:e,limit:n,offset:0});if(M)return;d(D.items||[]),p(D.total||0),v.current=(D.items||[]).length}catch($){M||console.error(`Failed to fetch column ${e}:`,$)}finally{M||(g(!1),_.current=!1)}}return z(),()=>{M=!0}},[e,t,n,N,s,l]);const j=u.length<f,k=S.useCallback(async()=>{if(!(_.current||!j)){_.current=!0,y(!0);try{const M=JSON.parse(N),z=await t({...M,status:e,limit:n,offset:v.current});d($=>[...$,...z.items||[]]),p(z.total||0),v.current+=(z.items||[]).length}catch(M){console.error(`Failed to load more for column ${e}:`,M)}finally{y(!1),_.current=!1}}},[e,t,n,N,j]),C=S.useCallback(M=>{d(z=>[M,...z]),p(z=>z+1)},[]),A=S.useCallback(M=>{d(z=>z.filter($=>o($)!==M)),p(z=>Math.max(0,z-1))},[o]),T=S.useCallback((M,z)=>{d($=>$.map(D=>o(D)===M?{...D,...z}:D))},[o]);return{items:u,total:f,loading:m,loadingMore:b,hasMore:j,loadMore:k,addItem:C,removeItem:A,updateItem:T}}function Ir(){const e=At(kw),t=S.useCallback((n,r)=>{const s=Math.random().toString(36).slice(2)+Date.now().toString(36);e(o=>[...o,{id:s,type:n,message:r}]),setTimeout(()=>{e(o=>o.filter(l=>l.id!==s))},4e3)},[e]);return{success:S.useCallback(n=>t("success",n),[t]),error:S.useCallback(n=>t("error",n),[t]),info:S.useCallback(n=>t("info",n),[t]),warning:S.useCallback(n=>t("warning",n),[t])}}function Ll(e){const[t,n]=S.useState(e[0]||"");return S.useEffect(()=>{if(e.length===0)return;const r=new IntersectionObserver(s=>{for(const o of s)o.isIntersecting&&n(o.target.id)},{rootMargin:"-20% 0px -70% 0px"});for(const s of e){const o=document.getElementById(s);o&&r.observe(o)}return()=>r.disconnect()},[e]),t}function gO(e){const[t,n]=S.useState(()=>window.matchMedia(e).matches);return S.useEffect(()=>{const r=window.matchMedia(e),s=o=>n(o.matches);return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[e]),t}const b_=()=>!gO("(min-width: 768px)");function Il(e,t){const[n,r]=S.useState(new Set),s=S.useRef(e),o=S.useRef(null);S.useEffect(()=>{s.current!==e&&(r(new Set),o.current=null,s.current=e)},[e]);const l=S.useCallback((b,y)=>{const v=e.findIndex(_=>t(_)===b);if(y&&o.current!==null&&v!==-1){const _=Math.min(o.current,v),N=Math.max(o.current,v),j=e.slice(_,N+1).map(t);r(k=>{const C=new Set(k);for(const A of j)C.add(A);return C})}else r(_=>{const N=new Set(_);return N.has(b)?N.delete(b):N.add(b),N});o.current=v!==-1?v:null},[e,t]),u=S.useCallback(()=>{r(b=>{const y=e.map(t);return y.length>0&&y.every(_=>b.has(_))?new Set:new Set(y)}),o.current=null},[e,t]),d=S.useCallback(()=>{r(new Set),o.current=null},[]),f=S.useCallback(b=>n.has(b),[n]),p=S.useMemo(()=>e.length===0?!1:e.every(b=>n.has(t(b))),[e,n,t]),m=n.size,g=S.useMemo(()=>e.filter(b=>n.has(t(b))),[e,n,t]);return{selectedIds:n,toggle:l,toggleAll:u,clear:d,isSelected:f,isAllSelected:p,selectionCount:m,selectedItems:g}}const _n=!!window.__TAURI_INTERNALS__,d7=6600;let Gh=d7;function f7(e){Gh=e}function h7(){return Gh}function xO(){return _n?`http://localhost:${Gh}`:""}function y_(){return`${xO()}/api`}function bO(){return`${xO()}/auth`}function v_(e){return _n?`ws://localhost:${Gh}${e}`:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${e}`}async function w_(){const e=_n?8:1,t=[200,400,600,800,1e3,1500,2e3,3e3];for(let n=0;n<e;n++)try{const r=await fetch(`${y_()}/setup-status`);return r.ok?(await r.json()).configured:null}catch{n<e-1&&await new Promise(r=>setTimeout(r,t[n]??2e3))}return null}const p7=Object.freeze(Object.defineProperty({__proto__:null,fetchSetupStatus:w_,getApiBase:y_,getAuthBase:bO,getBackendPort:h7,isTauri:_n,setBackendPort:f7,wsUrl:v_},Symbol.toStringTag,{value:"Module"}));let yO="required";function ph(e){yO=e}function Vh(){return yO}function vO(){try{const e=localStorage.getItem("auth_token");return e?JSON.parse(e):null}catch{return null}}const qE=4,m7=[300,600,1200,2e3];let FE=!_n;async function g7(e,t){if(FE)return fetch(e,t);let n;for(let r=0;r<=qE;r++)try{const s=await fetch(e,t);return FE=!0,s}catch(s){if(n=s,!(s instanceof TypeError))throw s;r<qE&&await new Promise(o=>setTimeout(o,m7[r]??2e3))}throw n}async function Ei(e,t={}){const n=`${bO()}${e}`,r={"Content-Type":"application/json"},s=vO();s&&(r.Authorization=`Bearer ${s}`);const o=await g7(n,{...t,headers:{...r,...t.headers}});if(!o.ok){const l=await o.text(),u=new Error(l||`HTTP ${o.status}`);throw u.status=o.status,u}return o.json()}const Ri={getProviders:()=>Ei("/providers"),loginWithPassword:(e,t)=>Ei("/login",{method:"POST",body:JSON.stringify({email:e,password:t})}),register:(e,t,n)=>Ei("/register",{method:"POST",body:JSON.stringify({email:e,password:t,name:n})}),getOidcAuthUrl:()=>{const e=encodeURIComponent(window.location.origin);return Ei(`/oidc?origin=${e}`)},exchangeOidcCode:e=>Ei("/oidc/callback",{method:"POST",body:JSON.stringify({code:e,origin:window.location.origin})}),getGoogleAuthUrl:()=>{const e=encodeURIComponent(window.location.origin);return Ei(`/google?origin=${e}`)},exchangeCode:e=>Ei("/google/callback",{method:"POST",body:JSON.stringify({code:e,origin:window.location.origin})}),me:()=>Ei("/me"),refresh:()=>Ei("/refresh",{method:"POST"})},HE=1e3,x7=3e4;class b7{constructor(){Cn(this,"ws",null);Cn(this,"listeners",new Set);Cn(this,"statusListeners",new Set);Cn(this,"_status","disconnected");Cn(this,"reconnectDelay",HE);Cn(this,"reconnectTimer",null);Cn(this,"shouldReconnect",!0);Cn(this,"authenticated",!1)}get status(){return this._status}connect(){var t,n;((t=this.ws)==null?void 0:t.readyState)===WebSocket.OPEN||((n=this.ws)==null?void 0:n.readyState)===WebSocket.CONNECTING||(this.shouldReconnect=!0,this.authenticated=!1,Vh()==="none"?this.openSocket(null):N_().then(r=>{r?this.openSocket(r):Oi()}))}openSocket(t){const n=v_("/ws/events");try{this.ws=new WebSocket(n)}catch{this.scheduleReconnect();return}this.ws.onopen=()=>{this.reconnectDelay=HE,t&&this.ws&&this.ws.send(JSON.stringify({type:"auth",token:t}))},this.ws.onmessage=r=>{var s;try{const o=JSON.parse(r.data);if(!this.authenticated){if(o.type==="auth_ok"){this.authenticated=!0,this.setStatus("connected");return}if(o.type==="auth_error"){this.shouldReconnect=!1,(s=this.ws)==null||s.close(),Oi();return}}const l=o;for(const u of this.listeners)u(l)}catch{}},this.ws.onclose=()=>{this.ws=null,this.authenticated=!1,this.shouldReconnect?(this.setStatus("reconnecting"),this.scheduleReconnect()):this.setStatus("disconnected")},this.ws.onerror=()=>{}}disconnect(){this.shouldReconnect=!1,this.authenticated=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&(this.ws.close(),this.ws=null),this.setStatus("disconnected")}on(t){return this.listeners.add(t),()=>this.listeners.delete(t)}onStatus(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}scheduleReconnect(){this.reconnectTimer||(this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect()},this.reconnectDelay),this.reconnectDelay=Math.min(this.reconnectDelay*2,x7))}}let Kg=null;function __(){return Kg||(Kg=new b7),Kg}let Ew=null,Kr=null;function y7(e){Ew=e}function v7(e){Kr=e}function w7(e){try{const t=e.split(".");if(t.length!==3)return null;let n=t[1];n=n.replace(/-/g,"+").replace(/_/g,"/");const r=n.length%4;r&&(n+="=".repeat(4-r));const s=JSON.parse(atob(n));return typeof s.exp=="number"?s.exp:null}catch{return null}}let Yg=!1,Ef=[];async function wO(){if(Yg)return new Promise((e,t)=>{Ef.push({resolve:e,reject:t})});Yg=!0;try{const t=(await Ri.refresh()).token;localStorage.setItem("auth_token",JSON.stringify(t)),Kr==null||Kr.setToken(t);for(const n of Ef)n.resolve(t);return t}catch(e){e.status===401&&Oi();for(const n of Ef)n.reject(e);throw e}finally{Yg=!1,Ef=[]}}const _7=30;async function N_(){if(Vh()==="none")return null;const e=vO();if(!e)return null;const t=w7(e);if(t===null)return e;const n=Math.floor(Date.now()/1e3);if(t-n<_7)try{return await wO()}catch{return null}return e}let Xg=!1;function Oi(){if(!Xg){Xg=!0;try{localStorage.removeItem("auth_token"),Kr==null||Kr.setToken(null),Kr==null||Kr.setUser(null);try{__().disconnect()}catch{}Ew?Ew("/login"):window.location.href="/login"}finally{Xg=!1}}}function N7(){function e(t){if(t.key==="auth_token")if(t.newValue===null||t.newValue==="null")Oi();else try{const n=JSON.parse(t.newValue);Kr==null||Kr.setToken(n)}catch{}}return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}class Zg extends Error{constructor(t,n){super(n),this.status=t,this.name="ApiError"}}const GE=4,S7=[300,600,1200,2e3];let VE=!_n;async function k7(e,t){if(VE)return fetch(e,t);let n;for(let r=0;r<=GE;r++)try{const s=await fetch(e,t);return VE=!0,s}catch(s){if(n=s,!(s instanceof TypeError))throw s;if(r<GE){const o=S7[r]??2e3;await new Promise(l=>setTimeout(l,o))}}throw n}async function il(e,t={},n=!1){const r=`${y_()}${e}`,s={"Content-Type":"application/json",...t.headers},o=await N_();o&&(s.Authorization=`Bearer ${o}`);const l=await k7(r,{...t,headers:s});if(!l.ok){if(l.status===401&&Vh()==="required"){if(!n)try{return await wO(),il(e,t,!0)}catch{throw new Zg(401,"Session expired")}throw Oi(),new Zg(401,"Session expired")}const u=await l.text();throw new Zg(l.status,u||`HTTP ${l.status}`)}return l.status===204?{}:l.json()}const ye={get:e=>il(e),post:(e,t)=>il(e,{method:"POST",body:t?JSON.stringify(t):void 0}),patch:(e,t)=>il(e,{method:"PATCH",body:JSON.stringify(t)}),put:(e,t)=>il(e,{method:"PUT",body:t?JSON.stringify(t):void 0}),delete:e=>il(e,{method:"DELETE"})};function rn(e){const t=new URLSearchParams;for(const[r,s]of Object.entries(e))s!=null&&s!==""&&t.append(r,String(s));const n=t.toString();return n?`?${n}`:""}const bt={list:(e={})=>ye.get(`/workspaces${rn(e)}`),get:e=>ye.get(`/workspaces/${e}`),create:e=>ye.post("/workspaces",e),update:(e,t)=>ye.patch(`/workspaces/${e}`,t),delete:e=>ye.delete(`/workspaces/${e}`),getOverview:e=>ye.get(`/workspaces/${e}/overview`),listProjects:e=>ye.get(`/workspaces/${e}/projects`),addProject:(e,t)=>ye.post(`/workspaces/${e}/projects`,{project_id:t}),removeProject:(e,t)=>ye.delete(`/workspaces/${e}/projects/${t}`),listMilestones:(e,t={})=>ye.get(`/workspaces/${e}/milestones${rn(t)}`),createMilestone:(e,t)=>ye.post(`/workspaces/${e}/milestones`,t),getMilestone:e=>ye.get(`/workspace-milestones/${e}`),updateMilestone:(e,t)=>ye.patch(`/workspace-milestones/${e}`,t),deleteMilestone:e=>ye.delete(`/workspace-milestones/${e}`),addTaskToMilestone:(e,t)=>ye.post(`/workspace-milestones/${e}/tasks`,{task_id:t}),listMilestoneTasks:e=>ye.get(`/workspace-milestones/${e}/tasks`),removeTaskFromMilestone:(e,t)=>ye.delete(`/workspace-milestones/${e}/tasks/${t}`),getMilestoneProgress:e=>ye.get(`/workspace-milestones/${e}/progress`),listResources:(e,t={})=>ye.get(`/workspaces/${e}/resources${rn(t)}`),createResource:(e,t)=>ye.post(`/workspaces/${e}/resources`,t),getResource:e=>ye.get(`/resources/${e}`),deleteResource:e=>ye.delete(`/resources/${e}`),linkResourceToProject:(e,t,n)=>ye.post(`/resources/${e}/projects`,{project_id:t,link_type:n}),listComponents:(e,t={})=>ye.get(`/workspaces/${e}/components${rn(t)}`),createComponent:(e,t)=>ye.post(`/workspaces/${e}/components`,t),getComponent:e=>ye.get(`/components/${e}`),deleteComponent:e=>ye.delete(`/components/${e}`),addComponentDependency:(e,t,n,r=!0)=>ye.post(`/components/${e}/dependencies`,{depends_on_id:t,protocol:n,required:r}),removeComponentDependency:(e,t)=>ye.delete(`/components/${e}/dependencies/${t}`),mapComponentToProject:(e,t)=>ye.put(`/components/${e}/project`,{project_id:t}),getTopology:e=>ye.get(`/workspaces/${e}/topology`)},Tt={list:(e={})=>ye.get(`/projects${rn(e)}`),get:e=>ye.get(`/projects/${e}`),create:e=>ye.post("/projects",e),delete:e=>ye.delete(`/projects/${e}`),sync:e=>ye.post(`/projects/${e}/sync`),listPlans:(e,t={})=>ye.get(`/plans${rn({...t,project_slug:e})}`),getRoadmap:e=>ye.get(`/projects/${e}/roadmap`),listMilestones:(e,t={})=>ye.get(`/projects/${e}/milestones${rn(t)}`),createMilestone:(e,t)=>ye.post(`/projects/${e}/milestones`,t),getMilestone:e=>ye.get(`/milestones/${e}`),updateMilestone:(e,t)=>ye.patch(`/milestones/${e}`,t),addTaskToMilestone:(e,t)=>ye.post(`/milestones/${e}/tasks`,{task_id:t}),getMilestoneProgress:e=>ye.get(`/milestones/${e}/progress`),listReleases:(e,t={})=>ye.get(`/projects/${e}/releases${rn(t)}`),createRelease:(e,t)=>ye.post(`/projects/${e}/releases`,t),getRelease:e=>ye.get(`/releases/${e}`),updateRelease:(e,t)=>ye.patch(`/releases/${e}`,t),addTaskToRelease:(e,t)=>ye.post(`/releases/${e}/tasks`,{task_id:t}),addCommitToRelease:(e,t)=>ye.post(`/releases/${e}/commits`,{commit_sha:t})},Ct={list:(e={})=>ye.get(`/plans${rn(e)}`),get:e=>ye.get(`/plans/${e}`),create:e=>ye.post("/plans",e),updateStatus:(e,t)=>ye.patch(`/plans/${e}`,{status:t}),delete:e=>ye.delete(`/plans/${e}`),linkToProject:(e,t)=>ye.put(`/plans/${e}/project`,{project_id:t}),unlinkFromProject:e=>ye.delete(`/plans/${e}/project`),getDependencyGraph:e=>ye.get(`/plans/${e}/dependency-graph`),getCriticalPath:e=>ye.get(`/plans/${e}/critical-path`),createTask:(e,t)=>ye.post(`/plans/${e}/tasks`,t),getNextTask:e=>ye.get(`/plans/${e}/next-task`),listConstraints:e=>ye.get(`/plans/${e}/constraints`),addConstraint:(e,t)=>ye.post(`/plans/${e}/constraints`,t),deleteConstraint:e=>ye.delete(`/constraints/${e}`),getCommits:e=>ye.get(`/plans/${e}/commits`),linkCommit:(e,t)=>ye.post(`/plans/${e}/commits`,{commit_sha:t})},Ot={list:(e={})=>ye.get(`/tasks${rn(e)}`),get:e=>ye.get(`/tasks/${e}`),update:(e,t)=>ye.patch(`/tasks/${e}`,t),delete:e=>ye.delete(`/tasks/${e}`),addDependencies:(e,t)=>ye.post(`/tasks/${e}/dependencies`,{dependency_ids:t}),removeDependency:(e,t)=>ye.delete(`/tasks/${e}/dependencies/${t}`),getBlockers:e=>ye.get(`/tasks/${e}/blockers`),getBlocking:e=>ye.get(`/tasks/${e}/blocking`),listSteps:e=>ye.get(`/tasks/${e}/steps`),addStep:(e,t)=>ye.post(`/tasks/${e}/steps`,t),updateStep:(e,t)=>ye.patch(`/steps/${e}`,{status:t}),deleteStep:e=>ye.delete(`/steps/${e}`),getStepProgress:e=>ye.get(`/tasks/${e}/steps/progress`),addDecision:(e,t)=>ye.post(`/tasks/${e}/decisions`,t),getCommits:e=>ye.get(`/tasks/${e}/commits`),linkCommit:(e,t)=>ye.post(`/tasks/${e}/commits`,{commit_sha:t}),getContext:(e,t)=>ye.get(`/plans/${e}/tasks/${t}/context`),getPrompt:(e,t)=>ye.get(`/plans/${e}/tasks/${t}/prompt`)},Wc={list:(e={})=>ye.get(`/notes${rn(e)}`),get:e=>ye.get(`/notes/${e}`),create:e=>ye.post("/notes",e),update:(e,t)=>ye.patch(`/notes/${e}`,t),delete:e=>ye.delete(`/notes/${e}`),search:e=>ye.get(`/notes/search${rn(e)}`),getNeedsReview:e=>ye.get(`/notes/needs-review${rn({project_id:e})}`),updateStaleness:()=>ye.post("/notes/update-staleness"),confirm:e=>ye.post(`/notes/${e}/confirm`),invalidate:(e,t)=>ye.post(`/notes/${e}/invalidate`,{reason:t}),supersede:(e,t)=>ye.post(`/notes/${e}/supersede`,t),linkToEntity:(e,t,n)=>ye.post(`/notes/${e}/links`,{entity_type:t,entity_id:n}),unlinkFromEntity:(e,t,n)=>ye.delete(`/notes/${e}/links/${t}/${n}`),getContextNotes:(e,t,n={})=>ye.get(`/notes/context${rn({entity_type:e,entity_id:t,...n})}`),getProjectNotes:e=>ye.get(`/projects/${e}/notes`)},WE={search:(e,t={})=>ye.get(`/code/search${rn({query:e,...t})}`),searchInProject:(e,t,n={})=>ye.get(`/projects/${e}/code/search${rn({query:t,...n})}`),getFileSymbols:e=>ye.get(`/code/symbols/${encodeURIComponent(e)}`),findReferences:(e,t)=>ye.get(`/code/references${rn({symbol:e,limit:t})}`),getFileDependencies:e=>ye.get(`/code/dependencies/${encodeURIComponent(e)}`),getCallGraph:(e,t)=>ye.get(`/code/callgraph${rn({function:e,limit:t})}`),analyzeImpact:e=>ye.get(`/code/impact${rn({target:e})}`),getArchitecture:()=>ye.get("/code/architecture"),findSimilarCode:(e,t)=>ye.post("/code/similar",{snippet:e,limit:t}),findTraitImplementations:(e,t)=>ye.get(`/code/trait-impls${rn({trait_name:e,limit:t})}`),findTypeTraits:(e,t)=>ye.get(`/code/type-traits${rn({type_name:e,limit:t})}`),getImplBlocks:(e,t)=>ye.get(`/code/impl-blocks${rn({type_name:e,limit:t})}`)},mh={list:(e={})=>ye.get(`/feature-graphs${rn(e)}`),get:e=>ye.get(`/feature-graphs/${e}`),delete:e=>ye.delete(`/feature-graphs/${e}`)},Ms={createSession:e=>ye.post("/chat/sessions",e),listSessions:(e={})=>ye.get(`/chat/sessions${rn(e)}`),getSession:e=>ye.get(`/chat/sessions/${e}`),deleteSession:e=>ye.delete(`/chat/sessions/${e}`),getMessages:(e,t={})=>ye.get(`/chat/sessions/${e}/messages${rn(t)}`),searchMessages:e=>ye.get(`/chat/search${rn(e)}`),getPermissionConfig:()=>ye.get("/chat/config/permissions"),updatePermissionConfig:e=>ye.put("/chat/config/permissions",e)},Qg=1e3,E7=3e4,j7=10;class C7{constructor(){Cn(this,"ws",null);Cn(this,"_lastEventSeq",0);Cn(this,"reconnectAttempts",0);Cn(this,"reconnectDelay",Qg);Cn(this,"reconnectTimer",null);Cn(this,"shouldReconnect",!0);Cn(this,"_status","disconnected");Cn(this,"_sessionId",null);Cn(this,"_isReplaying",!1);Cn(this,"authenticated",!1);Cn(this,"onEvent",null);Cn(this,"onStatusChange",null);Cn(this,"onReplayComplete",null)}get status(){return this._status}get lastEventSeq(){return this._lastEventSeq}get sessionId(){return this._sessionId}get isReplaying(){return this._isReplaying}setCallbacks(t){t.onEvent&&(this.onEvent=t.onEvent),t.onStatusChange&&(this.onStatusChange=t.onStatusChange),t.onReplayComplete&&(this.onReplayComplete=t.onReplayComplete)}connect(t,n=0){var r,s;this.ws&&this._sessionId!==t&&this.disconnect(),!(((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN||((s=this.ws)==null?void 0:s.readyState)===WebSocket.CONNECTING)&&(this._sessionId=t,this._lastEventSeq=n,this.shouldReconnect=!0,this._isReplaying=!0,this.setStatus("connecting"),Vh()==="none"?this.openSocket(t,n,null):N_().then(o=>{o?this.openSocket(t,n,o):Oi()}))}openSocket(t,n,r){const s=v_(`/ws/chat/${t}?last_event=${n}`);try{this.ws=new WebSocket(s)}catch{this.scheduleReconnect();return}this.ws.onopen=()=>{this.reconnectDelay=Qg,this.reconnectAttempts=0,r&&this.ws&&this.ws.send(JSON.stringify({type:"auth",token:r}))},this.ws.onmessage=o=>{var l,u;try{const d=JSON.parse(o.data);if(!this.authenticated){if(d.type==="auth_ok"){this.authenticated=!0,this.setStatus("connected");return}if(d.type==="auth_error"){this.shouldReconnect=!1,(l=this.ws)==null||l.close(),Oi();return}}if(d.type==="replay_complete"){this._isReplaying=!1,(u=this.onReplayComplete)==null||u.call(this);return}if(d.type==="events_lagged"){console.warn(`Chat WS: lagged, ${d.skipped} events skipped`);return}if(d.type==="session_closed"){this.shouldReconnect=!1,this.setStatus("disconnected");return}typeof d.seq=="number"&&d.seq>this._lastEventSeq&&(this._lastEventSeq=d.seq),this.onEvent&&this.onEvent(d)}catch{}},this.ws.onclose=()=>{this.ws=null,this._isReplaying=!1,this.authenticated=!1,this.shouldReconnect?(this.setStatus("reconnecting"),this.scheduleReconnect()):this.setStatus("disconnected")},this.ws.onerror=()=>{}}disconnect(){this.shouldReconnect=!1,this._isReplaying=!1,this.authenticated=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&(this.ws.onmessage=null,this.ws.onclose=null,this.ws.onerror=null,this.ws.close(),this.ws=null),this._sessionId=null,this.reconnectAttempts=0,this.reconnectDelay=Qg,this.setStatus("disconnected")}send(t){return!this.ws||this.ws.readyState!==WebSocket.OPEN?(console.warn("Chat WS: cannot send, not connected"),!1):(this.ws.send(JSON.stringify(t)),!0)}sendUserMessage(t){return this.send({type:"user_message",content:t})}sendInterrupt(){return this.send({type:"interrupt"})}sendPermissionResponse(t,n){return this.send({type:"permission_response",id:t,allow:n})}sendInputResponse(t,n){return this.send({type:"input_response",id:t,content:n})}sendSetPermissionMode(t){return this.send({type:"set_permission_mode",mode:t})}setStatus(t){var n;this._status=t,(n=this.onStatusChange)==null||n.call(this,t)}scheduleReconnect(){if(!this.reconnectTimer){if(this.reconnectAttempts++,this.reconnectAttempts>j7){console.error("Chat WS: max reconnect attempts reached"),this.setStatus("disconnected"),this.shouldReconnect=!1;return}this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this._sessionId&&this.shouldReconnect&&this.connect(this._sessionId,this._lastEventSeq)},this.reconnectDelay),this.reconnectDelay=Math.min(this.reconnectDelay*2,E7)}}}let T7=0;function dn(){return`block-${++T7}`}function Wn(e){return(e.data??e).parent_tool_use_id??void 0}function On(e,t){return t?{...e,parent_tool_use_id:t}:e}let A7=0;function cl(){return`msg-${++A7}`}const Jg=50;function KE(e){var r;const t=[];function n(){let s=t[t.length-1];return(!s||s.role!=="assistant")&&(s={id:cl(),role:"assistant",blocks:[],timestamp:new Date},t.push(s)),s}for(const s of e){const o=s.type,l=s.created_at?new Date(s.created_at*1e3):new Date;switch(o){case"user_message":{t.push({id:s.id||cl(),role:"user",blocks:[{id:dn(),type:"text",content:s.content??""}],timestamp:l});break}case"assistant_text":{const u=s.content??"";if(u){const d=n(),f=Wn(s);d.blocks.push({id:dn(),type:"text",content:u,metadata:On(void 0,f)})}break}case"thinking":{const u=n(),d=Wn(s);u.blocks.push({id:dn(),type:"thinking",content:s.content??"",metadata:On(void 0,d)});break}case"tool_use":{const u=n(),d=s.tool??"",f=s.id??"",p=s.input??{},m=Wn(s);if(d==="AskUserQuestion"){const g=p==null?void 0:p.questions;g&&g.length>0&&u.blocks.push({id:dn(),type:"ask_user_question",content:g.map(b=>b.question).join(`
`),metadata:On({tool_call_id:f,questions:g},m)})}else u.blocks.push({id:dn(),type:"tool_use",content:d,metadata:On({tool_call_id:f,tool_name:d,tool_input:p},m)});break}case"tool_use_input_resolved":{const u=s.id,d=s.input??{};for(let f=t.length-1;f>=0;f--){const p=t[f];for(let m=0;m<p.blocks.length;m++){const g=p.blocks[m];g.type==="tool_use"&&((r=g.metadata)==null?void 0:r.tool_call_id)===u&&(p.blocks[m]={...g,metadata:{...g.metadata,tool_input:d}})}}break}case"tool_result":{const u=n(),d=s.result,f=typeof d=="string"?d:JSON.stringify(d),p=Wn(s);u.blocks.push({id:dn(),type:"tool_result",content:f,metadata:On({tool_call_id:s.id,is_error:s.is_error},p)});break}case"permission_request":{const u=n(),d=Wn(s);u.blocks.push({id:dn(),type:"permission_request",content:`Tool "${s.tool}" wants to execute`,metadata:On({tool_call_id:s.id,tool_name:s.tool,tool_input:s.input},d)});break}case"input_request":{const u=n(),d=Wn(s);u.blocks.push({id:dn(),type:"input_request",content:s.prompt??"",metadata:On({request_id:s.prompt,options:s.options},d)});break}case"ask_user_question":{const u=n(),d=s.questions,f=Wn(s);d&&d.length>0&&u.blocks.push({id:dn(),type:"ask_user_question",content:d.map(p=>p.question).join(`
`),metadata:On({questions:d},f)});break}case"error":{const u=n(),d=Wn(s);u.blocks.push({id:dn(),type:"error",content:s.message??"Unknown error",metadata:On(void 0,d)});break}}}return t}function M7(){const[e,t]=ht(e7),[n,r]=ht(t7),[s,o]=ht(n7),[l,u]=ht(r7),[d,f]=ht(cO),[p,m]=ht(s7),[g,b]=S.useState([]),[y,v]=S.useState(!1),_=S.useRef(null),[N,j]=S.useState(!1),[k,C]=S.useState(null),A=S.useRef(!1),[T,M]=S.useState(!1),[z,$]=S.useState(!1),D=S.useRef({offset:0,totalCount:0}),I=S.useCallback(()=>(_.current||(_.current=new C7),_.current),[]),F=S.useRef(p);S.useEffect(()=>{F.current=p},[p]);const K=S.useCallback(P=>{var O;if(P.type==="permission_request"&&!P.replaying){const H=P.tool??"";if(F.current.has(H)){const Z=P.id??"",Q=_.current;Q&&Z&&Q.sendPermissionResponse(Z,!0),b(ie=>{const ee=[...ie];let re=ee[ee.length-1];!re||re.role!=="assistant"?(re={id:cl(),role:"assistant",blocks:[],timestamp:new Date},ee.push(re)):(re={...re,blocks:[...re.blocks]},ee[ee.length-1]=re);const ue=Wn(P);return re.blocks.push({id:dn(),type:"permission_request",content:`Tool "${H}" wants to execute`,metadata:On({tool_call_id:Z,tool_name:H,tool_input:P.input,auto_approved:!0},ue)}),ee});return}}if(P.type==="streaming_status"){const H=!!P.is_streaming;r(H);return}if(P.type==="user_message"){const H=P.replaying?((O=P.data)==null?void 0:O.content)??P.content:P.content;if(!H)return;b(Z=>{var Q;for(let ie=Z.length-1;ie>=Math.max(0,Z.length-10);ie--){const ee=Z[ie];if(ee.role==="user"&&((Q=ee.blocks[0])==null?void 0:Q.content)===H)return Z}return[...Z,{id:cl(),role:"user",blocks:[{id:dn(),type:"text",content:H}],timestamp:new Date}]});return}b(H=>{var ie,ee,re,ue,ge;const Z=[...H];let Q=Z[Z.length-1];switch(!Q||Q.role!=="assistant"?(Q={id:cl(),role:"assistant",blocks:[],timestamp:new Date},Z.push(Q)):(Q={...Q,blocks:[...Q.blocks]},Z[Z.length-1]=Q),P.type){case"stream_delta":{const J=Q.blocks[Q.blocks.length-1],ae=P.text,pe=Wn(P);J&&J.type==="text"&&((ie=J.metadata)==null?void 0:ie.parent_tool_use_id)===pe?Q.blocks[Q.blocks.length-1]={...J,content:J.content+ae}:Q.blocks.push({id:dn(),type:"text",content:ae,metadata:On(void 0,pe)});break}case"assistant_text":if(P.replaying){const J=P.content,ae=P.data,pe=(ae==null?void 0:ae.content)??J??"";if(pe){const ve=Wn(P);Q.blocks.push({id:dn(),type:"text",content:pe,metadata:On(void 0,ve)})}}break;case"thinking":{const J=P.replaying?((ee=P.data)==null?void 0:ee.content)??P.content:P.content,ae=Wn(P),pe=Q.blocks[Q.blocks.length-1];!P.replaying&&pe&&pe.type==="thinking"&&((re=pe.metadata)==null?void 0:re.parent_tool_use_id)===ae?Q.blocks[Q.blocks.length-1]={...pe,content:pe.content+J}:Q.blocks.push({id:dn(),type:"thinking",content:J,metadata:On(void 0,ae)});break}case"tool_use":{const J=P.replaying?P.data??P:P,ae=J.tool??"",pe=J.id??"",ve=J.input??{},xe=Wn(P);if(ae==="AskUserQuestion"){const Se=ve==null?void 0:ve.questions;Se&&Se.length>0&&Q.blocks.push({id:dn(),type:"ask_user_question",content:Se.map(ze=>ze.question).join(`
`),metadata:On({tool_call_id:pe,questions:Se},xe)})}else Q.blocks.push({id:dn(),type:"tool_use",content:ae,metadata:On({tool_call_id:pe,tool_name:ae,tool_input:ve},xe)});break}case"tool_use_input_resolved":{const J=P.replaying?P.data??P:P,ae=J.id,pe=J.input??{};for(let ve=Z.length-1;ve>=0;ve--){const xe=Z[ve];for(let Se=0;Se<xe.blocks.length;Se++){const ze=xe.blocks[Se];if(ze.type==="tool_use"&&((ue=ze.metadata)==null?void 0:ue.tool_call_id)===ae){const tt={...xe,blocks:[...xe.blocks]};tt.blocks[Se]={...ze,metadata:{...ze.metadata,tool_input:pe}},Z[ve]=tt}}}break}case"tool_result":{const J=P.replaying?P.data??P:P,ae=J.result,pe=typeof ae=="string"?ae:JSON.stringify(ae),ve=J.id,xe=Wn(P);Q.blocks.push({id:dn(),type:"tool_result",content:pe,metadata:On({tool_call_id:ve,is_error:J.is_error},xe)});break}case"permission_request":{const J=P.replaying?P.data??P:P,ae=Wn(P);Q.blocks.push({id:dn(),type:"permission_request",content:`Tool "${J.tool}" wants to execute`,metadata:On({tool_call_id:J.id,tool_name:J.tool,tool_input:J.input},ae)});break}case"input_request":{const J=P.replaying?P.data??P:P,ae=Wn(P);Q.blocks.push({id:dn(),type:"input_request",content:J.prompt??"",metadata:On({request_id:J.prompt,options:J.options},ae)});break}case"ask_user_question":{const ae=(P.replaying?P.data??P:P).questions,pe=Wn(P);ae&&ae.length>0&&Q.blocks.push({id:dn(),type:"ask_user_question",content:ae.map(ve=>ve.question).join(`
`),metadata:On({questions:ae},pe)});break}case"error":{const J=P.replaying?P.data??P:P,ae=Wn(P);Q.blocks.push({id:dn(),type:"error",content:J.message??"Unknown error",metadata:On(void 0,ae)}),P.replaying||r(!1);break}case"partial_text":{const J=P.replaying?((ge=P.data)==null?void 0:ge.content)??P.content:P.content,ae=Wn(P);J&&Q.blocks.push({id:dn(),type:"text",content:J,metadata:On(void 0,ae)});break}case"permission_mode_changed":{const J=P.mode;J&&f(J);break}case"result":P.replaying||r(!1);break}return Z})},[r]);S.useEffect(()=>{I().setCallbacks({onEvent:K,onStatusChange:o,onReplayComplete:()=>{u(!1),v(!1)}})},[I,K,o,u]),S.useEffect(()=>()=>{var P;(P=_.current)==null||P.disconnect()},[]),S.useEffect(()=>{if(!e)return;const P=I();if(A.current){A.current=!1,D.current={offset:0,totalCount:0},M(!1),P.connect(e,Number.MAX_SAFE_INTEGER);return}if(P.sessionId===e&&P.status!=="disconnected")return;let O=!1;return v(!0),u(!0),b([]),D.current={offset:0,totalCount:0},M(!1),Ms.getMessages(e,{limit:1,offset:0}).then(H=>{if(O)return;const Z=H.total_count;if(Z===0){b([]),D.current={offset:0,totalCount:0},M(!1),v(!1),u(!1),P.connect(e,Number.MAX_SAFE_INTEGER);return}const Q=Math.max(0,Z-Jg);return Ms.getMessages(e,{limit:Jg,offset:Q}).then(ie=>{if(O)return;const ee=KE(ie.messages);b(ee),D.current={offset:Q,totalCount:ie.total_count},M(Q>0),v(!1),u(!1),P.connect(e,Number.MAX_SAFE_INTEGER)})}).catch(()=>{O||(v(!1),P.connect(e,0))}),()=>{O=!0}},[e,I,u]);const B=S.useCallback(async()=>{if(!(!e||z||!T)){$(!0);try{const{offset:P}=D.current,O=Math.max(0,P-Jg),H=P-O;if(H<=0){M(!1),$(!1);return}const Z=await Ms.getMessages(e,{limit:H,offset:O});if(Z.messages.length>0){const Q=KE(Z.messages);b(ie=>[...Q,...ie]),D.current={offset:O,totalCount:Z.total_count},M(O>0)}else M(!1)}catch{}finally{$(!1)}}},[e,z,T]),G=S.useCallback(async(P,O)=>{if(b(H=>[...H,{id:cl(),role:"user",blocks:[{id:dn(),type:"text",content:P}],timestamp:new Date}]),e){const H=I();r(!0),H.sendUserMessage(P)}else{j(!0),r(!0);try{const H=await Ms.createSession({message:P,cwd:O.cwd,project_slug:O==null?void 0:O.projectSlug,permission_mode:(O==null?void 0:O.permissionMode)??d??void 0});A.current=!0,t(H.session_id),O&&C({cwd:O.cwd,projectSlug:O.projectSlug}),d&&f(null)}finally{j(!1)}}},[e,t,r,I,d,f]),U=S.useCallback(async(P,O,H)=>{if(!e)return;I().sendPermissionResponse(P,O),H&&O&&m(Q=>{const ie=new Set(Q);return ie.add(H.toolName),ie})},[e,I,m]),Y=S.useCallback(async(P,O)=>{if(!e)return;I().sendInputResponse(P,O)},[e,I]),W=S.useCallback(async()=>{if(!e)return;I().sendInterrupt()},[e,I]),X=S.useCallback(()=>{I().disconnect(),t(null),r(!1),u(!1),b([]),C(null),M(!1),D.current={offset:0,totalCount:0},m(new Set),f(null)},[I,t,r,u,m,f]),L=S.useCallback(P=>{if(!e)return;I().sendSetPermissionMode(P),f(P)},[e,I,f]),q=S.useCallback(async P=>{if(P===e)return;I().disconnect(),t(P),r(!1),b([]),v(!0),u(!0),M(!1),D.current={offset:0,totalCount:0},Ms.getSession(P).then(H=>{C({cwd:H.cwd,projectSlug:H.project_slug}),f(H.permission_mode??null)}).catch(()=>{C(null)})},[e,I,t,r,u]);return{messages:g,isStreaming:n,isSending:N,isLoadingHistory:y,isLoadingOlder:z,isReplaying:l,hasOlderMessages:T,wsStatus:s,sessionId:e,sessionMeta:k,sendMessage:G,respondPermission:U,respondInput:Y,interrupt:W,newSession:X,loadSession:q,loadOlderMessages:B,changePermissionMode:L}}function R7(e){const t=At(uO);S.useEffect(()=>{const n=__(),r=n.onStatus(t);t(n.status),n.connect();let s;return e&&(s=n.on(e)),()=>{r(),s==null||s()}},[t,e])}const O7=500;function D7(){const e=At(fo),t=At(ja),n=At(Ca),r=At(Ml),s=At(dO),o=At(Hh),l=At(fO),u=S.useRef(new Map),d=S.useCallback(f=>{const p=f.entity_type,m=u.current.get(p);m&&clearTimeout(m),u.current.set(p,setTimeout(()=>{switch(u.current.delete(p),p){case"plan":case"decision":case"constraint":e(g=>g+1);break;case"task":case"step":t(g=>g+1);break;case"project":case"commit":case"release":n(g=>g+1);break;case"milestone":r(g=>g+1);break;case"note":s(g=>g+1);break;case"workspace":case"workspace_milestone":case"resource":case"component":o(g=>g+1);break;case"chat_session":l(g=>g+1);break}},O7))},[e,t,n,r,s,o,l]);R7(d)}function S_(e={}){const{closeOnScroll:t=!0}=e,[n,r]=S.useState(!1),s=S.useRef(null),o=S.useRef(null),[l,u]=S.useState({top:0,left:0,width:0}),d=S.useCallback(()=>{var v;if(!s.current)return;const m=s.current.getBoundingClientRect(),g=((v=o.current)==null?void 0:v.offsetHeight)||200,y=window.innerHeight-m.bottom<g&&m.top>g;u({top:y?m.top+window.scrollY-g-4:m.bottom+window.scrollY+4,left:m.left+window.scrollX,width:m.width})},[]),f=S.useCallback(()=>r(!1),[]),p=S.useCallback(()=>r(m=>!m),[]);return S.useEffect(()=>{if(!n)return;d();function m(y){const v=y.target;s.current&&!s.current.contains(v)&&o.current&&!o.current.contains(v)&&r(!1)}function g(y){y.key==="Escape"&&r(!1)}function b(y){t&&(o.current&&y.target instanceof Node&&o.current.contains(y.target)||r(!1))}return document.addEventListener("mousedown",m),document.addEventListener("keydown",g),window.addEventListener("scroll",b,!0),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",g),window.removeEventListener("scroll",b,!0)}},[n,d,t]),{isOpen:n,setIsOpen:r,toggle:p,close:f,position:l,triggerRef:s,menuRef:o}}const L7="this-rs/project-orchestrator",I7=1440*60*1e3,_O="orchestrator-update-dismissed",P7=1440*60*1e3;function YE(){return typeof window<"u"&&("__TAURI_INTERNALS__"in window||"__TAURI__"in window)}function XE(e){const n=e.replace(/^v/,"").split(".").map(Number);return n.length!==3||n.some(isNaN)?null:n}function z7(e,t){const n=XE(e),r=XE(t);return!n||!r?!1:r[0]!==n[0]?r[0]>n[0]:r[1]!==n[1]?r[1]>n[1]:r[2]>n[2]}function B7(e){try{const t=localStorage.getItem(_O);if(!t)return!1;const n=JSON.parse(t);return n.version!==e?!1:Date.now()-n.timestamp<P7}catch{return!1}}function $7(e){try{localStorage.setItem(_O,JSON.stringify({version:e,timestamp:Date.now()}))}catch{}}function U7(){const[e,t]=S.useState(!1),[n,r]=S.useState(null),[s,o]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState(!1),[p,m]=S.useState(!1),g=S.useRef(null),b=S.useCallback(async()=>{if(!YE())try{m(!0);const{getApiBase:v}=await hr(async()=>{const{getApiBase:T}=await Promise.resolve().then(()=>p7);return{getApiBase:T}},[]),_=await fetch(`${v()}/version`);if(!_.ok)return;const j=(await _.json()).version;o(j);const k=await fetch(`https://api.github.com/repos/${L7}/releases/latest`,{headers:{Accept:"application/vnd.github.v3+json"}});if(!k.ok)return;const C=await k.json(),A=C.tag_name.replace(/^v/,"");r(A),u(C.html_url),z7(j,A)?(t(!0),f(B7(A))):t(!1)}catch{}finally{m(!1)}},[]),y=S.useCallback(()=>{n&&$7(n),f(!0)},[n]);return S.useEffect(()=>{if(YE())return;const v=setTimeout(b,5e3);return g.current=setInterval(b,I7),()=>{clearTimeout(v),g.current&&clearInterval(g.current)}},[b]),{updateAvailable:e,latestVersion:n,currentVersion:s,releaseUrl:l,dismissed:d,dismiss:y,loading:p}}function q7(){const[e,t]=$u();S.useEffect(()=>{e.get("from")==="tray"&&t(n=>{const r=new URLSearchParams(n);return r.delete("from"),r},{replace:!0})},[e,t])}function NO(){return S.useCallback(e=>{if(!_n||e.button!==0)return;const t=e.target;t.closest("button")||t.closest("a")||t.closest("input")||t.closest("select")||t.closest("textarea")||t.closest('[role="button"]')||t.closest("[data-no-drag]")||(e.preventDefault(),hr(async()=>{const{getCurrentWindow:n}=await import("./window-DgZLKhRJ.js").then(r=>r.w);return{getCurrentWindow:n}},__vite__mapDeps([0,1,2])).then(({getCurrentWindow:n})=>{n().startDragging()}).catch(()=>{}))},[])}function SO(){const[e,t]=S.useState(!1),n=S.useRef(null),r=S.useRef(null),s=S.useCallback(async()=>{try{if(Math.abs(window.innerWidth-screen.width)<=2&&Math.abs(window.innerHeight-screen.height)<=2){t(!0);return}const{getCurrentWindow:u}=await hr(async()=>{const{getCurrentWindow:f}=await import("./window-DgZLKhRJ.js").then(p=>p.w);return{getCurrentWindow:f}},__vite__mapDeps([0,1,2])),d=await u().isFullscreen();t(d)}catch{const l=Math.abs(window.innerWidth-screen.width)<=2&&Math.abs(window.innerHeight-screen.height)<=2;t(l)}},[]),o=S.useCallback(()=>{n.current&&clearTimeout(n.current),r.current&&clearTimeout(r.current),n.current=setTimeout(()=>{s()},300),r.current=setTimeout(()=>{s()},800)},[s]);return S.useEffect(()=>{if(!_n)return;const l=[];return s(),(async()=>{try{const{getCurrentWindow:u}=await hr(async()=>{const{getCurrentWindow:g}=await import("./window-DgZLKhRJ.js").then(b=>b.w);return{getCurrentWindow:g}},__vite__mapDeps([0,1,2])),d=u(),f=await d.onResized(o);l.push(f);const p=await d.onMoved(o);l.push(p);const m=await d.onFocusChanged(o);l.push(m)}catch{}})(),window.addEventListener("resize",o),l.push(()=>window.removeEventListener("resize",o)),()=>{n.current&&clearTimeout(n.current),r.current&&clearTimeout(r.current),l.forEach(u=>u())}},[s,o]),e}function Wh({trigger:e,options:t,onSelect:n,disabled:r=!1,className:s=""}){const{isOpen:o,toggle:l,close:u,position:d,triggerRef:f,menuRef:p}=S_(),m=g=>{n(g),u()};return a.jsxs("div",{ref:f,className:`relative inline-block ${s}`,children:[a.jsx("div",{onClick:g=>{g.preventDefault(),g.stopPropagation(),r||l()},className:r?"cursor-not-allowed opacity-50":"cursor-pointer",children:e}),o&&ms.createPortal(a.jsx("div",{ref:p,className:"fixed z-[9999] min-w-[120px] rounded-lg bg-[#232733] border border-white/[0.1] shadow-[0_4px_12px_rgba(0,0,0,0.4)] py-1",style:{top:d.top,left:d.left,position:"absolute"},children:t.map(g=>a.jsxs("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),m(g.value)},className:"w-full px-3 py-2 text-left text-sm text-gray-200 hover:bg-white/[0.06] flex items-center gap-2 transition-colors",children:[g.icon,g.label]},g.value))}),document.body)]})}const F7={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};function wr({size:e="md",className:t=""}){return a.jsxs("svg",{className:`animate-spin text-indigo-500 ${F7[e]} ${t}`,fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function _r(){return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(wr,{size:"lg"})})}const H7={default:"bg-white/[0.08] text-gray-200 ring-gray-500/20",success:"bg-green-900/50 text-green-400 ring-green-500/20",warning:"bg-yellow-900/50 text-yellow-400 ring-yellow-500/20",error:"bg-red-900/50 text-red-400 ring-red-500/20",info:"bg-blue-900/50 text-blue-400 ring-blue-500/20",purple:"bg-purple-900/50 text-purple-400 ring-purple-500/20"};function vt({children:e,variant:t="default",className:n=""}){return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold ring-1 ring-inset ${H7[t]} ${n}`,children:e})}const ho={label:"Unknown",variant:"default"};function gh({status:e}){const t={pending:{label:"Pending",variant:"default"},in_progress:{label:"In Progress",variant:"info"},blocked:{label:"Blocked",variant:"warning"},completed:{label:"Completed",variant:"success"},failed:{label:"Failed",variant:"error"}},{label:n,variant:r}=e&&t[e]||ho;return a.jsx(vt,{variant:r,children:n})}function G7({status:e}){const t={active:{label:"Active",variant:"success"},needs_review:{label:"Needs Review",variant:"warning"},stale:{label:"Stale",variant:"default"},obsolete:{label:"Obsolete",variant:"error"},archived:{label:"Archived",variant:"default"}},{label:n,variant:r}=e&&t[e]||ho;return a.jsx(vt,{variant:r,children:n})}function V7({importance:e}){const t={low:{label:"Low",variant:"default"},medium:{label:"Medium",variant:"info"},high:{label:"High",variant:"warning"},critical:{label:"Critical",variant:"error"}},{label:n,variant:r}=e&&t[e]||ho;return a.jsx(vt,{variant:r,children:n})}function W7({status:e,onStatusChange:t,disabled:n=!1}){const[r,s]=S.useState(!1),o={planned:{label:"Planned",variant:"default"},open:{label:"Open",variant:"info"},in_progress:{label:"In Progress",variant:"warning"},completed:{label:"Completed",variant:"success"},closed:{label:"Closed",variant:"purple"}},l=[{value:"planned",label:"Planned"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"closed",label:"Closed"}],u=async m=>{if(m!==e){s(!0);try{await t(m)}finally{s(!1)}}},d=e==null?void 0:e.toLowerCase(),{label:f,variant:p}=d&&o[d]||ho;return r?a.jsxs(vt,{variant:p,children:[a.jsx(wr,{size:"sm",className:"mr-1"}),f]}):a.jsx(Wh,{trigger:a.jsx(vt,{variant:p,className:"cursor-pointer hover:opacity-80",children:f}),options:l,onSelect:u,disabled:n})}function kO({status:e,onStatusChange:t,disabled:n=!1}){const[r,s]=S.useState(!1),o={draft:{label:"Draft",variant:"default"},approved:{label:"Approved",variant:"info"},in_progress:{label:"In Progress",variant:"purple"},completed:{label:"Completed",variant:"success"},cancelled:{label:"Cancelled",variant:"error"}},l=[{value:"draft",label:"Draft"},{value:"approved",label:"Approved"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],u=async p=>{if(p!==e){s(!0);try{await t(p)}finally{s(!1)}}},{label:d,variant:f}=e&&o[e]||ho;return r?a.jsxs(vt,{variant:f,children:[a.jsx(wr,{size:"sm",className:"mr-1"}),d]}):a.jsx(Wh,{trigger:a.jsx(vt,{variant:f,className:"cursor-pointer hover:opacity-80",children:d}),options:l,onSelect:u,disabled:n})}function EO({status:e,onStatusChange:t,disabled:n=!1}){const[r,s]=S.useState(!1),o={pending:{label:"Pending",variant:"default"},in_progress:{label:"In Progress",variant:"info"},blocked:{label:"Blocked",variant:"warning"},completed:{label:"Completed",variant:"success"},failed:{label:"Failed",variant:"error"}},l=[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],u=async p=>{if(p!==e){s(!0);try{await t(p)}finally{s(!1)}}},{label:d,variant:f}=e&&o[e]||ho;return r?a.jsxs(vt,{variant:f,children:[a.jsx(wr,{size:"sm",className:"mr-1"}),d]}):a.jsx(Wh,{trigger:a.jsx(vt,{variant:f,className:"cursor-pointer hover:opacity-80",children:d}),options:l,onSelect:u,disabled:n})}function K7({status:e,onStatusChange:t,disabled:n=!1}){const[r,s]=S.useState(!1),o={pending:{label:"Pending",variant:"default"},in_progress:{label:"In Progress",variant:"info"},completed:{label:"Completed",variant:"success"},skipped:{label:"Skipped",variant:"warning"}},l=[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"skipped",label:"Skipped"}],u=async p=>{if(p!==e){s(!0);try{await t(p)}finally{s(!1)}}},{label:d,variant:f}=e&&o[e]||ho;return r?a.jsxs(vt,{variant:f,children:[a.jsx(wr,{size:"sm",className:"mr-1"}),d]}):a.jsx(Wh,{trigger:a.jsx(vt,{variant:f,className:"cursor-pointer hover:opacity-80",children:d}),options:l,onSelect:u,disabled:n})}function Ye({children:e,className:t="",onClick:n}){return a.jsx("div",{className:`bg-[#1a1d27] rounded-xl border border-white/[0.06] shadow-[0_1px_2px_rgba(0,0,0,0.3)] overflow-hidden ${n?"cursor-pointer hover:border-white/[0.16] hover:shadow-[0_4px_12px_rgba(0,0,0,0.4)] transition-all duration-150":""} ${t}`,onClick:n,children:e})}function Dt({children:e,className:t=""}){return a.jsx("div",{className:`px-4 py-3 border-b border-white/[0.06] ${t}`,children:e})}function Lt({children:e,className:t=""}){return a.jsx("h3",{className:`text-lg font-semibold text-gray-100 ${t}`,children:e})}function nt({children:e,className:t=""}){return a.jsx("div",{className:`p-4 ${t}`,children:e})}const st=S.forwardRef(({label:e,error:t,className:n="",...r},s)=>a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:e}),a.jsx("input",{ref:s,className:`
            w-full px-3 py-2 bg-[#0f1117] border border-white/[0.1] rounded-lg
            text-gray-100 placeholder-gray-500
            focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent
            disabled:opacity-50 disabled:cursor-not-allowed
            ${t?"border-red-500":""}
            ${n}
          `,...r}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:t})]}));st.displayName="Input";function Y7({className:e="",...t}){return a.jsxs("div",{className:`relative ${e}`,children:[a.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx(st,{className:"pl-10",placeholder:"Search...",...t})]})}const bs=S.forwardRef(({label:e,error:t,className:n="",...r},s)=>a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:e}),a.jsx("textarea",{ref:s,className:`
            w-full px-3 py-2 bg-[#0f1117] border border-white/[0.1] rounded-lg
            text-gray-100 placeholder-gray-500
            focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent
            disabled:opacity-50 disabled:cursor-not-allowed
            resize-vertical min-h-[80px]
            ${t?"border-red-500":""}
            ${n}
          `,...r}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:t})]}));bs.displayName="Textarea";function Tn({options:e,value:t,onChange:n,label:r,error:s,disabled:o=!1,className:l="",placeholder:u,icon:d}){var $;const{isOpen:f,toggle:p,close:m,position:g,triggerRef:b,menuRef:y}=S_(),[v,_]=S.useState(-1),N=S.useId(),j=`${N}-listbox`,k=(($=e.find(D=>D.value===t))==null?void 0:$.label)||u||"",C=e.some(D=>D.value===t),A=D=>{n==null||n(D),m(),_(-1)},T=()=>{if(!o&&(p(),!f)){const D=e.findIndex(I=>I.value===t);_(D>=0?D:0)}},M=D=>{if(!o)switch(D.key){case"ArrowDown":if(D.preventDefault(),f)_(I=>I<e.length-1?I+1:0);else{p();const I=e.findIndex(F=>F.value===t);_(I>=0?I:0)}break;case"ArrowUp":D.preventDefault(),f&&_(I=>I>0?I-1:e.length-1);break;case"Enter":case" ":D.preventDefault(),f&&v>=0&&v<e.length?A(e[v].value):f||T();break;case"Escape":D.preventDefault(),m(),_(-1);break;case"Home":f&&(D.preventDefault(),_(0));break;case"End":f&&(D.preventDefault(),_(e.length-1));break}},z=v>=0?`${N}-option-${v}`:void 0;return a.jsxs("div",{className:`w-full ${l}`,children:[r&&a.jsx("label",{id:`${N}-label`,className:"block text-sm font-medium text-gray-300 mb-1",children:r}),a.jsx("div",{ref:b,className:"relative",children:a.jsxs("button",{type:"button",role:"combobox","aria-expanded":f,"aria-haspopup":"listbox","aria-controls":f?j:void 0,"aria-activedescendant":f?z:void 0,"aria-labelledby":r?`${N}-label`:void 0,onClick:T,onKeyDown:M,disabled:o,className:`
            w-full flex items-center gap-2 px-3 py-2 bg-[#0f1117] border rounded-lg
            text-left text-sm transition-colors
            focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent
            disabled:opacity-50 disabled:cursor-not-allowed
            ${f?"border-indigo-500 ring-2 ring-indigo-500":s?"border-red-500":"border-white/[0.1] hover:border-white/[0.2]"}
          `,children:[d&&a.jsx("span",{className:"shrink-0 text-gray-500",children:d}),a.jsx("span",{className:`flex-1 truncate ${C?"text-gray-100":"text-gray-500"}`,children:k}),a.jsx("svg",{className:`w-4 h-4 shrink-0 text-gray-500 transition-transform ${f?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]})}),s&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:s}),f&&ms.createPortal(a.jsx("div",{ref:y,id:j,role:"listbox","aria-labelledby":r?`${N}-label`:void 0,className:"fixed z-[9999] rounded-lg bg-[#232733] border border-white/[0.1] shadow-[0_4px_12px_rgba(0,0,0,0.4)] py-1 max-h-60 overflow-y-auto",style:{top:g.top,left:g.left,width:g.width,position:"absolute",minWidth:120},children:e.map((D,I)=>{const F=D.value===t,K=I===v;return a.jsxs("button",{id:`${N}-option-${I}`,role:"option","aria-selected":F,onClick:B=>{B.preventDefault(),B.stopPropagation(),A(D.value)},onMouseEnter:()=>_(I),className:`
                    w-full px-3 py-2 text-left text-sm flex items-center gap-2 transition-colors
                    ${K?"bg-white/[0.06]":""}
                    ${F?"text-indigo-400 font-medium":"text-gray-200"}
                  `,children:[F&&a.jsx("svg",{className:"w-3.5 h-3.5 shrink-0 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),!F&&a.jsx("span",{className:"w-3.5 shrink-0"}),D.label]},D.value)})}),document.body)]})}const X7={sm:"h-1",md:"h-2",lg:"h-3"};function Is({value:e,max:t=100,showLabel:n=!1,size:r="md",className:s=""}){const o=Math.min(100,Math.max(0,e/t*100));return a.jsxs("div",{className:s,children:[n&&a.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[o.toFixed(0),"%"]})]}),a.jsx("div",{className:`w-full bg-white/[0.08] rounded-full overflow-hidden ${X7[r]}`,children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]})}function ka({icon:e,title:t,description:n,action:r}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center border-2 border-dashed border-white/[0.06] rounded-2xl",children:[e&&a.jsx("div",{className:"w-16 h-16 rounded-full bg-white/[0.03] flex items-center justify-center text-gray-500 mb-4",children:e}),a.jsx("h3",{className:"text-lg font-medium text-gray-200 mb-1",children:t}),n&&a.jsx("p",{className:"text-sm text-gray-400 mb-4 max-w-xs sm:max-w-md",children:n}),r]})}function Pl({currentPage:e,totalPages:t,totalItems:n,pageSize:r,onPageChange:s,onPageSizeChange:o,pageSizeOptions:l=[10,25,50,100],className:u=""}){const d=e>1,f=e<t,p=()=>{if(t<=7)return Array.from({length:t},(_,N)=>N+1);const b=[];b.push(1),e>3&&b.push("ellipsis");const y=Math.max(2,e-1),v=Math.min(t-1,e+1);for(let _=y;_<=v;_++)b.includes(_)||b.push(_);return e<t-2&&b.push("ellipsis"),b.includes(t)||b.push(t),b},m=n===0?0:(e-1)*r+1,g=Math.min(e*r,n);return a.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between gap-4 ${u}`,children:[a.jsx("div",{className:"text-sm text-gray-400",children:n===0?"No items":a.jsxs(a.Fragment,{children:["Showing ",a.jsx("span",{className:"font-medium text-gray-200",children:m})," to"," ",a.jsx("span",{className:"font-medium text-gray-200",children:g})," of"," ",a.jsx("span",{className:"font-medium text-gray-200",children:n})," items"]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-400 whitespace-nowrap",children:"Per page:"}),a.jsx(Tn,{options:l.map(b=>({value:String(b),label:String(b)})),value:String(r),onChange:b=>o(Number(b)),className:"w-20"})]}),t>1&&a.jsxs("nav",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>s(e-1),disabled:!d,className:`px-3 py-2 md:py-1 rounded text-sm font-medium transition-colors ${d?"bg-white/[0.08] text-gray-200 hover:bg-white/[0.12]":"bg-white/[0.03] text-gray-500 cursor-not-allowed"}`,children:"Prev"}),a.jsxs("span",{className:"sm:hidden text-sm text-gray-400",children:[e," / ",t]}),a.jsx("div",{className:"hidden sm:flex items-center gap-1",children:p().map((b,y)=>b==="ellipsis"?a.jsx("span",{className:"px-2 text-gray-500",children:"..."},`ellipsis-${y}`):a.jsx("button",{onClick:()=>s(b),className:`min-w-[32px] px-2 py-1 rounded text-sm font-medium transition-colors ${b===e?"bg-indigo-600 text-white":"bg-white/[0.08] text-gray-200 hover:bg-white/[0.12]"}`,children:b},b))}),a.jsx("button",{onClick:()=>s(e+1),disabled:!f,className:`px-3 py-2 md:py-1 rounded text-sm font-medium transition-colors ${f?"bg-white/[0.08] text-gray-200 hover:bg-white/[0.12]":"bg-white/[0.03] text-gray-500 cursor-not-allowed"}`,children:"Next"})]})]})]})}function zl({value:e,onChange:t,className:n=""}){return a.jsxs("div",{className:`inline-flex rounded-lg bg-[#1a1d27] p-0.5 ${n}`,role:"group",children:[a.jsxs("button",{type:"button",onClick:()=>t("list"),"aria-pressed":e==="list",className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="list"?"bg-indigo-600 text-white shadow-sm":"text-gray-400 hover:text-gray-200"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),"List"]}),a.jsxs("button",{type:"button",onClick:()=>t("kanban"),"aria-pressed":e==="kanban",className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="kanban"?"bg-indigo-600 text-white shadow-sm":"text-gray-400 hover:text-gray-200"}`,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4v16M15 4v16M3 8h18M3 16h18"})}),"Board"]})]})}function Z7(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Q7=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,J7=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,e$={};function ZE(e,t){return(e$.jsx?J7:Q7).test(e)}const t$=/[ \t\n\f\r]/g;function n$(e){return typeof e=="object"?e.type==="text"?QE(e.value):!1:QE(e)}function QE(e){return e.replace(t$,"")===""}class Fu{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Fu.prototype.normal={};Fu.prototype.property={};Fu.prototype.space=void 0;function jO(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Fu(n,r,t)}function jw(e){return e.toLowerCase()}class Pr{constructor(t,n){this.attribute=n,this.property=t}}Pr.prototype.attribute="";Pr.prototype.booleanish=!1;Pr.prototype.boolean=!1;Pr.prototype.commaOrSpaceSeparated=!1;Pr.prototype.commaSeparated=!1;Pr.prototype.defined=!1;Pr.prototype.mustUseProperty=!1;Pr.prototype.number=!1;Pr.prototype.overloadedBoolean=!1;Pr.prototype.property="";Pr.prototype.spaceSeparated=!1;Pr.prototype.space=void 0;let r$=0;const et=po(),qn=po(),Cw=po(),je=po(),nn=po(),fl=po(),Wr=po();function po(){return 2**++r$}const Tw=Object.freeze(Object.defineProperty({__proto__:null,boolean:et,booleanish:qn,commaOrSpaceSeparated:Wr,commaSeparated:fl,number:je,overloadedBoolean:Cw,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),e0=Object.keys(Tw);class k_ extends Pr{constructor(t,n,r,s){let o=-1;if(super(t,n),JE(this,"space",s),typeof r=="number")for(;++o<e0.length;){const l=e0[o];JE(this,e0[o],(r&Tw[l])===Tw[l])}}}k_.prototype.defined=!0;function JE(e,t,n){n&&(e[t]=n)}function Bl(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new k_(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[jw(r)]=r,n[jw(o.attribute)]=r}return new Fu(t,n,e.space)}const CO=Bl({properties:{ariaActiveDescendant:null,ariaAtomic:qn,ariaAutoComplete:null,ariaBusy:qn,ariaChecked:qn,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:qn,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:qn,ariaFlowTo:nn,ariaGrabbed:qn,ariaHasPopup:null,ariaHidden:qn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:je,ariaLive:null,ariaModal:qn,ariaMultiLine:qn,ariaMultiSelectable:qn,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:qn,ariaReadOnly:qn,ariaRelevant:null,ariaRequired:qn,ariaRoleDescription:nn,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:qn,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function TO(e,t){return t in e?e[t]:t}function AO(e,t){return TO(e,t.toLowerCase())}const s$=Bl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fl,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:nn,autoFocus:et,autoPlay:et,blocking:nn,capture:null,charSet:null,checked:et,cite:null,className:nn,cols:je,colSpan:null,content:null,contentEditable:qn,controls:et,controlsList:nn,coords:je|fl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:Cw,draggable:qn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:nn,height:je,hidden:Cw,high:je,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:nn,itemRef:nn,itemScope:et,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:je,pattern:null,ping:nn,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:nn,required:et,reversed:et,rows:je,rowSpan:je,sandbox:nn,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:qn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:qn,width:je,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:qn,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:je,security:null,unselectable:null},space:"html",transform:AO}),i$=Bl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wr,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fl,g2:fl,glyphName:fl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:Wr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wr,rev:Wr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wr,requiredFeatures:Wr,requiredFonts:Wr,requiredFormats:Wr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:Wr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wr,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:TO}),MO=Bl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),RO=Bl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:AO}),OO=Bl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),a$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},o$=/[A-Z]/g,ej=/-[a-z]/g,l$=/^data[-\w.:]+$/i;function c$(e,t){const n=jw(t);let r=t,s=Pr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&l$.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(ej,d$);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!ej.test(o)){let l=o.replace(o$,u$);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=k_}return new s(r,t)}function u$(e){return"-"+e.toLowerCase()}function d$(e){return e.charAt(1).toUpperCase()}const f$=jO([CO,s$,MO,RO,OO],"html"),E_=jO([CO,i$,MO,RO,OO],"svg");function h$(e){return e.join(" ").trim()}var tl={},t0,tj;function p$(){if(tj)return t0;tj=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",g="comment",b="declaration";function y(_,N){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];N=N||{};var j=1,k=1;function C(B){var G=B.match(t);G&&(j+=G.length);var U=B.lastIndexOf(d);k=~U?B.length-U:k+B.length}function A(){var B={line:j,column:k};return function(G){return G.position=new T(B),$(),G}}function T(B){this.start=B,this.end={line:j,column:k},this.source=N.source}T.prototype.content=_;function M(B){var G=new Error(N.source+":"+j+":"+k+": "+B);if(G.reason=B,G.filename=N.source,G.line=j,G.column=k,G.source=_,!N.silent)throw G}function z(B){var G=B.exec(_);if(G){var U=G[0];return C(U),_=_.slice(U.length),G}}function $(){z(n)}function D(B){var G;for(B=B||[];G=I();)G!==!1&&B.push(G);return B}function I(){var B=A();if(!(f!=_.charAt(0)||p!=_.charAt(1))){for(var G=2;m!=_.charAt(G)&&(p!=_.charAt(G)||f!=_.charAt(G+1));)++G;if(G+=2,m===_.charAt(G-1))return M("End of comment missing");var U=_.slice(2,G-2);return k+=2,C(U),_=_.slice(G),k+=2,B({type:g,comment:U})}}function F(){var B=A(),G=z(r);if(G){if(I(),!z(s))return M("property missing ':'");var U=z(o),Y=B({type:b,property:v(G[0].replace(e,m)),value:U?v(U[0].replace(e,m)):m});return z(l),Y}}function K(){var B=[];D(B);for(var G;G=F();)G!==!1&&(B.push(G),D(B));return B}return $(),K()}function v(_){return _?_.replace(u,m):m}return t0=y,t0}var nj;function m$(){if(nj)return tl;nj=1;var e=tl&&tl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tl,"__esModule",{value:!0}),tl.default=n;const t=e(p$());function n(r,s){let o=null;if(!r||typeof r!="string")return o;const l=(0,t.default)(r),u=typeof s=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:p}=d;u?s(f,p,d):p&&(o=o||{},o[f]=p)}),o}return tl}var Kc={},rj;function g$(){if(rj)return Kc;rj=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,p){return p.toUpperCase()},u=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),o(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(s,u):f=f.replace(r,u),f.replace(t,l))};return Kc.camelCase=d,Kc}var Yc,sj;function x$(){if(sj)return Yc;sj=1;var e=Yc&&Yc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(m$()),n=g$();function r(s,o){var l={};return!s||typeof s!="string"||(0,t.default)(s,function(u,d){u&&d&&(l[(0,n.camelCase)(u,o)]=d)}),l}return r.default=r,Yc=r,Yc}var b$=x$();const y$=El(b$),DO=LO("end"),j_=LO("start");function LO(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function v$(e){const t=j_(e),n=DO(e);if(t&&n)return{start:t,end:n}}function cu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ij(e.position):"start"in e||"end"in e?ij(e):"line"in e||"column"in e?Aw(e):""}function Aw(e){return aj(e&&e.line)+":"+aj(e&&e.column)}function ij(e){return Aw(e&&e.start)+"-"+Aw(e&&e.end)}function aj(e){return e&&typeof e=="number"?e:1}class mr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(l=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=u?u.line:void 0,this.name=cu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}mr.prototype.file="";mr.prototype.name="";mr.prototype.reason="";mr.prototype.message="";mr.prototype.stack="";mr.prototype.column=void 0;mr.prototype.line=void 0;mr.prototype.ancestors=void 0;mr.prototype.cause=void 0;mr.prototype.fatal=void 0;mr.prototype.place=void 0;mr.prototype.ruleId=void 0;mr.prototype.source=void 0;const C_={}.hasOwnProperty,w$=new Map,_$=/[A-Z]/g,N$=new Set(["table","tbody","thead","tfoot","tr"]),S$=new Set(["td","th"]),IO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function k$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=O$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=R$(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?E_:f$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=PO(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function PO(e,t,n){if(t.type==="element")return E$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return j$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return T$(e,t,n);if(t.type==="mdxjsEsm")return C$(e,t);if(t.type==="root")return A$(e,t,n);if(t.type==="text")return M$(e,t)}function E$(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=E_,e.schema=s),e.ancestors.push(t);const o=BO(e,t.tagName,!1),l=D$(e,t);let u=A_(e,t);return N$.has(t.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!n$(d):!0})),zO(e,l,o,t),T_(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function j$(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}wu(e,t.position)}function C$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);wu(e,t.position)}function T$(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=E_,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:BO(e,t.name,!0),l=L$(e,t),u=A_(e,t);return zO(e,l,o,t),T_(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function A$(e,t,n){const r={};return T_(r,A_(e,t)),e.create(t,e.Fragment,r,n)}function M$(e,t){return t.value}function zO(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function T_(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function R$(e,t,n){return r;function r(s,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function O$(e,t){return n;function n(r,s,o,l){const u=Array.isArray(o.children),d=j_(r);return t(s,o,l,u,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function D$(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&C_.call(t.properties,s)){const o=I$(e,s,t.properties[s]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&S$.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function L$(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else wu(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else wu(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function A_(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:w$;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=s.get(d)||0;l=d+"-"+f,s.set(d,f+1)}}const u=PO(e,o,l);u!==void 0&&n.push(u)}return n}function I$(e,t,n){const r=c$(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Z7(n):h$(n)),r.property==="style"){let s=typeof n=="object"?n:P$(e,String(n));return e.stylePropertyNameCase==="css"&&(s=z$(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?a$[r.property]||r.property:r.attribute,n]}}function P$(e,t){try{return y$(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new mr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=IO+"#cannot-parse-style-attribute",s}}function BO(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,l;for(;++o<s.length;){const u=ZE(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=ZE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return C_.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);wu(e)}function wu(e,t){const n=new mr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=IO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function z$(e){const t={};let n;for(n in e)C_.call(e,n)&&(t[B$(n)]=e[n]);return t}function B$(e){let t=e.replace(_$,$$);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function $$(e){return"-"+e.toLowerCase()}const n0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},U$={};function M_(e,t){const n=U$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return $O(e,r,s)}function $O(e,t,n){if(q$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return oj(e.children,t,n)}return Array.isArray(e)?oj(e,t,n):""}function oj(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=$O(e[s],t,n);return r.join("")}function q$(e){return!!(e&&typeof e=="object")}const lj=document.createElement("i");function R_(e){const t="&"+e+";";lj.innerHTML=t;const n=lj.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Zr(e,t,n,r){const s=e.length;let o=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function ps(e,t){return e.length>0?(Zr(e,e.length,0,t),e):t}const cj={}.hasOwnProperty;function UO(e){const t={};let n=-1;for(;++n<e.length;)F$(t,e[n]);return t}function F$(e,t){let n;for(n in t){const s=(cj.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){cj.call(s,l)||(s[l]=[]);const u=o[l];H$(s[l],Array.isArray(u)?u:u?[u]:[])}}}function H$(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Zr(e,0,0,r)}function qO(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ls(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vr=Ta(/[A-Za-z]/),dr=Ta(/[\dA-Za-z]/),G$=Ta(/[#-'*+\--9=?A-Z^-~]/);function xh(e){return e!==null&&(e<32||e===127)}const Mw=Ta(/\d/),V$=Ta(/[\dA-Fa-f]/),W$=Ta(/[!-/:-@[-`{-~]/);function qe(e){return e!==null&&e<-2}function en(e){return e!==null&&(e<0||e===32)}function lt(e){return e===-2||e===-1||e===32}const Kh=Ta(new RegExp("\\p{P}|\\p{S}","u")),so=Ta(/\s/);function Ta(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function $l(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&dr(e.charCodeAt(n+1))&&dr(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),s=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function yt(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(d){return lt(d)?(e.enter(n),u(d)):t(d)}function u(d){return lt(d)&&o++<s?(e.consume(d),u):(e.exit(n),t(d))}}const K$={tokenize:Y$};function Y$(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),yt(e,t,"linePrefix")}function s(u){return e.enter("paragraph"),o(u)}function o(u){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return qe(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const X$={tokenize:Z$},uj={tokenize:Q$};function Z$(e){const t=this,n=[];let r=0,s,o,l;return u;function u(k){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,d,f)(k)}return f(k)}function d(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&j();const C=t.events.length;let A=C,T;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){T=t.events[A][1].end;break}N(r);let M=C;for(;M<t.events.length;)t.events[M][1].end={...T},M++;return Zr(t.events,A+1,0,t.events.slice(C)),t.events.length=M,f(k)}return u(k)}function f(k){if(r===n.length){if(!s)return g(k);if(s.currentConstruct&&s.currentConstruct.concrete)return y(k);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(uj,p,m)(k)}function p(k){return s&&j(),N(r),g(k)}function m(k){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,y(k)}function g(k){return t.containerState={},e.attempt(uj,b,y)(k)}function b(k){return r++,n.push([t.currentConstruct,t.containerState]),g(k)}function y(k){if(k===null){s&&j(),N(0),e.consume(k);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),v(k)}function v(k){if(k===null){_(e.exit("chunkFlow"),!0),N(0),e.consume(k);return}return qe(k)?(e.consume(k),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(k),v)}function _(k,C){const A=t.sliceStream(k);if(C&&A.push(null),k.previous=o,o&&(o.next=k),o=k,s.defineSkip(k.start),s.write(A),t.parser.lazy[k.start.line]){let T=s.events.length;for(;T--;)if(s.events[T][1].start.offset<l&&(!s.events[T][1].end||s.events[T][1].end.offset>l))return;const M=t.events.length;let z=M,$,D;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if($){D=t.events[z][1].end;break}$=!0}for(N(r),T=M;T<t.events.length;)t.events[T][1].end={...D},T++;Zr(t.events,z+1,0,t.events.slice(M)),t.events.length=T}}function N(k){let C=n.length;for(;C-- >k;){const A=n[C];t.containerState=A[1],A[0].exit.call(t,e)}n.length=k}function j(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function Q$(e,t,n){return yt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gl(e){if(e===null||en(e)||so(e))return 1;if(Kh(e))return 2}function Yh(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Rw={name:"attention",resolveAll:J$,tokenize:eU};function J$(e,t){let n=-1,r,s,o,l,u,d,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},g={...e[n][1].start};dj(m,-d),dj(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},o={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=ps(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=ps(f,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=ps(f,Yh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=ps(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=ps(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Zr(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function eU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=gl(r);let o;return l;function l(d){return o=d,e.enter("attentionSequence"),u(d)}function u(d){if(d===o)return e.consume(d),u;const f=e.exit("attentionSequence"),p=gl(d),m=!p||p===2&&s||n.includes(d),g=!s||s===2&&p||n.includes(r);return f._open=!!(o===42?m:m&&(s||!g)),f._close=!!(o===42?g:g&&(p||!m)),t(d)}}function dj(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const tU={name:"autolink",tokenize:nU};function nU(e,t,n){let r=0;return s;function s(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(b){return vr(b)?(e.consume(b),l):b===64?n(b):f(b)}function l(b){return b===43||b===45||b===46||dr(b)?(r=1,u(b)):f(b)}function u(b){return b===58?(e.consume(b),r=0,d):(b===43||b===45||b===46||dr(b))&&r++<32?(e.consume(b),u):(r=0,f(b))}function d(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||xh(b)?n(b):(e.consume(b),d)}function f(b){return b===64?(e.consume(b),p):G$(b)?(e.consume(b),f):n(b)}function p(b){return dr(b)?m(b):n(b)}function m(b){return b===46?(e.consume(b),r=0,p):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):g(b)}function g(b){if((b===45||dr(b))&&r++<63){const y=b===45?g:m;return e.consume(b),y}return n(b)}}const Hu={partial:!0,tokenize:rU};function rU(e,t,n){return r;function r(o){return lt(o)?yt(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||qe(o)?t(o):n(o)}}const FO={continuation:{tokenize:iU},exit:aU,name:"blockQuote",tokenize:sU};function sU(e,t,n){const r=this;return s;function s(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return lt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function iU(e,t,n){const r=this;return s;function s(l){return lt(l)?yt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(FO,t,n)(l)}}function aU(e){e.exit("blockQuote")}const HO={name:"characterEscape",tokenize:oU};function oU(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return W$(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const GO={name:"characterReference",tokenize:lU};function lU(e,t,n){const r=this;let s=0,o,l;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),d}function d(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=dr,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=V$,p):(e.enter("characterReferenceValue"),o=7,l=Mw,p(m))}function p(m){if(m===59&&s){const g=e.exit("characterReferenceValue");return l===dr&&!R_(r.sliceSerialize(g))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(m)&&s++<o?(e.consume(m),p):n(m)}}const fj={partial:!0,tokenize:uU},hj={concrete:!0,name:"codeFenced",tokenize:cU};function cU(e,t,n){const r=this,s={partial:!0,tokenize:A};let o=0,l=0,u;return d;function d(T){return f(T)}function f(T){const M=r.events[r.events.length-1];return o=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,u=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(T)}function p(T){return T===u?(l++,e.consume(T),p):l<3?n(T):(e.exit("codeFencedFenceSequence"),lt(T)?yt(e,m,"whitespace")(T):m(T))}function m(T){return T===null||qe(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(fj,v,C)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===null||qe(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(T)):lt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yt(e,b,"whitespace")(T)):T===96&&T===u?n(T):(e.consume(T),g)}function b(T){return T===null||qe(T)?m(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||qe(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(T)):T===96&&T===u?n(T):(e.consume(T),y)}function v(T){return e.attempt(s,C,_)(T)}function _(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),N}function N(T){return o>0&&lt(T)?yt(e,j,"linePrefix",o+1)(T):j(T)}function j(T){return T===null||qe(T)?e.check(fj,v,C)(T):(e.enter("codeFlowValue"),k(T))}function k(T){return T===null||qe(T)?(e.exit("codeFlowValue"),j(T)):(e.consume(T),k)}function C(T){return e.exit("codeFenced"),t(T)}function A(T,M,z){let $=0;return D;function D(G){return T.enter("lineEnding"),T.consume(G),T.exit("lineEnding"),I}function I(G){return T.enter("codeFencedFence"),lt(G)?yt(T,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):F(G)}function F(G){return G===u?(T.enter("codeFencedFenceSequence"),K(G)):z(G)}function K(G){return G===u?($++,T.consume(G),K):$>=l?(T.exit("codeFencedFenceSequence"),lt(G)?yt(T,B,"whitespace")(G):B(G)):z(G)}function B(G){return G===null||qe(G)?(T.exit("codeFencedFence"),M(G)):z(G)}}}function uU(e,t,n){const r=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const r0={name:"codeIndented",tokenize:fU},dU={partial:!0,tokenize:hU};function fU(e,t,n){const r=this;return s;function s(f){return e.enter("codeIndented"),yt(e,o,"linePrefix",5)(f)}function o(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):qe(f)?e.attempt(dU,l,d)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||qe(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function d(f){return e.exit("codeIndented"),t(f)}}function hU(e,t,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):qe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):yt(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):qe(l)?s(l):n(l)}}const pU={name:"codeText",previous:gU,resolve:mU,tokenize:xU};function mU(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function gU(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function xU(e,t,n){let r=0,s,o;return l;function l(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),d):m===96?(o=e.enter("codeTextSequence"),s=0,p(m)):qe(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||qe(m)?(e.exit("codeTextData"),d(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),s++,p):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(o.type="codeTextData",f(m))}}class bU{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Xc(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Xc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Xc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Xc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Xc(this.left,n.reverse())}}}function Xc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function VO(e){const t={};let n=-1,r,s,o,l,u,d,f;const p=new bU(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,yU(p,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},u=p.slice(s,n),u.unshift(r),p.splice(s,n-s+1,u))}}return Zr(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function yU(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,d=[],f={};let p,m,g=-1,b=n,y=0,v=0;const _=[v];for(;b;){for(;e.get(++s)[1]!==b;);o.push(s),b._tokenizer||(p=r.sliceStream(b),b.next||p.push(null),m&&l.defineSkip(b.start),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(v=g+1,_.push(v),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(l.events=[],b?(b._tokenizer=void 0,b.previous=void 0):_.pop(),g=_.length;g--;){const N=u.slice(_[g],_[g+1]),j=o.pop();d.push([j,j+N.length-1]),e.splice(j,2,N)}for(d.reverse(),g=-1;++g<d.length;)f[y+d[g][0]]=y+d[g][1],y+=d[g][1]-d[g][0]-1;return f}const vU={resolve:_U,tokenize:NU},wU={partial:!0,tokenize:SU};function _U(e){return VO(e),e}function NU(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?o(u):qe(u)?e.check(wU,l,o)(u):(e.consume(u),s)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function SU(e,t,n){const r=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),yt(e,o,"linePrefix")}function o(l){if(l===null||qe(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function WO(e,t,n,r,s,o,l,u,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(N){return N===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(N),e.exit(o),g):N===null||N===32||N===41||xh(N)?n(N):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),v(N))}function g(N){return N===62?(e.enter(o),e.consume(N),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===62?(e.exit("chunkString"),e.exit(u),g(N)):N===null||N===60||qe(N)?n(N):(e.consume(N),N===92?y:b)}function y(N){return N===60||N===62||N===92?(e.consume(N),b):b(N)}function v(N){return!p&&(N===null||N===41||en(N))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(N)):p<f&&N===40?(e.consume(N),p++,v):N===41?(e.consume(N),p--,v):N===null||N===32||N===40||xh(N)?n(N):(e.consume(N),N===92?_:v)}function _(N){return N===40||N===41||N===92?(e.consume(N),v):v(N)}}function KO(e,t,n,r,s,o){const l=this;let u=0,d;return f;function f(b){return e.enter(r),e.enter(s),e.consume(b),e.exit(s),e.enter(o),p}function p(b){return u>999||b===null||b===91||b===93&&!d||b===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(b):b===93?(e.exit(o),e.enter(s),e.consume(b),e.exit(s),e.exit(r),t):qe(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||qe(b)||u++>999?(e.exit("chunkString"),p(b)):(e.consume(b),d||(d=!lt(b)),b===92?g:m)}function g(b){return b===91||b===92||b===93?(e.consume(b),u++,m):m(b)}}function YO(e,t,n,r,s,o){let l;return u;function u(g){return g===34||g===39||g===40?(e.enter(r),e.enter(s),e.consume(g),e.exit(s),l=g===40?41:g,d):n(g)}function d(g){return g===l?(e.enter(s),e.consume(g),e.exit(s),e.exit(r),t):(e.enter(o),f(g))}function f(g){return g===l?(e.exit(o),d(l)):g===null?n(g):qe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),yt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===l||g===null||qe(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?m:p)}function m(g){return g===l||g===92?(e.consume(g),p):p(g)}}function uu(e,t){let n;return r;function r(s){return qe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):lt(s)?yt(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const kU={name:"definition",tokenize:jU},EU={partial:!0,tokenize:CU};function jU(e,t,n){const r=this;let s;return o;function o(b){return e.enter("definition"),l(b)}function l(b){return KO.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function u(b){return s=Ls(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),d):n(b)}function d(b){return en(b)?uu(e,f)(b):f(b)}function f(b){return WO(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return e.attempt(EU,m,m)(b)}function m(b){return lt(b)?yt(e,g,"whitespace")(b):g(b)}function g(b){return b===null||qe(b)?(e.exit("definition"),r.parser.defined.push(s),t(b)):n(b)}}function CU(e,t,n){return r;function r(u){return en(u)?uu(e,s)(u):n(u)}function s(u){return YO(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return lt(u)?yt(e,l,"whitespace")(u):l(u)}function l(u){return u===null||qe(u)?t(u):n(u)}}const TU={name:"hardBreakEscape",tokenize:AU};function AU(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return qe(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const MU={name:"headingAtx",resolve:RU,tokenize:OU};function RU(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Zr(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function OU(e,t,n){let r=0;return s;function s(p){return e.enter("atxHeading"),o(p)}function o(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||en(p)?(e.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(e.enter("atxHeadingSequence"),d(p)):p===null||qe(p)?(e.exit("atxHeading"),t(p)):lt(p)?yt(e,u,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function d(p){return p===35?(e.consume(p),d):(e.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||en(p)?(e.exit("atxHeadingText"),u(p)):(e.consume(p),f)}}const DU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pj=["pre","script","style","textarea"],LU={concrete:!0,name:"htmlFlow",resolveTo:zU,tokenize:BU},IU={partial:!0,tokenize:UU},PU={partial:!0,tokenize:$U};function zU(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function BU(e,t,n){const r=this;let s,o,l,u,d;return f;function f(O){return p(O)}function p(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),m}function m(O){return O===33?(e.consume(O),g):O===47?(e.consume(O),o=!0,v):O===63?(e.consume(O),s=3,r.interrupt?t:L):vr(O)?(e.consume(O),l=String.fromCharCode(O),_):n(O)}function g(O){return O===45?(e.consume(O),s=2,b):O===91?(e.consume(O),s=5,u=0,y):vr(O)?(e.consume(O),s=4,r.interrupt?t:L):n(O)}function b(O){return O===45?(e.consume(O),r.interrupt?t:L):n(O)}function y(O){const H="CDATA[";return O===H.charCodeAt(u++)?(e.consume(O),u===H.length?r.interrupt?t:F:y):n(O)}function v(O){return vr(O)?(e.consume(O),l=String.fromCharCode(O),_):n(O)}function _(O){if(O===null||O===47||O===62||en(O)){const H=O===47,Z=l.toLowerCase();return!H&&!o&&pj.includes(Z)?(s=1,r.interrupt?t(O):F(O)):DU.includes(l.toLowerCase())?(s=6,H?(e.consume(O),N):r.interrupt?t(O):F(O)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):o?j(O):k(O))}return O===45||dr(O)?(e.consume(O),l+=String.fromCharCode(O),_):n(O)}function N(O){return O===62?(e.consume(O),r.interrupt?t:F):n(O)}function j(O){return lt(O)?(e.consume(O),j):D(O)}function k(O){return O===47?(e.consume(O),D):O===58||O===95||vr(O)?(e.consume(O),C):lt(O)?(e.consume(O),k):D(O)}function C(O){return O===45||O===46||O===58||O===95||dr(O)?(e.consume(O),C):A(O)}function A(O){return O===61?(e.consume(O),T):lt(O)?(e.consume(O),A):k(O)}function T(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),d=O,M):lt(O)?(e.consume(O),T):z(O)}function M(O){return O===d?(e.consume(O),d=null,$):O===null||qe(O)?n(O):(e.consume(O),M)}function z(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||en(O)?A(O):(e.consume(O),z)}function $(O){return O===47||O===62||lt(O)?k(O):n(O)}function D(O){return O===62?(e.consume(O),I):n(O)}function I(O){return O===null||qe(O)?F(O):lt(O)?(e.consume(O),I):n(O)}function F(O){return O===45&&s===2?(e.consume(O),U):O===60&&s===1?(e.consume(O),Y):O===62&&s===4?(e.consume(O),q):O===63&&s===3?(e.consume(O),L):O===93&&s===5?(e.consume(O),X):qe(O)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(IU,P,K)(O)):O===null||qe(O)?(e.exit("htmlFlowData"),K(O)):(e.consume(O),F)}function K(O){return e.check(PU,B,P)(O)}function B(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),G}function G(O){return O===null||qe(O)?K(O):(e.enter("htmlFlowData"),F(O))}function U(O){return O===45?(e.consume(O),L):F(O)}function Y(O){return O===47?(e.consume(O),l="",W):F(O)}function W(O){if(O===62){const H=l.toLowerCase();return pj.includes(H)?(e.consume(O),q):F(O)}return vr(O)&&l.length<8?(e.consume(O),l+=String.fromCharCode(O),W):F(O)}function X(O){return O===93?(e.consume(O),L):F(O)}function L(O){return O===62?(e.consume(O),q):O===45&&s===2?(e.consume(O),L):F(O)}function q(O){return O===null||qe(O)?(e.exit("htmlFlowData"),P(O)):(e.consume(O),q)}function P(O){return e.exit("htmlFlow"),t(O)}}function $U(e,t,n){const r=this;return s;function s(l){return qe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function UU(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Hu,t,n)}}const qU={name:"htmlText",tokenize:FU};function FU(e,t,n){const r=this;let s,o,l;return u;function u(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),d}function d(L){return L===33?(e.consume(L),f):L===47?(e.consume(L),A):L===63?(e.consume(L),k):vr(L)?(e.consume(L),z):n(L)}function f(L){return L===45?(e.consume(L),p):L===91?(e.consume(L),o=0,y):vr(L)?(e.consume(L),j):n(L)}function p(L){return L===45?(e.consume(L),b):n(L)}function m(L){return L===null?n(L):L===45?(e.consume(L),g):qe(L)?(l=m,Y(L)):(e.consume(L),m)}function g(L){return L===45?(e.consume(L),b):m(L)}function b(L){return L===62?U(L):L===45?g(L):m(L)}function y(L){const q="CDATA[";return L===q.charCodeAt(o++)?(e.consume(L),o===q.length?v:y):n(L)}function v(L){return L===null?n(L):L===93?(e.consume(L),_):qe(L)?(l=v,Y(L)):(e.consume(L),v)}function _(L){return L===93?(e.consume(L),N):v(L)}function N(L){return L===62?U(L):L===93?(e.consume(L),N):v(L)}function j(L){return L===null||L===62?U(L):qe(L)?(l=j,Y(L)):(e.consume(L),j)}function k(L){return L===null?n(L):L===63?(e.consume(L),C):qe(L)?(l=k,Y(L)):(e.consume(L),k)}function C(L){return L===62?U(L):k(L)}function A(L){return vr(L)?(e.consume(L),T):n(L)}function T(L){return L===45||dr(L)?(e.consume(L),T):M(L)}function M(L){return qe(L)?(l=M,Y(L)):lt(L)?(e.consume(L),M):U(L)}function z(L){return L===45||dr(L)?(e.consume(L),z):L===47||L===62||en(L)?$(L):n(L)}function $(L){return L===47?(e.consume(L),U):L===58||L===95||vr(L)?(e.consume(L),D):qe(L)?(l=$,Y(L)):lt(L)?(e.consume(L),$):U(L)}function D(L){return L===45||L===46||L===58||L===95||dr(L)?(e.consume(L),D):I(L)}function I(L){return L===61?(e.consume(L),F):qe(L)?(l=I,Y(L)):lt(L)?(e.consume(L),I):$(L)}function F(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),s=L,K):qe(L)?(l=F,Y(L)):lt(L)?(e.consume(L),F):(e.consume(L),B)}function K(L){return L===s?(e.consume(L),s=void 0,G):L===null?n(L):qe(L)?(l=K,Y(L)):(e.consume(L),K)}function B(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||en(L)?$(L):(e.consume(L),B)}function G(L){return L===47||L===62||en(L)?$(L):n(L)}function U(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):n(L)}function Y(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),W}function W(L){return lt(L)?yt(e,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):X(L)}function X(L){return e.enter("htmlTextData"),l(L)}}const O_={name:"labelEnd",resolveAll:WU,resolveTo:KU,tokenize:YU},HU={tokenize:XU},GU={tokenize:ZU},VU={tokenize:QU};function WU(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&Zr(e,0,e.length,n),e}function KU(e,t){let n=e.length,r=0,s,o,l,u;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const d={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",d,t],["enter",f,t]],u=ps(u,e.slice(o+1,o+r+3)),u=ps(u,[["enter",p,t]]),u=ps(u,Yh(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=ps(u,[["exit",p,t],e[l-2],e[l-1],["exit",f,t]]),u=ps(u,e.slice(l+1)),u=ps(u,[["exit",d,t]]),Zr(e,o,e.length,u),e}function YU(e,t,n){const r=this;let s=r.events.length,o,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return u;function u(g){return o?o._inactive?m(g):(l=r.parser.defined.includes(Ls(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),d):n(g)}function d(g){return g===40?e.attempt(HU,p,l?p:m)(g):g===91?e.attempt(GU,p,l?f:m)(g):l?p(g):m(g)}function f(g){return e.attempt(VU,p,m)(g)}function p(g){return t(g)}function m(g){return o._balanced=!0,n(g)}}function XU(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),s}function s(m){return en(m)?uu(e,o)(m):o(m)}function o(m){return m===41?p(m):WO(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return en(m)?uu(e,d)(m):p(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?YO(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return en(m)?uu(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function ZU(e,t,n){const r=this;return s;function s(u){return KO.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(Ls(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function QU(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const JU={name:"labelStartImage",resolveAll:O_.resolveAll,tokenize:eq};function eq(e,t,n){const r=this;return s;function s(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const tq={name:"labelStartLink",resolveAll:O_.resolveAll,tokenize:nq};function nq(e,t,n){const r=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const s0={name:"lineEnding",tokenize:rq};function rq(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),yt(e,t,"linePrefix")}}const nh={name:"thematicBreak",tokenize:sq};function sq(e,t,n){let r=0,s;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return s=f,u(f)}function u(f){return f===s?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||qe(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===s?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),lt(f)?yt(e,u,"whitespace")(f):u(f))}}const Rr={continuation:{tokenize:lq},exit:uq,name:"list",tokenize:oq},iq={partial:!0,tokenize:dq},aq={partial:!0,tokenize:cq};function oq(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return u;function u(b){const y=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:Mw(b)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(nh,n,f)(b):f(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(b)}return n(b)}function d(b){return Mw(b)&&++l<10?(e.consume(b),d):(!r.interrupt||l<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),f(b)):n(b)}function f(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(Hu,r.interrupt?n:p,e.attempt(iq,g,m))}function p(b){return r.containerState.initialBlankLine=!0,o++,g(b)}function m(b){return lt(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),g):n(b)}function g(b){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function lq(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Hu,s,o);function s(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yt(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!lt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(aq,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,yt(e,e.attempt(Rr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function cq(e,t,n){const r=this;return yt(e,s,"listItemIndent",r.containerState.size+1);function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function uq(e){e.exit(this.containerState.type)}function dq(e,t,n){const r=this;return yt(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const l=r.events[r.events.length-1];return!lt(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const mj={name:"setextUnderline",resolveTo:fq,tokenize:hq};function fq(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function hq(e,t,n){const r=this;let s;return o;function o(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),s=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===s?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),lt(f)?yt(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||qe(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const pq={tokenize:mq};function mq(e){const t=this,n=e.attempt(Hu,r,e.attempt(this.parser.constructs.flowInitial,s,yt(e,e.attempt(this.parser.constructs.flow,s,e.attempt(vU,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const gq={resolveAll:ZO()},xq=XO("string"),bq=XO("text");function XO(e){return{resolveAll:ZO(e==="text"?yq:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,l,u);return l;function l(p){return f(p)?o(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),o(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const m=s[p];let g=-1;if(m)for(;++g<m.length;){const b=m[g];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function ZO(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function yq(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,l=-1,u=0,d;for(;o--;){const f=s[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)d=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const vq={42:Rr,43:Rr,45:Rr,48:Rr,49:Rr,50:Rr,51:Rr,52:Rr,53:Rr,54:Rr,55:Rr,56:Rr,57:Rr,62:FO},wq={91:kU},_q={[-2]:r0,[-1]:r0,32:r0},Nq={35:MU,42:nh,45:[mj,nh],60:LU,61:mj,95:nh,96:hj,126:hj},Sq={38:GO,92:HO},kq={[-5]:s0,[-4]:s0,[-3]:s0,33:JU,38:GO,42:Rw,60:[tU,qU],91:tq,92:[TU,HO],93:O_,95:Rw,96:pU},Eq={null:[Rw,gq]},jq={null:[42,95]},Cq={null:[]},Tq=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jq,contentInitial:wq,disable:Cq,document:vq,flow:Nq,flowInitial:_q,insideSpan:Eq,string:Sq,text:kq},Symbol.toStringTag,{value:"Module"}));function Aq(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let l=[],u=[];const d={attempt:M(A),check:M(T),consume:j,enter:k,exit:C,interrupt:M(T,{interrupt:!0})},f={code:null,containerState:{},defineSkip:v,events:[],now:y,parser:e,previous:null,sliceSerialize:g,sliceStream:b,write:m};let p=t.tokenize.call(f,d);return t.resolveAll&&o.push(t),f;function m(I){return l=ps(l,I),_(),l[l.length-1]!==null?[]:(z(t,0),f.events=Yh(o,f.events,f),f.events)}function g(I,F){return Rq(b(I),F)}function b(I){return Mq(l,I)}function y(){const{_bufferIndex:I,_index:F,line:K,column:B,offset:G}=r;return{_bufferIndex:I,_index:F,line:K,column:B,offset:G}}function v(I){s[I.line]=I.column,D()}function _(){let I;for(;r._index<l.length;){const F=l[r._index];if(typeof F=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<F.length;)N(F.charCodeAt(r._bufferIndex));else N(F)}}function N(I){p=p(I)}function j(I){qe(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,D()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=I}function k(I,F){const K=F||{};return K.type=I,K.start=y(),f.events.push(["enter",K,f]),u.push(K),K}function C(I){const F=u.pop();return F.end=y(),f.events.push(["exit",F,f]),F}function A(I,F){z(I,F.from)}function T(I,F){F.restore()}function M(I,F){return K;function K(B,G,U){let Y,W,X,L;return Array.isArray(B)?P(B):"tokenize"in B?P([B]):q(B);function q(Q){return ie;function ie(ee){const re=ee!==null&&Q[ee],ue=ee!==null&&Q.null,ge=[...Array.isArray(re)?re:re?[re]:[],...Array.isArray(ue)?ue:ue?[ue]:[]];return P(ge)(ee)}}function P(Q){return Y=Q,W=0,Q.length===0?U:O(Q[W])}function O(Q){return ie;function ie(ee){return L=$(),X=Q,Q.partial||(f.currentConstruct=Q),Q.name&&f.parser.constructs.disable.null.includes(Q.name)?Z():Q.tokenize.call(F?Object.assign(Object.create(f),F):f,d,H,Z)(ee)}}function H(Q){return I(X,L),G}function Z(Q){return L.restore(),++W<Y.length?O(Y[W]):U}}}function z(I,F){I.resolveAll&&!o.includes(I)&&o.push(I),I.resolve&&Zr(f.events,F,f.events.length-F,I.resolve(f.events.slice(F),f)),I.resolveTo&&(f.events=I.resolveTo(f.events,f))}function $(){const I=y(),F=f.previous,K=f.currentConstruct,B=f.events.length,G=Array.from(u);return{from:B,restore:U};function U(){r=I,f.previous=F,f.currentConstruct=K,f.events.length=B,u=G,D()}}function D(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Mq(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(r,o)];else{if(l=e.slice(n,s),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[s].slice(0,o))}return l}function Rq(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(o)}s=o===-2,r.push(l)}return r.join("")}function Oq(e){const r={constructs:UO([Tq,...(e||{}).extensions||[]]),content:s(K$),defined:[],document:s(X$),flow:s(pq),lazy:{},string:s(xq),text:s(bq)};return r;function s(o){return l;function l(u){return Aq(r,o,u)}}}function Dq(e){for(;!VO(e););return e}const gj=/[\0\t\n\r]/g;function Lq(){let e=1,t="",n=!0,r;return s;function s(o,l,u){const d=[];let f,p,m,g,b;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,t="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(gj.lastIndex=m,f=gj.exec(o),g=f&&f.index!==void 0?f.index:o.length,b=o.charCodeAt(g),!f){t=o.slice(m);break}if(b===10&&m===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<g&&(d.push(o.slice(m,g)),e+=g-m),b){case 0:{d.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,d.push(-2);e++<p;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}m=g+1}return u&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const Iq=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Pq(e){return e.replace(Iq,zq)}function zq(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return qO(n.slice(o?2:1),o?16:10)}return R_(n)||e}const QO={}.hasOwnProperty;function Bq(e,t,n){return typeof t!="string"&&(n=t,t=void 0),$q(n)(Dq(Oq(n).document().write(Lq()(e,t,!0))))}function $q(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(tt),autolinkProtocol:$,autolinkEmail:$,atxHeading:o(ve),blockQuote:o(ue),characterEscape:$,characterReference:$,codeFenced:o(ge),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(ge,l),codeText:o(J,l),codeTextData:$,data:$,codeFlowValue:$,definition:o(ae),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(pe),hardBreakEscape:o(xe),hardBreakTrailing:o(xe),htmlFlow:o(Se,l),htmlFlowData:$,htmlText:o(Se,l),htmlTextData:$,image:o(ze),label:l,link:o(tt),listItem:o(xn),listItemValue:g,listOrdered:o(Ht,m),listUnordered:o(Ht),paragraph:o(sn),reference:O,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ve),strong:o(Pt),thematicBreak:o(Yn)},exit:{atxHeading:d(),atxHeadingSequence:A,autolink:d(),autolinkEmail:re,autolinkProtocol:ee,blockQuote:d(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:Q,characterReference:ie,codeFenced:d(_),codeFencedFence:v,codeFencedFenceInfo:b,codeFencedFenceMeta:y,codeFlowValue:D,codeIndented:d(N),codeText:d(G),codeTextData:D,data:D,definition:d(),definitionDestinationString:C,definitionLabelString:j,definitionTitleString:k,emphasis:d(),hardBreakEscape:d(F),hardBreakTrailing:d(F),htmlFlow:d(K),htmlFlowData:D,htmlText:d(B),htmlTextData:D,image:d(Y),label:X,labelText:W,lineEnding:I,link:d(U),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:H,resourceDestinationString:L,resourceTitleString:q,resource:P,setextHeading:d(z),setextHeadingLineSequence:M,setextHeadingText:T,strong:d(),thematicBreak:d()}};JO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(he){let Ne={type:"root",children:[]};const Re={stack:[Ne],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:p,data:n},He=[];let Xe=-1;for(;++Xe<he.length;)if(he[Xe][1].type==="listOrdered"||he[Xe][1].type==="listUnordered")if(he[Xe][0]==="enter")He.push(Xe);else{const Gt=He.pop();Xe=s(he,Gt,Xe)}for(Xe=-1;++Xe<he.length;){const Gt=t[he[Xe][0]];QO.call(Gt,he[Xe][1].type)&&Gt[he[Xe][1].type].call(Object.assign({sliceSerialize:he[Xe][2].sliceSerialize},Re),he[Xe][1])}if(Re.tokenStack.length>0){const Gt=Re.tokenStack[Re.tokenStack.length-1];(Gt[1]||xj).call(Re,void 0,Gt[0])}for(Ne.position={start:xa(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:xa(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<t.transforms.length;)Ne=t.transforms[Xe](Ne)||Ne;return Ne}function s(he,Ne,Re){let He=Ne-1,Xe=-1,Gt=!1,Gn,zt,gt,Sn;for(;++He<=Re;){const xt=he[He];switch(xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xt[0]==="enter"?Xe++:Xe--,Sn=void 0;break}case"lineEndingBlank":{xt[0]==="enter"&&(Gn&&!Sn&&!Xe&&!gt&&(gt=He),Sn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Sn=void 0}if(!Xe&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||Xe===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(Gn){let Sr=He;for(zt=void 0;Sr--;){const Ln=he[Sr];if(Ln[1].type==="lineEnding"||Ln[1].type==="lineEndingBlank"){if(Ln[0]==="exit")continue;zt&&(he[zt][1].type="lineEndingBlank",Gt=!0),Ln[1].type="lineEnding",zt=Sr}else if(!(Ln[1].type==="linePrefix"||Ln[1].type==="blockQuotePrefix"||Ln[1].type==="blockQuotePrefixWhitespace"||Ln[1].type==="blockQuoteMarker"||Ln[1].type==="listItemIndent"))break}gt&&(!zt||gt<zt)&&(Gn._spread=!0),Gn.end=Object.assign({},zt?he[zt][1].start:xt[1].end),he.splice(zt||He,0,["exit",Gn,xt[2]]),He++,Re++}if(xt[1].type==="listItemPrefix"){const Sr={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start),end:void 0};Gn=Sr,he.splice(He,0,["enter",Sr,xt[2]]),He++,Re++,gt=void 0,Sn=!0}}}return he[Ne][1]._spread=Gt,Re}function o(he,Ne){return Re;function Re(He){u.call(this,he(He),He),Ne&&Ne.call(this,He)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(he,Ne,Re){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Ne,Re||void 0]),he.position={start:xa(Ne.start),end:void 0}}function d(he){return Ne;function Ne(Re){he&&he.call(this,Re),f.call(this,Re)}}function f(he,Ne){const Re=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==he.type&&(Ne?Ne.call(this,he,He[0]):(He[1]||xj).call(this,he,He[0]));else throw new Error("Cannot close `"+he.type+"` ("+cu({start:he.start,end:he.end})+"): its not open");Re.position.end=xa(he.end)}function p(){return M_(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(he){if(this.data.expectingFirstListItemValue){const Ne=this.stack[this.stack.length-2];Ne.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function b(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.lang=he}function y(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.meta=he}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=he.replace(/(\r?\n|\r)$/g,"")}function j(he){const Ne=this.resume(),Re=this.stack[this.stack.length-1];Re.label=Ne,Re.identifier=Ls(this.sliceSerialize(he)).toLowerCase()}function k(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=he}function C(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=he}function A(he){const Ne=this.stack[this.stack.length-1];if(!Ne.depth){const Re=this.sliceSerialize(he).length;Ne.depth=Re}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function M(he){const Ne=this.stack[this.stack.length-1];Ne.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function $(he){const Re=this.stack[this.stack.length-1].children;let He=Re[Re.length-1];(!He||He.type!=="text")&&(He=pt(),He.position={start:xa(he.start),end:void 0},Re.push(He)),this.stack.push(He)}function D(he){const Ne=this.stack.pop();Ne.value+=this.sliceSerialize(he),Ne.position.end=xa(he.end)}function I(he){const Ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=Ne.children[Ne.children.length-1];Re.position.end=xa(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ne.type)&&($.call(this,he),D.call(this,he))}function F(){this.data.atHardBreak=!0}function K(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=he}function B(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=he}function G(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=he}function U(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Ne,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function Y(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Ne,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function W(he){const Ne=this.sliceSerialize(he),Re=this.stack[this.stack.length-2];Re.label=Pq(Ne),Re.identifier=Ls(Ne).toLowerCase()}function X(){const he=this.stack[this.stack.length-1],Ne=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const He=he.children;Re.children=He}else Re.alt=Ne}function L(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=he}function q(){const he=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=he}function P(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function H(he){const Ne=this.resume(),Re=this.stack[this.stack.length-1];Re.label=Ne,Re.identifier=Ls(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function Z(he){this.data.characterReferenceType=he.type}function Q(he){const Ne=this.sliceSerialize(he),Re=this.data.characterReferenceType;let He;Re?(He=qO(Ne,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=R_(Ne);const Xe=this.stack[this.stack.length-1];Xe.value+=He}function ie(he){const Ne=this.stack.pop();Ne.position.end=xa(he.end)}function ee(he){D.call(this,he);const Ne=this.stack[this.stack.length-1];Ne.url=this.sliceSerialize(he)}function re(he){D.call(this,he);const Ne=this.stack[this.stack.length-1];Ne.url="mailto:"+this.sliceSerialize(he)}function ue(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pe(){return{type:"emphasis",children:[]}}function ve(){return{type:"heading",depth:0,children:[]}}function xe(){return{type:"break"}}function Se(){return{type:"html",value:""}}function ze(){return{type:"image",title:null,url:"",alt:null}}function tt(){return{type:"link",title:null,url:"",children:[]}}function Ht(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function xn(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function sn(){return{type:"paragraph",children:[]}}function Pt(){return{type:"strong",children:[]}}function pt(){return{type:"text",value:""}}function Yn(){return{type:"thematicBreak"}}}function xa(e){return{line:e.line,column:e.column,offset:e.offset}}function JO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?JO(e,r):Uq(e,r)}}function Uq(e,t){let n;for(n in t)if(QO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function xj(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cu({start:t.start,end:t.end})+") is still open")}function qq(e){const t=this;t.parser=n;function n(r){return Bq(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Fq(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Hq(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Gq(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function Vq(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Wq(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Kq(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=$l(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function Yq(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Xq(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function eD(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function Zq(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eD(e,t);const s={src:$l(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function Qq(e,t){const n={src:$l(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Jq(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function eF(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eD(e,t);const s={href:$l(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function tF(e,t){const n={href:$l(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nF(e,t,n){const r=e.all(t),s=n?rF(n):tD(t),o={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(s||u!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?l.push(...p.children):l.push(p)}const d=r[r.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function rF(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=tD(n[r])}return t}function tD(e){const t=e.spread;return t??e.children.length>1}function sF(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function iF(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aF(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function oF(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lF(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=j_(t.children[1]),d=DO(t.children[t.children.length-1]);u&&d&&(l.position={start:u,end:d}),s.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function cF(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<u;){const m=t.children[d],g={},b=l?l[d]:void 0;b&&(g.align=b);let y={type:"element",tagName:o,properties:g,children:[]};m&&(y.children=e.all(m),e.patch(m,y),y=e.applyData(m,y)),f.push(y)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function uF(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const bj=9,yj=32;function dF(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(vj(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(vj(t.slice(s),s>0,!1)),o.join("")}function vj(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===bj||o===yj;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===bj||o===yj;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function fF(e,t){const n={type:"text",value:dF(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function hF(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const pF={blockquote:Fq,break:Hq,code:Gq,delete:Vq,emphasis:Wq,footnoteReference:Kq,heading:Yq,html:Xq,imageReference:Zq,image:Qq,inlineCode:Jq,linkReference:eF,link:tF,listItem:nF,list:sF,paragraph:iF,root:aF,strong:oF,table:lF,tableCell:uF,tableRow:cF,text:fF,thematicBreak:hF,toml:jf,yaml:jf,definition:jf,footnoteDefinition:jf};function jf(){}const nD=-1,Xh=0,du=1,bh=2,D_=3,L_=4,I_=5,P_=6,rD=7,sD=8,wj=typeof self=="object"?self:globalThis,mF=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,l]=t[s];switch(o){case Xh:case nD:return n(l,s);case du:{const u=n([],s);for(const d of l)u.push(r(d));return u}case bh:{const u=n({},s);for(const[d,f]of l)u[r(d)]=r(f);return u}case D_:return n(new Date(l),s);case L_:{const{source:u,flags:d}=l;return n(new RegExp(u,d),s)}case I_:{const u=n(new Map,s);for(const[d,f]of l)u.set(r(d),r(f));return u}case P_:{const u=n(new Set,s);for(const d of l)u.add(r(d));return u}case rD:{const{name:u,message:d}=l;return n(new wj[u](d),s)}case sD:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new wj[o](l),s)};return r},_j=e=>mF(new Map,e)(0),nl="",{toString:gF}={},{keys:xF}=Object,Zc=e=>{const t=typeof e;if(t!=="object"||!e)return[Xh,t];const n=gF.call(e).slice(8,-1);switch(n){case"Array":return[du,nl];case"Object":return[bh,nl];case"Date":return[D_,nl];case"RegExp":return[L_,nl];case"Map":return[I_,nl];case"Set":return[P_,nl];case"DataView":return[du,n]}return n.includes("Array")?[du,n]:n.includes("Error")?[rD,n]:[bh,n]},Cf=([e,t])=>e===Xh&&(t==="function"||t==="symbol"),bF=(e,t,n,r)=>{const s=(l,u)=>{const d=r.push(l)-1;return n.set(u,d),d},o=l=>{if(n.has(l))return n.get(l);let[u,d]=Zc(l);switch(u){case Xh:{let p=l;switch(d){case"bigint":u=sD,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return s([nD],l)}return s([u,p],l)}case du:{if(d){let g=l;return d==="DataView"?g=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(l)),s([d,[...g]],l)}const p=[],m=s([u,p],l);for(const g of l)p.push(o(g));return m}case bh:{if(d)switch(d){case"BigInt":return s([d,l.toString()],l);case"Boolean":case"Number":case"String":return s([d,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const p=[],m=s([u,p],l);for(const g of xF(l))(e||!Cf(Zc(l[g])))&&p.push([o(g),o(l[g])]);return m}case D_:return s([u,l.toISOString()],l);case L_:{const{source:p,flags:m}=l;return s([u,{source:p,flags:m}],l)}case I_:{const p=[],m=s([u,p],l);for(const[g,b]of l)(e||!(Cf(Zc(g))||Cf(Zc(b))))&&p.push([o(g),o(b)]);return m}case P_:{const p=[],m=s([u,p],l);for(const g of l)(e||!Cf(Zc(g)))&&p.push(o(g));return m}}const{message:f}=l;return s([u,{name:d,message:f}],l)};return o},Nj=(e,{json:t,lossy:n}={})=>{const r=[];return bF(!(t||n),!!t,new Map,r)(e),r},yh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?_j(Nj(e,t)):structuredClone(e):(e,t)=>_j(Nj(e,t));function yF(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function vF(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function wF(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||yF,r=e.options.footnoteBackLabel||vF,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),g=$l(m.toLowerCase());let b=0;const y=[],v=e.footnoteCounts.get(m);for(;v!==void 0&&++b<=v;){y.length>0&&y.push({type:"text",value:" "});let j=typeof n=="string"?n:n(d,b);typeof j=="string"&&(j={type:"text",value:j}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,b),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const _=p[p.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const j=_.children[_.children.length-1];j&&j.type==="text"?j.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...y)}else p.push(...y);const N={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(p,!0)};e.patch(f,N),u.push(N)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...yh(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Gu=(function(e){if(e==null)return kF;if(typeof e=="function")return Zh(e);if(typeof e=="object")return Array.isArray(e)?_F(e):NF(e);if(typeof e=="string")return SF(e);throw new Error("Expected function, string, or object as test")});function _F(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Gu(e[n]);return Zh(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function NF(e){const t=e;return Zh(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function SF(e){return Zh(t);function t(n){return n&&n.type===e}}function Zh(e){return t;function t(n,r,s){return!!(EF(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function kF(){return!0}function EF(e){return e!==null&&typeof e=="object"&&"type"in e}const iD=[],jF=!0,Ow=!1,CF="skip";function aD(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=Gu(s),l=r?-1:1;u(e,void 0,[])();function u(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=iD,y,v,_;if((!t||o(d,f,p[p.length-1]||void 0))&&(b=TF(n(d,p)),b[0]===Ow))return b;if("children"in d&&d.children){const N=d;if(N.children&&b[0]!==CF)for(v=(r?N.children.length:-1)+l,_=p.concat(N);v>-1&&v<N.children.length;){const j=N.children[v];if(y=u(j,v,_)(),y[0]===Ow)return y;v=typeof y[1]=="number"?y[1]:v+l}}return b}}}function TF(e){return Array.isArray(e)?e:typeof e=="number"?[jF,e]:e==null?iD:[e]}function Qh(e,t,n,r){let s,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,s=n):(o=t,l=n,s=r),aD(e,o,u,s);function u(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return l(d,m,p)}}const Dw={}.hasOwnProperty,AF={};function MF(e,t){const n=t||AF,r=new Map,s=new Map,o=new Map,l={...pF,...n.handlers},u={all:f,applyData:OF,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:l,one:d,options:n,patch:RF,wrap:LF};return Qh(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:s,g=String(p.identifier).toUpperCase();m.has(g)||m.set(g,p)}}),u;function d(p,m){const g=p.type,b=u.handlers[g];if(Dw.call(u.handlers,g)&&b)return b(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in p){const{children:v,..._}=p,N=yh(_);return N.children=u.all(p),N}return yh(p)}return(u.options.unknownHandler||DF)(u,p,m)}function f(p){const m=[];if("children"in p){const g=p.children;let b=-1;for(;++b<g.length;){const y=u.one(g[b],p);if(y){if(b&&g[b-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=Sj(y.value)),!Array.isArray(y)&&y.type==="element")){const v=y.children[0];v&&v.type==="text"&&(v.value=Sj(v.value))}Array.isArray(y)?m.push(...y):m.push(y)}}}return m}}function RF(e,t){e.position&&(t.position=v$(e))}function OF(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,yh(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function DF(e,t){const n=t.data||{},r="value"in t&&!(Dw.call(n,"hProperties")||Dw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function LF(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Sj(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function kj(e,t){const n=MF(e,t),r=n.one(e,void 0),s=wF(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function IF(e,t){return e&&"run"in e?async function(n,r){const s=kj(n,{file:r,...t});await e.run(s,r)}:function(n,r){return kj(n,{file:r,...e||t})}}function Ej(e){if(e)throw e}var i0,jj;function PF(){if(jj)return i0;jj=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},l=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return i0=function d(){var f,p,m,g,b,y,v=arguments[0],_=1,N=arguments.length,j=!1;for(typeof v=="boolean"&&(j=v,v=arguments[1]||{},_=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});_<N;++_)if(f=arguments[_],f!=null)for(p in f)m=u(v,p),g=u(f,p),v!==g&&(j&&g&&(o(g)||(b=s(g)))?(b?(b=!1,y=m&&s(m)?m:[]):y=m&&o(m)?m:{},l(v,{name:p,newValue:d(j,y,g)})):typeof g<"u"&&l(v,{name:p,newValue:g}));return v},i0}var zF=PF();const a0=El(zF);function Lw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function BF(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...s);function u(d,...f){const p=e[++o];let m=-1;if(d){l(d);return}for(;++m<s.length;)(f[m]===null||f[m]===void 0)&&(f[m]=s[m]);s=f,p?$F(p,u)(...f):l(null,...f)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function $F(e,t){let n;return r;function r(...l){const u=e.length>l.length;let d;u&&l.push(s);try{d=e.apply(this,l)}catch(f){const p=f;if(u&&n)throw p;return s(p)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,s):d instanceof Error?s(d):o(d))}function s(l,...u){n||(n=!0,t(l,...u))}function o(l){s(null,l)}}const Ys={basename:UF,dirname:qF,extname:FF,join:HF,sep:"/"};function UF(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Vu(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else l<0&&(o=!0,l=s+1),u>-1&&(e.codePointAt(s)===t.codePointAt(u--)?u<0&&(r=s):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function qF(e){if(Vu(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function FF(e){Vu(e);let t=e.length,n=-1,r=0,s=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function HF(...e){let t=-1,n;for(;++t<e.length;)Vu(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":GF(n)}function GF(e){Vu(e);const t=e.codePointAt(0)===47;let n=VF(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function VF(e,t){let n="",r=0,s=-1,o=0,l=-1,u,d;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=l,o=0;continue}}else if(n.length>0){n="",r=0,s=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),r=l-s-1;s=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function Vu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const WF={cwd:KF};function KF(){return"/"}function Iw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function YF(e){if(typeof e=="string")e=new URL(e);else if(!Iw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return XF(e)}function XF(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const o0=["history","path","basename","stem","extname","dirname"];class oD{constructor(t){let n;t?Iw(t)?n={path:t}:typeof t=="string"||ZF(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":WF.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<o0.length;){const o=o0[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)o0.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Ys.basename(this.path):void 0}set basename(t){c0(t,"basename"),l0(t,"basename"),this.path=Ys.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ys.dirname(this.path):void 0}set dirname(t){Cj(this.basename,"dirname"),this.path=Ys.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ys.extname(this.path):void 0}set extname(t){if(l0(t,"extname"),Cj(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ys.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Iw(t)&&(t=YF(t)),c0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ys.basename(this.path,this.extname):void 0}set stem(t){c0(t,"stem"),l0(t,"stem"),this.path=Ys.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new mr(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function l0(e,t){if(e&&e.includes(Ys.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ys.sep+"`")}function c0(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Cj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ZF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const QF=(function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),JF={}.hasOwnProperty;class z_ extends QF{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=BF()}copy(){const t=new z_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(a0(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(f0("data",this.frozen),this.namespace[t]=n,this):JF.call(this.namespace,t)&&this.namespace[t]||void 0:t?(f0("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Tf(t),r=this.parser||this.Parser;return u0("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),u0("process",this.parser||this.Parser),d0("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,l){const u=Tf(t),d=r.parse(u);r.run(d,u,function(p,m,g){if(p||!m||!g)return f(p);const b=m,y=r.stringify(b,g);nH(y)?g.value=y:g.result=y,f(p,g)});function f(p,m){p||!m?l(p):o?o(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),u0("processSync",this.parser||this.Parser),d0("processSync",this.compiler||this.Compiler),this.process(t,s),Aj("processSync","process",n),r;function s(o,l){n=!0,Ej(o),r=l}}run(t,n,r){Tj(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const d=Tf(n);s.run(t,d,f);function f(p,m,g){const b=m||t;p?u(p):l?l(b):r(void 0,b,g)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),Aj("runSync","run",r),s;function o(l,u){Ej(l),s=u,r=!0}}stringify(t,n){this.freeze();const r=Tf(n),s=this.compiler||this.Compiler;return d0("stringify",s),Tj(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(f0("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(s.settings=a0(!0,s.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,g=-1;for(;++m<r.length;)if(r[m][0]===f){g=m;break}if(g===-1)r.push([f,...p]);else if(p.length>0){let[b,...y]=p;const v=r[g][1];Lw(v)&&Lw(b)&&(b=a0(!0,v,b)),r[g]=[f,b,...y]}}}}const eH=new z_().freeze();function u0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function d0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function f0(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Tj(e){if(!Lw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Aj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Tf(e){return tH(e)?e:new oD(e)}function tH(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function nH(e){return typeof e=="string"||rH(e)}function rH(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sH="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Mj=[],Rj={allowDangerousHtml:!0},iH=/^(https?|ircs?|mailto|xmpp)$/i,aH=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function B_(e){const t=oH(e),n=lH(e);return cH(t.runSync(t.parse(n),n),e)}function oH(e){const t=e.rehypePlugins||Mj,n=e.remarkPlugins||Mj,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Rj}:Rj;return eH().use(qq).use(n).use(IF,r).use(t)}function lH(e){const t=e.children||"",n=new oD;return typeof t=="string"&&(n.value=t),n}function cH(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,d=t.urlTransform||uH;for(const p of aH)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+sH+p.id,void 0);return Qh(e,f),k$(e,{Fragment:a.Fragment,components:s,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function f(p,m,g){if(p.type==="raw"&&g&&typeof m=="number")return l?g.children.splice(m,1):g.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let b;for(b in n0)if(Object.hasOwn(n0,b)&&Object.hasOwn(p.properties,b)){const y=p.properties[b],v=n0[b];(v===null||v.includes(p.tagName))&&(p.properties[b]=d(String(y||""),b,p))}}if(p.type==="element"){let b=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!b&&r&&typeof m=="number"&&(b=!r(p,m,g)),b&&g&&typeof m=="number")return u&&p.children?g.children.splice(m,1,...p.children):g.children.splice(m,1),m}}}function uH(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||iH.test(e.slice(0,t))?e:""}function dH(){return typeof window<"u"&&("__TAURI_INTERNALS__"in window||"__TAURI__"in window)}async function Oj(e){try{const{invoke:t}=await hr(async()=>{const{invoke:n}=await import("./core-DhEqZVGG.js");return{invoke:n}},[]);await t("open_url",{url:e})}catch(t){console.warn("[ExternalLink] Tauri open_url failed:",t),window.open(e,"_blank","noopener,noreferrer")}}function Di({href:e,children:t,className:n,...r}){const{node:s,inline:o,ordered:l,index:u,siblingCount:d,...f}=r;return!e||!/^https?:\/\//i.test(e)?a.jsx("a",{href:e,className:n,...f,children:t}):dH()?a.jsx("a",{role:"link",tabIndex:0,className:`cursor-pointer ${n??""}`,onClick:p=>{p.preventDefault(),p.stopPropagation(),Oj(e)},onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),Oj(e))},title:e,...f,children:t}):a.jsx("a",{...f,href:e,target:"_blank",rel:"noopener noreferrer",className:n,children:t})}const fH={a:({href:e,children:t,...n})=>a.jsx(Di,{href:e,...n,children:t})};function hH({content:e,maxHeight:t=120,className:n}){const[r,s]=S.useState(!1),[o,l]=S.useState(!1),u=f=>{f&&l(f.scrollHeight>t)},d=!r&&o;return a.jsxs("div",{className:n,children:[a.jsx("div",{ref:u,style:d?{maxHeight:t,overflow:"hidden",maskImage:"linear-gradient(to bottom, black 40%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, black 40%, transparent 100%)"}:void 0,children:a.jsx("div",{className:"prose prose-invert prose-sm max-w-none break-words overflow-x-auto",children:a.jsx(B_,{components:fH,children:e})})}),o&&a.jsxs("button",{onClick:()=>s(!r),className:"mt-1.5 w-full py-1.5 rounded-md text-xs text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] transition-colors flex items-center justify-center gap-1",children:[a.jsx("svg",{className:`w-3 h-3 transition-transform duration-200 ${r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),r?"Show less":"Show more"]})]})}function rs({open:e,onClose:t,onConfirm:n,title:r,description:s,confirmLabel:o="Delete",cancelLabel:l="Cancel",variant:u="danger",progress:d}){const[f,p]=S.useState(!1),m=S.useRef(null);if(S.useEffect(()=>{var v;e&&((v=m.current)==null||v.focus())},[e]),S.useEffect(()=>{if(!e)return;const v=_=>{_.key==="Escape"&&!f&&t()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[e,t,f]),S.useEffect(()=>{if(e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[e]),!e)return null;const g=async()=>{p(!0);try{await n()}catch(v){console.error("Confirm action failed:",v)}finally{p(!1),t()}},b=u==="danger"?"text-red-400":"text-yellow-400",y=u==="danger"?"bg-red-500/10":"bg-yellow-500/10";return ms.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:f?void 0:t}),a.jsxs("div",{className:"relative bg-[#232733] rounded-xl shadow-[0_8px_30px_rgba(0,0,0,0.5)] max-w-md w-full px-4 py-4 md:p-6 animate-in fade-in zoom-in-95 duration-150 border border-white/[0.06]",children:[a.jsxs("div",{className:"flex gap-3 md:gap-4",children:[a.jsx("div",{className:`shrink-0 w-9 h-9 md:w-10 md:h-10 rounded-full ${y} flex items-center justify-center`,children:a.jsx("svg",{className:`w-5 h-5 ${b}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{id:"confirm-title",className:"text-lg font-semibold text-gray-100",children:r}),s&&a.jsx("p",{className:"mt-2 text-sm text-gray-400",children:s}),f&&d&&d.total>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx(Is,{value:d.current,max:d.total,size:"sm"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.current," / ",d.total]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4 md:mt-6",children:[a.jsx(it,{ref:m,variant:"secondary",size:"sm",onClick:t,disabled:f,children:l}),a.jsx(it,{variant:"danger",size:"sm",onClick:g,loading:f,children:o})]})]})]}),document.body)}const pH={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"};function Qr({open:e,onClose:t,onSubmit:n,title:r,children:s,submitLabel:o="Create",cancelLabel:l="Cancel",loading:u=!1,size:d="md"}){const f=S.useRef(null);if(S.useEffect(()=>{var m;e&&((m=f.current)==null||m.focus())},[e]),S.useEffect(()=>{if(!e)return;const m=g=>{g.key==="Escape"&&!u&&t()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,t,u]),S.useEffect(()=>{if(e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[e]),!e)return null;const p=async m=>{m.preventDefault(),await n()};return ms.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"form-dialog-title",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:u?void 0:t}),a.jsxs("div",{className:`relative bg-[#232733] rounded-xl shadow-[0_8px_30px_rgba(0,0,0,0.5)] border border-white/[0.06] ${pH[d]} w-full animate-in fade-in zoom-in-95 duration-150`,children:[a.jsx("div",{className:"px-4 py-3 md:px-6 md:py-4 border-b border-white/[0.06]",children:a.jsx("h3",{id:"form-dialog-title",className:"text-lg font-semibold text-gray-100",children:r})}),a.jsxs("form",{onSubmit:p,children:[a.jsx("div",{className:"px-4 py-3 md:px-6 md:py-4 space-y-4 max-h-[70vh] md:max-h-[60vh] overflow-y-auto",children:s}),a.jsxs("div",{className:"flex justify-end gap-3 px-4 py-3 md:px-6 md:py-4 border-t border-white/[0.06]",children:[a.jsx(it,{ref:f,variant:"secondary",size:"sm",onClick:t,disabled:u,type:"button",children:l}),a.jsx(it,{variant:"primary",size:"sm",type:"submit",loading:u,children:o})]})]})]})]}),document.body)}function Ul({open:e,onClose:t,title:n,submitLabel:r="Link",options:s,selectedId:o,onSelect:l,onSubmit:u,loading:d,fetching:f,searchQuery:p,onSearchChange:m}){const g=S.useRef(null);return S.useEffect(()=>{e&&setTimeout(()=>{var b;return(b=g.current)==null?void 0:b.focus()},50)},[e]),S.useEffect(()=>{if(!e)return;const b=y=>{y.key==="Escape"&&!d&&t()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[e,t,d]),S.useEffect(()=>{if(e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[e]),e?ms.createPortal(a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"link-dialog-title",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:d?void 0:t}),a.jsxs("div",{className:"relative bg-[#232733] rounded-xl shadow-[0_8px_30px_rgba(0,0,0,0.5)] border border-white/[0.06] max-w-lg w-full animate-in fade-in zoom-in-95 duration-150",children:[a.jsx("div",{className:"px-4 py-3 md:px-6 md:py-4 border-b border-white/[0.06]",children:a.jsx("h3",{id:"link-dialog-title",className:"text-lg font-semibold text-gray-100",children:n})}),a.jsxs("div",{className:"px-4 py-3 md:px-6 md:py-4",children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{ref:g,className:"w-full pl-10 pr-3 py-2 bg-[#0f1117] border border-white/[0.1] rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Search...",value:p,onChange:b=>m(b.target.value),disabled:d})]}),a.jsx("div",{className:"max-h-[50vh] md:max-h-[40vh] overflow-y-auto space-y-1",children:f?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(wr,{})}):s.length===0?a.jsx("div",{className:"flex items-center justify-center py-8 text-sm text-gray-500",children:"No items available"}):s.map(b=>a.jsxs("button",{type:"button",onClick:()=>l(b.value),className:`w-full text-left px-3 py-2.5 rounded-lg transition-colors ${o===b.value?"bg-indigo-500/20 ring-2 ring-indigo-500":"bg-white/[0.04] hover:bg-white/[0.08]"}`,children:[a.jsx("div",{className:"font-medium text-gray-200 text-sm",children:b.label}),b.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:b.description})]},b.value))})]}),a.jsxs("div",{className:"flex justify-end gap-3 px-4 py-3 md:px-6 md:py-4 border-t border-white/[0.06]",children:[a.jsx(it,{variant:"secondary",size:"sm",onClick:t,disabled:d,children:"Cancel"}),a.jsx(it,{variant:"primary",size:"sm",onClick:u,loading:d,disabled:!o||d,children:r})]})]})]}),document.body):null}function mH({label:e,entityType:t,onUnlink:n,linkTo:r}){const s=a.jsxs(a.Fragment,{children:[t&&a.jsxs("span",{className:"text-gray-500 mr-1",children:[t,":"]}),a.jsx("span",{className:"text-gray-200",children:e})]});return a.jsxs("span",{className:"inline-flex items-center gap-2 bg-white/[0.06] rounded-lg px-3 py-1.5 text-sm",children:[r?a.jsx(ln,{to:r,className:"hover:text-indigo-400 transition-colors",children:s}):s,a.jsx("button",{onClick:o=>{o.preventDefault(),o.stopPropagation(),n()},className:"text-gray-500 hover:text-red-400 transition-colors",title:"Unlink",children:""})]})}const gH={success:{bar:"bg-green-500",icon:a.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})},error:{bar:"bg-red-500",icon:a.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})},info:{bar:"bg-blue-500",icon:a.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},warning:{bar:"bg-yellow-500",icon:a.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};function xH(){const e=Ve(kw),t=At(kw);if(e.length===0)return null;const n=r=>{t(s=>s.filter(o=>o.id!==r))};return a.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col-reverse gap-2 pointer-events-none",children:e.map(r=>{const s=gH[r.type];return a.jsxs("div",{className:"pointer-events-auto flex items-stretch bg-[#232733] rounded-xl shadow-[0_4px_12px_rgba(0,0,0,0.4)] border border-white/[0.06] overflow-hidden animate-[slideInRight_200ms_ease-out] min-w-[300px] max-w-[420px]",children:[a.jsx("div",{className:`w-1 shrink-0 ${s.bar}`}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 flex-1 min-w-0",children:[a.jsx("div",{className:"shrink-0",children:s.icon}),a.jsx("p",{className:"text-sm text-gray-200 flex-1 min-w-0",children:r.message}),a.jsx("button",{onClick:()=>n(r.id),className:"shrink-0 text-gray-500 hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5",children:a.jsx("div",{className:`h-full ${s.bar} opacity-40 animate-[shrinkWidth_4s_linear_forwards]`})})]},r.id)})})}function mo({actions:e,className:t=""}){const[n,r]=S.useState(!1),s=S.useRef(null),o=S.useRef(null),[l,u]=S.useState({top:0,left:0}),d=S.useCallback(()=>{var y,v;if(!s.current)return;const f=s.current.getBoundingClientRect(),p=((y=o.current)==null?void 0:y.offsetWidth)||140,m=((v=o.current)==null?void 0:v.offsetHeight)||200,b=window.innerHeight-f.bottom<m&&f.top>m;u({top:b?f.top+window.scrollY-m-4:f.bottom+window.scrollY+4,left:f.right+window.scrollX-p})},[]);return S.useEffect(()=>{if(!n)return;d();function f(g){const b=g.target;s.current&&!s.current.contains(b)&&o.current&&!o.current.contains(b)&&r(!1)}function p(g){g.key==="Escape"&&r(!1)}function m(){r(!1)}return document.addEventListener("mousedown",f),document.addEventListener("keydown",p),window.addEventListener("scroll",m,!0),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",p),window.removeEventListener("scroll",m,!0)}},[n,d]),a.jsxs("div",{ref:s,className:`relative inline-block ${t}`,children:[a.jsx("button",{onClick:f=>{f.preventDefault(),f.stopPropagation(),r(!n)},className:"flex items-center justify-center w-10 h-10 md:w-8 md:h-8 rounded-lg text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] transition-colors","aria-label":"More actions",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),n&&ms.createPortal(a.jsx("div",{ref:o,className:"fixed z-[9999] min-w-[140px] rounded-lg bg-[#232733] border border-white/[0.1] shadow-[0_4px_12px_rgba(0,0,0,0.4)] py-1",style:{top:l.top,left:l.left,position:"absolute"},children:e.map(f=>a.jsx("button",{onClick:p=>{p.preventDefault(),p.stopPropagation(),r(!1),f.onClick()},className:`w-full px-3 py-2 text-left text-sm transition-colors ${f.variant==="danger"?"text-red-400 hover:bg-red-500/10":"text-gray-200 hover:bg-white/[0.06]"}`,children:f.label},f.label))}),document.body)]})}function ql({sections:e,activeSection:t,rightContent:n}){const r=s=>{var o;(o=document.getElementById(s))==null||o.scrollIntoView({behavior:"smooth"})};return a.jsx("div",{className:"sticky top-0 z-10 bg-[#1a1d27]/90 backdrop-blur-sm border-b border-white/[0.06] -mx-4 px-4 md:-mx-6 md:px-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:e.map(s=>a.jsxs("button",{onClick:()=>r(s.id),className:`px-2 py-2 text-xs md:px-3 md:py-2.5 md:text-sm font-medium whitespace-nowrap transition-colors border-b-2 ${t===s.id?"border-indigo-500 text-white":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[s.label,s.count!==void 0&&a.jsxs("span",{className:"ml-1.5 text-gray-500",children:["(",s.count,")"]})]},s.id))}),n&&a.jsx("div",{className:"shrink-0",children:n})]})})}function go({title:e,description:t,status:n,metadata:r,actions:s,overflowActions:o,children:l}){return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight text-gray-100 truncate min-w-0",children:e}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s,n,o&&o.length>0&&a.jsx(mo,{actions:o})]})]}),t&&a.jsx(hH,{content:t,maxHeight:120}),(l||r&&r.length>0)&&a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:l}),r&&r.length>0&&a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.map(u=>a.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white/[0.05] rounded-full px-3 py-1 text-xs text-gray-400",children:[a.jsx("span",{className:"text-gray-500",children:u.label}),a.jsx("span",{className:"text-gray-300",children:(typeof u.value=="string",u.value)})]},u.label))})]})]})}function Jh({status:e,options:t,colorMap:n,onStatusChange:r}){var v;const{isOpen:s,toggle:o,close:l,position:u,triggerRef:d,menuRef:f}=S_(),[p,m]=S.useState(!1),g=async _=>{if(_===e){l();return}l(),m(!0);try{await r(_)}finally{m(!1)}},b=n[e]||{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},y=((v=t.find(_=>_.value===e))==null?void 0:v.label)||e;return a.jsxs("div",{ref:d,className:"relative inline-block",children:[a.jsxs("button",{onClick:()=>!p&&o(),disabled:p,className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-sm font-semibold transition-all ${b.bg} ${b.text} hover:opacity-90`,children:[p?a.jsx(wr,{size:"sm"}):a.jsx("span",{className:`w-2 h-2 rounded-full ${b.dot}`}),y,!p&&a.jsx("svg",{className:"w-3.5 h-3.5 opacity-60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s&&ms.createPortal(a.jsx("div",{ref:f,className:"fixed z-[9999] min-w-[160px] rounded-lg bg-[#232733] border border-white/[0.1] shadow-[0_4px_12px_rgba(0,0,0,0.4)] py-1",style:{top:u.top,left:u.left,position:"absolute"},children:t.map(_=>{const N=n[_.value];return a.jsxs("button",{onClick:()=>g(_.value),className:`w-full flex items-center gap-2 px-3 py-2 text-sm text-left transition-colors hover:bg-white/[0.06] ${_.value===e?"text-white font-medium":"text-gray-300"}`,children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${(N==null?void 0:N.dot)||"bg-gray-400"}`}),_.label]},_.value)})}),document.body)]})}function Fl({title:e,description:t,actions:n,filters:r,children:s}){return a.jsxs("div",{className:"pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-4 md:mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-gray-100",children:e}),t&&a.jsx("p",{className:"text-gray-400 mt-1",children:t})]}),n&&a.jsx("div",{className:"flex flex-wrap items-center gap-2 shrink-0",children:n})]}),r&&a.jsx("div",{className:"mb-6",children:r}),s]})}function Hl({selected:e,onToggle:t}){return a.jsx("div",{onClick:n=>{n.preventDefault(),n.stopPropagation(),t(n.shiftKey)},className:`
        flex items-center justify-center w-9 shrink-0 cursor-pointer
        transition-colors duration-150 rounded-l-xl
        ${e?"bg-indigo-500/20":"hover:bg-white/[0.06]"}
      `,children:a.jsx("div",{className:`
          w-5 h-5 rounded-full flex items-center justify-center
          transition-all duration-150 border-2
          ${e?"border-indigo-500 bg-indigo-500":"border-white/[0.08] hover:border-white/20"}
        `,children:e&&a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})})}function Gl({count:e,onDelete:t,onClear:n,deleting:r}){return e===0?null:a.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 bg-[#232733] border border-white/[0.1] shadow-[0_4px_24px_rgba(0,0,0,0.5)] rounded-xl px-3 py-2 sm:px-5 sm:py-3 flex items-center gap-3 sm:gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-300 whitespace-nowrap",children:[e," selected"]}),a.jsx("button",{onClick:n,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors whitespace-nowrap",children:"Deselect"}),a.jsx(it,{size:"sm",variant:"danger",onClick:t,disabled:r,children:r?"Deleting...":"Delete"})]})}function Dj(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function bH(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function yH(e,t,n){const s=Gu((n||{}).ignore||[]),o=vH(t);let l=-1;for(;++l<o.length;)aD(e,"text",u);function u(f,p){let m=-1,g;for(;++m<p.length;){const b=p[m],y=g?g.children:void 0;if(s(b,y?y.indexOf(b):void 0,g))return;g=b}if(g)return d(f,p)}function d(f,p){const m=p[p.length-1],g=o[l][0],b=o[l][1];let y=0;const _=m.children.indexOf(f);let N=!1,j=[];g.lastIndex=0;let k=g.exec(f.value);for(;k;){const C=k.index,A={index:k.index,input:k.input,stack:[...p,f]};let T=b(...k,A);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?g.lastIndex=C+1:(y!==C&&j.push({type:"text",value:f.value.slice(y,C)}),Array.isArray(T)?j.push(...T):T&&j.push(T),y=C+k[0].length,N=!0),!g.global)break;k=g.exec(f.value)}return N?(y<f.value.length&&j.push({type:"text",value:f.value.slice(y)}),m.children.splice(_,1,...j)):j=[f],_+j.length}}function vH(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([wH(s[0]),_H(s[1])])}return t}function wH(e){return typeof e=="string"?new RegExp(bH(e),"g"):e}function _H(e){return typeof e=="function"?e:function(){return e}}const h0="phrasing",p0=["autolink","link","image","label"];function NH(){return{transforms:[AH],enter:{literalAutolink:kH,literalAutolinkEmail:m0,literalAutolinkHttp:m0,literalAutolinkWww:m0},exit:{literalAutolink:TH,literalAutolinkEmail:CH,literalAutolinkHttp:EH,literalAutolinkWww:jH}}}function SH(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:h0,notInConstruct:p0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:h0,notInConstruct:p0},{character:":",before:"[ps]",after:"\\/",inConstruct:h0,notInConstruct:p0}]}}function kH(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function m0(e){this.config.enter.autolinkProtocol.call(this,e)}function EH(e){this.config.exit.autolinkProtocol.call(this,e)}function jH(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function CH(e){this.config.exit.autolinkEmail.call(this,e)}function TH(e){this.exit(e)}function AH(e){yH(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,MH],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),RH]],{ignore:["link","linkReference"]})}function MH(e,t,n,r,s){let o="";if(!lD(s)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!OH(n)))return!1;const l=DH(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function RH(e,t,n,r){return!lD(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function OH(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function DH(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=Dj(e,"(");let o=Dj(e,")");for(;r!==-1&&s>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function lD(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||so(n)||Kh(n))&&(!t||n!==47)}cD.peek=FH;function LH(){this.buffer()}function IH(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function PH(){this.buffer()}function zH(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function BH(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ls(this.sliceSerialize(e)).toLowerCase(),n.label=t}function $H(e){this.exit(e)}function UH(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ls(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qH(e){this.exit(e)}function FH(){return"["}function cD(e,t,n,r){const s=n.createTracker(r);let o=s.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=s.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),l(),o+=s.move("]"),o}function HH(){return{enter:{gfmFootnoteCallString:LH,gfmFootnoteCall:IH,gfmFootnoteDefinitionLabelString:PH,gfmFootnoteDefinition:zH},exit:{gfmFootnoteCallString:BH,gfmFootnoteCall:$H,gfmFootnoteDefinitionLabelString:UH,gfmFootnoteDefinition:qH}}}function GH(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:cD},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,o,l){const u=o.createTracker(l);let d=u.move("[^");const f=o.enter("footnoteDefinition"),p=o.enter("label");return d+=u.move(o.safe(o.associationId(r),{before:d,after:"]"})),p(),d+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),d+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?uD:VH))),f(),d}}function VH(e,t,n){return t===0?e:uD(e,t,n)}function uD(e,t,n){return(n?"":"    ")+e}const WH=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];dD.peek=QH;function KH(){return{canContainEols:["delete"],enter:{strikethrough:XH},exit:{strikethrough:ZH}}}function YH(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:WH}],handlers:{delete:dD}}}function XH(e){this.enter({type:"delete",children:[]},e)}function ZH(e){this.exit(e)}function dD(e,t,n,r){const s=n.createTracker(r),o=n.enter("strikethrough");let l=s.move("~~");return l+=n.containerPhrasing(e,{...s.current(),before:l,after:"~"}),l+=s.move("~~"),o(),l}function QH(){return"~"}function JH(e){return e.length}function eG(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||JH,o=[],l=[],u=[],d=[];let f=0,p=-1;for(;++p<e.length;){const v=[],_=[];let N=-1;for(e[p].length>f&&(f=e[p].length);++N<e[p].length;){const j=tG(e[p][N]);if(n.alignDelimiters!==!1){const k=s(j);_[N]=k,(d[N]===void 0||k>d[N])&&(d[N]=k)}v.push(j)}l[p]=v,u[p]=_}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<f;)o[m]=Lj(r[m]);else{const v=Lj(r);for(;++m<f;)o[m]=v}m=-1;const g=[],b=[];for(;++m<f;){const v=o[m];let _="",N="";v===99?(_=":",N=":"):v===108?_=":":v===114&&(N=":");let j=n.alignDelimiters===!1?1:Math.max(1,d[m]-_.length-N.length);const k=_+"-".repeat(j)+N;n.alignDelimiters!==!1&&(j=_.length+j+N.length,j>d[m]&&(d[m]=j),b[m]=j),g[m]=k}l.splice(1,0,g),u.splice(1,0,b),p=-1;const y=[];for(;++p<l.length;){const v=l[p],_=u[p];m=-1;const N=[];for(;++m<f;){const j=v[m]||"";let k="",C="";if(n.alignDelimiters!==!1){const A=d[m]-(_[m]||0),T=o[m];T===114?k=" ".repeat(A):T===99?A%2?(k=" ".repeat(A/2+.5),C=" ".repeat(A/2-.5)):(k=" ".repeat(A/2),C=k):C=" ".repeat(A)}n.delimiterStart!==!1&&!m&&N.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&j==="")&&(n.delimiterStart!==!1||m)&&N.push(" "),n.alignDelimiters!==!1&&N.push(k),N.push(j),n.alignDelimiters!==!1&&N.push(C),n.padding!==!1&&N.push(" "),(n.delimiterEnd!==!1||m!==f-1)&&N.push("|")}y.push(n.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return y.join(`
`)}function tG(e){return e==null?"":String(e)}function Lj(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function nG(e,t,n,r){const s=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),rG);return s(),l}function rG(e,t,n){return">"+(n?"":" ")+e}function sG(e,t){return Ij(e,t.inConstruct,!0)&&!Ij(e,t.notInConstruct,!1)}function Ij(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Pj(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&sG(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function iG(e,t){const n=String(e);let r=n.indexOf(t),s=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++o>l&&(l=o):o=1,s=r+t.length,r=n.indexOf(t,s);return l}function aG(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function oG(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function lG(e,t,n,r){const s=oG(n),o=e.value||"",l=s==="`"?"GraveAccent":"Tilde";if(aG(e,n)){const m=n.enter("codeIndented"),g=n.indentLines(o,cG);return m(),g}const u=n.createTracker(r),d=s.repeat(Math.max(iG(o,s)+1,3)),f=n.enter("codeFenced");let p=u.move(d);if(e.lang){const m=n.enter(`codeFencedLang${l}`);p+=u.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...u.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${l}`);p+=u.move(" "),p+=u.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...u.current()})),m()}return p+=u.move(`
`),o&&(p+=u.move(o+`
`)),p+=u.move(d),f(),p}function cG(e,t,n){return(n?"":"    ")+e}function $_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function uG(e,t,n,r){const s=$_(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=d.move(" "+s),f+=d.move(n.safe(e.title,{before:f,after:s,...d.current()})),f+=d.move(s),u()),l(),f}function dG(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function _u(e){return"&#x"+e.toString(16).toUpperCase()+";"}function vh(e,t,n){const r=gl(e),s=gl(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}fD.peek=fG;function fD(e,t,n,r){const s=dG(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(s);let d=l.move(n.containerPhrasing(e,{after:s,before:u,...l.current()}));const f=d.charCodeAt(0),p=vh(r.before.charCodeAt(r.before.length-1),f,s);p.inside&&(d=_u(f)+d.slice(1));const m=d.charCodeAt(d.length-1),g=vh(r.after.charCodeAt(0),m,s);g.inside&&(d=d.slice(0,-1)+_u(m));const b=l.move(s);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:p.outside},u+d+b}function fG(e,t,n){return n.options.emphasis||"*"}function hG(e,t){let n=!1;return Qh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ow}),!!((!e.depth||e.depth<3)&&M_(e)&&(t.options.setext||n))}function pG(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(hG(e,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),g=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return m(),p(),g+`
`+(s===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(s),u=n.enter("headingAtx"),d=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=_u(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),u(),f}hD.peek=mG;function hD(e){return e.value||""}function mG(){return"<"}pD.peek=gG;function pD(e,t,n,r){const s=$_(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=d.move(" "+s),f+=d.move(n.safe(e.title,{before:f,after:s,...d.current()})),f+=d.move(s),u()),f+=d.move(")"),l(),f}function gG(){return"!"}mD.peek=xG;function mD(e,t,n,r){const s=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let d=u.move("![");const f=n.safe(e.alt,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...u.current()});return l(),n.stack=p,o(),s==="full"||!f||f!==m?d+=u.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function xG(){return"!"}gD.peek=bG;function gD(e,t,n){let r=e.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let d;if(l.atBreak)for(;d=u.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return s+r+s}function bG(){return"`"}function xD(e,t){const n=M_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}bD.peek=yG;function bD(e,t,n,r){const s=$_(n),o=s==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,d;if(xD(e,n)){const p=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(e,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=p,m}u=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${o}`),f+=l.move(" "+s),f+=l.move(n.safe(e.title,{before:f,after:s,...l.current()})),f+=l.move(s),d()),f+=l.move(")"),u(),f}function yG(e,t,n){return xD(e,n)?"<":"["}yD.peek=vG;function yD(e,t,n,r){const s=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let d=u.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...u.current()});return l(),n.stack=p,o(),s==="full"||!f||f!==m?d+=u.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function vG(){return"["}function U_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function wG(e){const t=U_(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function _G(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function vD(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function NG(e,t,n,r){const s=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?_G(n):U_(n);const u=e.ordered?l==="."?")":".":wG(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),vD(n)===l&&p){let m=-1;for(;++m<e.children.length;){const g=e.children[m];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=u),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,s(),f}function SG(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function kG(e,t,n,r){const s=SG(n);let o=n.bulletCurrent||U_(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),p);return d(),f;function p(m,g,b){return g?(b?"":" ".repeat(l))+m:(b?o:o+" ".repeat(l-o.length))+m}}function EG(e,t,n,r){const s=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),s(),l}const jG=Gu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function CG(e,t,n,r){return(e.children.some(function(l){return jG(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function TG(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}wD.peek=AG;function wD(e,t,n,r){const s=TG(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(s+s);let d=l.move(n.containerPhrasing(e,{after:s,before:u,...l.current()}));const f=d.charCodeAt(0),p=vh(r.before.charCodeAt(r.before.length-1),f,s);p.inside&&(d=_u(f)+d.slice(1));const m=d.charCodeAt(d.length-1),g=vh(r.after.charCodeAt(0),m,s);g.inside&&(d=d.slice(0,-1)+_u(m));const b=l.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:p.outside},u+d+b}function AG(e,t,n){return n.options.strong||"*"}function MG(e,t,n,r){return n.safe(e.value,r)}function RG(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function OG(e,t,n){const r=(vD(n)+(n.options.ruleSpaces?" ":"")).repeat(RG(n));return n.options.ruleSpaces?r.slice(0,-1):r}const _D={blockquote:nG,break:Pj,code:lG,definition:uG,emphasis:fD,hardBreak:Pj,heading:pG,html:hD,image:pD,imageReference:mD,inlineCode:gD,link:bD,linkReference:yD,list:NG,listItem:kG,paragraph:EG,root:CG,strong:wD,text:MG,thematicBreak:OG};function DG(){return{enter:{table:LG,tableData:zj,tableHeader:zj,tableRow:PG},exit:{codeText:zG,table:IG,tableData:g0,tableHeader:g0,tableRow:g0}}}function LG(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function IG(e){this.exit(e),this.data.inTable=void 0}function PG(e){this.enter({type:"tableRow",children:[]},e)}function g0(e){this.exit(e)}function zj(e){this.enter({type:"tableCell",children:[]},e)}function zG(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,BG));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function BG(e,t){return t==="|"?t:e}function $G(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:d,tableRow:u}};function l(b,y,v,_){return f(p(b,v,_),b.align)}function u(b,y,v,_){const N=m(b,v,_),j=f([N]);return j.slice(0,j.indexOf(`
`))}function d(b,y,v,_){const N=v.enter("tableCell"),j=v.enter("phrasing"),k=v.containerPhrasing(b,{..._,before:o,after:o});return j(),N(),k}function f(b,y){return eG(b,{align:y,alignDelimiters:r,padding:n,stringLength:s})}function p(b,y,v){const _=b.children;let N=-1;const j=[],k=y.enter("table");for(;++N<_.length;)j[N]=m(_[N],y,v);return k(),j}function m(b,y,v){const _=b.children;let N=-1;const j=[],k=y.enter("tableRow");for(;++N<_.length;)j[N]=d(_[N],b,y,v);return k(),j}function g(b,y,v){let _=_D.inlineCode(b,y,v);return v.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function UG(){return{exit:{taskListCheckValueChecked:Bj,taskListCheckValueUnchecked:Bj,paragraph:FG}}}function qG(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:HG}}}function Bj(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function FG(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let o=-1,l;for(;++o<s.length;){const u=s[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function HG(e,t,n,r){const s=e.children[0],o=typeof e.checked=="boolean"&&s&&s.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let d=_D.listItem(e,t,n,{...r,...u.current()});return o&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(p){return p+l}}function GG(){return[NH(),HH(),KH(),DG(),UG()]}function VG(e){return{extensions:[SH(),GH(e),YH(),$G(e),qG()]}}const WG={tokenize:JG,partial:!0},ND={tokenize:eV,partial:!0},SD={tokenize:tV,partial:!0},kD={tokenize:nV,partial:!0},KG={tokenize:rV,partial:!0},ED={name:"wwwAutolink",tokenize:ZG,previous:CD},jD={name:"protocolAutolink",tokenize:QG,previous:TD},Pi={name:"emailAutolink",tokenize:XG,previous:AD},ti={};function YG(){return{text:ti}}let Xa=48;for(;Xa<123;)ti[Xa]=Pi,Xa++,Xa===58?Xa=65:Xa===91&&(Xa=97);ti[43]=Pi;ti[45]=Pi;ti[46]=Pi;ti[95]=Pi;ti[72]=[Pi,jD];ti[104]=[Pi,jD];ti[87]=[Pi,ED];ti[119]=[Pi,ED];function XG(e,t,n){const r=this;let s,o;return l;function l(m){return!Pw(m)||!AD.call(r,r.previous)||q_(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(m))}function u(m){return Pw(m)?(e.consume(m),u):m===64?(e.consume(m),d):n(m)}function d(m){return m===46?e.check(KG,p,f)(m):m===45||m===95||dr(m)?(o=!0,e.consume(m),d):p(m)}function f(m){return e.consume(m),s=!0,d}function p(m){return o&&s&&vr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function ZG(e,t,n){const r=this;return s;function s(l){return l!==87&&l!==119||!CD.call(r,r.previous)||q_(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(WG,e.attempt(ND,e.attempt(SD,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function QG(e,t,n){const r=this;let s="",o=!1;return l;function l(m){return(m===72||m===104)&&TD.call(r,r.previous)&&!q_(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(m),e.consume(m),u):n(m)}function u(m){if(vr(m)&&s.length<5)return s+=String.fromCodePoint(m),e.consume(m),u;if(m===58){const g=s.toLowerCase();if(g==="http"||g==="https")return e.consume(m),d}return n(m)}function d(m){return m===47?(e.consume(m),o?f:(o=!0,d)):n(m)}function f(m){return m===null||xh(m)||en(m)||so(m)||Kh(m)?n(m):e.attempt(ND,e.attempt(SD,p),n)(m)}function p(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function JG(e,t,n){let r=0;return s;function s(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),s):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function eV(e,t,n){let r,s,o;return l;function l(f){return f===46||f===95?e.check(kD,d,u)(f):f===null||en(f)||so(f)||f!==45&&Kh(f)?d(f):(o=!0,e.consume(f),l)}function u(f){return f===95?r=!0:(s=r,r=void 0),e.consume(f),l}function d(f){return s||r||!o?n(f):t(f)}}function tV(e,t){let n=0,r=0;return s;function s(l){return l===40?(n++,e.consume(l),s):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(kD,t,o)(l):l===null||en(l)||so(l)?t(l):(e.consume(l),s)}function o(l){return l===41&&r++,e.consume(l),s}}function nV(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),s):u===60||u===null||en(u)||so(u)?t(u):n(u)}function s(u){return u===null||u===40||u===91||en(u)||so(u)?t(u):r(u)}function o(u){return vr(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):vr(u)?(e.consume(u),l):n(u)}}function rV(e,t,n){return r;function r(o){return e.consume(o),s}function s(o){return dr(o)?n(o):t(o)}}function CD(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||en(e)}function TD(e){return!vr(e)}function AD(e){return!(e===47||Pw(e))}function Pw(e){return e===43||e===45||e===46||e===95||dr(e)}function q_(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const sV={tokenize:fV,partial:!0};function iV(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cV,continuation:{tokenize:uV},exit:dV}},text:{91:{name:"gfmFootnoteCall",tokenize:lV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:aV,resolveTo:oV}}}}function aV(e,t,n){const r=this;let s=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;s--;){const d=r.events[s][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return u;function u(d){if(!l||!l._balanced)return n(d);const f=Ls(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function oV(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function lV(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),d}function d(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(m){if(o>999||m===93&&!l||m===null||m===91||en(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return s.includes(Ls(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return en(m)||(l=!0),o++,e.consume(m),m===92?p:f}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function cV(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return d;function d(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(y)}function p(y){if(l>999||y===93&&!u||y===null||y===91||en(y))return n(y);if(y===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return o=Ls(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return en(y)||(u=!0),l++,e.consume(y),y===92?m:p}function m(y){return y===91||y===92||y===93?(e.consume(y),l++,p):p(y)}function g(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),s.includes(o)||s.push(o),yt(e,b,"gfmFootnoteDefinitionWhitespace")):n(y)}function b(y){return t(y)}}function uV(e,t,n){return e.check(Hu,t,e.attempt(sV,t,n))}function dV(e){e.exit("gfmFootnoteDefinition")}function fV(e,t,n){const r=this;return yt(e,s,"gfmFootnoteDefinitionIndent",5);function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function hV(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(l,u){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},m={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},g=[["enter",p,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",m,u]],b=u.parser.constructs.insideSpan.null;b&&Zr(g,g.length,0,Yh(b,l.slice(f+1,d),u)),Zr(g,g.length,0,[["exit",m,u],["enter",l[d][1],u],["exit",l[d][1],u],["exit",p,u]]),Zr(l,f-1,d-f+3,g),d=f+g.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function o(l,u,d){const f=this.previous,p=this.events;let m=0;return g;function g(y){return f===126&&p[p.length-1][1].type!=="characterEscape"?d(y):(l.enter("strikethroughSequenceTemporary"),b(y))}function b(y){const v=gl(f);if(y===126)return m>1?d(y):(l.consume(y),m++,b);if(m<2&&!n)return d(y);const _=l.exit("strikethroughSequenceTemporary"),N=gl(y);return _._open=!N||N===2&&!!v,_._close=!v||v===2&&!!N,u(y)}}}class pV{constructor(){this.map=[]}add(t,n,r){mV(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const o of s)t.push(o);s=r.pop()}this.map.length=0}}function mV(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function gV(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function xV(){return{flow:{null:{name:"table",tokenize:bV,resolveAll:yV}}}}function bV(e,t,n){const r=this;let s=0,o=0,l;return u;function u(D){let I=r.events.length-1;for(;I>-1;){const B=r.events[I][1].type;if(B==="lineEnding"||B==="linePrefix")I--;else break}const F=I>-1?r.events[I][1].type:null,K=F==="tableHead"||F==="tableRow"?T:d;return K===T&&r.parser.lazy[r.now().line]?n(D):K(D)}function d(D){return e.enter("tableHead"),e.enter("tableRow"),f(D)}function f(D){return D===124||(l=!0,o+=1),p(D)}function p(D){return D===null?n(D):qe(D)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),b):n(D):lt(D)?yt(e,p,"whitespace")(D):(o+=1,l&&(l=!1,s+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),l=!0,p):(e.enter("data"),m(D)))}function m(D){return D===null||D===124||en(D)?(e.exit("data"),p(D)):(e.consume(D),D===92?g:m)}function g(D){return D===92||D===124?(e.consume(D),m):m(D)}function b(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),l=!1,lt(D)?yt(e,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):y(D))}function y(D){return D===45||D===58?_(D):D===124?(l=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),v):A(D)}function v(D){return lt(D)?yt(e,_,"whitespace")(D):_(D)}function _(D){return D===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),N):D===45?(o+=1,N(D)):D===null||qe(D)?C(D):A(D)}function N(D){return D===45?(e.enter("tableDelimiterFiller"),j(D)):A(D)}function j(D){return D===45?(e.consume(D),j):D===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),k):(e.exit("tableDelimiterFiller"),k(D))}function k(D){return lt(D)?yt(e,C,"whitespace")(D):C(D)}function C(D){return D===124?y(D):D===null||qe(D)?!l||s!==o?A(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):A(D)}function A(D){return n(D)}function T(D){return e.enter("tableRow"),M(D)}function M(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),M):D===null||qe(D)?(e.exit("tableRow"),t(D)):lt(D)?yt(e,M,"whitespace")(D):(e.enter("data"),z(D))}function z(D){return D===null||D===124||en(D)?(e.exit("data"),M(D)):(e.consume(D),D===92?$:z)}function $(D){return D===92||D===124?(e.consume(D),z):z(D)}}function yV(e,t){let n=-1,r=!0,s=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,d=0,f,p,m;const g=new pV;for(;++n<e.length;){const b=e[n],y=b[1];b[0]==="enter"?y.type==="tableHead"?(u=!1,d!==0&&($j(g,t,d,f,p),p=void 0,d=0),f={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(n,0,[["enter",f,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,m=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,p={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(n,0,[["enter",p,t]])),s=y.type==="tableDelimiterRow"?2:p?3:1):s&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],m=Af(g,t,o,s,void 0,m),o=[0,0,0,0]),l[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],m=Af(g,t,o,s,void 0,m)),o=l,l=[o[1],n,0,0])):y.type==="tableHead"?(u=!0,d=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(d=n,o[1]!==0?(l[0]=l[1],m=Af(g,t,o,s,n,m)):l[1]!==0&&(m=Af(g,t,l,s,n,m)),s=0):s&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&$j(g,t,d,f,p),g.consume(t.events),n=-1;++n<t.events.length;){const b=t.events[n];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=gV(t.events,n))}return e}function Af(e,t,n,r,s,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},al(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const d=al(t.events,n[1]);if(o={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=al(t.events,n[2]),p=al(t.events,n[3]),m={type:u,start:Object.assign({},f),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",m,t]]),r!==2){const g=t.events[n[2]],b=t.events[n[3]];if(g[1].end=Object.assign({},b[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,v=n[3]-n[2]-1;e.add(y,v,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return s!==void 0&&(o.end=Object.assign({},al(t.events,s)),e.add(s,0,[["exit",o,t]]),o=void 0),o}function $j(e,t,n,r,s){const o=[],l=al(t.events,n);s&&(s.end=Object.assign({},l),o.push(["exit",s,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function al(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const vV={name:"tasklistCheck",tokenize:_V};function wV(){return{text:{91:vV}}}function _V(e,t,n){const r=this;return s;function s(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),o)}function o(d){return en(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(d)}function u(d){return qe(d)?t(d):lt(d)?e.check({tokenize:NV},t,n)(d):n(d)}}function NV(e,t,n){return yt(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function SV(e){return UO([YG(),iV(),hV(e),xV(),wV()])}const kV={};function MD(e){const t=this,n=e||kV,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(SV(n)),o.push(GG()),l.push(VG(n))}const Uj=(function(e,t,n){const r=Gu(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),xo=(function(e){if(e==null)return CV;if(typeof e=="string")return jV(e);if(typeof e=="object")return EV(e);if(typeof e=="function")return F_(e);throw new Error("Expected function, string, or array as `test`")});function EV(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=xo(e[n]);return F_(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function jV(e){return F_(t);function t(n){return n.tagName===e}}function F_(e){return t;function t(n,r,s){return!!(TV(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function CV(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function TV(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const qj=/\n/g,Fj=/[\t ]+/g,zw=xo("br"),Hj=xo(PV),AV=xo("p"),Gj=xo("tr"),MV=xo(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",IV,zV]),RD=xo(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function RV(e,t){const n=t||{},r="children"in e?e.children:[],s=RD(e),o=LD(e,{whitespace:n.whitespace||"normal"}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...DD(e,{breakBefore:!0,breakAfter:!0}));let u=-1;for(;++u<r.length;)l.push(...OD(r[u],e,{whitespace:o,breakBefore:u?void 0:s,breakAfter:u<r.length-1?zw(r[u+1]):s}));const d=[];let f;for(u=-1;++u<l.length;){const p=l[u];typeof p=="number"?f!==void 0&&p>f&&(f=p):p&&(f!==void 0&&f>-1&&d.push(`
`.repeat(f)||" "),f=-1,d.push(p))}return d.join("")}function OD(e,t,n){return e.type==="element"?OV(e,t,n):e.type==="text"?n.whitespace==="normal"?DD(e,n):DV(e):[]}function OV(e,t,n){const r=LD(e,n),s=e.children||[];let o=-1,l=[];if(MV(e))return l;let u,d;for(zw(e)||Gj(e)&&Uj(t,e,Gj)?d=`
`:AV(e)?(u=2,d=2):RD(e)&&(u=1,d=1);++o<s.length;)l=l.concat(OD(s[o],e,{whitespace:r,breakBefore:o?void 0:u,breakAfter:o<s.length-1?zw(s[o+1]):d}));return Hj(e)&&Uj(t,e,Hj)&&l.push("	"),u&&l.unshift(u),d&&l.push(d),l}function DD(e,t){const n=String(e.value),r=[],s=[];let o=0;for(;o<=n.length;){qj.lastIndex=o;const d=qj.exec(n),f=d&&"index"in d?d.index:n.length;r.push(LV(n.slice(o,f).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,f===n.length?t.breakAfter:!0)),o=f+1}let l=-1,u;for(;++l<r.length;)r[l].charCodeAt(r[l].length-1)===8203||l<r.length-1&&r[l+1].charCodeAt(0)===8203?(s.push(r[l]),u=void 0):r[l]?(typeof u=="number"&&s.push(u),s.push(r[l]),u=0):(l===0||l===r.length-1)&&s.push(0);return s}function DV(e){return[String(e.value)]}function LV(e,t,n){const r=[];let s=0,o;for(;s<e.length;){Fj.lastIndex=s;const l=Fj.exec(e);o=l?l.index:e.length,!s&&!o&&l&&!t&&r.push(""),s!==o&&r.push(e.slice(s,o)),s=l?o+l[0].length:o}return s!==o&&!n&&r.push(""),r.join(" ")}function LD(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function IV(e){return!!(e.properties||{}).hidden}function PV(e){return e.tagName==="td"||e.tagName==="th"}function zV(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function BV(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",u={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},b=t.optional(s)+e.IDENT_RE+"\\s*\\(",y=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],_=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],N=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],C={type:v,keyword:y,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:_},A={className:"function.dispatch",relevance:0,keywords:{_hint:N},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},T=[A,m,u,n,e.C_BLOCK_COMMENT_MODE,p,f],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:C,contains:T.concat([{begin:/\(/,end:/\)/,keywords:C,contains:T.concat(["self"]),relevance:0}]),relevance:0},z={className:"function",begin:"("+l+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:C,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:C,relevance:0},{begin:b,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,p]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:C,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,p,u,{begin:/\(/,end:/\)/,keywords:C,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,p,u]}]},u,n,e.C_BLOCK_COMMENT_MODE,m]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:C,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,z,A,T,[m,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:C,contains:["self",u]},{begin:e.IDENT_RE+"::",keywords:C},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function $V(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=BV(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function UV(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const s={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},o=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),l={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},u={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,s]};s.contains.push(u);const d={match:/\\"/},f={className:"string",begin:/'/,end:/'/},p={match:/\\'/},m={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},g=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],b=e.SHEBANG({binary:`(${g.join("|")})`,relevance:10}),y={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},v=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],_=["true","false"],N={match:/(\/[a-z._-]+)+/},j=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],k=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],C=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],A=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:v,literal:_,built_in:[...j,...k,"set","shopt",...C,...A]},contains:[b,e.SHEBANG(),y,m,o,l,N,u,d,f,p,n]}}function qV(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",l="("+r+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",u={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},b=t.optional(s)+e.IDENT_RE+"\\s*\\(",_={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},N=[m,u,n,e.C_BLOCK_COMMENT_MODE,p,f],j={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:N.concat([{begin:/\(/,end:/\)/,keywords:_,contains:N.concat(["self"]),relevance:0}]),relevance:0},k={begin:"("+l+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:b,returnBegin:!0,contains:[e.inherit(g,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,p,u,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,p,u]}]},u,n,e.C_BLOCK_COMMENT_MODE,m]};return{name:"C",aliases:["h"],keywords:_,disableAutodetect:!0,illegal:"</",contains:[].concat(j,k,N,[m,{begin:e.IDENT_RE+"::",keywords:_},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:m,strings:f,keywords:_}}}function FV(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",s="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+t.optional(s)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",u={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},p={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},m={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(s)+e.IDENT_RE,relevance:0},b=t.optional(s)+e.IDENT_RE+"\\s*\\(",y=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],_=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],N=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],C={type:v,keyword:y,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:_},A={className:"function.dispatch",relevance:0,keywords:{_hint:N},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},T=[A,m,u,n,e.C_BLOCK_COMMENT_MODE,p,f],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:C,contains:T.concat([{begin:/\(/,end:/\)/,keywords:C,contains:T.concat(["self"]),relevance:0}]),relevance:0},z={className:"function",begin:"("+l+"[\\*&\\s]+)+"+b,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:C,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:C,relevance:0},{begin:b,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,p]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:C,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,f,p,u,{begin:/\(/,end:/\)/,keywords:C,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,f,p,u]}]},u,n,e.C_BLOCK_COMMENT_MODE,m]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:C,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,z,A,T,[m,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:C,contains:["self",u]},{begin:e.IDENT_RE+"::",keywords:C},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function HV(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],s=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],o=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],l={keyword:s.concat(o),built_in:t,literal:r},u=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},f={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},p={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},m=e.inherit(p,{illegal:/\n/}),g={className:"subst",begin:/\{/,end:/\}/,keywords:l},b=e.inherit(g,{illegal:/\n/}),y={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,b]},v={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]},_=e.inherit(v,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},b]});g.contains=[v,y,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,e.C_BLOCK_COMMENT_MODE],b.contains=[_,y,m,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const N={variants:[f,v,y,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},j={begin:"<",end:">",contains:[{beginKeywords:"in out"},u]},k=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",C={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:l,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},N,d,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},u,j,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[u,j,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+k+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:l,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,j],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,relevance:0,contains:[N,d,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},C]}}const GV=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),VV=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],WV=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],KV=[...VV,...WV],YV=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),XV=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),ZV=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),QV=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function JV(e){const t=e.regex,n=GV(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s="and or not only",o=/@-?\w[\w]*(-\w+)*/,l="[a-zA-Z-][a-zA-Z0-9_-]*",u=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+l,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+XV.join("|")+")"},{begin:":(:)?("+ZV.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+QV.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...u,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...u,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:YV.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...u,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+KV.join("|")+")\\b"}]}}function eW(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function tW(e){const o={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:o,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:o,illegal:/["']/}]}]}}function nW(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function rW(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const s={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},u={begin:/\[/,end:/\]/,contains:[r,o,s,l,n,"self"],relevance:0},d=/[A-Za-z0-9_-]+/,f=/"(\\"|[^"])*"/,p=/'[^']*'/,m=t.either(d,f,p),g=t.concat(m,"(\\s*\\.\\s*",m,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:g,className:"attr",starts:{end:/$/,contains:[r,u,o,s,l,n]}}]}}var ol="[0-9](_*[0-9])*",Mf=`\\.(${ol})`,Rf="[0-9a-fA-F](_*[0-9a-fA-F])*",Vj={className:"number",variants:[{begin:`(\\b(${ol})((${Mf})|\\.)?|(${Mf}))[eE][+-]?(${ol})[fFdD]?\\b`},{begin:`\\b(${ol})((${Mf})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Mf})[fFdD]?\\b`},{begin:`\\b(${ol})[fFdD]\\b`},{begin:`\\b0[xX]((${Rf})\\.?|(${Rf})?\\.(${Rf}))[pP][+-]?(${ol})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Rf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function ID(e,t,n){return n===-1?"":e.replace(t,r=>ID(e,t,n-1))}function sW(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+ID("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),d={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},f={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},p={className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:d,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[p,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:d,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[f,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Vj,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Vj,f]}}const Wj="[A-Za-z$_][0-9A-Za-z$_]*",iW=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],aW=["true","false","null","undefined","NaN","Infinity"],PD=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],zD=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BD=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],oW=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],lW=[].concat(BD,PD,zD);function cW(e){const t=e.regex,n=(W,{after:X})=>{const L="</"+W[0].slice(1);return W.input.indexOf(L,X)!==-1},r=Wj,s={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,X)=>{const L=W[0].length+W.index,q=W.input[L];if(q==="<"||q===","){X.ignoreMatch();return}q===">"&&(n(W,{after:L})||X.ignoreMatch());let P;const O=W.input.substring(L);if(P=O.match(/^\s*=/)){X.ignoreMatch();return}if((P=O.match(/^\s+extends\s+/))&&P.index===0){X.ignoreMatch();return}}},u={$pattern:Wj,keyword:iW,literal:aW,built_in:lW,"variable.language":oW},d="[0-9](_?[0-9])*",f=`\\.(${d})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${p})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${p})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:u,contains:[]},b={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},_={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},j={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,y,v,_,{match:/\$\d+/},m];g.contains=k.concat({begin:/\{/,end:/\}/,keywords:u,contains:["self"].concat(k)});const C=[].concat(j,g.contains),A=C.concat([{begin:/(\s*)\(/,end:/\)/,keywords:u,contains:["self"].concat(C)}]),T={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:A},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},z={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...PD,...zD]}},$={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},D={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},I={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function F(W){return t.concat("(?!",W.join("|"),")")}const K={match:t.concat(/\b/,F([...BD,"super","import"].map(W=>`${W}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},B={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},G={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},U="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Y={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(U)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:u,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:z},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),$,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,y,v,_,j,{match:/\$\d+/},m,z,{scope:"attr",match:r+t.lookahead(":"),relevance:0},Y,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[j,e.REGEXP_MODE,{className:"function",begin:U,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:o},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},B,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},K,I,M,G,{match:/\$[(.]/}]}}function uW(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],s={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,s,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var ll="[0-9](_*[0-9])*",Of=`\\.(${ll})`,Df="[0-9a-fA-F](_*[0-9a-fA-F])*",dW={className:"number",variants:[{begin:`(\\b(${ll})((${Of})|\\.)?|(${Of}))[eE][+-]?(${ll})[fFdD]?\\b`},{begin:`\\b(${ll})((${Of})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Of})[fFdD]?\\b`},{begin:`\\b(${ll})[fFdD]\\b`},{begin:`\\b0[xX]((${Df})\\.?|(${Df})?\\.(${Df}))[pP][+-]?(${ll})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Df})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function fW(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},s={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},l={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,s]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,o,s]}]};s.contains.push(l);const u={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},d={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(l,{className:"string"}),"self"]}]},f=dW,p=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),m={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},g=m;return g.variants[1].contains=[m],m.variants[1].contains=[g],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,p,n,r,u,d,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[m,e.C_LINE_COMMENT_MODE,p],relevance:0},e.C_LINE_COMMENT_MODE,p,u,d,l,e.C_NUMBER_MODE]},p]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},u,d]},l,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},f]}}const hW=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),pW=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],mW=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],gW=[...pW,...mW],xW=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),$D=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),UD=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),bW=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),yW=$D.concat(UD).sort().reverse();function vW(e){const t=hW(e),n=yW,r="and or not only",s="[\\w-]+",o="("+s+"|@\\{"+s+"\\})",l=[],u=[],d=function(k){return{className:"string",begin:"~?"+k+".*?"+k}},f=function(k,C,A){return{className:k,begin:C,relevance:A}},p={$pattern:/[a-z-]+/,keyword:r,attribute:xW.join(" ")},m={begin:"\\(",end:"\\)",contains:u,keywords:p,relevance:0};u.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,d("'"),d('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,m,f("variable","@@?"+s,10),f("variable","@\\{"+s+"\\}"),f("built_in","~?`[^`]*?`"),{className:"attribute",begin:s+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const g=u.concat({begin:/\{/,end:/\}/,contains:l}),b={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(u)},y={begin:o+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+bW.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:u}}]},v={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:p,returnEnd:!0,contains:u,relevance:0}},_={className:"variable",variants:[{begin:"@"+s+"\\s*:",relevance:15},{begin:"@"+s}],starts:{end:"[;}]",returnEnd:!0,contains:g}},N={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:o,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,b,f("keyword","all\\b"),f("variable","@\\{"+s+"\\}"),{begin:"\\b("+gW.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,f("selector-tag",o,0),f("selector-id","#"+o),f("selector-class","\\."+o,0),f("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+$D.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+UD.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:g},{begin:"!important"},t.FUNCTION_DISPATCH]},j={begin:s+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[N]};return l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,v,_,j,y,N,b,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:l}}function wW(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},s=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:s.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:s}].concat(s)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function _W(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},s={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},l={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,s,o,l]}}function NW(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},s={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},o={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},l={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},u=/[A-Za-z][A-Za-z0-9+.-]*/,d={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,u,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},f={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},p={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},m=e.inherit(f,{contains:[]}),g=e.inherit(p,{contains:[]});f.contains.push(g),p.contains.push(m);let b=[n,d];return[f,p,m,g].forEach(N=>{N.contains=N.contains.concat(b)}),b=b.concat(f,p),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:b},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:b}]}]},n,o,f,p,{className:"quote",begin:"^>\\s+",contains:b,end:"$"},s,r,d,l,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function SW(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,u={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},d={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:u,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+d.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:d,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function kW(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,s={$pattern:/[\w.]+/,keyword:n.join(" ")},o={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:s},l={begin:/->\{/,end:/\}/},u={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},d={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[u]},f={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},p=[e.BACKSLASH_ESCAPE,o,d],m=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],g=(v,_,N="\\1")=>{const j=N==="\\1"?N:t.concat(N,_);return t.concat(t.concat("(?:",v,")"),_,/(?:\\.|[^\\\/])*?/,j,/(?:\\.|[^\\\/])*?/,N,r)},b=(v,_,N)=>t.concat(t.concat("(?:",v,")"),_,/(?:\\.|[^\\\/])*?/,N,r),y=[d,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),l,{className:"string",contains:p,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},f,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:g("s|tr|y",t.either(...m,{capture:!0}))},{begin:g("s|tr|y","\\(","\\)")},{begin:g("s|tr|y","\\[","\\]")},{begin:g("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:b("(?:m|qr)?",/\//,/\//)},{begin:b("m|qr",t.either(...m,{capture:!0}),/\1/)},{begin:b("m|qr",/\(/,/\)/)},{begin:b("m|qr",/\[/,/\]/)},{begin:b("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,u]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,u,f]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return o.contains=y,l.contains=y,{name:"Perl",aliases:["pl","pm"],keywords:s,contains:y}}function EW(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),s=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o=t.concat(/[A-Z]+/,n),l={scope:"variable",match:"\\$+"+r},u={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},d={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},f=e.inherit(e.APOS_STRING_MODE,{illegal:null}),p=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(d)}),m={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(d),"on:begin":(B,G)=>{G.data._beginMatch=B[1]||B[2]},"on:end":(B,G)=>{G.data._beginMatch!==B[1]&&G.ignoreMatch()}},g=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),b=`[ 	
]`,y={scope:"string",variants:[p,f,m,g]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},_=["false","null","true"],N=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],j=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],C={keyword:N,literal:(B=>{const G=[];return B.forEach(U=>{G.push(U),U.toLowerCase()===U?G.push(U.toUpperCase()):G.push(U.toLowerCase())}),G})(_),built_in:j},A=B=>B.map(G=>G.replace(/\|\d+$/,"")),T={variants:[{match:[/new/,t.concat(b,"+"),t.concat("(?!",A(j).join("\\b|"),"\\b)"),s],scope:{1:"keyword",4:"title.class"}}]},M=t.concat(r,"\\b(?!\\()"),z={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),M],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[s,t.concat(/::/,t.lookahead(/(?!class\b)/)),M],scope:{1:"title.class",3:"variable.constant"}},{match:[s,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[s,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},$={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},D={relevance:0,begin:/\(/,end:/\)/,keywords:C,contains:[$,l,z,e.C_BLOCK_COMMENT_MODE,y,v,T]},I={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",A(N).join("\\b|"),"|",A(j).join("\\b|"),"\\b)"),r,t.concat(b,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[D]};D.contains.push(I);const F=[$,z,e.C_BLOCK_COMMENT_MODE,y,v,T],K={begin:t.concat(/#\[\s*\\?/,t.either(s,o)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:_,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:_,keyword:["new","array"]},contains:["self",...F]},...F,{scope:"meta",variants:[{match:s},{match:o}]}]};return{case_insensitive:!1,keywords:C,contains:[K,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},u,{scope:"variable.language",match:/\$this\b/},l,I,z,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},T,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:C,contains:["self",K,l,z,e.C_BLOCK_COMMENT_MODE,y,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},y,v]}}function jW(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function CW(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function TW(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],u={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},d={className:"meta",begin:/^(>>>|\.\.\.) /},f={className:"subst",begin:/\{/,end:/\}/,keywords:u,illegal:/#/},p={begin:/\{\{/,relevance:0},m={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,d,p,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,d,p,f]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,p,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,p,f]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},g="[0-9](_?[0-9])*",b=`(\\b(${g}))?\\.(${g})|\\b(${g})\\.`,y=`\\b|${r.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${g})|(${b}))[eE][+-]?(${g})[jJ]?(?=${y})`},{begin:`(${b})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${y})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${y})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${y})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${y})`},{begin:`\\b(${g})[jJ](?=${y})`}]},_={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:u,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},N={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:["self",d,v,m,e.HASH_COMMENT_MODE]}]};return f.contains=[m,v,d],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:u,illegal:/(<\/|\?)|=>/,contains:[d,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},m,_,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[N]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,N,m]}]}}function AW(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function MW(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),s=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[s,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[o,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:s},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function RW(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),s=t.concat(r,/(::\w+)*/),l={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},u={className:"doctag",begin:"@[A-Za-z]+"},d={begin:"#<",end:">"},f=[e.COMMENT("#","$",{contains:[u]}),e.COMMENT("^=begin","^=end",{contains:[u],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],p={className:"subst",begin:/#\{/,end:/\}/,keywords:l},m={className:"string",contains:[e.BACKSLASH_ESCAPE,p],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,p]})]}]},g="[1-9](_?[0-9])*|0",b="[0-9](_?[0-9])*",y={className:"number",relevance:0,variants:[{begin:`\\b(${g})(\\.(${b}))?([eE][+-]?(${b})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},v={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:l}]},T=[m,{variants:[{match:[/class\s+/,s,/\s+<\s+/,s]},{match:[/\b(class|module)\s+/,s]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:l},{match:[/(include|extend)\s+/,s],scope:{2:"title.class"},keywords:l},{relevance:0,match:[s,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[v]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[m,{begin:n}],relevance:0},y,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:l},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,p],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(d,f),relevance:0}].concat(d,f);p.contains=T,v.contains=T;const D=[{begin:/^\s*=>/,starts:{end:"$",contains:T}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:l,contains:T}}];return f.unshift(d),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:l,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(D).concat(f).concat(T)}}function OW(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),s=t.concat(n,e.IDENT_RE),o={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,s,t.lookahead(/\s*\(/))},l="([ui](8|16|32|64|128|size)|f(32|64))?",u=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],d=["true","false","Some","None","Ok","Err"],f=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],p=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:p,keyword:u,literal:d,built_in:f},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+l},{begin:"\\b0o([0-7_]+)"+l},{begin:"\\b0x([A-Fa-f0-9_]+)"+l},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+l}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:f,type:p}},{className:"punctuation",begin:"->"},o]}}const DW=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),LW=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],IW=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],PW=[...LW,...IW],zW=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),BW=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),$W=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),UW=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function qW(e){const t=DW(e),n=$W,r=BW,s="@[a-z-]+",o="and or not only",u={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+PW.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},u,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+UW.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,u,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:s,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:zW.join(" ")},contains:[{begin:s,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},u,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function FW(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function HW(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},s={begin:/"/,end:/"/,contains:[{match:/""/}]},o=["true","false","unknown"],l=["double precision","large object","with timezone","without timezone"],u=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],d=["add","asc","collation","desc","final","first","last","view"],f=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],p=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],m=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],b=p,y=[...f,...d].filter(A=>!p.includes(A)),v={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},_={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},N={match:t.concat(/\b/,t.either(...b),/\s*\(/),relevance:0,keywords:{built_in:b}};function j(A){return t.concat(/\b/,t.either(...A.map(T=>T.replace(/\s+/,"\\s+"))),/\b/)}const k={scope:"keyword",match:j(g),relevance:0};function C(A,{exceptions:T,when:M}={}){const z=M;return T=T||[],A.map($=>$.match(/\|\d+$/)||T.includes($)?$:z($)?`${$}|0`:$)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:C(y,{when:A=>A.length<3}),literal:o,type:u,built_in:m},contains:[{scope:"type",match:j(l)},k,N,v,r,s,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,_]}}function qD(e){return e?typeof e=="string"?e:e.source:null}function Qc(e){return Xt("(?=",e,")")}function Xt(...e){return e.map(n=>qD(n)).join("")}function GW(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function yr(...e){return"("+(GW(e).capture?"":"?:")+e.map(r=>qD(r)).join("|")+")"}const H_=e=>Xt(/\b/,e,/\w$/.test(e)?/\b/:/\B/),VW=["Protocol","Type"].map(H_),Kj=["init","self"].map(H_),WW=["Any","Self"],x0=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Yj=["false","nil","true"],KW=["assignment","associativity","higherThan","left","lowerThan","none","right"],YW=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Xj=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],FD=yr(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),HD=yr(FD,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),b0=Xt(FD,HD,"*"),GD=yr(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),wh=yr(GD,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Ks=Xt(GD,wh,"*"),Lf=Xt(/[A-Z]/,wh,"*"),XW=["attached","autoclosure",Xt(/convention\(/,yr("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Xt(/objc\(/,Ks,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],ZW=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function QW(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],s={match:[/\./,yr(...VW,...Kj)],className:{2:"keyword"}},o={match:Xt(/\./,yr(...x0)),relevance:0},l=x0.filter(xe=>typeof xe=="string").concat(["_|0"]),u=x0.filter(xe=>typeof xe!="string").concat(WW).map(H_),d={variants:[{className:"keyword",match:yr(...u,...Kj)}]},f={$pattern:yr(/\b\w+/,/#\w+/),keyword:l.concat(YW),literal:Yj},p=[s,o,d],m={match:Xt(/\./,yr(...Xj)),relevance:0},g={className:"built_in",match:Xt(/\b/,yr(...Xj),/(?=\()/)},b=[m,g],y={match:/->/,relevance:0},v={className:"operator",relevance:0,variants:[{match:b0},{match:`\\.(\\.|${HD})+`}]},_=[y,v],N="([0-9]_*)+",j="([0-9a-fA-F]_*)+",k={className:"number",relevance:0,variants:[{match:`\\b(${N})(\\.(${N}))?([eE][+-]?(${N}))?\\b`},{match:`\\b0x(${j})(\\.(${j}))?([pP][+-]?(${N}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},C=(xe="")=>({className:"subst",variants:[{match:Xt(/\\/,xe,/[0\\tnr"']/)},{match:Xt(/\\/,xe,/u\{[0-9a-fA-F]{1,8}\}/)}]}),A=(xe="")=>({className:"subst",match:Xt(/\\/,xe,/[\t ]*(?:[\r\n]|\r\n)/)}),T=(xe="")=>({className:"subst",label:"interpol",begin:Xt(/\\/,xe,/\(/),end:/\)/}),M=(xe="")=>({begin:Xt(xe,/"""/),end:Xt(/"""/,xe),contains:[C(xe),A(xe),T(xe)]}),z=(xe="")=>({begin:Xt(xe,/"/),end:Xt(/"/,xe),contains:[C(xe),T(xe)]}),$={className:"string",variants:[M(),M("#"),M("##"),M("###"),z(),z("#"),z("##"),z("###")]},D=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],I={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:D},F=xe=>{const Se=Xt(xe,/\//),ze=Xt(/\//,xe);return{begin:Se,end:ze,contains:[...D,{scope:"comment",begin:`#(?!.*${ze})`,end:/$/}]}},K={scope:"regexp",variants:[F("###"),F("##"),F("#"),I]},B={match:Xt(/`/,Ks,/`/)},G={className:"variable",match:/\$\d+/},U={className:"variable",match:`\\$${wh}+`},Y=[B,G,U],W={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:ZW,contains:[..._,k,$]}]}},X={scope:"keyword",match:Xt(/@/,yr(...XW),Qc(yr(/\(/,/\s+/)))},L={scope:"meta",match:Xt(/@/,Ks)},q=[W,X,L],P={match:Qc(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Xt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,wh,"+")},{className:"type",match:Lf,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Xt(/\s+&\s+/,Qc(Lf)),relevance:0}]},O={begin:/</,end:/>/,keywords:f,contains:[...r,...p,...q,y,P]};P.contains.push(O);const H={match:Xt(Ks,/\s*:/),keywords:"_|0",relevance:0},Z={begin:/\(/,end:/\)/,relevance:0,keywords:f,contains:["self",H,...r,K,...p,...b,..._,k,$,...Y,...q,P]},Q={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,P]},ie={begin:yr(Qc(Xt(Ks,/\s*:/)),Qc(Xt(Ks,/\s+/,Ks,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Ks}]},ee={begin:/\(/,end:/\)/,keywords:f,contains:[ie,...r,...p,..._,k,$,...q,P,Z],endsParent:!0,illegal:/["']/},re={match:[/(func|macro)/,/\s+/,yr(B.match,Ks,b0)],className:{1:"keyword",3:"title.function"},contains:[Q,ee,t],illegal:[/\[/,/%/]},ue={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Q,ee,t],illegal:/\[|%/},ge={match:[/operator/,/\s+/,b0],className:{1:"keyword",3:"title"}},J={begin:[/precedencegroup/,/\s+/,Lf],className:{1:"keyword",3:"title"},contains:[P],keywords:[...KW,...Yj],end:/}/},ae={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},pe={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},ve={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Ks,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:f,contains:[Q,...p,{begin:/:/,end:/\{/,keywords:f,contains:[{scope:"title.class.inherited",match:Lf},...p],relevance:0}]};for(const xe of $.variants){const Se=xe.contains.find(tt=>tt.label==="interpol");Se.keywords=f;const ze=[...p,...b,..._,k,$,...Y];Se.contains=[...ze,{begin:/\(/,end:/\)/,contains:["self",...ze]}]}return{name:"Swift",keywords:f,contains:[...r,re,ue,ae,pe,ve,ge,J,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},K,...p,...b,..._,k,$,...Y,...q,P,Z]}}const _h="[A-Za-z$_][0-9A-Za-z$_]*",VD=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],WD=["true","false","null","undefined","NaN","Infinity"],KD=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],YD=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],XD=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],ZD=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],QD=[].concat(XD,KD,YD);function JW(e){const t=e.regex,n=(W,{after:X})=>{const L="</"+W[0].slice(1);return W.input.indexOf(L,X)!==-1},r=_h,s={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,X)=>{const L=W[0].length+W.index,q=W.input[L];if(q==="<"||q===","){X.ignoreMatch();return}q===">"&&(n(W,{after:L})||X.ignoreMatch());let P;const O=W.input.substring(L);if(P=O.match(/^\s*=/)){X.ignoreMatch();return}if((P=O.match(/^\s+extends\s+/))&&P.index===0){X.ignoreMatch();return}}},u={$pattern:_h,keyword:VD,literal:WD,built_in:QD,"variable.language":ZD},d="[0-9](_?[0-9])*",f=`\\.(${d})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${p})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${p})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:u,contains:[]},b={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},_={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},j={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,y,v,_,{match:/\$\d+/},m];g.contains=k.concat({begin:/\{/,end:/\}/,keywords:u,contains:["self"].concat(k)});const C=[].concat(j,g.contains),A=C.concat([{begin:/(\s*)\(/,end:/\)/,keywords:u,contains:["self"].concat(C)}]),T={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:A},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},z={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...KD,...YD]}},$={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},D={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},I={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function F(W){return t.concat("(?!",W.join("|"),")")}const K={match:t.concat(/\b/,F([...XD,"super","import"].map(W=>`${W}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},B={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},G={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},U="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Y={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(U)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:u,exports:{PARAMS_CONTAINS:A,CLASS_REFERENCE:z},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),$,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,y,v,_,j,{match:/\$\d+/},m,z,{scope:"attr",match:r+t.lookahead(":"),relevance:0},Y,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[j,e.REGEXP_MODE,{className:"function",begin:U,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:A}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:o},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},B,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},K,I,M,G,{match:/\$[(.]/}]}}function eK(e){const t=e.regex,n=JW(e),r=_h,s=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],o={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},l={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:s},contains:[n.exports.CLASS_REFERENCE]},u={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},d=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],f={$pattern:_h,keyword:VD.concat(d),literal:WD,built_in:QD.concat(s),"variable.language":ZD},p={className:"meta",begin:"@"+r},m=(v,_,N)=>{const j=v.contains.findIndex(k=>k.label===_);if(j===-1)throw new Error("can not find mode to replace");v.contains.splice(j,1,N)};Object.assign(n.keywords,f),n.exports.PARAMS_CONTAINS.push(p);const g=n.contains.find(v=>v.scope==="attr"),b=Object.assign({},g,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,g,b]),n.contains=n.contains.concat([p,o,l,b]),m(n,"shebang",e.SHEBANG()),m(n,"use_strict",u);const y=n.contains.find(v=>v.label==="func.def");return y.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function tK(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},s=/\d{1,2}\/\d{1,2}\/\d{4}/,o=/\d{4}-\d{1,2}-\d{1,2}/,l=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,u=/\d{1,2}(:\d{1,2}){1,2}/,d={className:"literal",variants:[{begin:t.concat(/# */,t.either(o,s),/ *#/)},{begin:t.concat(/# */,u,/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,t.either(o,s),/ +/,t.either(l,u),/ *#/)}]},f={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},p={className:"label",begin:/^\w+:/},m=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),g=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,d,f,p,m,g,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[g]}]}}function nK(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],s={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},o={className:"variable",begin:/\$[\w_]+/},l={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},u={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},d={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},f={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},o,l,s,e.QUOTE_STRING_MODE,d,f,u]}}function rK(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},l=e.inherit(o,{begin:/\(/,end:/\)/}),u=e.inherit(e.APOS_STRING_MODE,{className:"string"}),d=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),f={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,d,u,l,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,l,d,u]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[d]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[f],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[f],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:f}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function sK(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},s={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},o={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},l={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,s]},u=e.inherit(l,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),g={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},b={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},y={begin:/\{/,end:/\}/,contains:[b],illegal:"\\n",relevance:0},v={begin:"\\[",end:"\\]",contains:[b],illegal:"\\n",relevance:0},_=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},g,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},y,v,o,l],N=[..._];return N.pop(),N.push(u),b.contains=N,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:_}}const iK={arduino:$V,bash:UV,c:qV,cpp:FV,csharp:HV,css:JV,diff:eW,go:tW,graphql:nW,ini:rW,java:sW,javascript:cW,json:uW,kotlin:fW,less:vW,lua:wW,makefile:_W,markdown:NW,objectivec:SW,perl:kW,php:EW,"php-template":jW,plaintext:CW,python:TW,"python-repl":AW,r:MW,ruby:RW,rust:OW,scss:qW,shell:FW,sql:HW,swift:QW,typescript:eK,vbnet:tK,wasm:nK,xml:rK,yaml:sK};var y0,Zj;function aK(){if(Zj)return y0;Zj=1;function e(te){return te instanceof Map?te.clear=te.delete=te.set=function(){throw new Error("map is read-only")}:te instanceof Set&&(te.add=te.clear=te.delete=function(){throw new Error("set is read-only")}),Object.freeze(te),Object.getOwnPropertyNames(te).forEach(me=>{const Ee=te[me],De=typeof Ee;(De==="object"||De==="function")&&!Object.isFrozen(Ee)&&e(Ee)}),te}class t{constructor(me){me.data===void 0&&(me.data={}),this.data=me.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(te){return te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(te,...me){const Ee=Object.create(null);for(const De in te)Ee[De]=te[De];return me.forEach(function(De){for(const rt in De)Ee[rt]=De[rt]}),Ee}const s="</span>",o=te=>!!te.scope,l=(te,{prefix:me})=>{if(te.startsWith("language:"))return te.replace("language:","language-");if(te.includes(".")){const Ee=te.split(".");return[`${me}${Ee.shift()}`,...Ee.map((De,rt)=>`${De}${"_".repeat(rt+1)}`)].join(" ")}return`${me}${te}`};class u{constructor(me,Ee){this.buffer="",this.classPrefix=Ee.classPrefix,me.walk(this)}addText(me){this.buffer+=n(me)}openNode(me){if(!o(me))return;const Ee=l(me.scope,{prefix:this.classPrefix});this.span(Ee)}closeNode(me){o(me)&&(this.buffer+=s)}value(){return this.buffer}span(me){this.buffer+=`<span class="${me}">`}}const d=(te={})=>{const me={children:[]};return Object.assign(me,te),me};class f{constructor(){this.rootNode=d(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(me){this.top.children.push(me)}openNode(me){const Ee=d({scope:me});this.add(Ee),this.stack.push(Ee)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(me){return this.constructor._walk(me,this.rootNode)}static _walk(me,Ee){return typeof Ee=="string"?me.addText(Ee):Ee.children&&(me.openNode(Ee),Ee.children.forEach(De=>this._walk(me,De)),me.closeNode(Ee)),me}static _collapse(me){typeof me!="string"&&me.children&&(me.children.every(Ee=>typeof Ee=="string")?me.children=[me.children.join("")]:me.children.forEach(Ee=>{f._collapse(Ee)}))}}class p extends f{constructor(me){super(),this.options=me}addText(me){me!==""&&this.add(me)}startScope(me){this.openNode(me)}endScope(){this.closeNode()}__addSublanguage(me,Ee){const De=me.root;Ee&&(De.scope=`language:${Ee}`),this.add(De)}toHTML(){return new u(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function m(te){return te?typeof te=="string"?te:te.source:null}function g(te){return v("(?=",te,")")}function b(te){return v("(?:",te,")*")}function y(te){return v("(?:",te,")?")}function v(...te){return te.map(Ee=>m(Ee)).join("")}function _(te){const me=te[te.length-1];return typeof me=="object"&&me.constructor===Object?(te.splice(te.length-1,1),me):{}}function N(...te){return"("+(_(te).capture?"":"?:")+te.map(De=>m(De)).join("|")+")"}function j(te){return new RegExp(te.toString()+"|").exec("").length-1}function k(te,me){const Ee=te&&te.exec(me);return Ee&&Ee.index===0}const C=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function A(te,{joinWith:me}){let Ee=0;return te.map(De=>{Ee+=1;const rt=Ee;let ct=m(De),Te="";for(;ct.length>0;){const Ae=C.exec(ct);if(!Ae){Te+=ct;break}Te+=ct.substring(0,Ae.index),ct=ct.substring(Ae.index+Ae[0].length),Ae[0][0]==="\\"&&Ae[1]?Te+="\\"+String(Number(Ae[1])+rt):(Te+=Ae[0],Ae[0]==="("&&Ee++)}return Te}).map(De=>`(${De})`).join(me)}const T=/\b\B/,M="[a-zA-Z]\\w*",z="[a-zA-Z_]\\w*",$="\\b\\d+(\\.\\d+)?",D="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",I="\\b(0b[01]+)",F="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",K=(te={})=>{const me=/^#![ ]*\//;return te.binary&&(te.begin=v(me,/.*\b/,te.binary,/\b.*/)),r({scope:"meta",begin:me,end:/$/,relevance:0,"on:begin":(Ee,De)=>{Ee.index!==0&&De.ignoreMatch()}},te)},B={begin:"\\\\[\\s\\S]",relevance:0},G={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[B]},U={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[B]},Y={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},W=function(te,me,Ee={}){const De=r({scope:"comment",begin:te,end:me,contains:[]},Ee);De.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const rt=N("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return De.contains.push({begin:v(/[ ]+/,"(",rt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),De},X=W("//","$"),L=W("/\\*","\\*/"),q=W("#","$"),P={scope:"number",begin:$,relevance:0},O={scope:"number",begin:D,relevance:0},H={scope:"number",begin:I,relevance:0},Z={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[B,{begin:/\[/,end:/\]/,relevance:0,contains:[B]}]},Q={scope:"title",begin:M,relevance:0},ie={scope:"title",begin:z,relevance:0},ee={begin:"\\.\\s*"+z,relevance:0};var ue=Object.freeze({__proto__:null,APOS_STRING_MODE:G,BACKSLASH_ESCAPE:B,BINARY_NUMBER_MODE:H,BINARY_NUMBER_RE:I,COMMENT:W,C_BLOCK_COMMENT_MODE:L,C_LINE_COMMENT_MODE:X,C_NUMBER_MODE:O,C_NUMBER_RE:D,END_SAME_AS_BEGIN:function(te){return Object.assign(te,{"on:begin":(me,Ee)=>{Ee.data._beginMatch=me[1]},"on:end":(me,Ee)=>{Ee.data._beginMatch!==me[1]&&Ee.ignoreMatch()}})},HASH_COMMENT_MODE:q,IDENT_RE:M,MATCH_NOTHING_RE:T,METHOD_GUARD:ee,NUMBER_MODE:P,NUMBER_RE:$,PHRASAL_WORDS_MODE:Y,QUOTE_STRING_MODE:U,REGEXP_MODE:Z,RE_STARTERS_RE:F,SHEBANG:K,TITLE_MODE:Q,UNDERSCORE_IDENT_RE:z,UNDERSCORE_TITLE_MODE:ie});function ge(te,me){te.input[te.index-1]==="."&&me.ignoreMatch()}function J(te,me){te.className!==void 0&&(te.scope=te.className,delete te.className)}function ae(te,me){me&&te.beginKeywords&&(te.begin="\\b("+te.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",te.__beforeBegin=ge,te.keywords=te.keywords||te.beginKeywords,delete te.beginKeywords,te.relevance===void 0&&(te.relevance=0))}function pe(te,me){Array.isArray(te.illegal)&&(te.illegal=N(...te.illegal))}function ve(te,me){if(te.match){if(te.begin||te.end)throw new Error("begin & end are not supported with match");te.begin=te.match,delete te.match}}function xe(te,me){te.relevance===void 0&&(te.relevance=1)}const Se=(te,me)=>{if(!te.beforeMatch)return;if(te.starts)throw new Error("beforeMatch cannot be used with starts");const Ee=Object.assign({},te);Object.keys(te).forEach(De=>{delete te[De]}),te.keywords=Ee.keywords,te.begin=v(Ee.beforeMatch,g(Ee.begin)),te.starts={relevance:0,contains:[Object.assign(Ee,{endsParent:!0})]},te.relevance=0,delete Ee.beforeMatch},ze=["of","and","for","in","not","or","if","then","parent","list","value"],tt="keyword";function Ht(te,me,Ee=tt){const De=Object.create(null);return typeof te=="string"?rt(Ee,te.split(" ")):Array.isArray(te)?rt(Ee,te):Object.keys(te).forEach(function(ct){Object.assign(De,Ht(te[ct],me,ct))}),De;function rt(ct,Te){me&&(Te=Te.map(Ae=>Ae.toLowerCase())),Te.forEach(function(Ae){const Le=Ae.split("|");De[Le[0]]=[ct,xn(Le[0],Le[1])]})}}function xn(te,me){return me?Number(me):sn(te)?0:1}function sn(te){return ze.includes(te.toLowerCase())}const Pt={},pt=te=>{console.error(te)},Yn=(te,...me)=>{console.log(`WARN: ${te}`,...me)},he=(te,me)=>{Pt[`${te}/${me}`]||(console.log(`Deprecated as of ${te}. ${me}`),Pt[`${te}/${me}`]=!0)},Ne=new Error;function Re(te,me,{key:Ee}){let De=0;const rt=te[Ee],ct={},Te={};for(let Ae=1;Ae<=me.length;Ae++)Te[Ae+De]=rt[Ae],ct[Ae+De]=!0,De+=j(me[Ae-1]);te[Ee]=Te,te[Ee]._emit=ct,te[Ee]._multi=!0}function He(te){if(Array.isArray(te.begin)){if(te.skip||te.excludeBegin||te.returnBegin)throw pt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ne;if(typeof te.beginScope!="object"||te.beginScope===null)throw pt("beginScope must be object"),Ne;Re(te,te.begin,{key:"beginScope"}),te.begin=A(te.begin,{joinWith:""})}}function Xe(te){if(Array.isArray(te.end)){if(te.skip||te.excludeEnd||te.returnEnd)throw pt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ne;if(typeof te.endScope!="object"||te.endScope===null)throw pt("endScope must be object"),Ne;Re(te,te.end,{key:"endScope"}),te.end=A(te.end,{joinWith:""})}}function Gt(te){te.scope&&typeof te.scope=="object"&&te.scope!==null&&(te.beginScope=te.scope,delete te.scope)}function Gn(te){Gt(te),typeof te.beginScope=="string"&&(te.beginScope={_wrap:te.beginScope}),typeof te.endScope=="string"&&(te.endScope={_wrap:te.endScope}),He(te),Xe(te)}function zt(te){function me(Te,Ae){return new RegExp(m(Te),"m"+(te.case_insensitive?"i":"")+(te.unicodeRegex?"u":"")+(Ae?"g":""))}class Ee{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Ae,Le){Le.position=this.position++,this.matchIndexes[this.matchAt]=Le,this.regexes.push([Le,Ae]),this.matchAt+=j(Ae)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Ae=this.regexes.map(Le=>Le[1]);this.matcherRe=me(A(Ae,{joinWith:"|"}),!0),this.lastIndex=0}exec(Ae){this.matcherRe.lastIndex=this.lastIndex;const Le=this.matcherRe.exec(Ae);if(!Le)return null;const Nt=Le.findIndex((er,tr)=>tr>0&&er!==void 0),kt=this.matchIndexes[Nt];return Le.splice(0,Nt),Object.assign(Le,kt)}}class De{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Ae){if(this.multiRegexes[Ae])return this.multiRegexes[Ae];const Le=new Ee;return this.rules.slice(Ae).forEach(([Nt,kt])=>Le.addRule(Nt,kt)),Le.compile(),this.multiRegexes[Ae]=Le,Le}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Ae,Le){this.rules.push([Ae,Le]),Le.type==="begin"&&this.count++}exec(Ae){const Le=this.getMatcher(this.regexIndex);Le.lastIndex=this.lastIndex;let Nt=Le.exec(Ae);if(this.resumingScanAtSamePosition()&&!(Nt&&Nt.index===this.lastIndex)){const kt=this.getMatcher(0);kt.lastIndex=this.lastIndex+1,Nt=kt.exec(Ae)}return Nt&&(this.regexIndex+=Nt.position+1,this.regexIndex===this.count&&this.considerAll()),Nt}}function rt(Te){const Ae=new De;return Te.contains.forEach(Le=>Ae.addRule(Le.begin,{rule:Le,type:"begin"})),Te.terminatorEnd&&Ae.addRule(Te.terminatorEnd,{type:"end"}),Te.illegal&&Ae.addRule(Te.illegal,{type:"illegal"}),Ae}function ct(Te,Ae){const Le=Te;if(Te.isCompiled)return Le;[J,ve,Gn,Se].forEach(kt=>kt(Te,Ae)),te.compilerExtensions.forEach(kt=>kt(Te,Ae)),Te.__beforeBegin=null,[ae,pe,xe].forEach(kt=>kt(Te,Ae)),Te.isCompiled=!0;let Nt=null;return typeof Te.keywords=="object"&&Te.keywords.$pattern&&(Te.keywords=Object.assign({},Te.keywords),Nt=Te.keywords.$pattern,delete Te.keywords.$pattern),Nt=Nt||/\w+/,Te.keywords&&(Te.keywords=Ht(Te.keywords,te.case_insensitive)),Le.keywordPatternRe=me(Nt,!0),Ae&&(Te.begin||(Te.begin=/\B|\b/),Le.beginRe=me(Le.begin),!Te.end&&!Te.endsWithParent&&(Te.end=/\B|\b/),Te.end&&(Le.endRe=me(Le.end)),Le.terminatorEnd=m(Le.end)||"",Te.endsWithParent&&Ae.terminatorEnd&&(Le.terminatorEnd+=(Te.end?"|":"")+Ae.terminatorEnd)),Te.illegal&&(Le.illegalRe=me(Te.illegal)),Te.contains||(Te.contains=[]),Te.contains=[].concat(...Te.contains.map(function(kt){return Sn(kt==="self"?Te:kt)})),Te.contains.forEach(function(kt){ct(kt,Le)}),Te.starts&&ct(Te.starts,Ae),Le.matcher=rt(Le),Le}if(te.compilerExtensions||(te.compilerExtensions=[]),te.contains&&te.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return te.classNameAliases=r(te.classNameAliases||{}),ct(te)}function gt(te){return te?te.endsWithParent||gt(te.starts):!1}function Sn(te){return te.variants&&!te.cachedVariants&&(te.cachedVariants=te.variants.map(function(me){return r(te,{variants:null},me)})),te.cachedVariants?te.cachedVariants:gt(te)?r(te,{starts:te.starts?r(te.starts):null}):Object.isFrozen(te)?r(te):te}var xt="11.11.1";class Sr extends Error{constructor(me,Ee){super(me),this.name="HTMLInjectionError",this.html=Ee}}const Ln=n,qi=r,ws=Symbol("nomatch"),qs=7,tn=function(te){const me=Object.create(null),Ee=Object.create(null),De=[];let rt=!0;const ct="Could not find the language '{}', did you forget to load/include a language module?",Te={disableAutodetect:!0,name:"Plain text",contains:[]};let Ae={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:p};function Le(ke){return Ae.noHighlightRe.test(ke)}function Nt(ke){let Be=ke.className+" ";Be+=ke.parentNode?ke.parentNode.className:"";const Qe=Ae.languageDetectRe.exec(Be);if(Qe){const Mt=nr(Qe[1]);return Mt||(Yn(ct.replace("{}",Qe[1])),Yn("Falling back to no-highlight mode for this block.",ke)),Mt?Qe[1]:"no-highlight"}return Be.split(/\s+/).find(Mt=>Le(Mt)||nr(Mt))}function kt(ke,Be,Qe){let Mt="",yn="";typeof Be=="object"?(Mt=ke,Qe=Be.ignoreIllegals,yn=Be.language):(he("10.7.0","highlight(lang, code, ...args) has been deprecated."),he("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),yn=ke,Mt=Be),Qe===void 0&&(Qe=!0);const Zn={code:Mt,language:yn};ii("before:highlight",Zn);const gr=Zn.result?Zn.result:er(Zn.language,Zn.code,Qe);return gr.code=Zn.code,ii("after:highlight",gr),gr}function er(ke,Be,Qe,Mt){const yn=Object.create(null);function Zn(Ce,Ie){return Ce.keywords[Ie]}function gr(){if(!Ge.keywords){Pn.addText(Ut);return}let Ce=0;Ge.keywordPatternRe.lastIndex=0;let Ie=Ge.keywordPatternRe.exec(Ut),Ke="";for(;Ie;){Ke+=Ut.substring(Ce,Ie.index);const ut=In.case_insensitive?Ie[0].toLowerCase():Ie[0],vn=Zn(Ge,ut);if(vn){const[ss,tc]=vn;if(Pn.addText(Ke),Ke="",yn[ut]=(yn[ut]||0)+1,yn[ut]<=qs&&(Vi+=tc),ss.startsWith("_"))Ke+=Ie[0];else{const pd=In.classNameAliases[ss]||ss;xr(Ie[0],pd)}}else Ke+=Ie[0];Ce=Ge.keywordPatternRe.lastIndex,Ie=Ge.keywordPatternRe.exec(Ut)}Ke+=Ut.substring(Ce),Pn.addText(Ke)}function lr(){if(Ut==="")return;let Ce=null;if(typeof Ge.subLanguage=="string"){if(!me[Ge.subLanguage]){Pn.addText(Ut);return}Ce=er(Ge.subLanguage,Ut,!0,hd[Ge.subLanguage]),hd[Ge.subLanguage]=Ce._top}else Ce=kr(Ut,Ge.subLanguage.length?Ge.subLanguage:null);Ge.relevance>0&&(Vi+=Ce.relevance),Pn.__addSublanguage(Ce._emitter,Ce.language)}function Vt(){Ge.subLanguage!=null?lr():gr(),Ut=""}function xr(Ce,Ie){Ce!==""&&(Pn.startScope(Ie),Pn.addText(Ce),Pn.endScope())}function So(Ce,Ie){let Ke=1;const ut=Ie.length-1;for(;Ke<=ut;){if(!Ce._emit[Ke]){Ke++;continue}const vn=In.classNameAliases[Ce[Ke]]||Ce[Ke],ss=Ie[Ke];vn?xr(ss,vn):(Ut=ss,gr(),Ut=""),Ke++}}function Es(Ce,Ie){return Ce.scope&&typeof Ce.scope=="string"&&Pn.openNode(In.classNameAliases[Ce.scope]||Ce.scope),Ce.beginScope&&(Ce.beginScope._wrap?(xr(Ut,In.classNameAliases[Ce.beginScope._wrap]||Ce.beginScope._wrap),Ut=""):Ce.beginScope._multi&&(So(Ce.beginScope,Ie),Ut="")),Ge=Object.create(Ce,{parent:{value:Ge}}),Ge}function Oa(Ce,Ie,Ke){let ut=k(Ce.endRe,Ke);if(ut){if(Ce["on:end"]){const vn=new t(Ce);Ce["on:end"](Ie,vn),vn.isMatchIgnored&&(ut=!1)}if(ut){for(;Ce.endsParent&&Ce.parent;)Ce=Ce.parent;return Ce}}if(Ce.endsWithParent)return Oa(Ce.parent,Ie,Ke)}function ai(Ce){return Ge.matcher.regexIndex===0?(Ut+=Ce[0],1):(Wi=!0,0)}function Jl(Ce){const Ie=Ce[0],Ke=Ce.rule,ut=new t(Ke),vn=[Ke.__beforeBegin,Ke["on:begin"]];for(const ss of vn)if(ss&&(ss(Ce,ut),ut.isMatchIgnored))return ai(Ie);return Ke.skip?Ut+=Ie:(Ke.excludeBegin&&(Ut+=Ie),Vt(),!Ke.returnBegin&&!Ke.excludeBegin&&(Ut=Ie)),Es(Ke,Ce),Ke.returnBegin?0:Ie.length}function cr(Ce){const Ie=Ce[0],Ke=Be.substring(Ce.index),ut=Oa(Ge,Ce,Ke);if(!ut)return ws;const vn=Ge;Ge.endScope&&Ge.endScope._wrap?(Vt(),xr(Ie,Ge.endScope._wrap)):Ge.endScope&&Ge.endScope._multi?(Vt(),So(Ge.endScope,Ce)):vn.skip?Ut+=Ie:(vn.returnEnd||vn.excludeEnd||(Ut+=Ie),Vt(),vn.excludeEnd&&(Ut=Ie));do Ge.scope&&Pn.closeNode(),!Ge.skip&&!Ge.subLanguage&&(Vi+=Ge.relevance),Ge=Ge.parent;while(Ge!==ut.parent);return ut.starts&&Es(ut.starts,Ce),vn.returnEnd?0:Ie.length}function oi(){const Ce=[];for(let Ie=Ge;Ie!==In;Ie=Ie.parent)Ie.scope&&Ce.unshift(Ie.scope);Ce.forEach(Ie=>Pn.openNode(Ie))}let li={};function Gi(Ce,Ie){const Ke=Ie&&Ie[0];if(Ut+=Ce,Ke==null)return Vt(),0;if(li.type==="begin"&&Ie.type==="end"&&li.index===Ie.index&&Ke===""){if(Ut+=Be.slice(Ie.index,Ie.index+1),!rt){const ut=new Error(`0 width match regex (${ke})`);throw ut.languageName=ke,ut.badRule=li.rule,ut}return 1}if(li=Ie,Ie.type==="begin")return Jl(Ie);if(Ie.type==="illegal"&&!Qe){const ut=new Error('Illegal lexeme "'+Ke+'" for mode "'+(Ge.scope||"<unnamed>")+'"');throw ut.mode=Ge,ut}else if(Ie.type==="end"){const ut=cr(Ie);if(ut!==ws)return ut}if(Ie.type==="illegal"&&Ke==="")return Ut+=`
`,1;if(ec>1e5&&ec>Ie.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Ut+=Ke,Ke.length}const In=nr(ke);if(!In)throw pt(ct.replace("{}",ke)),new Error('Unknown language: "'+ke+'"');const fd=zt(In);let ko="",Ge=Mt||fd;const hd={},Pn=new Ae.__emitter(Ae);oi();let Ut="",Vi=0,ci=0,ec=0,Wi=!1;try{if(In.__emitTokens)In.__emitTokens(Be,Pn);else{for(Ge.matcher.considerAll();;){ec++,Wi?Wi=!1:Ge.matcher.considerAll(),Ge.matcher.lastIndex=ci;const Ce=Ge.matcher.exec(Be);if(!Ce)break;const Ie=Be.substring(ci,Ce.index),Ke=Gi(Ie,Ce);ci=Ce.index+Ke}Gi(Be.substring(ci))}return Pn.finalize(),ko=Pn.toHTML(),{language:ke,value:ko,relevance:Vi,illegal:!1,_emitter:Pn,_top:Ge}}catch(Ce){if(Ce.message&&Ce.message.includes("Illegal"))return{language:ke,value:Ln(Be),illegal:!0,relevance:0,_illegalBy:{message:Ce.message,index:ci,context:Be.slice(ci-100,ci+100),mode:Ce.mode,resultSoFar:ko},_emitter:Pn};if(rt)return{language:ke,value:Ln(Be),illegal:!1,relevance:0,errorRaised:Ce,_emitter:Pn,_top:Ge};throw Ce}}function tr(ke){const Be={value:Ln(ke),illegal:!1,relevance:0,_top:Te,_emitter:new Ae.__emitter(Ae)};return Be._emitter.addText(ke),Be}function kr(ke,Be){Be=Be||Ae.languages||Object.keys(me);const Qe=tr(ke),Mt=Be.filter(nr).filter(Ss).map(Vt=>er(Vt,ke,!1));Mt.unshift(Qe);const yn=Mt.sort((Vt,xr)=>{if(Vt.relevance!==xr.relevance)return xr.relevance-Vt.relevance;if(Vt.language&&xr.language){if(nr(Vt.language).supersetOf===xr.language)return 1;if(nr(xr.language).supersetOf===Vt.language)return-1}return 0}),[Zn,gr]=yn,lr=Zn;return lr.secondBest=gr,lr}function or(ke,Be,Qe){const Mt=Be&&Ee[Be]||Qe;ke.classList.add("hljs"),ke.classList.add(`language-${Mt}`)}function bn(ke){let Be=null;const Qe=Nt(ke);if(Le(Qe))return;if(ii("before:highlightElement",{el:ke,language:Qe}),ke.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ke);return}if(ke.children.length>0&&(Ae.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ke)),Ae.throwUnescapedHTML))throw new Sr("One of your code blocks includes unescaped HTML.",ke.innerHTML);Be=ke;const Mt=Be.textContent,yn=Qe?kt(Mt,{language:Qe,ignoreIllegals:!0}):kr(Mt);ke.innerHTML=yn.value,ke.dataset.highlighted="yes",or(ke,Qe,yn.language),ke.result={language:yn.language,re:yn.relevance,relevance:yn.relevance},yn.secondBest&&(ke.secondBest={language:yn.secondBest.language,relevance:yn.secondBest.relevance}),ii("after:highlightElement",{el:ke,result:yn,text:Mt})}function Xn(ke){Ae=qi(Ae,ke)}const _s=()=>{Hi(),he("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Fi(){Hi(),he("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Ma=!1;function Hi(){function ke(){Hi()}if(document.readyState==="loading"){Ma||window.addEventListener("DOMContentLoaded",ke,!1),Ma=!0;return}document.querySelectorAll(Ae.cssSelector).forEach(bn)}function _o(ke,Be){let Qe=null;try{Qe=Be(te)}catch(Mt){if(pt("Language definition for '{}' could not be registered.".replace("{}",ke)),rt)pt(Mt);else throw Mt;Qe=Te}Qe.name||(Qe.name=ke),me[ke]=Qe,Qe.rawDefinition=Be.bind(null,te),Qe.aliases&&Ns(Qe.aliases,{languageName:ke})}function si(ke){delete me[ke];for(const Be of Object.keys(Ee))Ee[Be]===ke&&delete Ee[Be]}function Ra(){return Object.keys(me)}function nr(ke){return ke=(ke||"").toLowerCase(),me[ke]||me[Ee[ke]]}function Ns(ke,{languageName:Be}){typeof ke=="string"&&(ke=[ke]),ke.forEach(Qe=>{Ee[Qe.toLowerCase()]=Be})}function Ss(ke){const Be=nr(ke);return Be&&!Be.disableAutodetect}function Fs(ke){ke["before:highlightBlock"]&&!ke["before:highlightElement"]&&(ke["before:highlightElement"]=Be=>{ke["before:highlightBlock"](Object.assign({block:Be.el},Be))}),ke["after:highlightBlock"]&&!ke["after:highlightElement"]&&(ke["after:highlightElement"]=Be=>{ke["after:highlightBlock"](Object.assign({block:Be.el},Be))})}function kn(ke){Fs(ke),De.push(ke)}function No(ke){const Be=De.indexOf(ke);Be!==-1&&De.splice(Be,1)}function ii(ke,Be){const Qe=ke;De.forEach(function(Mt){Mt[Qe]&&Mt[Qe](Be)})}function ks(ke){return he("10.7.0","highlightBlock will be removed entirely in v12.0"),he("10.7.0","Please use highlightElement now."),bn(ke)}Object.assign(te,{highlight:kt,highlightAuto:kr,highlightAll:Hi,highlightElement:bn,highlightBlock:ks,configure:Xn,initHighlighting:_s,initHighlightingOnLoad:Fi,registerLanguage:_o,unregisterLanguage:si,listLanguages:Ra,getLanguage:nr,registerAliases:Ns,autoDetection:Ss,inherit:qi,addPlugin:kn,removePlugin:No}),te.debugMode=function(){rt=!1},te.safeMode=function(){rt=!0},te.versionString=xt,te.regex={concat:v,lookahead:g,either:N,optional:y,anyNumberOfTimes:b};for(const ke in ue)typeof ue[ke]=="object"&&e(ue[ke]);return Object.assign(te,ue),te},Bt=tn({});return Bt.newInstance=()=>tn({}),y0=Bt,Bt.HighlightJS=Bt,Bt.default=Bt,y0}var oK=aK();const lK=El(oK),Qj={},cK="hljs-";function uK(e){const t=lK.newInstance();return e&&o(e),{highlight:n,highlightAuto:r,listLanguages:s,register:o,registerAlias:l,registered:u};function n(d,f,p){const m=p||Qj,g=typeof m.prefix=="string"?m.prefix:cK;if(!t.getLanguage(d))throw new Error("Unknown language: `"+d+"` is not registered");t.configure({__emitter:dK,classPrefix:g});const b=t.highlight(f,{ignoreIllegals:!0,language:d});if(b.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:b.errorRaised});const y=b._emitter.root,v=y.data;return v.language=b.language,v.relevance=b.relevance,y}function r(d,f){const m=(f||Qj).subset||s();let g=-1,b=0,y;for(;++g<m.length;){const v=m[g];if(!t.getLanguage(v))continue;const _=n(v,d,f);_.data&&_.data.relevance!==void 0&&_.data.relevance>b&&(b=_.data.relevance,y=_)}return y||{type:"root",children:[],data:{language:void 0,relevance:b}}}function s(){return t.listLanguages()}function o(d,f){if(typeof d=="string")t.registerLanguage(d,f);else{let p;for(p in d)Object.hasOwn(d,p)&&t.registerLanguage(p,d[p])}}function l(d,f){if(typeof d=="string")t.registerAliases(typeof f=="string"?f:[...f],{languageName:d});else{let p;for(p in d)if(Object.hasOwn(d,p)){const m=d[p];t.registerAliases(typeof m=="string"?m:[...m],{languageName:p})}}}function u(d){return!!t.getLanguage(d)}}class dK{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],s=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:s}):r.children.push(...s)}openNode(t){const n=this,r=t.split(".").map(function(l,u){return u?l+"_".repeat(u):n.options.classPrefix+l}),s=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:r},children:[]};s.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const fK={};function JD(e){const t=e||fK,n=t.aliases,r=t.detect||!1,s=t.languages||iK,o=t.plainText,l=t.prefix,u=t.subset;let d="hljs";const f=uK(s);if(n&&f.registerAlias(n),l){const p=l.indexOf("-");d=p===-1?l:l.slice(0,p)}return function(p,m){Qh(p,"element",function(g,b,y){if(g.tagName!=="code"||!y||y.type!=="element"||y.tagName!=="pre")return;const v=hK(g);if(v===!1||!v&&!r||v&&o&&o.includes(v))return;Array.isArray(g.properties.className)||(g.properties.className=[]),g.properties.className.includes(d)||g.properties.className.unshift(d);const _=RV(g,{whitespace:"pre"});let N;try{N=v?f.highlight(v,_,{prefix:l}):f.highlightAuto(_,{prefix:l,subset:u})}catch(j){const k=j;if(v&&/Unknown language/.test(k.message)){m.message("Cannot highlight as `"+v+"`, its not registered",{ancestors:[y,g],cause:k,place:g.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw k}!v&&N.data&&N.data.language&&g.properties.className.push("language-"+N.data.language),N.children.length>0&&(g.children=N.children)})}}function hK(e){const t=e.properties.className;let n=-1;if(!Array.isArray(t))return;let r;for(;++n<t.length;){const s=String(t[n]);if(s==="no-highlight"||s==="nohighlight")return!1;!r&&s.slice(0,5)==="lang-"&&(r=s.slice(5)),!r&&s.slice(0,9)==="language-"&&(r=s.slice(9))}return r}function eL({content:e,isStreaming:t}){const[n,r]=S.useState(!1);return a.jsxs("div",{className:"my-2",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-1.5 text-xs text-gray-500 hover:text-gray-400 transition-colors",children:[t&&a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),a.jsx("svg",{className:`w-3 h-3 transition-transform ${n?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),a.jsx("span",{children:t?"Thinking...":"Thought process"})]}),n&&a.jsx("div",{className:"mt-1.5 pl-4 border-l border-white/[0.06] text-xs text-gray-500 whitespace-pre-wrap",children:e})]})}function pK({toolInput:e,resultContent:t,isError:n,isLoading:r}){return a.jsxs("div",{className:"space-y-2",children:[Object.keys(e).length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-600 mb-1",children:"Input"}),a.jsx("pre",{className:"text-xs text-gray-500 bg-black/20 rounded p-2 overflow-x-auto max-h-40 overflow-y-auto",children:JSON.stringify(e,null,2)})]}),!r&&t!=null&&a.jsxs("div",{children:[a.jsx("div",{className:`text-[10px] uppercase tracking-wider mb-1 ${n?"text-red-400":"text-gray-600"}`,children:n?"Error":"Result"}),a.jsx("pre",{className:`text-xs rounded p-2 overflow-x-auto max-h-40 overflow-y-auto ${n?"text-red-400 bg-red-900/10":"text-gray-500 bg-black/20"}`,children:t.length>2e3?t.slice(0,2e3)+`
... (truncated)`:t})]})]})}const If=2e3;function mK(e){const t=[];let n="";const r=e.split(/(\s+&&\s+|\s+\|\|\s+|\s*;\s+)/);for(const s of r){const o=s.trim();o==="&&"||o==="||"||o===";"?(n&&t.push(n.trim()+" "+o),n=""):n+=s}return n.trim()&&t.push(n.trim()),t.length>1?t:[e]}function gK(e){return/\s+&&\s+|\s+\|\|\s+|;\s+/.test(e)}function xK(e){return e.replace(/\x1B(?:[@-Z\\-_]|\[[0-?]*[ -/]*[@-~])/g,"")}function bK(e,t){if(e==null)return null;const n=e.match(/(?:^|\n)\s*(?:exit code|Exit code|EXIT CODE)[:\s]+(\d+)\s*(?:\n|$)/i);return n?parseInt(n[1],10):t?1:0}function yK({toolInput:e,resultContent:t,isError:n,isLoading:r}){const s=(e.command??"").trim(),o=(e.description??"").trim(),l=e.timeout,u=e.run_in_background,[d,f]=S.useState(!1),p=!r&&t!=null?bK(t,n):null,m=s||(o?"":"(empty command)"),g=m&&gK(m)?mK(m):null,b=!r&&t!=null&&t.length>0,y=!r&&t!=null&&t.length===0&&!n,v=t!=null?xK(t):void 0,_=(v==null?void 0:v.length)??0,N=_>If&&!d,j=N?v.slice(0,If):v??"",k=_-If,A=b||y||r?"rounded-t-md":"rounded-md";return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:`${A} font-mono text-xs ${n?"bg-red-950/30":"bg-black/30"} overflow-hidden`,children:[o&&a.jsxs("div",{className:"px-3 pt-2 text-gray-600 select-none text-[11px] leading-tight",children:["# ",o]}),(l!=null||u)&&a.jsxs("div",{className:"px-3 pt-1.5 flex items-center gap-1.5",children:[l!=null&&a.jsxs("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] bg-amber-900/25 text-amber-500/80 border border-amber-800/20 select-none",children:["timeout ",l>=1e3?`${(l/1e3).toFixed(0)}s`:`${l}ms`]}),u&&a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-purple-900/40 text-purple-400 border border-purple-800/30 select-none",children:"BG"})]}),a.jsx("div",{className:"px-3 py-2 text-gray-300 whitespace-pre-wrap break-all select-text",children:g?g.map((T,M)=>a.jsxs("div",{className:M>0?"pl-4":"",children:[M===0&&a.jsx("span",{className:"text-green-500/70 select-none",children:"$ "}),M>0&&a.jsx("span",{className:"text-gray-700 select-none",children:"  "}),T]},M)):a.jsxs("div",{children:[a.jsx("span",{className:"text-green-500/70 select-none",children:"$ "}),m||a.jsx("span",{className:"text-gray-600 italic",children:o||"(empty command)"})]})}),!r&&t!=null&&a.jsxs("div",{className:"px-3 pb-2 flex items-center gap-1.5",children:[a.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full ${n?"bg-red-500":"bg-green-500/80"}`}),p!=null&&p!==0?a.jsxs("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-red-900/40 text-red-400 border border-red-800/30 select-none",children:["exit ",p]}):p!=null?a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-green-900/40 text-green-400 border border-green-800/30 select-none",children:"exit 0"}):a.jsx("span",{className:`text-[10px] select-none ${n?"text-red-500/60":"text-gray-600"}`,children:n?"exited with error":"exited 0"})]})]}),b&&a.jsx("div",{className:`border-t font-mono text-xs overflow-x-auto ${d?"":"max-h-64"} overflow-y-auto ${n?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20 text-gray-500"} ${N?"":"rounded-b-md"}`,children:a.jsx("pre",{className:"px-3 py-2 whitespace-pre-wrap break-all select-text",children:j})}),b&&_>If&&a.jsx("button",{type:"button",onClick:()=>f(T=>!T),className:`w-full border-t rounded-b-md text-[11px] px-3 py-1.5 text-center cursor-pointer select-none transition-colors ${n?"border-red-800/30 bg-red-950/15 text-red-400/60 hover:text-red-400/90 hover:bg-red-950/25":"border-white/[0.04] bg-black/15 text-gray-600 hover:text-gray-400 hover:bg-black/25"}`,children:d?"show less":`show ${k.toLocaleString()} more characters`}),y&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 italic select-none",children:"no output"})}),r&&a.jsxs("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-2 flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-500/70 animate-pulse"}),a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"running..."})]})]})}const vK={rs:"rust",ts:"typescript",tsx:"typescript",js:"javascript",jsx:"javascript",mjs:"javascript",cjs:"javascript",py:"python",go:"go",json:"json",jsonc:"json",md:"markdown",mdx:"markdown",toml:"toml",yaml:"yaml",yml:"yaml",css:"css",html:"html",sql:"sql",sh:"bash",bash:"bash",zsh:"bash"};function Wu(e){var n;const t=((n=e.split(".").pop())==null?void 0:n.toLowerCase())??"";return vK[t]??"plain"}const wK={rs:"bg-orange-900/40 text-orange-400 border-orange-800/30",ts:"bg-blue-900/40 text-blue-400 border-blue-800/30",tsx:"bg-blue-900/40 text-blue-400 border-blue-800/30",js:"bg-yellow-900/40 text-yellow-400 border-yellow-800/30",jsx:"bg-yellow-900/40 text-yellow-400 border-yellow-800/30",py:"bg-green-900/40 text-green-400 border-green-800/30",go:"bg-cyan-900/40 text-cyan-400 border-cyan-800/30",json:"bg-gray-800/40 text-gray-400 border-gray-700/30",md:"bg-gray-800/40 text-gray-400 border-gray-700/30",toml:"bg-gray-800/40 text-gray-400 border-gray-700/30",yaml:"bg-red-900/40 text-red-400 border-red-800/30",yml:"bg-red-900/40 text-red-400 border-red-800/30",css:"bg-purple-900/40 text-purple-400 border-purple-800/30",html:"bg-orange-900/40 text-orange-400 border-orange-800/30",sql:"bg-blue-900/40 text-blue-300 border-blue-800/30",sh:"bg-green-900/40 text-green-400 border-green-800/30"};function G_(e){const t=e.replace(/^\./,"").toLowerCase();return wK[t]??"bg-gray-800/40 text-gray-500 border-gray-700/30"}function V_(e){const t=e.split("/").pop()??"",n=t.lastIndexOf(".");return n<0?"":t.slice(n)}const Zt={keyword:"text-purple-400",string:"text-green-400",comment:"text-gray-600 italic",number:"text-amber-400",type:"text-cyan-400",function:"text-blue-400",jsonKey:"text-blue-400",jsonValueStr:"text-green-400",punctuation:"text-gray-500",default:"text-gray-400",mdHeader:"text-purple-400 font-bold",mdBold:"text-gray-200 font-bold",mdLink:"text-blue-400 underline",mdCode:"text-green-400"},_K=new Set(["fn","let","mut","pub","use","impl","struct","enum","trait","async","await","match","if","else","for","while","return","self","Self","true","false","mod","crate","super","where","type","const","static","ref","move","loop","break","continue","in","as","unsafe","extern","dyn","Box","Vec","Option","Result","Some","None","Ok","Err","String"]),NK=new Set(["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","bool","char","str"]),SK=new Set(["const","let","var","function","return","if","else","for","while","class","interface","type","import","export","from","async","await","new","true","false","null","undefined","switch","case","break","continue","default","throw","try","catch","finally","typeof","instanceof","in","of","yield","void","delete","this","super","extends","implements","static","get","set","as","satisfies"]),kK=new Set(["def","class","import","from","return","if","elif","else","for","while","with","as","try","except","finally","raise","True","False","None","and","or","not","in","is","lambda","yield","pass","break","continue","global","nonlocal","del","assert","async","await"]),EK=new Set(["func","var","const","type","struct","interface","return","if","else","for","range","switch","case","default","break","continue","go","defer","select","chan","map","package","import","true","false","nil","make","new","len","cap","append","error"]);function Pf(e,t,n,r){const s=[],o=e.indexOf(r);let l=e,u="";if(o>=0){const m=e.slice(0,o),g=(m.match(/'/g)||[]).length,b=(m.match(/"/g)||[]).length;g%2===0&&b%2===0&&(l=e.slice(0,o),u=e.slice(o))}const d=/("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|`(?:[^`\\]|\\.)*`|\b\d+(?:\.\d+)?\b|[a-zA-Z_]\w*|\S)/g;let f,p=0;for(;(f=d.exec(l))!==null;){f.index>p&&s.push({text:l.slice(p,f.index),className:Zt.default}),p=d.lastIndex;const m=f[0];m.startsWith('"')||m.startsWith("'")||m.startsWith("`")?s.push({text:m,className:Zt.string}):/^\d/.test(m)?s.push({text:m,className:Zt.number}):t.has(m)?s.push({text:m,className:Zt.keyword}):n!=null&&n.has(m)?s.push({text:m,className:Zt.type}):/^[A-Z]/.test(m)&&m.length>1?s.push({text:m,className:Zt.type}):l[d.lastIndex]==="("?s.push({text:m,className:Zt.function}):s.push({text:m,className:Zt.default})}return p<l.length&&s.push({text:l.slice(p),className:Zt.default}),u&&s.push({text:u,className:Zt.comment}),s}function jK(e){const t=[],n=/("(?:[^"\\]|\\.)*")\s*(:)|("(?:[^"\\]|\\.)*")|\b(true|false|null)\b|\b(\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b|([{}[\],])|(\S)/g;let r,s=0;for(;(r=n.exec(e))!==null;)r.index>s&&t.push({text:e.slice(s,r.index),className:Zt.default}),s=n.lastIndex,r[1]&&r[2]?(t.push({text:r[1],className:Zt.jsonKey}),t.push({text:r[2],className:Zt.punctuation})):r[3]?t.push({text:r[3],className:Zt.jsonValueStr}):r[4]?t.push({text:r[4],className:Zt.keyword}):r[5]?t.push({text:r[5],className:Zt.number}):r[6]?t.push({text:r[6],className:Zt.punctuation}):r[7]&&t.push({text:r[7],className:Zt.default});return s<e.length&&t.push({text:e.slice(s),className:Zt.default}),t}function CK(e){if(/^#{1,6}\s/.test(e))return[{text:e,className:Zt.mdHeader}];const t=[],n=/(\*\*[^*]+\*\*|__[^_]+__)|(`[^`]+`)|(\[([^\]]+)\]\([^)]+\))/g;let r,s=0;for(;(r=n.exec(e))!==null;)r.index>s&&t.push({text:e.slice(s,r.index),className:Zt.default}),s=n.lastIndex,r[1]?t.push({text:r[1],className:Zt.mdBold}):r[2]?t.push({text:r[2],className:Zt.mdCode}):r[3]&&t.push({text:r[3],className:Zt.mdLink});return s<e.length&&t.push({text:e.slice(s),className:Zt.default}),t.length>0?t:[{text:e,className:Zt.default}]}function xl(e,t){if(e.length===0)return[{text:"",className:Zt.default}];switch(t){case"rust":return Pf(e,_K,NK,"//");case"typescript":case"javascript":return Pf(e,SK,null,"//");case"python":return Pf(e,kK,null,"#");case"go":return Pf(e,EK,null,"//");case"json":return jK(e);case"markdown":return CK(e);default:return[{text:e,className:Zt.default}]}}const Jj=30;function eC(e,t){const n=e.split(`
`);return n.length<=t?{lines:n,truncated:0}:{lines:n.slice(0,t),truncated:n.length-t}}function TK({toolInput:e,resultContent:t,isError:n,isLoading:r}){const s=e.file_path??"",o=e.old_string??"",l=e.new_string??"",u=e.replace_all??!1,d=V_(s),f=Wu(s),p=G_(d),m=o.split(`
`),g=l.split(`
`),b=o.length>0?m.length:0,y=l.length>0?g.length:0,v=eC(o,Jj),_=eC(l,Jj),N=Math.max(b,y,1),j=Math.max(3,String(N).length+1);return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs text-gray-500",children:[a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-amber-900/40 text-amber-400 border border-amber-800/30",children:"EDIT"}),d&&a.jsx("span",{className:`shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold border ${p}`,children:d}),a.jsx("span",{className:"truncate",children:s}),u&&a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-amber-900/40 text-amber-400 border border-amber-800/30",children:"replace all"}),a.jsxs("span",{className:"shrink-0 ml-auto text-[10px] text-gray-600",children:[b>0&&a.jsxs("span",{className:"text-red-500",children:["-",b," line",b!==1?"s":""]}),b>0&&y>0&&", ",y>0&&a.jsxs("span",{className:"text-green-500",children:["+",y," line",y!==1?"s":""]})]})]}),a.jsxs("div",{className:"border-t border-white/[0.04] bg-black/30 px-3 py-1 font-mono text-xs text-cyan-500/70 select-none",children:["@@ -",b>0?`1,${b}`:"0,0"," +",y>0?`1,${y}`:"0,0"," @@"]}),a.jsx("div",{className:"font-mono text-xs overflow-x-auto max-h-80 overflow-y-auto",children:a.jsxs("pre",{className:"whitespace-pre-wrap break-all",children:[o.length>0&&v.lines.map((k,C)=>{const A=C+1,T=xl(k,f);return a.jsxs("div",{className:"flex bg-red-950/25 hover:bg-red-950/35",children:[a.jsx("span",{className:"select-none text-red-800/60 text-right pr-1 shrink-0 bg-red-950/30",style:{width:`${j}ch`},children:A}),a.jsx("span",{className:"select-none text-right pr-1 shrink-0 bg-red-950/20",style:{width:`${j}ch`}}),a.jsx("span",{className:"select-none text-red-500/70 shrink-0 w-4 text-center font-bold",children:""}),a.jsx("span",{className:"flex-1 text-red-400/80",children:T.map((M,z)=>a.jsx("span",{className:M.className,style:{opacity:.7},children:M.text},z))})]},`old-${C}`)}),v.truncated>0&&a.jsxs("div",{className:"text-red-700/50 italic select-none pl-2 py-0.5 bg-red-950/15",children:["... ",v.truncated," more removed line",v.truncated>1?"s":""]}),l.length>0&&_.lines.map((k,C)=>{const A=C+1,T=xl(k,f);return a.jsxs("div",{className:"flex bg-green-950/25 hover:bg-green-950/35",children:[a.jsx("span",{className:"select-none text-right pr-1 shrink-0 bg-green-950/20",style:{width:`${j}ch`}}),a.jsx("span",{className:"select-none text-green-800/60 text-right pr-1 shrink-0 bg-green-950/30",style:{width:`${j}ch`},children:A}),a.jsx("span",{className:"select-none text-green-500/70 shrink-0 w-4 text-center font-bold",children:"+"}),a.jsx("span",{className:"flex-1",children:T.map((M,z)=>a.jsx("span",{className:M.className,children:M.text},z))})]},`new-${C}`)}),_.truncated>0&&a.jsxs("div",{className:"text-green-700/50 italic select-none pl-2 py-0.5 bg-green-950/15",children:["... ",_.truncated," more added line",_.truncated>1?"s":""]})]})}),!r&&t!=null&&t.length>0&&a.jsx("div",{className:`border-t rounded-b-md text-xs px-3 py-1.5 ${n?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20 text-gray-600"}`,children:t.length>500?t.slice(0,500)+"... (truncated)":t}),r&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"editing..."})})]})}const v0=25;function AK({toolInput:e,resultContent:t,isError:n,isLoading:r}){const s=e.file_path??"",o=e.offset,l=e.limit,u=V_(s),d=Wu(s),f=G_(u),p=o??1;let m="";o!=null&&l!=null?m=`:${o}-${o+l}`:o!=null?m=`:${o}+`:l!=null&&(m=`:1-${l}`);const g=(t==null?void 0:t.split(`
`))??[],b=g.length>v0?g.length-v0:0,y=b>0?g.slice(0,v0):g,v=p+y.length-1,_=Math.max(3,String(v).length+1);return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs text-gray-500",children:[a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-blue-900/40 text-blue-400 border border-blue-800/30",children:"READ"}),u&&a.jsx("span",{className:`shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold border ${f}`,children:u}),a.jsx("span",{className:"truncate",children:s}),m&&a.jsx("span",{className:"shrink-0 text-gray-600",children:m})]}),!r&&t!=null&&t.length>0&&a.jsx("div",{className:`border-t font-mono text-xs overflow-x-auto max-h-72 overflow-y-auto ${n?"border-red-800/30 bg-red-950/20":"border-white/[0.04] bg-black/20"}`,children:a.jsxs("pre",{className:"py-1.5 whitespace-pre-wrap break-all",children:[y.map((N,j)=>{const k=p+j,C=n?[{text:N,className:"text-red-400"}]:xl(N,d);return a.jsxs("div",{className:"flex hover:bg-white/[0.02]",children:[a.jsx("span",{className:"select-none text-gray-700 text-right pr-3 pl-2 shrink-0",style:{width:`${_+1}ch`},children:k}),a.jsx("span",{className:"flex-1",children:C.map((A,T)=>a.jsx("span",{className:A.className,children:A.text},T))})]},j)}),b>0&&a.jsxs("div",{className:"text-gray-600 italic select-none pl-2 py-0.5",children:["... ",b," more line",b>1?"s":""]})]})}),!r&&t!=null&&t.length===0&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 italic",children:"empty file"})}),r&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"reading..."})})]})}const w0=25;function MK({toolInput:e,resultContent:t,isError:n,isLoading:r}){const s=e.file_path??"",o=e.content??"",l=V_(s),u=Wu(s),d=G_(l),f=t!=null&&/creat/i.test(t),p=o.split(`
`),m=p.length,g=o.length,b=p.slice(0,w0),y=m>w0?m-w0:0,v=b.length,_=Math.max(3,String(v).length+1);return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs text-gray-500",children:[a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-green-900/40 text-green-400 border border-green-800/30",children:f?"CREATE":"WRITE"}),l&&a.jsx("span",{className:`shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold border ${d}`,children:l}),a.jsx("span",{className:"truncate",children:s}),a.jsxs("span",{className:"shrink-0 text-gray-600 text-[10px]",children:[m," line",m!==1?"s":"",", ",g.toLocaleString()," chars"]})]}),o.length>0&&a.jsx("div",{className:"border-t border-white/[0.04] bg-green-950/10 font-mono text-xs overflow-x-auto max-h-72 overflow-y-auto",children:a.jsxs("pre",{className:"py-1.5 whitespace-pre-wrap break-all",children:[b.map((N,j)=>{const k=j+1,C=xl(N,u);return a.jsxs("div",{className:"flex hover:bg-white/[0.02]",children:[a.jsx("span",{className:"select-none text-green-600/70 shrink-0 w-4 text-center",children:"+"}),a.jsx("span",{className:"select-none text-gray-700 text-right pr-3 shrink-0",style:{width:`${_}ch`},children:k}),a.jsx("span",{className:"flex-1",children:C.map((A,T)=>a.jsx("span",{className:A.className,children:A.text},T))})]},j)}),y>0&&a.jsxs("div",{className:"text-gray-600 italic select-none pl-2 py-0.5",children:["... ",y," more line",y>1?"s":""]})]})}),!r&&t!=null&&t.length>0&&a.jsx("div",{className:`border-t rounded-b-md text-xs px-3 py-1.5 ${n?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20 text-gray-600"}`,children:t.length>500?t.slice(0,500)+"... (truncated)":t}),r&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"writing..."})})]})}const _0=50;function tL(e){const t=e.split("/");return t[t.length-1]||e}function nL(e){const t=e.lastIndexOf("/");return t<0?"":e.slice(0,t+1)}function tC(e,t){if(!t)return[e];let n;try{n=new RegExp(t,"gi")}catch{return[e]}const r=[];let s=0,o;for(n.lastIndex=0;(o=n.exec(e))!==null;){if(o[0].length===0){n.lastIndex++;continue}o.index>s&&r.push(e.slice(s,o.index)),r.push(a.jsx("mark",{className:"bg-amber-500/30 text-amber-300 rounded px-0.5",children:o[0]},`m-${o.index}`)),s=n.lastIndex}return s<e.length&&r.push(e.slice(s)),r.length>0?r:[e]}function RK(e){const t=[],n=[],r=new Map;for(const s of e){const o=s.match(/^(.+?):(\d+)([:-])(.*)$/);if(o){const[,l,u,,d]=o;let f=r.get(l);f||(f={file:l,lines:[]},r.set(l,f),t.push(f)),f.lines.push({lineNum:u,content:d})}else n.push(s)}return{groups:t,unparsed:n}}function OK(e){const t=[];for(const n of e){const r=n.match(/^(.+?):(\d+)$/);r&&t.push({file:r[1],count:r[2]})}return t}function DK(e){const t=new Map,n=[];for(const r of e){const s=nL(r),o=tL(r);t.has(s)||(t.set(s,[]),n.push(s)),t.get(s).push(o)}return n.map(r=>({dir:r,files:t.get(r)}))}function LK({tokens:e}){return a.jsx(a.Fragment,{children:e.map((t,n)=>a.jsx("span",{className:t.className,children:t.text},n))})}function IK({groups:e,unparsed:t,pattern:n,truncatedCount:r}){return a.jsxs("div",{className:"py-1",children:[e.map((s,o)=>{const l=Wu(s.file),u=nL(s.file),d=tL(s.file),f=Math.max(...s.lines.map(m=>m.lineNum.length),1),p=Math.max(3,f+1);return a.jsxs("div",{className:o>0?"mt-2":"",children:[a.jsxs("div",{className:"px-3 py-0.5 text-[10px] text-gray-600 select-none truncate",children:[u&&a.jsx("span",{className:"text-gray-700",children:u}),a.jsx("span",{className:"text-gray-400 font-medium",children:d})]}),a.jsx("pre",{className:"whitespace-pre-wrap break-all",children:s.lines.map((m,g)=>{const b=xl(m.content,l);return a.jsxs("div",{className:"flex hover:bg-white/[0.02]",children:[a.jsx("span",{className:"select-none text-gray-700 text-right pr-3 pl-2 shrink-0",style:{width:`${p+1}ch`},children:m.lineNum}),a.jsx("span",{className:"flex-1",children:n?tC(b.map(y=>y.text).join(""),n):a.jsx(LK,{tokens:b})})]},g)})})]},o)}),t.length>0&&a.jsx("pre",{className:"px-3 py-1 whitespace-pre-wrap break-all text-gray-500",children:t.map((s,o)=>a.jsx("div",{children:n?tC(s,n):s},`u-${o}`))}),r>0&&a.jsxs("div",{className:"px-3 py-1 text-gray-600 italic select-none text-[10px]",children:["... ",r," more result",r>1?"s":""]})]})}function PK({files:e,truncatedCount:t}){return a.jsxs("div",{className:"py-1",children:[e.map((n,r)=>a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-0.5 hover:bg-white/[0.02]",children:[a.jsx("span",{className:"text-gray-700 select-none shrink-0",children:"  "}),a.jsx("span",{className:"text-gray-500 truncate",children:n})]},r)),t>0&&a.jsxs("div",{className:"px-3 py-1 text-gray-600 italic select-none text-[10px]",children:["... ",t," more file",t>1?"s":""]})]})}function zK({entries:e,truncatedCount:t}){const n=Math.max(...e.map(r=>r.count.length),1);return a.jsxs("div",{className:"py-1",children:[e.map((r,s)=>a.jsxs("div",{className:"flex items-center gap-2 px-3 py-0.5 hover:bg-white/[0.02]",children:[a.jsx("span",{className:"text-amber-400/70 text-right shrink-0 select-none",style:{width:`${n+1}ch`},children:r.count}),a.jsx("span",{className:"text-gray-500 truncate",children:r.file})]},s)),t>0&&a.jsxs("div",{className:"px-3 py-1 text-gray-600 italic select-none text-[10px]",children:["... ",t," more entr",t>1?"ies":"y"]})]})}function BK({groups:e,truncatedCount:t}){return a.jsxs("div",{className:"py-1",children:[e.map((n,r)=>a.jsxs("div",{className:r>0?"mt-1":"",children:[n.dir&&a.jsx("div",{className:"px-3 py-0.5 text-[10px] text-gray-600 select-none truncate",children:n.dir}),n.files.map((s,o)=>{const u=o===n.files.length-1?"":"";return a.jsxs("div",{className:"flex items-center gap-1 px-3 hover:bg-white/[0.02]",children:[a.jsx("span",{className:"text-gray-700 select-none shrink-0 w-8 text-right",children:n.dir?u:""}),a.jsx("span",{className:"text-gray-500",children:s})]},o)})]},r)),t>0&&a.jsxs("div",{className:"px-3 py-1 text-gray-600 italic select-none text-[10px]",children:["... ",t," more file",t>1?"s":""]})]})}function nC({toolName:e,toolInput:t,resultContent:n,isError:r,isLoading:s}){const o=e==="Grep",l=t.pattern??"",u=t.pattern??"",d=t.path??"",f=t.output_mode??(o?"files_with_matches":""),p=t.glob??"",m=t.type??"",g=(n==null?void 0:n.split(`
`).filter(N=>N.trim().length>0))??[],b=g.length,y=b>_0?b-_0:0,v=y>0?g.slice(0,_0):g,_=o?f==="files_with_matches"?`${b} file${b!==1?"s":""}`:f==="count"?`${b} file${b!==1?"s":""}`:`${b} result${b!==1?"s":""}`:`${b} file${b!==1?"s":""}`;return a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs text-gray-500 overflow-hidden",children:[o?a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-indigo-900/40 text-indigo-400 border border-indigo-800/30",children:"SEARCH"}):a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-cyan-900/40 text-cyan-400 border border-cyan-800/30",children:"GLOB"}),a.jsx("div",{className:"truncate min-w-0",children:o?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-600 select-none",children:"/"}),a.jsx("span",{className:"text-amber-400/80",children:l}),a.jsx("span",{className:"text-gray-600 select-none",children:"/"})]}):a.jsx("span",{className:"text-cyan-400/80",children:u})}),!s&&n!=null&&b>0&&!r&&a.jsx("span",{className:"shrink-0 ml-auto px-1.5 py-0.5 rounded text-[10px] font-medium bg-white/[0.04] text-gray-500 select-none",children:_})]}),(d||f&&o||p||m)&&a.jsxs("div",{className:"flex flex-wrap gap-2 px-3 py-1 bg-black/20 border-t border-white/[0.02] text-[10px] text-gray-600 font-mono",children:[d&&a.jsxs("span",{children:["in ",d]}),f&&o&&a.jsx("span",{className:"px-1 rounded bg-white/[0.04]",children:f}),p&&a.jsxs("span",{children:["glob: ",p]}),m&&a.jsxs("span",{children:["type: ",m]})]}),!s&&n!=null&&n.trim().length>0&&a.jsx("div",{className:`border-t font-mono text-xs overflow-x-auto max-h-72 overflow-y-auto ${r?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20 text-gray-500"}`,children:r?a.jsx("pre",{className:"px-3 py-1.5 whitespace-pre-wrap break-all text-red-400",children:n}):o?f==="count"?a.jsx(zK,{entries:OK(v),truncatedCount:y}):f==="content"?(()=>{const{groups:N,unparsed:j}=RK(v);return a.jsx(IK,{groups:N,unparsed:j,pattern:l,truncatedCount:y})})():a.jsx(PK,{files:v,truncatedCount:y}):a.jsx(BK,{groups:DK(v),truncatedCount:y})}),!s&&n!=null&&n.trim().length===0&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 italic",children:"no matches"})}),s&&a.jsx("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"searching..."})})]})}const N0=40;function zf(e){const t=[],n=/(`[^`]+`)|(\*\*[^*]+\*\*)|(\*[^*]+\*)|(\[[^\]]+\]\([^)]+\))/g;let r=0,s;for(;(s=n.exec(e))!==null;){s.index>r&&t.push(e.slice(r,s.index));const o=s[0];if(s[1]){const l=o.slice(1,-1);t.push(a.jsx("code",{className:"px-1 py-0.5 bg-white/[0.06] rounded text-[10px]",children:l},s.index))}else if(s[2]){const l=o.slice(2,-2);t.push(a.jsx("strong",{className:"text-gray-300",children:l},s.index))}else if(s[3]){const l=o.slice(1,-1);t.push(a.jsx("em",{children:l},s.index))}else if(s[4]){const l=o.match(/\[([^\]]+)\]\(([^)]+)\)/);if(l){const u=l[2];t.push(a.jsx(Di,{href:u,className:"text-indigo-400 hover:underline",children:l[1]},s.index))}else t.push(o)}r=s.index+o.length}return r<e.length&&t.push(e.slice(r)),t.length>0?t:[e]}function $K(e){const t=e.split(`
`),n=[];let r=0;for(;r<t.length;){const s=t[r];if(s.trimStart().startsWith("```")){const o=[];for(r++;r<t.length&&!t[r].trimStart().startsWith("```");)o.push(t[r]),r++;r++,n.push(a.jsx("pre",{className:"bg-black/30 rounded p-2 text-[10px] font-mono overflow-x-auto my-1",children:o.join(`
`)},`code-${r}`));continue}if(s.startsWith("## ")){n.push(a.jsx("div",{className:"text-gray-400 font-medium text-xs mt-1.5",children:zf(s.slice(3))},`h2-${r}`)),r++;continue}if(s.startsWith("# ")){n.push(a.jsx("div",{className:"text-gray-300 font-semibold text-sm mt-2",children:zf(s.slice(2))},`h1-${r}`)),r++;continue}if(/^[\s]*[-*]\s/.test(s)&&!s.trimStart().startsWith("**")){const o=s.replace(/^[\s]*[-*]\s/,"");n.push(a.jsxs("div",{className:"flex gap-1.5 ml-1",children:[a.jsx("span",{className:"text-gray-600 select-none shrink-0",children:""}),a.jsx("span",{children:zf(o)})]},`li-${r}`)),r++;continue}if(s.trim()===""){n.push(a.jsx("div",{className:"h-1"},`br-${r}`)),r++;continue}n.push(a.jsx("div",{children:zf(s)},`p-${r}`)),r++}return n}function UK(e){const t=e.indexOf("Links:");if(t===-1)return null;const n=e.slice(t+6).trimStart(),r=n.indexOf("[");if(r===-1)return null;let s=0,o=-1;for(let u=r;u<n.length;u++)if(n[u]==="[")s++;else if(n[u]==="]"&&(s--,s===0)){o=u;break}if(o===-1)return null;const l=n.slice(r,o+1);try{const u=JSON.parse(l);if(!Array.isArray(u))return null;const d=u.filter(y=>typeof y=="object"&&y!==null&&typeof y.url=="string").map(y=>({title:String(y.title??y.url),url:String(y.url),snippet:y.snippet?String(y.snippet):void 0}));if(d.length===0)return null;const f=e.slice(0,t).trim(),p=t+6+o+1,m=e.slice(p).trim();let g=null;const b=f.match(/query:\s*"([^"]+)"/);return b&&(g=b[1]),{query:g,links:d,preamble:f,epilogue:m}}catch{return null}}function rC({toolName:e,toolInput:t,resultContent:n,isError:r,isLoading:s}){const o=e==="WebSearch",[l,u]=S.useState(!1),d=t.url??"",f=t.prompt??"",p=t.query??"",m=t.allowed_domains,g=t.blocked_domains,b=(n==null?void 0:n.split(`
`))??[],y=b.length>N0?b.length-N0:0,v=y>0&&!l?b.slice(0,N0):b,_=o&&n?UK(n):null,N=!s&&n!=null&&n.length>0,k=N||s?"rounded-t-md":"rounded-md";return a.jsxs("div",{className:"space-y-0",children:[a.jsx("div",{className:`px-3 py-1.5 bg-black/30 ${k} font-mono text-xs overflow-hidden`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap mb-1",children:[a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-green-900/40 text-green-400 border border-green-800/30",children:"SEARCH"}),m&&Array.isArray(m)&&m.map((C,A)=>a.jsxs("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] bg-emerald-900/25 text-emerald-500/80 border border-emerald-800/20 select-none",children:["+",String(C)]},`a-${A}`)),g&&Array.isArray(g)&&g.map((C,A)=>a.jsxs("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] bg-red-900/25 text-red-500/80 border border-red-800/20 select-none",children:["-",String(C)]},`b-${A}`))]}),a.jsxs("div",{className:"text-gray-400",children:[a.jsx("span",{className:"text-gray-600 select-none",children:"query: "}),a.jsx("span",{className:"text-blue-400/80",children:p})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:a.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold bg-blue-900/40 text-blue-400 border border-blue-800/30",children:"FETCH"})}),a.jsx("div",{className:"text-blue-400/80 truncate",children:d}),f&&a.jsx("div",{className:"text-gray-600 mt-1 text-[10px] truncate",children:f})]})}),N&&!r&&a.jsx("div",{className:"border-t border-white/[0.04] bg-black/20 text-gray-500 font-mono text-xs overflow-x-auto max-h-96 overflow-y-auto",children:a.jsxs("div",{className:"px-3 py-1.5",children:[o&&_?a.jsxs("div",{className:"space-y-2",children:[_.links.map((C,A)=>a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Di,{href:C.url,className:"text-indigo-400 hover:underline text-xs",children:C.title}),a.jsx("div",{className:"text-[10px] text-gray-600 font-mono truncate",children:C.url}),C.snippet&&a.jsx("div",{className:"text-[11px] text-gray-500 leading-snug",children:C.snippet})]},A)),_.epilogue&&a.jsx("div",{className:"text-[11px] text-gray-500 mt-2 border-t border-white/[0.04] pt-2 whitespace-pre-wrap",children:_.epilogue})]}):o?a.jsx("pre",{className:"whitespace-pre-wrap break-all",children:v.map((C,A)=>a.jsx("div",{children:C},A))}):a.jsx("div",{className:"space-y-0.5 whitespace-pre-wrap break-words",children:$K(v.join(`
`))}),!_&&y>0&&!l&&a.jsxs("div",{className:"text-gray-600 italic select-none mt-1",children:["... ",y," more line",y>1?"s":""]})]})}),N&&r&&a.jsx("div",{className:"border-t border-red-800/30 bg-red-950/20 text-red-400 font-mono text-xs overflow-x-auto max-h-72 overflow-y-auto",children:a.jsxs("pre",{className:"px-3 py-1.5 whitespace-pre-wrap break-all",children:[v.map((C,A)=>a.jsx("div",{children:C},A)),y>0&&!l&&a.jsxs("div",{className:"text-gray-600 italic select-none",children:["... ",y," more line",y>1?"s":""]})]})}),N&&y>0&&!_&&a.jsx("button",{type:"button",onClick:()=>u(C=>!C),className:`w-full border-t rounded-b-md text-[11px] px-3 py-1.5 text-center cursor-pointer select-none transition-colors ${r?"border-red-800/30 bg-red-950/15 text-red-400/60 hover:text-red-400/90 hover:bg-red-950/25":"border-white/[0.04] bg-black/15 text-gray-600 hover:text-gray-400 hover:bg-black/25"}`,children:l?"show less":`show ${y} more line${y>1?"s":""}`}),s&&a.jsxs("div",{className:"border-t border-white/[0.04] rounded-b-md bg-black/20 px-3 py-1.5 flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-500/70 animate-pulse"}),a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:o?"searching...":"fetching..."})]})]})}const qK={plan:e=>`/plans/${e}`,task:e=>`/tasks/${e}`,project:e=>`/projects/${e}`,milestone:e=>`/milestones/${e}`,project_milestone:e=>`/project-milestones/${e}`,workspace:e=>`/workspaces/${e}`,release:e=>`/plans/${e}`,note:()=>"/notes"};function Dn({entityType:e,id:t,children:n}){const r=qK[e];return!r||!t?a.jsx(a.Fragment,{children:n}):a.jsx(ln,{to:r(t),className:"hover:text-indigo-400 hover:underline decoration-indigo-400/30 underline-offset-2 transition-colors",children:n})}const FK={draft:"bg-gray-700/50 text-gray-400 border-gray-600/30",approved:"bg-blue-900/40 text-blue-400 border-blue-700/30",in_progress:"bg-indigo-900/40 text-indigo-400 border-indigo-700/30",completed:"bg-green-900/40 text-green-400 border-green-700/30",cancelled:"bg-gray-700/40 text-gray-500 border-gray-600/30",pending:"bg-gray-700/50 text-gray-400 border-gray-600/30",blocked:"bg-amber-900/40 text-amber-400 border-amber-700/30",failed:"bg-red-900/40 text-red-400 border-red-700/30",skipped:"bg-gray-700/40 text-gray-500 border-gray-600/30",planned:"bg-gray-700/50 text-gray-400 border-gray-600/30",open:"bg-blue-900/40 text-blue-400 border-blue-700/30",closed:"bg-gray-700/40 text-gray-500 border-gray-600/30",released:"bg-green-900/40 text-green-400 border-green-700/30",active:"bg-green-900/40 text-green-400 border-green-700/30",needs_review:"bg-amber-900/40 text-amber-400 border-amber-700/30",stale:"bg-orange-900/40 text-orange-400 border-orange-700/30",obsolete:"bg-red-900/40 text-red-400 border-red-700/30",archived:"bg-gray-700/40 text-gray-500 border-gray-600/30",low:"bg-green-900/40 text-green-400 border-green-700/30",medium:"bg-amber-900/40 text-amber-400 border-amber-700/30",high:"bg-orange-900/40 text-orange-400 border-orange-700/30",critical:"bg-red-900/40 text-red-400 border-red-700/30"};function $t({status:e}){const t=FK[e]??"bg-gray-700/50 text-gray-400 border-gray-600/30";return a.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium border ${t}`,children:e.replace(/_/g," ")})}function ep({priority:e}){const t=e>=9?"text-red-400":e>=7?"text-orange-400":e>=5?"text-amber-400":e>=3?"text-blue-400":"text-gray-500";return a.jsxs("span",{className:`text-[10px] font-mono ${t}`,children:["P",e]})}function tp({tags:e}){return!e||e.length===0?null:a.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(t=>a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-white/[0.06] text-gray-400 border border-white/[0.04]",children:t},t))})}function Jr({label:e,children:t}){return a.jsxs("div",{className:"flex gap-2 text-xs",children:[a.jsx("span",{className:"text-gray-600 shrink-0 select-none min-w-[5rem]",children:e}),a.jsx("span",{className:"text-gray-400 break-all",children:t})]})}function Nn({children:e,count:t}){return a.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase tracking-wider text-gray-600 py-1",children:[e,t!=null&&a.jsx("span",{className:"px-1 py-0.5 rounded bg-white/[0.04] text-gray-500 normal-case tracking-normal",children:t})]})}function np({completed:e,total:t}){const n=t>0?Math.round(e/t*100):0;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${n===100?"bg-green-500":n>0?"bg-indigo-500":"bg-gray-700"}`,style:{width:`${n}%`}})}),a.jsxs("span",{className:"text-[10px] text-gray-500 shrink-0 font-mono",children:[e,"/",t]})]})}function io({date:e}){if(!e)return a.jsx("span",{className:"text-gray-600 italic",children:""});try{const t=new Date(e),r=new Date().getTime()-t.getTime(),s=Math.floor(r/6e4),o=Math.floor(s/60),l=Math.floor(o/24);let u;return s<1?u="just now":s<60?u=`${s}m ago`:o<24?u=`${o}h ago`:l<7?u=`${l}d ago`:u=t.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),a.jsx("span",{className:"text-gray-500",title:t.toISOString(),children:u})}catch{return a.jsx("span",{className:"text-gray-600",children:e})}}function zr({id:e,entityType:t}){if(!e)return null;const n=e.length>12?e.slice(0,8)+"...":e,r=a.jsx("span",{className:"font-mono text-[10px] text-gray-600",title:e,children:n});return t?a.jsx(Dn,{entityType:t,id:e,children:r}):r}function HK({total:e,offset:t,shown:n}){return e==null||e===0?null:a.jsxs("div",{className:"text-[10px] text-gray-600 pt-1",children:["showing ",n," of ",e,t!=null&&t>0&&a.jsxs("span",{children:[" (offset ",t,")"]})]})}function It({children:e}){return a.jsx("div",{className:"space-y-1.5 text-xs",children:e})}function GK({content:e}){return a.jsx("div",{className:"px-3 py-2 bg-red-950/20 border border-red-800/30 rounded-md text-xs text-red-400 font-mono whitespace-pre-wrap break-all max-h-40 overflow-y-auto",children:e.length>1500?e.slice(0,1500)+`
... (truncated)`:e})}function VK(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function wt(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function Ku(e){const t=e.split("/");return t[t.length-1]||e}const rL={plan_id:"plan",task_id:"task",project_id:"project",milestone_id:"milestone",release_id:"release",note_id:"note",workspace_id:"workspace",step_id:"step",constraint_id:"plan",decision_id:"task",session_id:"plan"};function WK(e){return rL[e]??null}const KK=/^(?:create|get|update|delete|link|unlink|add|remove|sync|start|stop|list|search)_(.+?)(?:_to_.*|_from_.*)?$/;function sL(e){const t=KK.exec(e);if(!t)return null;const n=t[1];return{plans:"plan",tasks:"task",projects:"project",notes:"note",milestones:"milestone",releases:"release",steps:"step",constraints:"plan",decisions:"task",workspaces:"workspace",components:"workspace",resources:"workspace",plan_status:"plan",plan_to_project:"plan",task_dependencies:"task",task_to_milestone:"task",task_to_release:"task",commit_to_task:"task",commit_to_plan:"plan",note_to_entity:"note",resource_to_project:"project",component_dependency:"workspace",project_to_workspace:"project",commit:"plan"}[n]??rL[`${n}_id`]??n}function zi({field:e,value:t}){if(!t)return null;const n=WK(e);return a.jsx(zr,{id:t,entityType:n??void 0})}const YK={create:"bg-green-900/40 text-green-400 border-green-800/30",update:"bg-blue-900/40 text-blue-400 border-blue-800/30",delete:"bg-red-900/40 text-red-400 border-red-800/30",link:"bg-indigo-900/40 text-indigo-400 border-indigo-800/30",unlink:"bg-orange-900/40 text-orange-400 border-orange-800/30",add:"bg-indigo-900/40 text-indigo-400 border-indigo-800/30",remove:"bg-orange-900/40 text-orange-400 border-orange-800/30",get:"bg-gray-700/50 text-gray-400 border-gray-600/30",list:"bg-gray-700/50 text-gray-400 border-gray-600/30",search:"bg-purple-900/40 text-purple-400 border-purple-800/30",sync:"bg-cyan-900/40 text-cyan-400 border-cyan-800/30",start:"bg-green-900/40 text-green-400 border-green-800/30",stop:"bg-red-900/40 text-red-400 border-red-800/30",find:"bg-purple-900/40 text-purple-400 border-purple-800/30",analyze:"bg-purple-900/40 text-purple-400 border-purple-800/30",confirm:"bg-green-900/40 text-green-400 border-green-800/30",invalidate:"bg-red-900/40 text-red-400 border-red-800/30",supersede:"bg-amber-900/40 text-amber-400 border-amber-800/30",chat:"bg-indigo-900/40 text-indigo-400 border-indigo-800/30"};function XK(e){return e.split("_")[0]}function Bf({action:e}){const t=XK(e),n=YK[t]??"bg-gray-700/50 text-gray-400 border-gray-600/30";return a.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-semibold border uppercase ${n}`,children:t})}function ZK(e,t){if(!t||!e)return e;const n=t.trim().split(/\s+/).filter(Boolean);if(n.length===0)return e;const r=n.map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),s=new RegExp(`(${r.join("|")})`,"gi"),o=e.split(s);return o.length<=1?e:a.jsx(a.Fragment,{children:o.map((l,u)=>s.test(l)?a.jsx("mark",{className:"bg-amber-500/30 text-amber-300 rounded px-0.5",children:l},u):l)})}function Dr({items:e,limit:t=3,renderItem:n,label:r="items"}){const[s,o]=S.useState(!1),l=s||e.length<=t,u=l?e:e.slice(0,t),d=e.length-t;return a.jsxs(a.Fragment,{children:[u.map((f,p)=>n(f,p)),!l&&d>0&&a.jsxs("button",{onClick:()=>o(!0),className:"text-[10px] text-indigo-400 hover:text-indigo-300 transition-colors py-0.5",children:["+ ",d," more ",r]}),s&&e.length>t&&a.jsx("button",{onClick:()=>o(!1),className:"text-[10px] text-gray-500 hover:text-gray-400 transition-colors py-0.5",children:"show less"})]})}function QK(e){if(!e||typeof e!="object")return null;const t=e;if(Array.isArray(t.items))return{items:t.items,total:typeof t.total=="number"?t.total:void 0,offset:typeof t.offset=="number"?t.offset:void 0,limit:typeof t.limit=="number"?t.limit:void 0};if(Array.isArray(t.messages))return{items:t.messages,total:typeof t.total_count=="number"?t.total_count:void 0,offset:typeof t.offset=="number"?t.offset:void 0,limit:typeof t.limit=="number"?t.limit:void 0};const n=["decisions","notes","hits","steps","tasks","constraints","milestones","releases","components","resources","sessions","workspaces","projects","plans"];for(const r of n)if(Array.isArray(t[r]))return{items:t[r],total:typeof t.total=="number"?t.total:t[r].length};return Array.isArray(e)?{items:e}:null}function pr(e,t,n){const r=n?wt(e,n):e;return t?ZK(r,t):r}function sC({item:e,searchQuery:t}){const n=String(e.slug??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"project",id:n,children:a.jsx("span",{className:"text-gray-300 font-medium truncate",children:pr(String(e.name??""),t)})}),a.jsx("span",{className:"text-[10px] font-mono text-gray-600",children:n})]}),e.description?a.jsx("div",{className:"text-[10px] text-gray-600 truncate mt-0.5",children:pr(String(e.description),t,80)}):null]}),a.jsx("div",{className:"shrink-0 text-right",children:a.jsx(io,{date:e.last_synced})})]})}function iC({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"plan",id:n,children:a.jsx("span",{className:"text-gray-300 font-medium truncate",children:pr(String(e.title??"")||"Untitled plan",t)})}),e.status?a.jsx($t,{status:String(e.status)}):null,typeof e.priority=="number"&&a.jsx(ep,{priority:e.priority})]}),e.description&&t?a.jsx("div",{className:"text-[10px] text-gray-600 truncate mt-0.5",children:pr(String(e.description),t,100)}):null]}),a.jsx(zr,{id:n,entityType:"plan"})]})}function JK({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"task",id:n,children:a.jsx("span",{className:"text-gray-300 font-medium truncate",children:pr(String(e.title??"")||wt(String(e.description??""),60),t)})}),e.status?a.jsx($t,{status:String(e.status)}):null,typeof e.priority=="number"&&a.jsx(ep,{priority:e.priority})]}),Array.isArray(e.tags)&&e.tags.length>0&&a.jsx("div",{className:"mt-1",children:a.jsx(tp,{tags:e.tags})})]}),a.jsx(zr,{id:n,entityType:"task"})]})}function eY({item:e,searchQuery:t}){const n=e.total_cost_usd;return a.jsx("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-300 truncate",children:pr(String(e.title??"")||String(e.preview??"")||"Untitled session",t)}),e.model?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-indigo-900/30 text-indigo-400 border border-indigo-800/20",children:String(e.model)}):null]}),a.jsxs("div",{className:"flex items-center gap-3 mt-0.5 text-[10px] text-gray-600",children:[typeof e.message_count=="number"&&a.jsxs("span",{children:[e.message_count," msg",e.message_count!==1?"s":""]}),n!=null&&n>0&&a.jsxs("span",{children:["$",n.toFixed(4)]}),a.jsx(io,{date:e.updated_at??e.created_at})]})]})})}function tY({item:e,searchQuery:t}){const n=e.role,r=e.content??"",s=n==="user";return a.jsxs("div",{className:`flex gap-2 px-2 py-1 ${s?"":"pl-4"}`,children:[a.jsx("span",{className:`shrink-0 text-[10px] font-mono w-6 ${s?"text-blue-500":"text-green-500"}`,children:s?"USR":"AST"}),a.jsx("span",{className:`text-gray-400 break-all ${s?"":"text-gray-500"}`,children:pr(r,t,200)})]})}function Za({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsx(Dn,{entityType:"note",id:n,children:a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.note_type?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-purple-900/30 text-purple-400 border border-purple-800/20",children:String(e.note_type)}):null,e.importance?a.jsx($t,{status:String(e.importance)}):null,e.status?a.jsx($t,{status:String(e.status)}):null]}),a.jsx("div",{className:"text-gray-400 mt-0.5 truncate",children:pr(e.content??"",t,120)}),Array.isArray(e.tags)&&e.tags.length>0&&a.jsx("div",{className:"mt-1",children:a.jsx(tp,{tags:e.tags})})]}),a.jsx(zr,{id:n,entityType:"note"})]})})}function nY({item:e,index:t,searchQuery:n}){const r=e.status??"pending",s=r==="completed"?"":r==="skipped"?"":r==="in_progress"?"":"",o=r==="completed"?"text-green-400":r==="in_progress"?"text-indigo-400":"text-gray-600";return a.jsxs("div",{className:"flex items-start gap-2 px-2 py-1 hover:bg-white/[0.02] rounded",children:[a.jsx("span",{className:`shrink-0 font-mono text-[10px] ${o}`,children:s}),a.jsxs("span",{className:"text-gray-600 shrink-0 text-[10px] font-mono w-4",children:[t+1,"."]}),a.jsx("span",{className:"text-gray-400 break-all flex-1",children:pr(e.description??"",n,120)}),e.task_id?a.jsx(zi,{field:"task_id",value:String(e.task_id)}):null,a.jsx($t,{status:r})]})}function S0({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"milestone",id:n,children:a.jsx("span",{className:"text-gray-300 font-medium truncate",children:pr(String(e.title??""),t)})}),e.status?a.jsx($t,{status:String(e.status)}):null]}),e.description&&t?a.jsx("div",{className:"text-[10px] text-gray-600 truncate mt-0.5",children:pr(String(e.description),t,100)}):null,e.target_date?a.jsxs("div",{className:"text-[10px] text-gray-600 mt-0.5",children:["target: ",String(e.target_date).slice(0,10)]}):null]}),a.jsx(zr,{id:n,entityType:"milestone"})]})}function rY({item:e,searchQuery:t}){const n=String(e.id??"");return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsx("span",{className:"font-mono text-indigo-400 text-[11px] shrink-0",children:String(e.version??"")}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"release",id:n,children:a.jsx("span",{className:"text-gray-300 truncate",children:pr(String(e.title??""),t)})}),e.status?a.jsx($t,{status:String(e.status)}):null]}),e.description&&t?a.jsx("div",{className:"text-[10px] text-gray-600 truncate mt-0.5",children:pr(String(e.description),t,100)}):null]}),a.jsx(zr,{id:n,entityType:"release"}),a.jsx(io,{date:String(e.target_date??e.created_at??"")})]})}function sY({item:e,searchQuery:t}){return a.jsx("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.constraint_type?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-amber-900/30 text-amber-400 border border-amber-800/20",children:String(e.constraint_type)}):null,e.severity?a.jsx($t,{status:String(e.severity)}):null]}),a.jsx("div",{className:"text-gray-400 mt-0.5 truncate",children:pr(e.description??"",t,120)})]})})}function ru({item:e,searchQuery:t,action:n}){const r=e.title??e.name??e.content??e.description??e.id,s=n?sL(n):void 0;return a.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center gap-2",children:[e.id&&s?a.jsx(Dn,{entityType:s,id:String(e.id),children:a.jsx("span",{className:"text-gray-300 truncate",children:pr(wt(String(r),100),t)})}):a.jsx("span",{className:"text-gray-300 truncate",children:pr(wt(String(r),100),t)}),e.status?a.jsx($t,{status:String(e.status)}):null]})}),e.id?a.jsx(zr,{id:String(e.id),entityType:s??void 0}):null]})}const iY={list_projects:({item:e,searchQuery:t})=>a.jsx(sC,{item:e,searchQuery:t}),list_plans:({item:e,searchQuery:t})=>a.jsx(iC,{item:e,searchQuery:t}),list_project_plans:({item:e,searchQuery:t})=>a.jsx(iC,{item:e,searchQuery:t}),list_tasks:({item:e,searchQuery:t})=>a.jsx(JK,{item:e,searchQuery:t}),list_chat_sessions:({item:e,searchQuery:t})=>a.jsx(eY,{item:e,searchQuery:t}),list_chat_messages:({item:e,searchQuery:t})=>a.jsx(tY,{item:e,searchQuery:t}),list_notes:({item:e,searchQuery:t})=>a.jsx(Za,{item:e,searchQuery:t}),list_project_notes:({item:e,searchQuery:t})=>a.jsx(Za,{item:e,searchQuery:t}),list_steps:({item:e,index:t,searchQuery:n})=>a.jsx(nY,{item:e,index:t,searchQuery:n}),list_milestones:({item:e,searchQuery:t})=>a.jsx(S0,{item:e,searchQuery:t}),list_workspace_milestones:({item:e,searchQuery:t})=>a.jsx(S0,{item:e,searchQuery:t}),list_all_workspace_milestones:({item:e,searchQuery:t})=>a.jsx(S0,{item:e,searchQuery:t}),list_releases:({item:e,searchQuery:t})=>a.jsx(rY,{item:e,searchQuery:t}),list_constraints:({item:e,searchQuery:t})=>a.jsx(sY,{item:e,searchQuery:t}),list_workspaces:({item:e,searchQuery:t,action:n})=>a.jsx(ru,{item:e,searchQuery:t,action:n}),list_workspace_projects:({item:e,searchQuery:t})=>a.jsx(sC,{item:e,searchQuery:t}),list_resources:({item:e,searchQuery:t,action:n})=>a.jsx(ru,{item:e,searchQuery:t,action:n}),list_components:({item:e,searchQuery:t,action:n})=>a.jsx(ru,{item:e,searchQuery:t,action:n}),search_decisions:({item:e,searchQuery:t,action:n})=>a.jsx(ru,{item:e,searchQuery:t,action:n}),search_notes:({item:e,searchQuery:t})=>a.jsx(Za,{item:e,searchQuery:t}),get_notes_needing_review:({item:e,searchQuery:t})=>a.jsx(Za,{item:e,searchQuery:t}),get_entity_notes:({item:e,searchQuery:t})=>a.jsx(Za,{item:e,searchQuery:t}),get_propagated_notes:({item:e,searchQuery:t})=>a.jsx(Za,{item:e,searchQuery:t}),get_context_notes:({item:e,searchQuery:t})=>a.jsx(Za,{item:e,searchQuery:t})};function aY({action:e,parsed:t,toolInput:n}){const r=QK(t),s=(n==null?void 0:n.query)??(n==null?void 0:n.search);if(!r||r.items.length===0)return a.jsx(It,{children:a.jsx("div",{className:"text-gray-600 italic px-2 py-1",children:"No results"})});const o=iY[e]??(({item:l,searchQuery:u,action:d})=>a.jsx(ru,{item:l,searchQuery:u,action:d}));return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5",children:[a.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-white/[0.06] text-gray-400 border border-white/[0.04]",children:[r.items.length,r.total!=null&&r.total>r.items.length?` / ${r.total}`:""," result",r.items.length!==1?"s":""]}),s&&a.jsxs("span",{className:"text-[10px] text-gray-600 italic truncate",children:["matching ",s,""]})]}),a.jsx("div",{className:"divide-y divide-white/[0.04] max-h-72 overflow-y-auto",children:r.items.map((l,u)=>a.jsx(o,{item:l,index:u,searchQuery:s,action:e},l.id??u))}),a.jsx(HK,{total:r.total,offset:r.offset,limit:r.limit,shown:r.items.length})]})}function oY({data:e}){const t=e.tasks,n=e.constraints,r=(t==null?void 0:t.filter(o=>o.status==="completed").length)??0,s=String(e.id??"");return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"plan",id:s,children:a.jsx("span",{className:"text-gray-300 font-medium",children:String(e.title??"")})}),e.status?a.jsx($t,{status:String(e.status)}):null,typeof e.priority=="number"&&a.jsx(ep,{priority:e.priority})]}),e.description?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:wt(String(e.description),300)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[a.jsx(zr,{id:String(e.id??""),entityType:"plan"}),e.project_id?a.jsx(Jr,{label:"project",children:a.jsx(zi,{field:"project_id",value:String(e.project_id)})}):null,a.jsx(Jr,{label:"created",children:a.jsx(io,{date:e.created_at})})]}),t&&t.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(Nn,{count:t.length,children:"Tasks"}),a.jsx(np,{completed:r,total:t.length}),a.jsx("div",{className:"mt-1 space-y-0.5",children:a.jsx(Dr,{items:t,limit:5,label:"tasks",renderItem:o=>a.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[a.jsx($t,{status:o.status??"pending"}),a.jsx(Dn,{entityType:"task",id:String(o.id??""),children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:o.title||wt(o.description??"",60)})})]},o.id)})})]}),n&&n.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(Nn,{count:n.length,children:"Constraints"}),a.jsx(Dr,{items:n,limit:3,label:"constraints",renderItem:(o,l)=>a.jsxs("div",{className:"text-[11px] text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-amber-500",children:""}),wt(o.description??"",100)]},l)})]})]})}function lY({data:e}){const t=e.steps,n=e.decisions,r=e.acceptance_criteria,s=(t==null?void 0:t.filter(l=>l.status==="completed").length)??0,o=String(e.id??"");return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"task",id:o,children:a.jsx("span",{className:"text-gray-300 font-medium",children:String(e.title??"")||wt(String(e.description??""),80)})}),e.status?a.jsx($t,{status:String(e.status)}):null,typeof e.priority=="number"&&a.jsx(ep,{priority:e.priority})]}),e.description&&e.title?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:wt(String(e.description),300)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[a.jsx(zr,{id:e.id??"",entityType:"task"}),e.plan_id?a.jsx(Jr,{label:"plan",children:a.jsx(zi,{field:"plan_id",value:String(e.plan_id)})}):null,Array.isArray(e.tags)&&e.tags.length>0&&a.jsx(tp,{tags:e.tags})]}),r&&r.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(Nn,{count:r.length,children:"Acceptance criteria"}),a.jsx(Dr,{items:r,limit:4,label:"criteria",renderItem:(l,u)=>a.jsxs("li",{className:"text-[11px] text-gray-500 flex items-start gap-1 list-none",children:[a.jsx("span",{className:"text-gray-600 select-none",children:""}),l]},u)})]}),t&&t.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(Nn,{count:t.length,children:"Steps"}),a.jsx(np,{completed:s,total:t.length}),a.jsx("div",{className:"mt-1 space-y-0.5",children:a.jsx(Dr,{items:t,limit:5,label:"steps",renderItem:(l,u)=>{const d=l.status??"pending",f=d==="completed"?"":d==="in_progress"?"":d==="skipped"?"":"",p=d==="completed"?"text-green-400":d==="in_progress"?"text-indigo-400":"text-gray-600";return a.jsxs("div",{className:"flex items-start gap-1.5 text-[11px]",children:[a.jsx("span",{className:`shrink-0 ${p}`,children:f}),a.jsx("span",{className:"text-gray-400",children:wt(l.description??"",100)})]},l.id??u)}})})]}),n&&n.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(Nn,{count:n.length,children:"Decisions"}),a.jsx(Dr,{items:n,limit:3,label:"decisions",renderItem:(l,u)=>a.jsxs("div",{className:"text-[11px] text-gray-500 mt-1",children:[a.jsx("span",{className:"text-gray-400",children:wt(l.description??"",100)}),l.chosen_option?a.jsxs("span",{className:"ml-1 text-indigo-400",children:[" ",String(l.chosen_option)]}):null]},u)})]})]})}function cY({data:e}){const t=String(e.slug??"");return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"project",id:t,children:a.jsx("span",{className:"text-gray-300 font-medium",children:String(e.name??"")})}),t?a.jsx("span",{className:"font-mono text-[10px] text-gray-600",children:t}):null]}),e.description?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:wt(String(e.description),200)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[e.root_path?a.jsx(Jr,{label:"path",children:a.jsx("span",{className:"font-mono text-[10px]",children:String(e.root_path)})}):null,a.jsx(Jr,{label:"synced",children:a.jsx(io,{date:e.last_synced})}),a.jsx(Jr,{label:"created",children:a.jsx(io,{date:e.created_at})})]})]})}function uY({data:e}){return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.note_type?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-purple-900/30 text-purple-400 border border-purple-800/20",children:String(e.note_type)}):null,e.importance?a.jsx($t,{status:String(e.importance)}):null,e.status?a.jsx($t,{status:String(e.status)}):null]}),a.jsx("div",{className:"text-gray-400 mt-1 whitespace-pre-wrap text-[11px] max-h-40 overflow-y-auto",children:wt(e.content??"",500)}),Array.isArray(e.tags)&&e.tags.length>0&&a.jsx("div",{className:"mt-1.5",children:a.jsx(tp,{tags:e.tags})}),a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[a.jsx(zr,{id:e.id??"",entityType:"note"}),e.project_id?a.jsx(Jr,{label:"project",children:a.jsx(zi,{field:"project_id",value:String(e.project_id)})}):null]})]})}function aC({data:e}){const t=e.tasks,n=(t==null?void 0:t.filter(s=>s.status==="completed").length)??0,r=String(e.id??"");return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"milestone",id:r,children:a.jsx("span",{className:"text-gray-300 font-medium",children:String(e.title??"")})}),e.status?a.jsx($t,{status:String(e.status)}):null]}),e.description?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:wt(String(e.description),200)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[e.target_date?a.jsx(Jr,{label:"target",children:String(e.target_date).slice(0,10)}):null,a.jsx(zr,{id:e.id??"",entityType:"milestone"}),e.project_id?a.jsx(Jr,{label:"project",children:a.jsx(zi,{field:"project_id",value:String(e.project_id)})}):null]}),t&&t.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(Nn,{count:t.length,children:"Tasks"}),a.jsx(np,{completed:n,total:t.length}),a.jsx("div",{className:"mt-1 space-y-0.5",children:a.jsx(Dr,{items:t,limit:5,label:"tasks",renderItem:s=>a.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[a.jsx($t,{status:s.status??"pending"}),a.jsx(Dn,{entityType:"task",id:String(s.id??""),children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:s.title||wt(s.description??"",60)})})]},s.id)})})]})]})}function dY({data:e}){return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-indigo-400",children:String(e.version??"")}),e.title?a.jsx("span",{className:"text-gray-300",children:String(e.title)}):null,e.status?a.jsx($t,{status:String(e.status)}):null]}),e.description?a.jsx("div",{className:"text-gray-500 text-[11px] mt-1",children:wt(String(e.description),200)}):null,a.jsxs("div",{className:"space-y-0.5 mt-1.5",children:[e.target_date?a.jsx(Jr,{label:"target",children:String(e.target_date).slice(0,10)}):null,a.jsx(zr,{id:e.id??"",entityType:"release"}),e.project_id?a.jsx(Jr,{label:"project",children:a.jsx(zi,{field:"project_id",value:String(e.project_id)})}):null]})]})}function iL({data:e}){const t=e.status??"pending",n=e.task_id?String(e.task_id):void 0;return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx($t,{status:t}),a.jsx("span",{className:"text-gray-400 text-[11px]",children:wt(e.description??"",200)}),n&&a.jsx(Bw,{entityType:"task",entityId:n,label:"View parent task"})]}),e.verification?a.jsx(Jr,{label:"verify",children:a.jsx("span",{className:"text-[10px]",children:String(e.verification)})}):null,a.jsx(zr,{id:e.id??""})]})}function aL(e){const t=["create_","update_","delete_","get_","link_","add_","remove_","unlink_"];for(const n of t)if(e.startsWith(n)){const r=e.slice(n.length);return r.startsWith("plan")?"plan":r.startsWith("task")?"task":r.startsWith("project")?"project":r.startsWith("milestone")||r.startsWith("workspace_milestone")?"milestone":r.startsWith("workspace")?"workspace":r.startsWith("note")?"note":r.startsWith("release")?"release":(r.startsWith("step")||r.startsWith("constraint")||r.startsWith("decision")||r.startsWith("commit"),void 0)}}function fY(e,t,n){const r=aL(e);if(r){const s=n!=null&&n.id?String(n.id):n!=null&&n.slug?String(n.slug):hY(e,t);if(s)return{entityType:r,entityId:s,entityLabel:r.replace(/_/g," ")}}if(e.includes("step")){const s=(t==null?void 0:t.task_id)??(n==null?void 0:n.task_id);if(s)return{entityType:"task",entityId:String(s),entityLabel:"parent task"}}if(e.includes("decision")){const s=(t==null?void 0:t.task_id)??(n==null?void 0:n.task_id);if(s)return{entityType:"task",entityId:String(s),entityLabel:"parent task"}}if(e.includes("constraint")){const s=(t==null?void 0:t.plan_id)??(n==null?void 0:n.plan_id);if(s)return{entityType:"plan",entityId:String(s),entityLabel:"parent plan"}}if(e.includes("commit")){const s=(t==null?void 0:t.task_id)??(n==null?void 0:n.task_id);if(s)return{entityType:"task",entityId:String(s),entityLabel:"linked task"};const o=(t==null?void 0:t.plan_id)??(n==null?void 0:n.plan_id);if(o)return{entityType:"plan",entityId:String(o),entityLabel:"linked plan"}}return null}function hY(e,t){if(!t)return;const n=aL(e);if(n){const r=`${n}_id`;if(t[r])return String(t[r])}if(t.plan_id)return String(t.plan_id);if(t.task_id)return String(t.task_id);if(t.note_id)return String(t.note_id);if(t.milestone_id)return String(t.milestone_id);if(t.release_id)return String(t.release_id);if(t.slug)return String(t.slug);if(t.id)return String(t.id)}function Bw({entityType:e,entityId:t,label:n}){return a.jsx(Dn,{entityType:e,id:t,children:a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-[11px] font-medium bg-indigo-500/15 text-indigo-400 border border-indigo-500/20 hover:bg-indigo-500/25 hover:text-indigo-300 transition-colors cursor-pointer",children:[n||e.replace(/_/g," "),a.jsx("span",{className:"font-mono text-[9px] opacity-70",children:t.slice(0,8)}),a.jsx("span",{className:"text-[10px]",children:""})]})})}function pY({action:e,data:t,toolInput:n}){const r=e.startsWith("delete_"),s=e.startsWith("create_"),o=fY(e,n,t),l=n!=null&&n.status?String(n.status):void 0;if(t.updated===!0||t.deleted===!0||t.added===!0)return a.jsx(It,{children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`text-[10px] ${r?"text-red-400":"text-green-400"}`,children:r?"":""}),a.jsx("span",{className:"text-gray-400",children:r?"Deleted":"Updated"}),l&&a.jsx($t,{status:l}),o&&a.jsx(Bw,{entityType:o.entityType,entityId:o.entityId,label:`View ${o.entityLabel}`})]})});const u=s?"Created":r?"Deleted":"Updated",d=t.title??t.name??t.version??t.content??t.description;return a.jsx(It,{children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`text-[10px] ${r?"text-red-400":"text-green-400"}`,children:r?"":""}),a.jsx("span",{className:"text-gray-400",children:u}),d&&a.jsx("span",{className:"text-gray-300 font-medium truncate max-w-[200px]",children:wt(d,60)}),t.status?a.jsx($t,{status:String(t.status)}):null,o&&a.jsx(Bw,{entityType:o.entityType,entityId:o.entityId,label:`View ${o.entityLabel}`})]})})}function mY(e){return e.endsWith("_id")&&e!=="id"}function Qa({data:e}){const t=["title","name","version","content","description","status","slug","id"],n=Object.entries(e).filter(([,r])=>r!=null&&r!=="");return n.sort((r,s)=>{const o=t.indexOf(r[0]),l=t.indexOf(s[0]);return(o===-1?999:o)-(l===-1?999:l)}),a.jsxs(It,{children:[n.slice(0,8).map(([r,s])=>a.jsx(Jr,{label:r,children:r==="status"?a.jsx($t,{status:String(s)}):mY(r)?a.jsx(zi,{field:r,value:String(s)}):typeof s=="object"?a.jsx("span",{className:"font-mono text-[10px]",children:wt(JSON.stringify(s),120)}):a.jsx("span",{children:wt(String(s),120)})},r)),n.length>8&&a.jsxs("div",{className:"text-[10px] text-gray-600",children:["+",n.length-8," more fields"]})]})}const oC={get_plan:oY,get_task:lY,get_project:cY,get_note:uY,get_milestone:aC,get_workspace_milestone:aC,get_release:dY,get_step:iL,get_constraint:({data:e})=>a.jsx(Qa,{data:e}),get_decision:({data:e})=>a.jsx(Qa,{data:e}),get_workspace:({data:e})=>a.jsx(Qa,{data:e}),get_component:({data:e})=>a.jsx(Qa,{data:e}),get_resource:({data:e})=>a.jsx(Qa,{data:e}),get_chat_session:({data:e})=>a.jsx(Qa,{data:e})};function gY({action:e,parsed:t,toolInput:n}){if(!t||typeof t!="object")return null;const r=t,s=oC[e];if(s)return a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Bf,{action:e}),a.jsx(s,{data:r})]});if(e.startsWith("create_")||e.startsWith("update_")||e.startsWith("delete_")||e.startsWith("link_")||e.startsWith("add_")||e.startsWith("remove_")||e.startsWith("unlink_")){if(e.startsWith("create_")&&r.id&&(r.title||r.name||r.content||r.description)){const o=sL(e),l=o?`get_${o}`:void 0,u=e==="create_step"?iL:l?oC[l]:void 0;if(u)return a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bf,{action:e}),a.jsx("span",{className:"text-green-400 text-[10px]",children:""})]}),a.jsx(u,{data:r})]})}return a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Bf,{action:e}),a.jsx(pY,{action:e,data:r,toolInput:n})]})}return a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Bf,{action:e}),a.jsx(Qa,{data:r})]})}function oL(e){return e>=1?`$${e.toFixed(2)}`:e>=.01?`$${e.toFixed(3)}`:`$${e.toFixed(4)}`}function $f(e){const t=[],n=/(`[^`]+`)|(\*\*[^*]+\*\*)|(\*[^*]+\*)|(\[[^\]]+\]\([^)]+\))/g;let r=0,s;for(;(s=n.exec(e))!==null;){s.index>r&&t.push(e.slice(r,s.index));const o=s[0];if(s[1]){const l=o.slice(1,-1);t.push(a.jsx("code",{className:"px-1 py-0.5 bg-white/[0.08] rounded text-[10px] font-mono text-gray-300",children:l},s.index))}else if(s[2])t.push(a.jsx("strong",{className:"text-gray-300",children:o.slice(2,-2)},s.index));else if(s[3])t.push(a.jsx("em",{children:o.slice(1,-1)},s.index));else if(s[4]){const l=o.match(/\[([^\]]+)\]\(([^)]+)\)/);if(l){const u=l[2];t.push(a.jsx(Di,{href:u,className:"text-indigo-400 hover:underline",children:l[1]},s.index))}else t.push(o)}r=s.index+o.length}return r<e.length&&t.push(e.slice(r)),t.length>0?t:[e]}function xY(e){const t=e.split(`
`),n=[];let r=0;for(;r<t.length;){const s=t[r];if(s.trimStart().startsWith("```")){const o=[];for(r++;r<t.length&&!t[r].trimStart().startsWith("```");)o.push(t[r]),r++;r++,n.push(a.jsx("pre",{className:"bg-black/30 rounded p-2 text-[10px] font-mono overflow-x-auto my-1 text-gray-400",children:o.join(`
`)},`code-${r}`));continue}if(s.startsWith("## ")){n.push(a.jsx("div",{className:"text-gray-400 font-semibold text-[11px] mt-1.5",children:$f(s.slice(3))},`h2-${r}`)),r++;continue}if(s.startsWith("# ")){n.push(a.jsx("div",{className:"text-gray-300 font-bold text-xs mt-2",children:$f(s.slice(2))},`h1-${r}`)),r++;continue}if(/^[\s]*[-*]\s/.test(s)&&!s.trimStart().startsWith("**")){const o=s.replace(/^[\s]*[-*]\s/,"");n.push(a.jsxs("div",{className:"flex gap-1.5 ml-1",children:[a.jsx("span",{className:"text-gray-600 select-none shrink-0",children:""}),a.jsx("span",{children:$f(o)})]},`li-${r}`)),r++;continue}if(s.trim()===""){n.push(a.jsx("div",{className:"h-1"},`br-${r}`)),r++;continue}n.push(a.jsx("div",{children:$f(s)},`p-${r}`)),r++}return n}function bY({data:e,toolInput:t}){const n=t==null?void 0:t.message,r=e.response,s=e.cost_usd,o=e.duration_ms,l=e.session_id;return a.jsxs(It,{children:[n&&a.jsxs("div",{className:"border-l-2 border-blue-500/40 pl-2.5 py-1",children:[a.jsx("div",{className:"text-[10px] text-blue-400/70 font-medium mb-0.5",children:"You"}),a.jsx("div",{className:"text-gray-500 text-[11px] whitespace-pre-wrap leading-relaxed",children:wt(n,500)})]}),r&&a.jsxs("div",{className:"border-l-2 border-green-500/40 pl-2.5 py-1",children:[a.jsx("div",{className:"text-[10px] text-green-400/70 font-medium mb-0.5",children:"Assistant"}),a.jsx("div",{className:"text-gray-400 text-[11px] max-h-60 overflow-y-auto leading-relaxed space-y-0.5",children:xY(wt(r,2e3))})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-1 border-t border-white/[0.04] text-[10px] text-gray-600",children:[o!=null&&a.jsxs("span",{children:[(o/1e3).toFixed(1),"s"]}),s!=null&&s>0&&a.jsx("span",{children:oL(s)}),l&&a.jsx(zi,{field:"session_id",value:l})]})]})}function yY({data:e}){const t=e.title??e.preview,n=e.model,r=e.total_cost_usd,s=e.message_count;return a.jsxs(It,{children:[t&&a.jsx("div",{className:"text-gray-300 font-medium",children:wt(t,100)}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[n&&a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-indigo-900/30 text-indigo-400 border border-indigo-800/20",children:n}),s!=null&&a.jsxs("span",{className:"text-[10px] text-gray-600",children:[s," message",s!==1?"s":""]}),r!=null&&r>0&&a.jsx("span",{className:"text-[10px] text-gray-600",children:oL(r)})]}),a.jsxs("div",{className:"space-y-0.5 mt-1.5 text-[10px]",children:[e.cwd?a.jsx("div",{className:"text-gray-600 font-mono truncate",children:String(e.cwd)}):null,a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(io,{date:String(e.updated_at??e.created_at??"")}),e.cli_session_id?a.jsx(zr,{id:String(e.cli_session_id),entityType:"session"}):null]})]})]})}function vY({action:e,parsed:t,toolInput:n}){if(!t||typeof t!="object")return null;const r=t;switch(e){case"chat_send_message":return a.jsx(bY,{data:r,toolInput:n});case"get_chat_session":return a.jsx(yY,{data:r});default:return null}}function W_({path:e}){const[t,n]=S.useState(!1),r=s=>{s.stopPropagation(),navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),1500)};return a.jsx("button",{onClick:r,title:"Copy path",className:"shrink-0 p-0.5 rounded hover:bg-white/[0.08] text-gray-600 hover:text-gray-400 transition-colors",children:t?a.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}function wY({snippet:e,filePath:t}){const n=Wu(t),r=e.split(`
`).slice(0,6);return a.jsx("pre",{className:"mt-1 px-2 py-1.5 rounded bg-black/30 font-mono text-[10px] leading-relaxed overflow-x-auto whitespace-pre",children:r.map((s,o)=>a.jsx("div",{children:xl(s,n).map((l,u)=>a.jsx("span",{className:l.className,children:l.text},u))},o))})}function Uf({data:e}){const t=Array.isArray(e)?e:[];return t.length===0?a.jsx("div",{className:"text-gray-600 italic",children:"No results"}):a.jsxs(It,{children:[a.jsx(Nn,{count:t.length,children:"Search results"}),a.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:a.jsx(Dr,{items:t,limit:5,label:"results",renderItem:(n,r)=>{const s=n.document??n,o=s.file_path??s.path??"",l=s.name??s.symbol_name??"",u=s.kind??s.symbol_type??"",d=s.docstrings??s.body??s.content??"";return a.jsxs("div",{className:"px-2 py-1.5 hover:bg-white/[0.02] rounded",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-indigo-400 text-[10px] truncate",children:Ku(o)}),l&&a.jsx("span",{className:"text-gray-300 text-[11px] font-mono",children:l}),u&&a.jsx("span",{className:"px-1 py-0.5 rounded text-[9px] bg-white/[0.06] text-gray-500",children:u})]}),o&&a.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[a.jsx("span",{className:"font-mono text-[10px] text-gray-600 truncate",children:o}),a.jsx(W_,{path:o})]}),d&&a.jsx(wY,{snippet:wt(d,300),filePath:o})]},r)}})})]})}function _Y({data:e}){const n=["functions","structs","enums","traits","impls","macros","constants","type_aliases"].filter(r=>Array.isArray(e[r])&&e[r].length>0);return n.length===0?a.jsx("div",{className:"text-gray-600 italic",children:"No symbols found"}):a.jsx(It,{children:n.map(r=>{const s=e[r];return a.jsxs("div",{children:[a.jsx(Nn,{count:s.length,children:r}),a.jsx("div",{className:"flex flex-wrap gap-1 max-h-32 overflow-y-auto",children:s.map((o,l)=>{const u=typeof o=="string"?o:o.name??o.symbol_name??"";return a.jsx("span",{className:"px-1.5 py-0.5 rounded font-mono text-[10px] bg-white/[0.04] text-gray-400 border border-white/[0.04]",children:u},l)})})]},r)})})}function NY({data:e}){const n=e.references??(Array.isArray(e)?e:[]);if(n.length===0)return a.jsx("div",{className:"text-gray-600 italic",children:"No references found"});const r=new Map;for(const o of n){const u=(o.file_path??o.path??"")||"(unknown)";r.has(u)||r.set(u,[]),r.get(u).push(o)}const s=Array.from(r.entries());return a.jsxs(It,{children:[a.jsx(Nn,{count:n.length,children:"References"}),a.jsx("div",{className:"space-y-1.5 max-h-64 overflow-y-auto",children:a.jsx(Dr,{items:s,limit:5,label:"files",renderItem:([o,l],u)=>a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-1",children:[a.jsx("span",{className:"font-mono text-indigo-400 text-[10px] truncate",title:o,children:Ku(o)}),a.jsxs("span",{className:"text-[9px] text-gray-600",children:["(",l.length,")"]}),a.jsx(W_,{path:o})]}),l.map((d,f)=>{const p=d.line,m=d.context??d.ref_type??"";return a.jsxs("div",{className:"flex items-center gap-2 px-3 py-0.5 hover:bg-white/[0.02] rounded text-[11px]",children:[p!=null&&a.jsxs("span",{className:"font-mono text-gray-600 shrink-0",children:[":",p]}),m&&a.jsx("span",{className:"text-gray-500 truncate",children:m})]},f)})]},u)})})]})}function lC({item:e,direction:t}){const n=String(e.name??e.function??""),r=String(e.file_path??""),s=typeof e.depth=="number"?e.depth:0,o=t==="caller"?"":"";return a.jsxs("div",{className:"flex items-center gap-1.5 py-0.5 text-[11px]",style:{paddingLeft:`${(s+1)*12}px`},children:[a.jsx("span",{className:"text-gray-700 shrink-0 font-mono text-[10px] select-none",children:s>0?"":""}),a.jsx("span",{className:"text-gray-600 shrink-0",children:o}),a.jsx("span",{className:"font-mono text-gray-400",children:n}),r&&a.jsx("span",{className:"font-mono text-gray-600 text-[10px]",children:Ku(r)})]})}function SY({data:e}){const t=e.callers??e.called_by??[],n=e.callees??e.calls??[];return a.jsxs(It,{children:[t.length>0&&a.jsxs("div",{children:[a.jsx(Nn,{count:t.length,children:"Called by"}),a.jsx("div",{className:"max-h-40 overflow-y-auto border-l border-gray-800/50 ml-1",children:a.jsx(Dr,{items:t,limit:8,label:"callers",renderItem:(r,s)=>a.jsx(lC,{item:r,direction:"caller"},s)})})]}),n.length>0&&a.jsxs("div",{children:[a.jsx(Nn,{count:n.length,children:"Calls"}),a.jsx("div",{className:"max-h-40 overflow-y-auto border-l border-gray-800/50 ml-1",children:a.jsx(Dr,{items:n,limit:8,label:"callees",renderItem:(r,s)=>a.jsx(lC,{item:r,direction:"callee"},s)})})]}),t.length===0&&n.length===0&&a.jsx("div",{className:"text-gray-600 italic",children:"No call graph data"})]})}function kY({data:e}){const t=e.impact_level??e.level??"",n=e.target,r=e.caller_count,s=e.dependent_files??[];return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsx("span",{className:"font-mono text-gray-300",children:n}),t&&a.jsx($t,{status:t})]}),a.jsxs("div",{className:"space-y-0.5 mt-1",children:[r!=null&&a.jsxs("div",{className:"text-[11px] text-gray-500",children:[a.jsx("span",{className:"text-gray-600",children:"callers:"})," ",r]}),s.length>0&&a.jsxs("div",{children:[a.jsx(Nn,{count:s.length,children:"Dependent files"}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:s.map((o,l)=>a.jsx("div",{className:"font-mono text-[10px] text-gray-500 px-2",children:o},l))})]})]})]})}function EY({data:e}){const t=e.top_files??e.files??[],n=e.languages,r=[...t].sort((o,l)=>{const u=typeof o.connections=="number"?o.connections:typeof o.count=="number"?o.count:0;return(typeof l.connections=="number"?l.connections:typeof l.count=="number"?l.count:0)-u}),s=r.reduce((o,l)=>{const u=typeof l.connections=="number"?l.connections:typeof l.count=="number"?l.count:0;return Math.max(o,u)},1);return a.jsxs(It,{children:[n&&Object.keys(n).length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5 mb-1",children:Object.entries(n).map(([o,l])=>a.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-indigo-900/30 text-indigo-400 border border-indigo-800/20",children:[o,": ",typeof l=="number"?l:String(l)]},o))}),r.length>0&&a.jsxs("div",{children:[a.jsx(Nn,{count:r.length,children:"Most connected files"}),a.jsx("div",{className:"space-y-0.5 max-h-64 overflow-y-auto",children:a.jsx(Dr,{items:r,limit:8,label:"files",renderItem:(o,l)=>{const u=typeof o.connections=="number"?o.connections:typeof o.count=="number"?o.count:0,d=o.path??o.file_path??"",f=Math.round(u/s*100);return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px] group",title:d,children:[a.jsx("span",{className:"font-mono text-gray-600 shrink-0 w-6 text-right",children:u}),a.jsx("div",{className:"w-16 shrink-0 h-1.5 rounded-full bg-white/[0.04] overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-indigo-500/60",style:{width:`${f}%`}})}),a.jsx("span",{className:"font-mono text-gray-400 truncate",children:Ku(d)})]},l)}})})]})]})}function k0({data:e,label:t}){const n=Array.isArray(e)?e:(e==null?void 0:e.implementations)??(e==null?void 0:e.traits)??(e==null?void 0:e.impls)??[],r=Array.isArray(n)?n:[];return r.length===0?a.jsxs("div",{className:"text-gray-600 italic",children:["No ",t," found"]}):a.jsxs(It,{children:[a.jsx(Nn,{count:r.length,children:t}),a.jsx("div",{className:"space-y-0.5 max-h-48 overflow-y-auto",children:r.map((s,o)=>{const l=s.name??s.type_name??s.trait_name??"",u=s.file_path??"";return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px]",children:[a.jsx("span",{className:"font-mono text-gray-300",children:l}),u&&a.jsx("span",{className:"font-mono text-gray-600 text-[10px]",children:Ku(u)})]},o)})})]})}function cC({path:e}){return a.jsxs("div",{className:"flex items-center gap-1 group px-2 hover:bg-white/[0.02] rounded",children:[a.jsx("span",{className:"font-mono text-[10px] text-gray-500 truncate",title:e,children:e}),a.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(W_,{path:e})})]})}function jY({data:e}){const t=e.imports??[],n=e.dependents??e.imported_by??[];return a.jsxs(It,{children:[t.length>0&&a.jsxs("div",{children:[a.jsx(Nn,{count:t.length,children:"Imports"}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:a.jsx(Dr,{items:t,limit:6,label:"imports",renderItem:(r,s)=>a.jsx(cC,{path:r},s)})})]}),n.length>0&&a.jsxs("div",{children:[a.jsx(Nn,{count:n.length,children:"Imported by"}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:a.jsx(Dr,{items:n,limit:6,label:"dependents",renderItem:(r,s)=>a.jsx(cC,{path:r},s)})})]})]})}const CY={search_code:({data:e})=>a.jsx(Uf,{data:e}),search_project_code:({data:e})=>a.jsx(Uf,{data:e}),search_workspace_code:({data:e})=>a.jsx(Uf,{data:e}),find_similar_code:({data:e})=>a.jsx(Uf,{data:e}),get_file_symbols:({data:e})=>a.jsx(_Y,{data:e??{}}),find_references:({data:e})=>a.jsx(NY,{data:e}),get_call_graph:({data:e})=>a.jsx(SY,{data:e??{}}),analyze_impact:({data:e})=>a.jsx(kY,{data:e??{}}),get_architecture:({data:e})=>a.jsx(EY,{data:e??{}}),find_trait_implementations:({data:e})=>a.jsx(k0,{data:e,label:"Implementations"}),find_type_traits:({data:e})=>a.jsx(k0,{data:e,label:"Traits"}),get_impl_blocks:({data:e})=>a.jsx(k0,{data:e,label:"Impl blocks"}),get_file_dependencies:({data:e})=>a.jsx(jY,{data:e??{}})};function TY({action:e,parsed:t}){const n=CY[e];return n?a.jsx(n,{data:t}):null}function E0({data:e}){const t=e.completed??0,n=e.total??0,r=e.steps??[];return a.jsxs(It,{children:[a.jsx(np,{completed:t,total:n}),r.length>0&&a.jsx("div",{className:"space-y-0.5 mt-1.5 max-h-48 overflow-y-auto",children:r.map((s,o)=>{const l=s.status??"pending",u=l==="completed"?"":l==="in_progress"?"":l==="skipped"?"":"",d=l==="completed"?"text-green-400":l==="in_progress"?"text-indigo-400":"text-gray-600";return a.jsxs("div",{className:"flex items-start gap-1.5 text-[11px]",children:[a.jsx("span",{className:`shrink-0 ${d}`,children:u}),a.jsx("span",{className:"text-gray-400 flex-1",children:wt(s.description??"",120)}),a.jsx($t,{status:l})]},s.id??o)})})]})}function AY({data:e}){const t=e.nodes??e.tasks??e.items??[],n=e.edges??e.dependencies??[],r=new Map,s=new Map;for(const l of n){const u=String(l.from??l.source??l.dependency_id??""),d=String(l.to??l.target??l.task_id??"");u&&d&&(r.set(d,[...r.get(d)??[],u]),s.set(u,[...s.get(u)??[],d]))}const o=[...t].sort((l,u)=>{const d=(r.get(String(l.id??""))??[]).length,f=(r.get(String(u.id??""))??[]).length;return d-f});return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-600",children:[a.jsxs("span",{children:[t.length," task",t.length!==1?"s":""]}),a.jsxs("span",{children:[n.length," dependenc",n.length!==1?"ies":"y"]})]}),o.length>0&&a.jsx("div",{className:"space-y-0.5 mt-1.5 max-h-56 overflow-y-auto",children:a.jsx(Dr,{items:o,limit:10,label:"tasks",renderItem:(l,u)=>{const d=String(l.id??""),f=r.get(d)??[],p=s.get(d)??[];return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px]",children:[a.jsx($t,{status:l.status??"pending"}),a.jsx(Dn,{entityType:"task",id:d,children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:l.title||wt(l.description??"",50)})}),f.length>0&&a.jsxs("span",{className:"text-[9px] text-gray-600 shrink-0",title:`Depends on ${f.length} task(s)`,children:[" ",f.length]}),p.length>0&&a.jsxs("span",{className:"text-[9px] text-amber-600 shrink-0",title:`Blocks ${p.length} task(s)`,children:[" ",p.length]})]},u)}})})]})}function MY({data:e}){const t=e.path??e.critical_path??e.tasks??[],n=e.total_estimate;return a.jsxs(It,{children:[a.jsx(Nn,{count:t.length,children:"Critical path"}),n!=null&&a.jsxs("div",{className:"text-[10px] text-gray-600",children:["estimated: ",n," units"]}),t.length>0&&a.jsx("div",{className:"space-y-0.5 mt-1 max-h-48 overflow-y-auto",children:t.map((r,s)=>{const o=String(r.id??"");return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px]",children:[a.jsxs("span",{className:"text-gray-600 font-mono shrink-0 w-4 text-right",children:[s+1,"."]}),a.jsx($t,{status:r.status??"pending"}),a.jsx(Dn,{entityType:"task",id:o,children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:r.title||wt(r.description??"",60)})}),s<t.length-1&&a.jsx("span",{className:"text-gray-700 text-[9px] shrink-0",children:""})]},s)})})]})}function uC({data:e,label:t}){const n=Array.isArray(e)?e:(e==null?void 0:e.blockers)??(e==null?void 0:e.blocked)??[],r=Array.isArray(n)?n:[];return r.length===0?a.jsx(It,{children:a.jsxs("div",{className:"text-gray-600 italic",children:["No ",t.toLowerCase()]})}):a.jsxs(It,{children:[a.jsx(Nn,{count:r.length,children:t}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:r.map((s,o)=>{const l=String(s.id??"");return a.jsxs("div",{className:"flex items-center gap-2 px-2 py-0.5 text-[11px]",children:[a.jsx($t,{status:s.status??"pending"}),a.jsx(Dn,{entityType:"task",id:l,children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:s.title||wt(s.description??"",60)})})]},o)})})]})}function RY({data:e}){const t=e.task??e,n=e.plan,r=e.constraints??[],s=e.decisions??[],o=e.notes??[];return a.jsxs(It,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dn,{entityType:"task",id:String(t.id??""),children:a.jsx("span",{className:"text-gray-300 font-medium hover:text-indigo-400",children:String(t.title??"")||wt(String(t.description??""),60)})}),t.status?a.jsx($t,{status:String(t.status)}):null]}),n&&a.jsxs("div",{className:"text-[10px] text-gray-600 mt-0.5 flex items-center gap-1",children:[a.jsx("span",{children:"Plan:"}),a.jsx(Dn,{entityType:"plan",id:String(n.id??""),children:a.jsx("span",{className:"hover:text-indigo-400",children:n.title||"Untitled"})}),n.id?a.jsx(zi,{field:"plan_id",value:String(n.id)}):null]}),r.length>0&&a.jsxs("div",{className:"mt-1",children:[a.jsx(Nn,{count:r.length,children:"Constraints"}),r.map((l,u)=>a.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[a.jsx("span",{className:"text-amber-500",children:""}),wt(l.description??"",80)]},u))]}),s.length>0&&a.jsxs("div",{className:"mt-1",children:[a.jsx(Nn,{count:s.length,children:"Decisions"}),s.map((l,u)=>a.jsxs("div",{className:"text-[10px] text-gray-500",children:[wt(l.description??"",80),l.chosen_option?a.jsxs("span",{className:"text-indigo-400 ml-1",children:[" ",String(l.chosen_option)]}):null]},u))]}),o.length>0&&a.jsxs("div",{className:"mt-1",children:[a.jsx(Nn,{count:o.length,children:"Notes"}),o.map((l,u)=>a.jsx("div",{className:"text-[10px] text-gray-500",children:wt(l.content??"",100)},u))]})]})}function OY({data:e}){const t=e.milestones??[],n=e.releases??[];return a.jsxs(It,{children:[t.length>0&&a.jsxs("div",{children:[a.jsx(Nn,{count:t.length,children:"Milestones"}),a.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:t.map((r,s)=>a.jsxs("div",{className:"flex items-center gap-2 px-2 text-[11px]",children:[a.jsx($t,{status:r.status??"planned"}),a.jsx(Dn,{entityType:"milestone",id:String(r.id??""),children:a.jsx("span",{className:"text-gray-400 truncate hover:text-indigo-400",children:String(r.title??"")})}),r.progress!=null&&a.jsxs("span",{className:"text-gray-600 text-[10px] font-mono shrink-0",children:[String(r.progress),"%"]})]},s))})]}),n.length>0&&a.jsxs("div",{children:[a.jsx(Nn,{count:n.length,children:"Releases"}),a.jsx("div",{className:"space-y-0.5 max-h-32 overflow-y-auto",children:n.map((r,s)=>a.jsxs("div",{className:"flex items-center gap-2 px-2 text-[11px]",children:[a.jsx("span",{className:"font-mono text-indigo-400",children:String(r.version??"")}),a.jsx($t,{status:String(r.status??"planned")}),r.title?a.jsx("span",{className:"text-gray-400 truncate",children:String(r.title)}):null]},s))})]})]})}const DY={get_step_progress:({data:e})=>a.jsx(E0,{data:e??{}}),get_milestone_progress:({data:e})=>a.jsx(E0,{data:e??{}}),get_workspace_milestone_progress:({data:e})=>a.jsx(E0,{data:e??{}}),get_dependency_graph:({data:e})=>a.jsx(AY,{data:e??{}}),get_critical_path:({data:e})=>a.jsx(MY,{data:e??{}}),get_task_blockers:({data:e})=>a.jsx(uC,{data:e,label:"Blockers"}),get_tasks_blocked_by:({data:e})=>a.jsx(uC,{data:e,label:"Blocked tasks"}),get_task_context:({data:e})=>a.jsx(RY,{data:e??{}}),get_task_prompt:({data:e})=>{const t=typeof e=="string"?e:(e==null?void 0:e.prompt)??JSON.stringify(e);return a.jsx(It,{children:a.jsx("pre",{className:"text-[10px] text-gray-500 whitespace-pre-wrap max-h-48 overflow-y-auto",children:wt(t,2e3)})})},get_project_roadmap:({data:e})=>a.jsx(OY,{data:e??{}}),get_next_task:({data:e})=>{const t=e??{};return a.jsx(It,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-300 font-medium",children:String(t.title??"")||wt(String(t.description??""),80)}),t.status?a.jsx($t,{status:String(t.status)}):null]})})}};function LY({action:e,parsed:t}){const n=DY[e];return n?a.jsx(n,{data:t}):null}const IY=new Set(["list_projects","list_plans","list_project_plans","list_tasks","list_chat_sessions","list_chat_messages","list_notes","list_project_notes","list_steps","list_milestones","list_workspace_milestones","list_all_workspace_milestones","list_releases","list_constraints","list_workspaces","list_workspace_projects","list_resources","list_components","search_decisions","search_notes","get_notes_needing_review","get_entity_notes","get_propagated_notes","get_context_notes"]),PY=new Set(["chat_send_message","get_chat_session"]),zY=new Set(["search_code","search_project_code","search_workspace_code","find_similar_code","get_file_symbols","find_references","get_call_graph","analyze_impact","get_architecture","find_trait_implementations","find_type_traits","get_impl_blocks","get_file_dependencies"]),BY=new Set(["get_step_progress","get_milestone_progress","get_workspace_milestone_progress","get_dependency_graph","get_critical_path","get_task_blockers","get_tasks_blocked_by","get_task_context","get_task_prompt","get_project_roadmap","get_next_task"]),$Y=new Set(["get_plan","get_task","get_project","get_note","get_milestone","get_workspace_milestone","get_release","get_step","get_constraint","get_decision","get_workspace","get_component","get_resource","get_workspace_overview","get_workspace_topology","create_plan","create_task","create_step","create_project","create_note","create_milestone","create_release","create_commit","create_workspace","create_workspace_milestone","create_component","create_resource","update_plan_status","update_task","update_step","update_note","update_milestone","update_release","update_project","update_decision","update_constraint","update_workspace","update_workspace_milestone","update_component","update_resource","delete_plan","delete_task","delete_step","delete_note","delete_milestone","delete_release","delete_project","delete_decision","delete_constraint","delete_workspace","delete_workspace_milestone","delete_component","delete_resource","delete_chat_session","link_plan_to_project","unlink_plan_from_project","link_commit_to_task","link_commit_to_plan","link_note_to_entity","unlink_note_from_entity","link_resource_to_project","add_task_dependencies","remove_task_dependency","add_task_to_milestone","add_task_to_release","add_task_to_workspace_milestone","add_decision","add_constraint","add_project_to_workspace","remove_project_from_workspace","add_component_dependency","remove_component_dependency","map_component_to_project","add_commit_to_release","confirm_note","invalidate_note","supersede_note","sync_project","sync_directory","start_watch","stop_watch","watch_status","get_meilisearch_stats","delete_meilisearch_orphans","update_staleness_scores","get_plan_commits","get_task_commits"]);function UY(e){return IY.has(e)?"list":PY.has(e)?"chat":zY.has(e)?"code":BY.has(e)?"progress":$Y.has(e)?"entity":e.startsWith("list_")?"list":e.startsWith("search_")?"code":e.startsWith("get_")&&e.endsWith("_progress")?"progress":e.startsWith("create_")||e.startsWith("update_")||e.startsWith("delete_")||e.startsWith("link_")||e.startsWith("add_")||e.startsWith("remove_")?"entity":"unknown"}const dC="mcp__project-orchestrator__",lL=new Set(["description","content","acceptance_criteria","affected_files","alternatives","anchors","scope","metadata","config"]),fC=120;function j0(e){return e.length<=fC?e:e.slice(0,fC)+"..."}function cL(e){return e==null?"":typeof e=="string"?j0(e):typeof e=="number"||typeof e=="boolean"?String(e):Array.isArray(e)?e.length===0?"[]":e.every(t=>typeof t=="string")?e.join(", "):j0(JSON.stringify(e)):j0(JSON.stringify(e))}function C0({toolInput:e,resultContent:t,isError:n,isLoading:r}){const s=typeof e.description=="string"?e.description:"",o=Object.entries(e).filter(([l,u])=>u!=null&&u!==""&&!lL.has(l));return a.jsxs("div",{className:"space-y-0",children:[o.length>0&&a.jsx("div",{className:"px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs space-y-0.5",children:o.map(([l,u])=>a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"text-gray-600 shrink-0 select-none",children:[l,":"]}),a.jsx("span",{className:"text-gray-400 break-all",children:cL(u)})]},l))}),s.length>0&&a.jsx("div",{className:"border-t border-white/[0.04] px-3 py-1.5 bg-black/20 text-xs text-gray-600",children:s.length>200?s.slice(0,200)+"...":s}),!r&&t!=null&&t.length>0&&a.jsx("div",{className:`border-t text-xs overflow-x-auto max-h-60 overflow-y-auto ${n?"border-red-800/30 bg-red-950/20 text-red-400":"border-white/[0.04] bg-black/20"}`,children:a.jsx("pre",{className:"px-3 py-1.5 font-mono text-gray-500 whitespace-pre-wrap break-all",children:t.length>2e3?t.slice(0,2e3)+`
... (truncated)`:t})}),r&&a.jsx("div",{className:`${o.length>0?"border-t border-white/[0.04]":""} rounded-b-md bg-black/20 px-3 py-1.5`,children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"processing..."})})]})}function qY(e){const{toolName:t,toolInput:n,resultContent:r,isError:s,isLoading:o}=e,l=t.startsWith(dC)?t.slice(dC.length):t;if(s&&r)return a.jsxs("div",{className:"space-y-1",children:[a.jsx(T0,{toolInput:n}),a.jsx(GK,{content:r})]});if(o)return a.jsxs("div",{className:"space-y-0",children:[a.jsx(T0,{toolInput:n}),a.jsx("div",{className:"rounded-b-md bg-black/20 px-3 py-1.5",children:a.jsx("span",{className:"text-xs text-gray-600 animate-pulse",children:"processing..."})})]});const u=VK(r);if(u==null&&r)return a.jsx(C0,{...e});const d=UY(l);let f=null;switch(d){case"list":f=a.jsx(aY,{action:l,parsed:u,toolInput:n});break;case"chat":f=a.jsx(vY,{action:l,parsed:u,toolInput:n});break;case"code":f=a.jsx(TY,{action:l,parsed:u,toolInput:n});break;case"progress":f=a.jsx(LY,{action:l,parsed:u,toolInput:n});break;case"entity":f=a.jsx(gY,{action:l,parsed:u,toolInput:n});break;default:return a.jsx(C0,{...e})}return f==null?a.jsx(C0,{...e}):a.jsxs("div",{className:"space-y-1",children:[a.jsx(T0,{toolInput:n}),f]})}function T0({toolInput:e}){const t=Object.entries(e).filter(([n,r])=>r!=null&&r!==""&&!lL.has(n));return t.length===0?null:a.jsx("div",{className:"px-3 py-1.5 bg-black/30 rounded-t-md font-mono text-xs space-y-0.5",children:t.map(([n,r])=>a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"text-gray-600 shrink-0 select-none",children:[n,":"]}),a.jsx("span",{className:"text-gray-400 break-all",children:cL(r)})]},n))})}const hC={completed:{icon:"",iconClass:"text-emerald-400",textClass:"text-gray-500 line-through",bgClass:"",dotClass:"bg-emerald-400"},in_progress:{icon:"",iconClass:"text-amber-400",textClass:"text-gray-200 font-medium",bgClass:"bg-amber-400/[0.06]",dotClass:"bg-amber-400 animate-pulse"},pending:{icon:"",iconClass:"text-gray-600",textClass:"text-gray-500",bgClass:"",dotClass:"bg-gray-600"}};function FY({toolInput:e}){const t=e.todos??[];if(t.length===0)return a.jsx("div",{className:"text-xs text-gray-600 italic py-1",children:"No tasks"});const n=t.filter(l=>l.status==="completed").length,r=t.length,s=r>0?Math.round(n/r*100):0,o=t.find(l=>l.status==="in_progress");return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-emerald-400/80 transition-all duration-500",style:{width:`${s}%`}})}),a.jsxs("span",{className:"text-[10px] tabular-nums text-gray-500 shrink-0",children:[n,"/",r]})]}),a.jsx("ul",{className:"space-y-0.5",children:t.map((l,u)=>{const d=hC[l.status]??hC.pending;return a.jsxs("li",{className:`flex items-start gap-2 px-2 py-1 rounded text-xs ${d.bgClass}`,children:[a.jsx("span",{className:`shrink-0 w-3.5 text-center font-mono ${d.iconClass}`,children:d.icon}),a.jsx("span",{className:d.textClass,children:l.status==="in_progress"?l.activeForm:l.content})]},u)})}),o&&a.jsxs("div",{className:"flex items-center gap-1.5 px-2 pt-1 border-t border-white/[0.04]",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse shrink-0"}),a.jsx("span",{className:"text-[10px] text-amber-400/80 truncate",children:o.activeForm})]})]})}function HY(e){const t=e.todos??[];if(t.length===0)return"No tasks";const n=t.filter(o=>o.status==="completed").length,r=t.find(o=>o.status==="in_progress"),s=r?St(r.activeForm??r.content??"",40):`${n}/${t.length} done`;return`${n}/${t.length}  ${s}`}function St(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function un(e){const t=String(e??"");return t.length>12?t.slice(0,8)+"..":t}function GY(e){const t=e.description??"",n=e.command??"";return t||St(n,60)}function Nu(e){const t=e.split("/");return t[t.length-1]||e}function VY(e){const t=e.file_path??"",n=e.replace_all??!1,r=Nu(t)||"file";return n?`${r} (replace all)`:r}function WY(e){const t=e.file_path??"",n=e.offset,r=e.limit,s=Nu(t)||"file";return n!=null&&r!=null?`${s}:${n}-${n+r}`:n!=null?`${s}:${n}+`:r!=null?`${s}:1-${r}`:s}function KY(e){const t=e.file_path??"";return Nu(t)||"file"}function YY(e){const t=e.pattern??"";return St(t,50)||"glob"}function XY(e){const t=e.pattern??"",n=e.output_mode??"",r=St(t,40)||"grep";return n&&n!=="files_with_matches"?`${r} (${n})`:r}function ZY(e){const t=e.url??"";try{const n=new URL(t);return St(n.hostname+n.pathname,50)}catch{return St(t,50)||"fetch"}}function QY(e){const t=e.query??"";return St(t,50)||"search"}const pC="mcp__project-orchestrator__",JY={create_plan:e=>`Plan  ${St(String(e.title??""),40)}`,get_plan:e=>e.plan_id?`Plan ${un(e.plan_id)}`:"Plan details",update_plan_status:e=>`Plan  ${e.status??"?"}`,delete_plan:e=>`Plan  ${un(e.plan_id)}`,create_task:e=>{const t=St(String(e.title??e.description??""),40);return e.priority?`Task  [P${e.priority}]: ${t}`:`Task  ${t}`},get_task:e=>e.task_id?`Task ${un(e.task_id)}`:"Task details",update_task:e=>{const t=["Task"];return e.status&&t.push(" "+e.status),e.task_id&&t.push(un(e.task_id)),t.join(" ")},delete_task:e=>`Task  ${un(e.task_id)}`,get_next_task:()=>"Next task",create_step:e=>`Step  ${St(String(e.description??""),40)}`,update_step:e=>e.status?`Step  ${e.status}`:"Update step",list_steps:()=>"List steps",get_step_progress:()=>"Get step progress",add_decision:e=>`Decision: ${St(String(e.description??""),40)}`,search_code:e=>`Search code: ${St(String(e.query??""),40)}`,search_project_code:e=>`Search: ${St(String(e.query??""),40)}`,search_notes:e=>`Search notes: ${St(String(e.query??""),40)}`,search_decisions:e=>`Search decisions: ${St(String(e.query??""),40)}`,get_architecture:()=>"Architecture overview",analyze_impact:e=>`Impact: ${St(String(e.target??""),40)}`,find_references:e=>`References: ${St(String(e.symbol??""),40)}`,get_file_symbols:e=>`Symbols: ${Nu(String(e.file_path??""))}`,get_call_graph:e=>`Call graph: ${St(String(e.function??""),40)}`,sync_project:e=>`Sync project: ${e.slug??""}`,sync_directory:e=>`Sync: ${St(String(e.path??""),40)}`,create_commit:e=>`Commit: ${St(String(e.message??""),40)}`,link_commit_to_task:e=>`Commit ${String(e.commit_sha??"").slice(0,7)}  task`,link_commit_to_plan:e=>`Commit ${String(e.commit_sha??"").slice(0,7)}  plan`,create_project:e=>`Project  ${St(String(e.name??""),40)}`,get_project:e=>`Project: ${e.slug??""}`,update_project:e=>`Project  ${e.slug??""}`,delete_project:e=>`Project  ${e.slug??""}`,create_note:e=>`Note  ${St(String(e.content??""),40)}`,get_context_notes:e=>`Context notes: ${e.entity_type??""}`,create_milestone:e=>`Milestone  ${St(String(e.title??""),40)}`,update_milestone:e=>{const t=["Milestone"];return e.status&&t.push(" "+e.status),t.join(" ")},delete_milestone:e=>`Milestone  ${un(e.milestone_id)}`,create_release:e=>`Release  ${e.version??""}`,update_release:e=>{const t=["Release"];return e.status&&t.push(" "+e.status),t.join(" ")},delete_release:e=>`Release  ${un(e.release_id)}`,get_dependency_graph:()=>"Dependency graph",get_critical_path:()=>"Critical path",get_task_context:()=>"Task context",get_task_prompt:()=>"Task prompt",add_task_dependencies:e=>{const t=e.dependency_ids;return`Add ${Array.isArray(t)?t.length:""} dep(s)`},list_tasks:e=>e.status?`Tasks (${e.status})`:"List tasks",list_plans:e=>e.status?`Plans (${e.status})`:"List plans",list_project_plans:e=>`Plans: ${e.project_slug??""}`,list_projects:()=>"List projects",list_chat_sessions:()=>"Chat sessions",list_chat_messages:()=>"Chat messages",list_notes:e=>e.note_type?`Notes (${e.note_type})`:"List notes",list_project_notes:()=>"Project notes",list_milestones:()=>"List milestones",list_releases:()=>"List releases",list_constraints:()=>"List constraints",list_workspaces:()=>"List workspaces",list_workspace_projects:()=>"Workspace projects",list_workspace_milestones:()=>"Workspace milestones",list_resources:()=>"List resources",list_components:()=>"List components",get_task_blockers:()=>"Task blockers",get_tasks_blocked_by:()=>"Blocked tasks",link_plan_to_project:e=>`Plan ${un(e.plan_id)}  project`,unlink_plan_from_project:e=>`Unlink plan ${un(e.plan_id)}`,add_constraint:e=>`Constraint  (${e.severity??e.constraint_type??""}): ${St(String(e.description??""),30)}`,chat_send_message:e=>`Chat: ${St(String(e.message??""),50)}`,get_chat_session:()=>"Session details",delete_chat_session:()=>"Delete session",create_workspace:e=>`Workspace: ${St(String(e.name??""),40)}`,get_workspace:e=>`Workspace: ${e.slug??""}`,get_workspace_overview:e=>`Overview: ${e.slug??""}`,get_workspace_topology:e=>`Topology: ${e.slug??""}`,get_milestone:()=>"Milestone details",get_milestone_progress:()=>"Milestone progress",get_workspace_milestone:()=>"WS milestone",get_workspace_milestone_progress:()=>"WS milestone progress",get_release:()=>"Release details",get_project_roadmap:()=>"Project roadmap",get_note:e=>e.note_id?`Note ${un(e.note_id)}`:"Note details",update_note:e=>`Note  ${un(e.note_id)}`,delete_note:e=>`Note  ${un(e.note_id)}`,confirm_note:e=>`Note  ${un(e.note_id)}`,invalidate_note:e=>`Note  ${un(e.note_id)}`,supersede_note:e=>`Note  ${un(e.old_note_id)}`,get_notes_needing_review:()=>"Notes for review",update_staleness_scores:()=>"Update staleness",get_step:()=>"Step details",delete_step:()=>"Delete step",get_decision:()=>"Decision details",update_decision:()=>"Update decision",delete_decision:()=>"Delete decision",start_watch:e=>`Watch: ${St(String(e.path??""),40)}`,stop_watch:()=>"Stop watcher",watch_status:()=>"Watch status",get_meilisearch_stats:()=>"Search stats",delete_meilisearch_orphans:()=>"Clean orphans",get_file_dependencies:e=>`Deps: ${Nu(String(e.file_path??""))}`,find_similar_code:()=>"Similar code",find_trait_implementations:e=>`Impl: ${St(String(e.trait_name??""),30)}`,find_type_traits:e=>`Traits: ${St(String(e.type_name??""),30)}`,get_impl_blocks:e=>`Impl blocks: ${St(String(e.type_name??""),30)}`,search_workspace_code:e=>`WS search: ${St(String(e.query??""),35)}`,create_component:e=>`Component: ${St(String(e.name??""),40)}`,create_resource:e=>`Resource: ${St(String(e.name??""),40)}`,add_component_dependency:()=>"Component dep",map_component_to_project:()=>"Map component  project",add_task_to_milestone:e=>`Task ${un(e.task_id)}  milestone`,add_task_to_release:e=>`Task ${un(e.task_id)}  release`,add_task_to_workspace_milestone:e=>`Task ${un(e.task_id)}  WS milestone`,link_note_to_entity:e=>`Note ${un(e.note_id)}  ${e.entity_type??"entity"}`,unlink_note_from_entity:e=>`Unlink note ${un(e.note_id)}`,link_resource_to_project:e=>`Resource  project ${un(e.project_id)}`,add_project_to_workspace:e=>`Project ${un(e.project_id)}  workspace`,remove_project_from_workspace:e=>`Remove project ${un(e.project_id)}`,add_commit_to_release:e=>`Commit ${String(e.commit_sha??"").slice(0,7)}  release`,remove_task_dependency:e=>`Remove dep ${un(e.dependency_id)}`,remove_component_dependency:()=>"Remove component dep",get_plan_commits:()=>"Plan commits",get_task_commits:()=>"Task commits"};function eX(e,t){const n=e.startsWith(pC)?e.slice(pC.length):e,r=JY[n];return r?r(t):n.replace(/_/g," ")}const Su="mcp__project-orchestrator__",qf={Bash:yK,Edit:TK,Read:AK,Write:MK,Glob:nC,Grep:nC,WebFetch:rC,WebSearch:rC,TodoWrite:FY,__mcp__:qY},tX={Bash:GY,Edit:VY,Read:WY,Write:KY,Glob:YY,Grep:XY,WebFetch:ZY,WebSearch:QY,TodoWrite:HY};function nX(e,t){const n=tX[e];if(n)return n(t);if(e.startsWith(Su))return eX(e,t)}const mC={Bash:"$",Edit:"",Read:"",Write:"",Glob:"",Grep:"",WebFetch:"",WebSearch:"",TodoWrite:""};function rX(e){const t=e.startsWith(Su)?e.slice(Su.length):e;return/^(create|add)/.test(t)?"+":/^update/.test(t)?"":/^delete/.test(t)?"":/^get/.test(t)?"":/^list/.test(t)?"":/^(search|find)/.test(t)?"":/^link/.test(t)?"":/^sync/.test(t)?"":""}function sX(e){if(mC[e])return mC[e];if(e.startsWith(Su))return rX(e)}function iX(e){const{toolName:t}=e;if(qf[t]){const n=qf[t];return a.jsx(n,{...e})}if(t.startsWith(Su)&&qf.__mcp__){const n=qf.__mcp__;return a.jsx(n,{...e})}return a.jsx(pK,{...e})}const $w="mcp__project-orchestrator__";function aX(e){const t=e.startsWith($w)?e.slice($w.length):e;return/^(create|add)/.test(t)?"bg-green-400":/^update/.test(t)?"bg-blue-400":/^delete/.test(t)?"bg-red-400":/^(search|find|list)/.test(t)?"bg-gray-400":/^link/.test(t)?"bg-indigo-400":null}function Uw({block:e,resultBlock:t}){var b,y,v;const[n,r]=S.useState(!1),s=((b=e.metadata)==null?void 0:b.tool_name)||e.content,o=((y=e.metadata)==null?void 0:y.tool_input)??{},l=(v=t==null?void 0:t.metadata)==null?void 0:v.is_error,u=!t,d=sX(s),p=nX(s,o)||s,g=s.startsWith($w)?aX(s):null;return a.jsxs("div",{className:"my-2 rounded-lg bg-white/[0.04] border border-white/[0.06] overflow-hidden",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 w-full px-3 py-2 text-left text-xs hover:bg-white/[0.02] transition-colors",children:[a.jsx("div",{className:`w-0.5 h-4 rounded-full shrink-0 ${l?"bg-red-400":u?"bg-amber-400 animate-pulse":"bg-green-400"}`}),a.jsx("svg",{className:`w-3 h-3 text-gray-500 transition-transform shrink-0 ${n?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d&&a.jsx("span",{className:"font-mono text-gray-600 shrink-0 text-[10px]",children:d}),g&&a.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${g}`}),a.jsx("span",{className:"font-mono text-gray-400 truncate",children:p}),u&&a.jsx("span",{className:"ml-auto text-gray-600 shrink-0",children:"running..."})]}),n&&a.jsx("div",{className:"px-3 pb-2",children:a.jsx(iX,{toolName:s,toolInput:o,resultContent:t==null?void 0:t.content,isError:l,isLoading:u})})]})}function oX({toolBlocks:e,allBlocks:t}){const[n,r]=S.useState(!1),s=m=>t.find(g=>{var b,y;return g.type==="tool_result"&&((b=g.metadata)==null?void 0:b.tool_call_id)===((y=m.metadata)==null?void 0:y.tool_call_id)}),o=e.filter(m=>s(m)).length,l=e.length-o,u=e.some(m=>{var b;const g=s(m);return(b=g==null?void 0:g.metadata)==null?void 0:b.is_error});if(e.length===1)return a.jsx(Uw,{block:e[0],resultBlock:s(e[0])});const d=e.map(m=>{var g;return((g=m.metadata)==null?void 0:g.tool_name)||m.content}),f=[...new Set(d)],p=f.length<=3?f.join(", "):`${f.slice(0,2).join(", ")} +${f.length-2} more`;return a.jsxs("div",{className:"my-2 rounded-lg bg-white/[0.04] border border-white/[0.06] overflow-hidden",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 w-full px-3 py-2 text-left text-xs hover:bg-white/[0.02] transition-colors",children:[a.jsx("div",{className:`w-0.5 h-4 rounded-full shrink-0 ${u?"bg-red-400":l>0?"bg-amber-400 animate-pulse":"bg-green-400"}`}),a.jsx("svg",{className:`w-3 h-3 text-gray-500 transition-transform shrink-0 ${n?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),a.jsxs("span",{className:"font-mono text-gray-400",children:[e.length," tools",a.jsxs("span",{className:"text-gray-600 ml-2",children:["(",p,")"]})]}),l>0&&a.jsxs("span",{className:"ml-auto text-gray-600 shrink-0",children:[l," running..."]})]}),n&&a.jsx("div",{className:"px-2 pb-2 space-y-1",children:e.map(m=>a.jsx(Uw,{block:m,resultBlock:s(m)},m.id))})]})}const uL=[{border:"border-l-indigo-400",bg:"bg-indigo-400",text:"text-indigo-400"},{border:"border-l-cyan-400",bg:"bg-cyan-400",text:"text-cyan-400"},{border:"border-l-amber-400",bg:"bg-amber-400",text:"text-amber-400"},{border:"border-l-emerald-400",bg:"bg-emerald-400",text:"text-emerald-400"},{border:"border-l-pink-400",bg:"bg-pink-400",text:"text-pink-400"},{border:"border-l-violet-400",bg:"bg-violet-400",text:"text-violet-400"}];function lX(e){let t=0;for(let n=0;n<e.length;n++)t=t*31+e.charCodeAt(n)|0;return Math.abs(t)%uL.length}function cX({parentBlock:e,childBlocks:t,allBlocks:n,isStreaming:r}){var z,$;const s=((z=e.metadata)==null?void 0:z.tool_input)??{},o=s.description||s.prompt||"Sub-agent",l=S.useMemo(()=>{const D=o.split(`
`)[0];return D.length>80?D.slice(0,77)+"...":D},[o]),u=n.find(D=>{var I,F;return D.type==="tool_result"&&((I=D.metadata)==null?void 0:I.tool_call_id)===((F=e.metadata)==null?void 0:F.tool_call_id)}),d=t.filter(D=>D.type==="tool_use"),f=t.filter(D=>D.type==="text"),p=t.filter(D=>D.type==="thinking"),m=t.filter(D=>D.type==="error"),g=D=>t.find(I=>{var F,K;return I.type==="tool_result"&&((F=I.metadata)==null?void 0:F.tool_call_id)===((K=D.metadata)==null?void 0:K.tool_call_id)})??n.find(I=>{var F,K;return I.type==="tool_result"&&((F=I.metadata)==null?void 0:F.tool_call_id)===((K=D.metadata)==null?void 0:K.tool_call_id)}),b=d.filter(D=>g(D)).length,y=d.length-b,v=m.length>0||d.some(D=>{var F;const I=g(D);return(F=I==null?void 0:I.metadata)==null?void 0:F.is_error}),_=!!u,N=!_&&r,[j,k]=S.useState(!_),C=(($=e.metadata)==null?void 0:$.tool_call_id)??"",A=lX(C),T=uL[A],M=s.subagent_type||s.type||null;return a.jsxs("div",{className:`my-2 rounded-lg border-l-2 ${T.border} bg-white/[0.02] overflow-hidden`,children:[a.jsxs("button",{onClick:()=>k(!j),className:"flex items-center gap-2 w-full px-3 py-2 text-left text-xs hover:bg-white/[0.02] transition-colors",children:[a.jsx("div",{className:`w-1 h-5 rounded-full shrink-0 ${v?"bg-red-400":N?"bg-amber-400 animate-pulse":"bg-green-400"}`}),a.jsx("svg",{className:`w-3 h-3 text-gray-500 transition-transform shrink-0 ${j?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),a.jsx("span",{className:`shrink-0 text-sm ${T.text}`,children:""}),M&&a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-white/[0.06] text-gray-500 uppercase tracking-wider shrink-0",children:M}),a.jsx("span",{className:"text-gray-400 truncate",children:l}),a.jsx("span",{className:"ml-auto text-gray-600 shrink-0 text-[11px] tabular-nums",children:d.length>0&&a.jsxs(a.Fragment,{children:[d.length," tool",d.length!==1?"s":"",y>0&&a.jsxs("span",{className:"text-amber-400/70 ml-1",children:[y," running"]})]})})]}),j&&a.jsxs("div",{className:"pl-4 pr-2 pb-2 space-y-1",children:[p.map(D=>a.jsx(eL,{content:D.content,isStreaming:!1},D.id)),f.map(D=>a.jsx("div",{className:"chat-markdown prose prose-invert prose-sm max-w-none break-words overflow-x-auto text-gray-300/90 [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",children:a.jsx(B_,{remarkPlugins:[MD],rehypePlugins:[JD],children:D.content})},D.id)),d.map(D=>a.jsx(Uw,{block:D,resultBlock:g(D)},D.id)),m.map(D=>a.jsx("div",{className:"px-3 py-2 rounded-lg bg-red-900/10 border border-red-500/20 text-sm text-red-400",children:D.content},D.id)),N&&t.length===0&&a.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 text-sm py-1",children:[a.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full ${T.bg} animate-pulse`}),a.jsx("span",{children:"Agent running..."})]})]})]})}function dL(e){const t=e.toLowerCase();return t==="bash"?"bash":t==="read"||t==="glob"||t==="grep"?"read":t==="edit"||t==="write"||t==="notebookedit"?"edit":t.startsWith("mcp__")||t.startsWith("mcp_")?"mcp":t==="webfetch"||t==="websearch"?"web":"other"}const uX={bash:{border:"border-l-amber-500/60",bg:"bg-amber-900/10",text:"text-amber-400",icon:"text-amber-400",label:"Command",pulseBorder:"border-amber-500/30"},read:{border:"border-l-emerald-500/60",bg:"bg-emerald-900/10",text:"text-emerald-400",icon:"text-emerald-400",label:"Read",pulseBorder:"border-emerald-500/30"},edit:{border:"border-l-blue-500/60",bg:"bg-blue-900/10",text:"text-blue-400",icon:"text-blue-400",label:"Edit",pulseBorder:"border-blue-500/30"},mcp:{border:"border-l-purple-500/60",bg:"bg-purple-900/10",text:"text-purple-400",icon:"text-purple-400",label:"MCP Tool",pulseBorder:"border-purple-500/30"},web:{border:"border-l-cyan-500/60",bg:"bg-cyan-900/10",text:"text-cyan-400",icon:"text-cyan-400",label:"Web",pulseBorder:"border-cyan-500/30"},other:{border:"border-l-gray-500/60",bg:"bg-gray-900/10",text:"text-gray-400",icon:"text-gray-400",label:"Tool",pulseBorder:"border-gray-500/30"}};function dX(e,t){if(!t||Object.keys(t).length===0)return{summary:e,detail:null,language:"text"};switch(dL(e)){case"bash":{const r=t.command||"";return{summary:t.description||""||"Execute command",detail:r,language:"bash"}}case"read":{const r=t.file_path||t.path||t.pattern||"";return{summary:r?`Read ${r.split("/").pop()}`:e,detail:r,language:"text"}}case"edit":{const r=t.file_path||"",s=t.old_string||"";return{summary:r?`Edit ${r.split("/").pop()}`:e,detail:s?`- ${s.slice(0,120)}${s.length>120?"...":""}`:r,language:"diff"}}case"mcp":{const r=e.split("__");return{summary:(r[r.length-1]||e).replace(/_/g," "),detail:JSON.stringify(t,null,2),language:"json"}}case"web":{const r=t.url||"";return{summary:r?`Fetch ${new URL(r).hostname}`:e,detail:r,language:"text"}}default:return{summary:e,detail:JSON.stringify(t,null,2),language:"json"}}}function fX({category:e,className:t}){const n=t||"w-4 h-4";switch(e){case"bash":return a.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"read":return a.jsxs("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]});case"edit":return a.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})});case"mcp":return a.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"web":return a.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})});default:return a.jsx("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}}function hX({block:e,onRespond:t,disabled:n}){var $,D,I,F;const r=($=e.metadata)==null?void 0:$.tool_call_id,s=((D=e.metadata)==null?void 0:D.tool_name)||"",o=(I=e.metadata)==null?void 0:I.tool_input,l=!!((F=e.metadata)!=null&&F.auto_approved),u=dL(s),d=uX[u],{summary:f,detail:p,language:m}=dX(s,o),[g,b]=S.useState(l),[y,v]=S.useState(l?"allowed":null),[_,N]=S.useState(!1),[j,k]=S.useState(!1),[C,A]=S.useState(!1),T=S.useRef(null);S.useEffect(()=>{const K=requestAnimationFrame(()=>A(!0));return()=>cancelAnimationFrame(K)},[]);const M=K=>{if(g)return;b(!0),v(K?"allowed":"denied"),t(r,K,_&&K?{toolName:s}:void 0)},z=!g&&!n;return a.jsxs("div",{ref:T,className:`my-2 rounded-lg border-l-4 border ${d.border} ${d.bg} border-white/[0.06] overflow-hidden transition-all duration-200 ease-out ${C?"opacity-100 translate-y-0":"opacity-0 translate-y-2"} ${z?"animate-pulse-subtle":""}`,style:{animation:z?"permission-pulse 2s ease-in-out infinite":"none"},children:[z&&a.jsx("style",{children:`
          @keyframes permission-pulse {
            0%, 100% { border-color: rgba(255,255,255,0.06); }
            50% { border-color: rgba(255,255,255,0.12); }
          }
        `}),a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fX,{category:u,className:`w-4 h-4 shrink-0 ${d.icon}`}),a.jsxs("span",{className:`text-xs font-medium ${d.text}`,children:[d.label,": ",f]}),z&&a.jsxs("span",{className:"ml-auto text-[10px] text-amber-400/70 flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Waiting"]})]}),a.jsx("p",{className:"text-[11px] text-gray-500 font-mono mb-2 truncate",title:s,children:s}),p&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("button",{onClick:()=>k(!j),className:"text-[10px] text-gray-500 hover:text-gray-400 transition-colors flex items-center gap-1 mb-1",children:[a.jsx("svg",{className:`w-3 h-3 transition-transform ${j?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),j?"Hide details":"Show details"]}),j&&a.jsx("pre",{className:`text-[11px] rounded bg-black/30 border border-white/[0.04] p-2 overflow-x-auto max-h-48 ${m==="bash"?"text-amber-300/80":m==="json"?"text-purple-300/80":m==="diff"?"text-blue-300/80":"text-gray-400"}`,children:a.jsx("code",{children:p})})]}),g?a.jsx("div",{className:`flex items-center gap-1.5 text-xs font-medium ${y==="allowed"?"text-emerald-400":"text-red-400"}`,children:y==="allowed"?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Allowed",l&&a.jsx("span",{className:"text-[10px] text-gray-500 ml-1",children:"(auto)"}),!l&&_&&a.jsx("span",{className:"text-[10px] text-gray-500 ml-1",children:"(remembered)"})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Denied"]})}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>M(!0),disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-md bg-emerald-600/20 text-emerald-400 hover:bg-emerald-600/30 transition-colors disabled:opacity-50 flex items-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Allow"]}),a.jsxs("button",{onClick:()=>M(!1),disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-md bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-colors disabled:opacity-50 flex items-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Deny"]})]}),a.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:_,onChange:K=>N(K.target.checked),className:"w-3 h-3 rounded border-gray-600 bg-white/[0.04] text-indigo-500 focus:ring-indigo-500/30 focus:ring-offset-0"}),a.jsx("span",{className:"text-[10px] text-gray-500 group-hover:text-gray-400 transition-colors",children:"Remember for this session"})]})]})]})]})}function pX({block:e,onRespond:t,disabled:n}){var u;const[r,s]=S.useState(""),o=(u=e.metadata)==null?void 0:u.request_id,l=()=>{r.trim()&&(t(o,r.trim()),s(""))};return a.jsxs("div",{className:"my-2 rounded-lg bg-indigo-900/10 border border-indigo-500/20 p-3",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-2",children:e.content}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:r,onChange:d=>s(d.target.value),onKeyDown:d=>d.key==="Enter"&&l(),disabled:n,className:"flex-1 px-2 py-1 text-sm bg-black/20 border border-white/[0.06] rounded text-gray-200 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40",placeholder:"Type your response..."}),a.jsx("button",{onClick:l,disabled:n||!r.trim(),className:"px-3 py-1 text-xs font-medium rounded bg-indigo-600/20 text-indigo-400 hover:bg-indigo-600/30 transition-colors disabled:opacity-50",children:"Send"})]})]})}function mX({block:e,onRespond:t,disabled:n}){var v,_;const r=((v=e.metadata)==null?void 0:v.questions)||[],[s,o]=S.useState(()=>new Map),[l,u]=S.useState(""),[d,f]=S.useState(!1),p=S.useCallback((N,j,k)=>{o(C=>{const A=new Map(C),T=A.get(N)||new Set;if(k){const M=new Set(T);M.has(j)?M.delete(j):M.add(j),A.set(N,M)}else A.set(N,new Set([j]));return A})},[]),m=S.useCallback(()=>{const N=[];return r.forEach((j,k)=>{const C=s.get(k)||new Set,A=Array.from(C).map(T=>{var M;return(M=j.options[T])==null?void 0:M.label}).filter(Boolean);if(A.length>0)if(r.length===1)N.push(A.join(", "));else{const T=j.header||j.question;N.push(`${T}: ${A.join(", ")}`)}}),l.trim()&&N.push(l.trim()),N.join(`
`)},[r,s,l]),g=S.useCallback(()=>{var k;const N=m();if(!N)return;f(!0);const j=((k=e.metadata)==null?void 0:k.tool_call_id)||e.id;t(j,N)},[m,t,e.id,(_=e.metadata)==null?void 0:_.tool_call_id]),b=Array.from(s.values()).some(N=>N.size>0)||l.trim().length>0,y=n||d;return r.length===0?a.jsx("div",{className:"my-2 rounded-lg bg-indigo-900/10 border border-indigo-500/20 p-3",children:a.jsx("p",{className:"text-sm text-gray-300",children:e.content})}):a.jsxs("div",{className:"my-2 rounded-lg bg-indigo-900/10 border border-indigo-500/20 p-3 space-y-4",children:[r.map((N,j)=>{const k=s.get(j)||new Set;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[N.header&&a.jsx("span",{className:"shrink-0 px-2 py-0.5 text-xs font-medium rounded bg-indigo-600/30 text-indigo-300",children:N.header}),a.jsx("p",{className:"text-sm text-gray-200",children:N.question})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.options.map((C,A)=>{const T=k.has(A);return a.jsxs("button",{onClick:()=>p(j,A,N.multiSelect),disabled:y,className:`
                      group flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-colors
                      ${T?"bg-indigo-600/20 border border-indigo-500/40 text-indigo-300":"bg-white/[0.03] border border-white/[0.06] text-gray-300 hover:bg-white/[0.06]"}
                      disabled:opacity-50 disabled:cursor-not-allowed
                    `,children:[a.jsx("span",{className:`
                      w-3.5 h-3.5 flex items-center justify-center border transition-colors
                      ${N.multiSelect?"rounded-sm":"rounded-full"}
                      ${T?"border-indigo-500 bg-indigo-600":"border-gray-500 group-hover:border-gray-400"}
                    `,children:T&&(N.multiSelect?a.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 12 12",children:a.jsx("path",{d:"M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"})}):a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white"}))}),a.jsxs("span",{className:"flex flex-col items-start",children:[a.jsx("span",{children:C.label}),C.description&&a.jsx("span",{className:"text-xs text-gray-500",children:C.description})]})]},A)})})]},j)}),!d&&a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),onKeyDown:N=>N.key==="Enter"&&b&&g(),disabled:y,placeholder:"Ou tapez votre rponse...",className:"flex-1 px-3 py-1.5 text-sm bg-black/20 border border-white/[0.06] rounded-lg text-gray-200 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40"}),a.jsx("button",{onClick:g,disabled:y||!b,className:"px-4 py-1.5 text-sm font-medium rounded-lg bg-indigo-600/20 text-indigo-400 hover:bg-indigo-600/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"})]}),d&&a.jsx("div",{className:"pt-2 border-t border-white/[0.06]",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Responded: ",a.jsx("span",{className:"text-gray-400",children:m()})]})})]})}const gX={a:({href:e,children:t,...n})=>a.jsx(Di,{href:e,...n,children:t})};function xX(e){var l,u,d;const t=new Map,n=new Set;for(const f of e){const p=(l=f.metadata)==null?void 0:l.parent_tool_use_id;if(p){n.add(p);let m=t.get(p);m||(m=[],t.set(p,m)),m.push(f)}}const r=[];let s=[];const o=new Set;for(const f of e){if(((u=f.metadata)==null?void 0:u.parent_tool_use_id)||f.type==="tool_result")continue;const m=(d=f.metadata)==null?void 0:d.tool_call_id;if(f.type==="tool_use"&&m&&n.has(m)){s.length>0&&(r.push({kind:"tool_group",blocks:s}),s=[]),o.has(m)||(o.add(m),r.push({kind:"agent_group",parentBlock:f,childBlocks:t.get(m)??[]}));continue}if(f.type==="tool_use"){s.push(f);continue}s.length>0&&(r.push({kind:"tool_group",blocks:s}),s=[]),r.push({kind:"block",block:f})}return s.length>0&&r.push({kind:"tool_group",blocks:s}),r}function bX({message:e,isStreaming:t,highlighted:n,onRespondPermission:r,onRespondInput:s}){var u;const o=n?"ring-2 ring-amber-400/50 bg-amber-400/[0.06] rounded-xl transition-all duration-500":"transition-all duration-1000";if(e.role==="user")return a.jsx("div",{className:`flex justify-end mb-4 ${o}`,children:a.jsx("div",{className:"max-w-[85%] px-3 py-2 rounded-xl bg-indigo-600/20 text-sm text-gray-200 whitespace-pre-wrap break-words overflow-hidden",children:(u=e.blocks[0])==null?void 0:u.content})});const l=xX(e.blocks);return a.jsx("div",{className:`mb-4 ${o}`,children:a.jsxs("div",{className:"max-w-full",children:[l.map((d,f)=>{if(d.kind==="agent_group")return a.jsx(cX,{parentBlock:d.parentBlock,childBlocks:d.childBlocks,allBlocks:e.blocks,isStreaming:t},`agent-${d.parentBlock.id}`);if(d.kind==="tool_group")return a.jsx(oX,{toolBlocks:d.blocks,allBlocks:e.blocks},`tool-group-${f}`);const p=d.block;switch(p.type){case"text":return!p.content&&p.metadata?null:a.jsx("div",{className:"chat-markdown prose prose-invert prose-sm max-w-none break-words overflow-x-auto [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",children:a.jsx(B_,{remarkPlugins:[MD],rehypePlugins:[JD],components:gX,children:p.content})},p.id);case"thinking":{const m=f===l.length-1;return a.jsx(eL,{content:p.content,isStreaming:t&&m},p.id)}case"permission_request":return a.jsx(hX,{block:p,onRespond:r},p.id);case"input_request":return a.jsx(pX,{block:p,onRespond:s},p.id);case"ask_user_question":return a.jsx(mX,{block:p,onRespond:s},p.id);case"error":return a.jsx("div",{className:"my-2 px-3 py-2 rounded-lg bg-red-900/10 border border-red-500/20 text-sm text-red-400",children:p.content},p.id);default:return null}}),t&&e.blocks.length===0&&a.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 text-sm",children:[a.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-indigo-400 animate-pulse"}),a.jsx("span",{children:"Thinking..."})]})]})})}const yX=80;function gC({messages:e,isStreaming:t,isLoadingHistory:n,isReplaying:r,hasOlderMessages:s,isLoadingOlder:o,onLoadOlder:l,onRespondPermission:u,onRespondInput:d}){var C;const f=S.useRef(null),p=S.useRef(!0),[m,g]=ht(lO),[b,y]=S.useState(null),v=S.useRef(0),_=S.useRef(!1),N=S.useRef(null),j=S.useRef(0);S.useEffect(()=>{_.current=!!o},[o]);const k=S.useCallback(()=>{if(!f.current)return;const{scrollTop:A,scrollHeight:T,clientHeight:M}=f.current;p.current=T-A-M<100,A<yX&&s&&!_.current&&l&&(v.current=T,p.current=!1,l())},[s,l]);return S.useLayoutEffect(()=>{var z;const A=f.current;if(!A||e.length===0){N.current=((z=e[0])==null?void 0:z.id)??null,j.current=e.length;return}const T=e[0].id;if(e.length>j.current&&N.current!==null&&T!==N.current&&v.current>0){const D=A.scrollHeight-v.current;D>0&&(A.scrollTop+=D),v.current=0,p.current=!1}N.current=T,j.current=e.length},[e]),S.useEffect(()=>{if(!r&&p.current&&f.current){if(m!==null)return;f.current.scrollTop=f.current.scrollHeight}},[e,r,m]),S.useEffect(()=>{if(r||m===null||e.length===0)return;const A=m*2;if(A>=e.length){g(null);return}requestAnimationFrame(()=>{var M;const T=(M=f.current)==null?void 0:M.querySelector(`[data-msg-index="${A}"]`);T&&(T.scrollIntoView({behavior:"smooth",block:"center"}),y(A),setTimeout(()=>y(null),2500)),g(null)})},[r,m,e.length,g]),e.length===0?n||r?a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Loading messages..."})]})}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-600 text-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"mb-1",children:"Start a conversation"}),a.jsx("p",{className:"text-xs",children:"The assistant can create tasks, plans, and more."})]})}):a.jsxs("div",{ref:f,onScroll:k,className:"flex-1 overflow-y-auto px-4 py-4",children:[o&&a.jsxs("div",{className:"flex items-center justify-center py-3",children:[a.jsxs("svg",{className:"w-4 h-4 animate-spin text-gray-500",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Loading older messages..."})]}),!s&&e.length>0&&!o&&a.jsx("div",{className:"text-center text-[10px] text-gray-600 py-2 mb-2",children:" Beginning of conversation "}),e.map((A,T)=>a.jsx("div",{"data-msg-index":T,children:a.jsx(bX,{message:A,isStreaming:t&&T===e.length-1&&A.role==="assistant",highlighted:b===T,onRespondPermission:u,onRespondInput:d})},A.id)),t&&((C=e[e.length-1])==null?void 0:C.role)==="user"&&a.jsxs("div",{className:"mb-4 flex items-center gap-1.5",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 animate-[bounce_1s_ease-in-out_infinite]"}),a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 animate-[bounce_1s_ease-in-out_0.15s_infinite]"}),a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 animate-[bounce_1s_ease-in-out_0.3s_infinite]"})]})]})}const A0={bypassPermissions:"Bypass",acceptEdits:"Accept Edits",default:"Default",plan:"Plan Only"},xC={bypassPermissions:"bg-emerald-400",acceptEdits:"bg-blue-400",default:"bg-amber-400",plan:"bg-gray-400"};function bC({onSend:e,onInterrupt:t,isStreaming:n,disabled:r,sessionId:s,onChangePermissionMode:o}){const[l,u]=S.useState(""),d=S.useRef(null),[f,p]=ht(cO),m=Ve(yu),[g,b]=S.useState(!1),[y,v]=S.useState(!1),_=S.useRef(null),N=f??(m==null?void 0:m.mode)??"default",j=S.useCallback(()=>{const T=d.current;T&&(T.style.height="auto",T.style.height=Math.min(T.scrollHeight,150)+"px")},[]);S.useEffect(()=>{j()},[l,j]),S.useEffect(()=>{if(!g)return;const T=M=>{_.current&&!_.current.contains(M.target)&&b(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[g]);const k=()=>{const T=l.trim();T&&(e(T),u(""))},C=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),k())},A=T=>{s&&o?o(T):T===(m==null?void 0:m.mode)?p(null):p(T),b(!1),v(!0),setTimeout(()=>v(!1),1e3)};return a.jsxs("div",{className:"border-t border-white/[0.06] p-3",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-1.5",ref:_,children:[a.jsx("span",{className:"text-[10px] text-gray-500",children:"Mode:"}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>b(!g),className:`inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] bg-white/[0.04] border text-gray-300 hover:bg-white/[0.06] transition-all duration-300 ${y?"border-indigo-400/50 ring-1 ring-indigo-400/30":"border-white/[0.08]"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${xC[N]}`}),a.jsx("span",{children:A0[N]}),f&&!s&&a.jsx("span",{className:"text-[8px] text-indigo-400 ml-0.5",children:"(override)"}),a.jsx("svg",{className:"w-2.5 h-2.5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),g&&a.jsx("div",{className:"absolute bottom-full left-0 mb-1 z-20 w-40 bg-[#1e2130] border border-white/[0.08] rounded-lg shadow-xl py-1",children:Object.keys(A0).map(T=>{const M=N===T,z=T===(m==null?void 0:m.mode);return a.jsxs("button",{onClick:()=>A(T),className:`w-full text-left px-3 py-1.5 text-xs flex items-center gap-1.5 transition-colors ${M?"text-gray-100 bg-white/[0.04]":"text-gray-400 hover:bg-white/[0.04] hover:text-gray-200"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${xC[T]}`}),a.jsx("span",{children:A0[T]}),z&&a.jsx("span",{className:"text-[9px] text-gray-600 ml-auto",children:"default"})]},T)})})]})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("textarea",{ref:d,value:l,onChange:T=>u(T.target.value),onKeyDown:C,disabled:r,rows:1,placeholder:"Send a message...",className:"flex-1 resize-none bg-white/[0.04] border border-white/[0.06] rounded-lg px-3 py-2 text-sm text-gray-200 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40 disabled:opacity-50"}),a.jsx("div",{className:`shrink-0 overflow-hidden transition-all duration-200 ease-in-out ${n?"w-8 opacity-100":"w-0 opacity-0"}`,children:a.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-lg bg-red-600/20 text-red-400 hover:bg-red-600/30 transition-colors",title:"Stop generating",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})})}),a.jsx("button",{onClick:k,disabled:r||!l.trim(),className:"shrink-0 w-8 h-8 flex items-center justify-center rounded-lg bg-indigo-600/20 text-indigo-400 hover:bg-indigo-600/30 transition-colors disabled:opacity-30",title:"Send message",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14M12 5l7 7-7 7"})})})]})]})}const vX=30,wX={bypassPermissions:"bg-emerald-400",acceptEdits:"bg-blue-400",default:"bg-amber-400",plan:"bg-gray-400"};function _X(e){return e.startsWith("~/")?e:e.replace(/^\/(?:Users|home)\/[^/]+\//,"~/")}function NX(e){const t=new Date(e),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(r);s.setDate(s.getDate()-1);const o=new Date(r);o.setDate(o.getDate()-7);const l=new Date(r);return l.setDate(l.getDate()-30),t>=r?"Today":t>=s?"Yesterday":t>=o?"This week":t>=l?"This month":"Older"}function SX(e){const t=new Map,n=["Today","Yesterday","This week","This month","Older"];for(const r of e){const s=NX(r.updated_at);t.has(s)||t.set(s,[]),t.get(s).push(r)}return n.filter(r=>t.has(r)).map(r=>({group:r,sessions:t.get(r)}))}function M0({activeSessionId:e,onSelect:t,onClose:n,embedded:r}){const[s,o]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(!1),[p,m]=S.useState(!1),g=S.useRef(0),b=S.useRef(null),y=Ve(fO),[v,_]=S.useState(()=>new Set);S.useEffect(()=>{const ae=__().on(pe=>{pe.entity_type==="chat_session"&&pe.action==="updated"&&pe.payload&&typeof pe.payload.is_streaming=="boolean"&&_(ve=>{const xe=new Set(ve);return pe.payload.is_streaming?xe.add(pe.entity_id):xe.delete(pe.entity_id),xe})});return()=>{ae()}},[]);const[N,j]=S.useState([]),[k,C]=S.useState([]),[A,T]=S.useState(""),[M,z]=S.useState(""),[$,D]=S.useState([]),[I,F]=S.useState(""),[K,B]=S.useState(""),[G,U]=S.useState([]),[Y,W]=S.useState(!1),X=S.useRef(null),L=K.trim().length>0;S.useEffect(()=>{const J=setTimeout(()=>{B(I)},300);return()=>clearTimeout(J)},[I]),S.useEffect(()=>{Tt.list({limit:100}).then(J=>{j(J.items||[])}),bt.list({limit:100}).then(J=>{C(J.items||[])})},[]),S.useEffect(()=>{if(!A){D([]);return}bt.listProjects(A).then(J=>{D((J.items||[]).map(ae=>({id:ae.id,slug:ae.slug})))})},[A]);const q=S.useCallback(async(J=!1)=>{J?m(!0):(u(!0),g.current=0);try{const ae={limit:vX,offset:J?g.current:0};M&&(ae.project_slug=M);const pe=await Ms.listSessions(ae),ve=pe.items||[];o(J?xe=>[...xe,...ve]:ve),g.current=(J?g.current:0)+ve.length,f(!!pe.has_more)}catch{}finally{J?m(!1):u(!1)}},[M]);S.useEffect(()=>{q(!1)},[q,y]),S.useEffect(()=>{const J=b.current;if(!J)return;const ae=new IntersectionObserver(pe=>{pe[0].isIntersecting&&d&&!p&&!l&&q(!0)},{threshold:.1});return ae.observe(J),()=>ae.disconnect()},[d,p,l,q]),S.useEffect(()=>{if(!K.trim()){U([]),W(!1);return}let J=!1;return W(!0),Ms.searchMessages({q:K,project_slug:M||void 0,limit:15}).then(ae=>{J||U(ae)}).catch(()=>{J||U([])}).finally(()=>{J||W(!1)}),()=>{J=!0}},[K,M]);const P=S.useMemo(()=>{if(!A||$.length===0)return s;const J=new Set($.map(ae=>ae.slug));return s.filter(ae=>ae.project_slug&&J.has(ae.project_slug))},[s,A,$]),O=S.useMemo(()=>SX(P),[P]),H=S.useMemo(()=>{if(!A||$.length===0)return N;const J=new Set($.map(ae=>ae.id));return N.filter(ae=>J.has(ae.id))},[N,A,$]),Z=async(J,ae)=>{J.stopPropagation(),await Ms.deleteSession(ae),o(pe=>pe.filter(ve=>ve.id!==ae))},Q=J=>{T(J),z("")},ie=()=>{var J;F(""),B(""),U([]),(J=X.current)==null||J.focus()},ee=J=>{const ae=new Date(J),ve=new Date().getTime()-ae.getTime(),xe=Math.floor(ve/6e4);if(xe<1)return"just now";if(xe<60)return`${xe}m ago`;const Se=Math.floor(xe/60);return Se<24?`${Se}h ago`:`${Math.floor(Se/24)}d ago`},re=J=>{const ae=new Date(J*1e3),ve=new Date().getTime()-ae.getTime(),xe=Math.floor(ve/6e4);if(xe<1)return"just now";if(xe<60)return`${xe}m ago`;const Se=Math.floor(xe/60);return Se<24?`${Se}h ago`:`${Math.floor(Se/24)}d ago`},ue=J=>J?`$${J.toFixed(2)}`:null,ge=J=>{const ae=J.id===e,pe=J.title||`Session ${J.id.slice(0,8)}`;return a.jsxs("div",{role:"button",tabIndex:0,onClick:()=>ae?n():t(J.id,void 0,pe),onKeyDown:ve=>{(ve.key==="Enter"||ve.key===" ")&&(ve.preventDefault(),ae?n():t(J.id,void 0,pe))},className:`w-full text-left px-3 py-2.5 transition-all group flex items-start gap-2 cursor-pointer ${ae?"bg-indigo-500/[0.08] border-l-2 border-indigo-500 pl-2.5":"hover:bg-white/[0.04] border-l-2 border-transparent"}`,children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[v.has(J.id)&&a.jsx("span",{className:"shrink-0 w-2 h-2 rounded-full bg-emerald-400 animate-pulse",title:"Streaming..."}),a.jsx("span",{className:`text-sm truncate ${ae?"text-gray-200 font-medium":"text-gray-300"}`,children:pe}),J.permission_mode&&a.jsx("span",{className:`shrink-0 w-1.5 h-1.5 rounded-full ${wX[J.permission_mode]??"bg-gray-400"}`,title:J.permission_mode})]}),v.has(J.id)?a.jsx("div",{className:"text-[10px] text-emerald-400/70 mt-0.5",children:"Working..."}):J.preview&&J.preview!==J.title&&a.jsx("div",{className:"text-xs text-gray-500 truncate mt-0.5",children:J.preview}),J.cwd&&a.jsxs("div",{className:"flex items-center gap-1 mt-0.5 min-w-0",children:[a.jsx("svg",{className:"w-2.5 h-2.5 text-gray-600 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),a.jsx("span",{className:"text-[10px] text-gray-600 truncate",children:_X(J.cwd)})]}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-1 flex-wrap overflow-hidden",children:[a.jsx("span",{className:"text-[10px] text-gray-600 shrink-0",children:ee(J.updated_at)}),a.jsx("span",{className:"text-[10px] text-gray-700 shrink-0",children:""}),a.jsxs("span",{className:"text-[10px] text-gray-600 shrink-0",children:[J.message_count," msgs"]}),J.model&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-[10px] text-gray-700 shrink-0",children:""}),a.jsx("span",{className:"text-[10px] text-gray-600 truncate max-w-[80px]",children:J.model})]}),ue(J.total_cost_usd)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-[10px] text-gray-700 shrink-0",children:""}),a.jsx("span",{className:"text-[10px] text-gray-600 shrink-0",children:ue(J.total_cost_usd)})]}),J.project_slug&&a.jsx("span",{className:"text-[10px] bg-indigo-500/10 text-indigo-400 px-1.5 py-0.5 rounded-full ml-auto truncate max-w-[100px]",children:J.project_slug})]})]}),a.jsx("button",{onClick:ve=>Z(ve,J.id),className:"shrink-0 p-1 text-gray-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",title:"Delete session",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},J.id)};return a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[!r&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.06]",children:[a.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Sessions"}),a.jsx("button",{onClick:n,className:"text-xs text-gray-500 hover:text-gray-300 transition-colors",children:"Back"})]}),a.jsxs("div",{className:"px-3 py-2 border-b border-white/[0.06] space-y-1.5",children:[a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{ref:X,type:"text",value:I,onChange:J=>F(J.target.value),placeholder:"Search conversations...",className:"w-full pl-7 pr-7 py-1.5 text-xs bg-white/[0.03] border border-white/[0.06] rounded-md text-gray-300 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40 focus:bg-white/[0.05] transition-colors"}),I&&a.jsx("button",{onClick:ie,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx(Tn,{value:A,onChange:Q,options:[{value:"",label:"All workspaces"},...k.map(J=>({value:J.slug,label:J.name}))],placeholder:"All workspaces",icon:a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),a.jsx(Tn,{value:M,onChange:z,options:[{value:"",label:"All projects"},...H.map(J=>({value:J.slug,label:J.name}))],placeholder:"All projects",icon:a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:L?Y?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-600 text-sm",children:[a.jsxs("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:4}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):G.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-600 text-sm",children:[a.jsx("svg",{className:"w-6 h-6 mb-2 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"No results for ",K,""]}):a.jsxs("div",{className:"py-1",children:[a.jsxs("div",{className:"px-4 py-1.5 text-[10px] text-gray-600 uppercase tracking-wider",children:[G.length," session",G.length!==1?"s":""," found"]}),G.map(J=>a.jsxs("div",{className:"border-b border-white/[0.03] last:border-b-0",children:[a.jsxs("button",{onClick:()=>t(J.session_id,void 0,J.session_title),className:"w-full text-left px-4 py-2 hover:bg-white/[0.04] transition-colors",children:[a.jsx("div",{className:"text-sm text-gray-300 truncate",children:J.session_title||`Session ${J.session_id.slice(0,8)}`}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[a.jsxs("span",{className:"text-[10px] text-gray-600",children:[J.hits.length," match",J.hits.length!==1?"es":""]}),J.project_slug&&a.jsx("span",{className:"text-[10px] bg-indigo-500/10 text-indigo-400 px-1.5 py-0.5 rounded-full",children:J.project_slug})]})]}),J.hits.slice(0,3).map(ae=>a.jsx("button",{onClick:()=>t(J.session_id,ae.turn_index,J.session_title),className:"w-full text-left px-4 pl-7 py-1.5 hover:bg-indigo-500/[0.06] transition-colors group",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:`shrink-0 text-[9px] mt-0.5 px-1 py-0.5 rounded font-medium ${ae.role==="user"?"bg-blue-500/10 text-blue-400":"bg-emerald-500/10 text-emerald-400"}`,children:ae.role==="user"?"U":"A"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs text-gray-400 line-clamp-2",children:ae.content_snippet}),a.jsx("span",{className:"text-[10px] text-gray-600 mt-0.5",children:re(ae.created_at)})]}),a.jsx("svg",{className:"w-3 h-3 text-gray-700 group-hover:text-indigo-400 shrink-0 mt-1 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})},ae.message_id)),J.hits.length>3&&a.jsxs("button",{onClick:()=>t(J.session_id,void 0,J.session_title),className:"w-full text-left px-4 pl-7 py-1 text-[10px] text-gray-600 hover:text-gray-400 transition-colors",children:["+",J.hits.length-3," more match",J.hits.length-3!==1?"es":"","..."]})]},J.session_id||J.conversation_id))]}):l?a.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-600 text-sm",children:[a.jsxs("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:4}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):P.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-600 text-sm",children:[a.jsx("svg",{className:"w-6 h-6 mb-2 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"No conversations yet"]}):a.jsxs("div",{className:"py-1",children:[O.map(({group:J,sessions:ae})=>a.jsxs("div",{children:[a.jsxs("div",{className:"px-4 pt-3 pb-1.5 flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wider",children:J}),a.jsx("div",{className:"flex-1 h-px bg-white/[0.04]"}),a.jsx("span",{className:"text-[10px] text-gray-600",children:ae.length})]}),ae.map(ge)]},J)),d&&a.jsx("div",{ref:b,className:"flex items-center justify-center py-3",children:p?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-3.5 h-3.5 animate-spin text-gray-500",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"ml-1.5 text-[10px] text-gray-600",children:"Loading more..."})]}):a.jsx("span",{className:"text-[10px] text-gray-700",children:"Scroll for more"})})]})})]})}function yC({value:e,onChange:t}){var f;const n=Ve(g_),[r,s]=S.useState([]),[o,l]=S.useState(!0),[u,d]=S.useState(!1);return S.useEffect(()=>{Tt.list({limit:100}).then(p=>{const m=p.items||[];if(s(m),l(!1),!u&&m.length>0){if(d(!0),n){const g=m.find(b=>b.id===n);if(g){t(g);return}}t(m[0])}}).catch(()=>l(!1))},[]),o?a.jsx("div",{className:"px-4 py-2",children:a.jsx("div",{className:"text-xs text-gray-500",children:"Loading projects..."})}):r.length===0?a.jsx("div",{className:"px-4 py-2",children:a.jsx("div",{className:"text-xs text-red-400",children:"No projects found. Create a project first."})}):a.jsxs("div",{className:"px-4 py-2 border-b border-white/[0.06]",children:[a.jsx("label",{className:"text-[10px] uppercase tracking-wider text-gray-500 mb-1 block",children:"Project"}),a.jsx(Tn,{options:r.map(p=>({value:p.id,label:p.name})),value:e||"",onChange:p=>{const m=r.find(g=>g.id===p)||null;t(m)}}),e&&a.jsx("div",{className:"text-[10px] text-gray-600 mt-1 truncate font-mono",children:(f=r.find(p=>p.id===e))==null?void 0:f.root_path})]})}const vC=[{mode:"bypassPermissions",label:"Bypass",description:"Auto-approve all tools. No prompts.",color:"emerald",bgActive:"bg-emerald-500/10 border-emerald-500/40"},{mode:"acceptEdits",label:"Accept Edits",description:"Auto-approve file edits, prompt for commands.",color:"blue",bgActive:"bg-blue-500/10 border-blue-500/40"},{mode:"default",label:"Default",description:"Prompt for all tool usage.",color:"amber",bgActive:"bg-amber-500/10 border-amber-500/40"},{mode:"plan",label:"Plan Only",description:"Read-only mode. No writes or commands.",color:"gray",bgActive:"bg-gray-500/10 border-gray-400/40"}],kX=[{label:"MCP tools",patterns:["mcp__project-orchestrator__*"]},{label:"Git commands",patterns:["Bash(git *)"]},{label:"Cargo commands",patterns:["Bash(cargo *)"]},{label:"npm commands",patterns:["Bash(npm *)"]},{label:"Read files",patterns:["Read"]},{label:"Edit files",patterns:["Edit"]},{label:"Web search",patterns:["WebSearch"]}],EX=[{label:"Destructive rm",patterns:["Bash(rm -rf *)"]},{label:"Sudo commands",patterns:["Bash(sudo *)"]},{label:"Curl commands",patterns:["Bash(curl *)"]},{label:"Env files",patterns:["Read(.env*)"]}];function jX({value:e,onRemove:t,danger:n}){return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-mono ${n?"bg-red-500/10 text-red-300 border border-red-500/20":"bg-white/[0.06] text-gray-300 border border-white/[0.06]"}`,children:[e,a.jsx("button",{onClick:t,className:"ml-0.5 hover:text-white transition-colors",title:"Remove",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})}function wC({label:e,description:t,patterns:n,onChange:r,presets:s,danger:o}){const[l,u]=S.useState(""),[d,f]=S.useState(!1),p=S.useRef(null);S.useEffect(()=>{if(!d)return;const y=v=>{p.current&&!p.current.contains(v.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[d]);const m=y=>{const v=y.trim();v&&!n.includes(v)&&r([...n,v]),u("")},g=y=>{const v=y.patterns.filter(_=>!n.includes(_));v.length>0&&r([...n,...v]),f(!1)},b=y=>{r(n.filter(v=>v!==y))};return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:`text-xs font-medium ${o?"text-red-400":"text-gray-300"}`,children:e}),a.jsx("p",{className:"text-[10px] text-gray-500",children:t})]}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsx("button",{onClick:()=>f(!d),className:"text-[10px] text-indigo-400 hover:text-indigo-300 transition-colors",children:"+ Presets"}),d&&a.jsx("div",{className:"absolute right-0 top-full mt-1 z-20 w-44 bg-[#1e2130] border border-white/[0.08] rounded-lg shadow-xl py-1",children:s.map(y=>a.jsxs("button",{onClick:()=>g(y),className:"w-full text-left px-3 py-1.5 text-xs text-gray-300 hover:bg-white/[0.04] transition-colors",children:[y.label,a.jsx("span",{className:"block text-[10px] text-gray-500 font-mono",children:y.patterns.join(", ")})]},y.label))})]})]}),n.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5",children:n.map(y=>a.jsx(jX,{value:y,onRemove:()=>b(y),danger:o},y))}),a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("input",{value:l,onChange:y=>u(y.target.value),onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),m(l))},placeholder:"e.g. Bash(git *)",className:"flex-1 bg-white/[0.04] border border-white/[0.06] rounded px-2 py-1 text-xs text-gray-200 placeholder-gray-600 focus:outline-none focus:border-indigo-500/40 font-mono"}),a.jsx("button",{onClick:()=>m(l),disabled:!l.trim(),className:"px-2 py-1 rounded text-xs bg-white/[0.06] text-gray-400 hover:text-gray-200 hover:bg-white/[0.08] transition-colors disabled:opacity-30",children:"Add"})]})]})}function _C({onClose:e}){const[t,n]=ht(yu),r=Ir(),[s,o]=S.useState("bypassPermissions"),[l,u]=S.useState([]),[d,f]=S.useState([]),[p,m]=S.useState(!0),[g,b]=S.useState(!1),[y,v]=S.useState(null);S.useEffect(()=>{let C=!1;return(async()=>{try{m(!0),v(null);const T=await Ms.getPermissionConfig();if(C)return;n(T),o(T.mode),u([...T.allowed_tools]),f([...T.disallowed_tools])}catch(T){if(C)return;v(T instanceof Error?T.message:"Failed to load permission config")}finally{C||m(!1)}})(),()=>{C=!0}},[n]);const _=t!==null&&(s!==t.mode||JSON.stringify(l)!==JSON.stringify(t.allowed_tools)||JSON.stringify(d)!==JSON.stringify(t.disallowed_tools)),N=S.useCallback(async()=>{const C={mode:s,allowed_tools:l,disallowed_tools:d};try{b(!0);const A=await Ms.updatePermissionConfig(C);n(A),r.success("Permission settings saved")}catch(A){r.error(A instanceof Error?A.message:"Failed to save")}finally{b(!1)}},[s,l,d,n,r]),j=()=>{t&&(o(t.mode),u([...t.allowed_tools]),f([...t.disallowed_tools]))},k=vC.find(C=>C.mode===s);return a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.06] shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a7.723 7.723 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Permission Settings"})]}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Close settings",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-5",children:[p&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("svg",{className:"w-5 h-5 animate-spin text-gray-500",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),y&&a.jsx("div",{className:"rounded-lg bg-red-500/10 border border-red-500/20 px-3 py-2 text-xs text-red-400",children:y}),!p&&!y&&a.jsxs(a.Fragment,{children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Permission Mode"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:vC.map(C=>{const A=s===C.mode,T={emerald:"bg-emerald-400",blue:"bg-blue-400",amber:"bg-amber-400",gray:"bg-gray-400"}[C.color];return a.jsxs("button",{onClick:()=>o(C.mode),className:`text-left rounded-lg border p-2.5 transition-all ${A?C.bgActive:"border-white/[0.06] hover:border-white/[0.12] hover:bg-white/[0.02]"}`,children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${A?T:"bg-gray-600"}`}),a.jsx("span",{className:`text-xs font-medium ${A?"text-gray-100":"text-gray-400"}`,children:C.label})]}),a.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:C.description})]},C.mode)})})]}),a.jsx("section",{children:a.jsx(wC,{label:"Allowed Tools",description:"Tool patterns to auto-approve",patterns:l,onChange:u,presets:kX})}),a.jsx("section",{children:a.jsx(wC,{label:"Disallowed Tools",description:"Tool patterns to always block",patterns:d,onChange:f,presets:EX,danger:!0})}),k&&a.jsx("div",{className:"rounded-lg bg-white/[0.02] border border-white/[0.06] px-3 py-2",children:a.jsxs("p",{className:"text-[10px] text-gray-500",children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Active:"})," ",k.label,"  ",k.description,l.length>0&&a.jsxs(a.Fragment,{children:["  ",l.length," allowed pattern",l.length>1?"s":""]}),d.length>0&&a.jsxs(a.Fragment,{children:["  ",d.length," blocked pattern",d.length>1?"s":""]})]})})]})]}),!p&&!y&&a.jsxs("div",{className:"px-4 py-3 border-t border-white/[0.06] flex items-center justify-end gap-2 shrink-0",children:[_&&a.jsx("button",{onClick:j,className:"px-3 py-1.5 rounded-md text-xs text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:N,disabled:!_||g,className:"px-3 py-1.5 rounded-md text-xs font-medium bg-indigo-600/20 text-indigo-400 hover:bg-indigo-600/30 transition-colors disabled:opacity-30",children:g?"Saving...":"Save"})]})]})}const CX=320,TX=800,AX=768;function NC({status:e}){return e==="connected"?a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:"Connected"}):e==="reconnecting"||e==="connecting"?a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse shrink-0",title:"Reconnecting..."}):a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-500 shrink-0",title:"Disconnected"})}function MX(){var W,X;const[e,t]=ht(aO),[n,r]=ht(oO),[s,o]=S.useState(!1),[l,u]=S.useState(!1),[d,f]=S.useState(!1),[p,m]=S.useState(null),[g,b]=S.useState(!1),[y,v]=S.useState(null),[_,N]=S.useState(!1),j=M7(),k=S.useRef(null),C=At(lO),A=Ve(yu),T=At(yu);S.useEffect(()=>{if(A)return;let L=!1;return Ms.getPermissionConfig().then(q=>{L||T(q)}).catch(()=>{}),()=>{L=!0}},[A,T]);const M=A?{bypassPermissions:"bg-emerald-400",acceptEdits:"bg-blue-400",default:"bg-amber-400",plan:"bg-gray-400"}[A.mode]||"bg-gray-400":null,z=e!=="closed",$=e==="fullscreen",D=!j.sessionId&&!j.isSending,I=SO(),F=_n&&!I;S.useEffect(()=>{const L=window.matchMedia(`(max-width: ${AX-1}px)`);N(L.matches);const q=P=>{N(P.matches),P.matches||f(!1)};return L.addEventListener("change",q),()=>L.removeEventListener("change",q)},[]),S.useEffect(()=>{if(!j.sessionId){v(null);return}},[j.sessionId]);const K=S.useCallback(L=>{L.preventDefault(),b(!0)},[]);S.useEffect(()=>{if(!g)return;const L=P=>{const O=window.innerWidth-P.clientX;r(Math.min(TX,Math.max(CX,O)))},q=()=>{b(!1)};return document.addEventListener("mousemove",L),document.addEventListener("mouseup",q),document.body.style.cursor="col-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",q),document.body.style.cursor="",document.body.style.userSelect=""}},[g,r]);const B=L=>{D&&!p||j.sendMessage(L,D?{cwd:p.root_path,projectSlug:p.slug}:void 0)},G=()=>{j.newSession(),m(null),v(null),o(!1)},U=(L,q,P)=>{C(q??null),j.loadSession(L),v(P??null),$||o(!1),_&&f(!1)},Y=D?"New Chat":y||"Chat";return $?a.jsxs("div",{ref:k,className:`fixed inset-0 z-30 bg-[#1a1d27] flex ${g?"":"transition-transform duration-300 ease-in-out"} ${z?"translate-x-0":"translate-x-full"}`,children:[a.jsxs("div",{className:"hidden md:flex w-72 shrink-0 border-r border-white/[0.06] flex-col",children:[a.jsxs("div",{className:`flex items-center justify-between px-4 shrink-0 ${F?"h-[88px] pt-7":"h-14"}`,children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Conversations"}),a.jsx("button",{onClick:G,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"New conversation",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})})]}),a.jsx(M0,{activeSessionId:j.sessionId,onSelect:U,onClose:()=>{},embedded:!0})]}),_&&d&&a.jsxs("div",{className:"fixed inset-0 z-40 flex flex-col bg-[#1a1d27]",children:[a.jsxs("div",{className:`flex items-center justify-between px-4 shrink-0 ${F?"h-[88px] pt-7":"h-14"}`,children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Conversations"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("button",{onClick:()=>f(!1),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Back to chat",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})})]}),a.jsx("div",{className:"px-3 py-2 border-b border-white/[0.06]",children:a.jsxs("button",{onClick:()=>{G(),f(!1)},className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-indigo-500/10 hover:bg-indigo-500/20 text-indigo-400 text-sm font-medium transition-colors",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"New conversation"]})}),a.jsx(M0,{activeSessionId:j.sessionId,onSelect:U,onClose:()=>f(!1),embedded:!0})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-white/[0.06] shrink-0",children:[a.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[a.jsx("button",{onClick:()=>_?f(!0):void 0,className:`shrink-0 p-1.5 rounded-md transition-colors md:hidden ${d?"text-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-200 hover:bg-white/[0.04]"}`,title:"Sessions",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),!D&&a.jsx(NC,{status:j.wsStatus}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-300 truncate block",children:Y}),!D&&((W=j.sessionMeta)==null?void 0:W.projectSlug)&&a.jsx(ln,{to:`/projects/${j.sessionMeta.projectSlug}`,onClick:L=>L.stopPropagation(),className:"text-[10px] text-indigo-400 hover:text-indigo-300 truncate block transition-colors",children:j.sessionMeta.projectSlug})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:G,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors md:hidden",title:"New chat",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),a.jsxs("button",{onClick:()=>u(!l),className:`relative p-1.5 rounded-md transition-colors ${l?"text-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-200 hover:bg-white/[0.04]"}`,title:"Permission settings",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a7.723 7.723 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),M&&a.jsx("span",{className:`absolute -top-0.5 -right-0.5 w-2 h-2 rounded-full ${M} ring-1 ring-[#1a1d27]`})]}),a.jsx("button",{onClick:()=>t("open"),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Exit fullscreen",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9L4 4m0 0v5m0-5h5m6 6l5 5m0 0v-5m0 5h-5"})})}),a.jsx("button",{onClick:()=>t("closed"),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Close",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),!D&&j.wsStatus==="reconnecting"&&a.jsxs("div",{className:"px-4 py-1.5 bg-amber-500/10 border-b border-amber-500/20 text-amber-400 text-xs flex items-center gap-1.5",children:[a.jsxs("svg",{className:"w-3 h-3 animate-spin shrink-0",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Reconnecting..."})]}),!D&&j.wsStatus==="disconnected"&&j.sessionId&&a.jsx("div",{className:"px-4 py-1.5 bg-red-500/10 border-b border-red-500/20 text-red-400 text-xs flex items-center gap-1.5",children:a.jsx("span",{children:"Connection lost"})}),l?a.jsx(_C,{onClose:()=>u(!1)}):a.jsxs(a.Fragment,{children:[D&&a.jsx(yC,{value:(p==null?void 0:p.id)||null,onChange:m}),a.jsx(gC,{messages:j.messages,isStreaming:j.isStreaming,isLoadingHistory:j.isLoadingHistory,isReplaying:j.isReplaying,hasOlderMessages:j.hasOlderMessages,isLoadingOlder:j.isLoadingOlder,onLoadOlder:j.loadOlderMessages,onRespondPermission:j.respondPermission,onRespondInput:j.respondInput}),a.jsx(bC,{onSend:B,onInterrupt:j.interrupt,isStreaming:j.isStreaming,disabled:D&&!p,sessionId:j.sessionId,onChangePermissionMode:j.changePermissionMode})]})]})]}):a.jsxs("div",{ref:k,className:`fixed z-30 bg-[#1a1d27] border-l border-white/[0.06] flex flex-col ${g?"":"transition-transform duration-300 ease-in-out"} ${z?"translate-x-0":"translate-x-full"} top-0 right-0 bottom-0 w-full`,style:{maxWidth:_?void 0:n},children:[a.jsx("div",{onMouseDown:K,className:`absolute left-0 top-0 bottom-0 w-1 cursor-col-resize z-10 hover:bg-indigo-500/40 transition-colors hidden md:block ${g?"bg-indigo-500/50":""}`}),a.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-white/[0.06] shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("button",{onClick:()=>{o(!s),u(!1)},className:`shrink-0 p-1.5 rounded-md transition-colors ${s?"text-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-200 hover:bg-white/[0.04]"}`,title:"Sessions",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("div",{className:"min-w-0 flex items-center gap-1.5",children:[!D&&a.jsx(NC,{status:j.wsStatus}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-300 truncate block",children:Y}),!D&&((X=j.sessionMeta)==null?void 0:X.projectSlug)&&a.jsx(ln,{to:`/projects/${j.sessionMeta.projectSlug}`,onClick:L=>L.stopPropagation(),className:"text-[10px] text-indigo-400 hover:text-indigo-300 truncate block transition-colors",children:j.sessionMeta.projectSlug})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:G,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"New chat",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),a.jsxs("button",{onClick:()=>{u(!l),o(!1)},className:`relative p-1.5 rounded-md transition-colors ${l?"text-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-200 hover:bg-white/[0.04]"}`,title:"Permission settings",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.241-.438.613-.431.992a7.723 7.723 0 010 .255c-.007.378.138.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 010-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),M&&a.jsx("span",{className:`absolute -top-0.5 -right-0.5 w-2 h-2 rounded-full ${M} ring-1 ring-[#1a1d27]`})]}),a.jsx("button",{onClick:()=>t("fullscreen"),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors hidden md:flex",title:"Fullscreen",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})}),a.jsx("button",{onClick:()=>t("closed"),className:"p-1.5 rounded-md text-gray-400 hover:text-gray-200 hover:bg-white/[0.04] transition-colors",title:"Close",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),!D&&j.wsStatus==="reconnecting"&&a.jsxs("div",{className:"px-4 py-1.5 bg-amber-500/10 border-b border-amber-500/20 text-amber-400 text-xs flex items-center gap-1.5",children:[a.jsxs("svg",{className:"w-3 h-3 animate-spin shrink-0",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Reconnecting..."})]}),!D&&j.wsStatus==="disconnected"&&j.sessionId&&a.jsx("div",{className:"px-4 py-1.5 bg-red-500/10 border-b border-red-500/20 text-red-400 text-xs flex items-center gap-1.5",children:a.jsx("span",{children:"Connection lost"})}),l?a.jsx(_C,{onClose:()=>u(!1)}):s?a.jsx(M0,{activeSessionId:j.sessionId,onSelect:U,onClose:()=>o(!1)}):a.jsxs(a.Fragment,{children:[D&&a.jsx(yC,{value:(p==null?void 0:p.id)||null,onChange:m}),a.jsx(gC,{messages:j.messages,isStreaming:j.isStreaming,isLoadingHistory:j.isLoadingHistory,isReplaying:j.isReplaying,hasOlderMessages:j.hasOlderMessages,isLoadingOlder:j.isLoadingOlder,onLoadOlder:j.loadOlderMessages,onRespondPermission:j.respondPermission,onRespondInput:j.respondInput}),a.jsx(bC,{onSend:B,onInterrupt:j.interrupt,isStreaming:j.isStreaming,disabled:D&&!p,sessionId:j.sessionId,onChangePermissionMode:j.changePermissionMode})]})]})}function SC({dropUp:e=!1,showName:t=!1}={}){const n=Ve(ro),r=Ve(Al),[s,o]=S.useState(!1),l=S.useRef(null);if(S.useEffect(()=>{if(!s)return;function f(p){l.current&&!l.current.contains(p.target)&&o(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[s]),S.useEffect(()=>{if(!s)return;function f(p){p.key==="Escape"&&o(!1)}return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[s]),n==="none"||!r)return null;const u=r.name.split(" ").map(f=>f[0]).join("").slice(0,2).toUpperCase(),d=()=>{Oi()};return a.jsxs("div",{className:"relative",ref:l,children:[a.jsxs("button",{onClick:()=>o(!s),className:"flex items-center gap-2 rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-white/[0.06] hover:text-gray-200 min-w-0",children:[r.picture_url?a.jsx("img",{src:r.picture_url,alt:r.name,className:"h-7 w-7 rounded-full shrink-0",referrerPolicy:"no-referrer"}):a.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-indigo-600 text-xs font-medium text-white shrink-0",children:u}),t&&a.jsx("span",{className:"truncate text-sm text-gray-300",children:r.name})]}),s&&a.jsxs("div",{className:`absolute z-50 w-56 rounded-lg border border-white/[0.08] bg-[#1e2130] py-1 shadow-xl ${e?"bottom-full left-0 mb-2":"right-0 top-full mt-2"}`,children:[a.jsxs("div",{className:"border-b border-white/[0.06] px-4 py-3",children:[a.jsx("p",{className:"truncate text-sm font-medium text-gray-200",children:r.name}),a.jsx("p",{className:"truncate text-xs text-gray-500",children:r.email})]}),a.jsxs("button",{onClick:d,className:"flex w-full items-center gap-2 px-4 py-2.5 text-sm text-gray-400 transition-colors hover:bg-white/[0.06] hover:text-gray-200",children:[a.jsx(RX,{className:"h-4 w-4"}),"Sign out"]})]})]})}function RX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}const OX=[{label:"Organize",items:[{name:"Workspaces",href:"/workspaces",icon:PX},{name:"Projects",href:"/projects",icon:BX},{name:"Milestones",href:"/milestones",icon:zX}]},{label:"Plan",items:[{name:"Plans",href:"/plans",icon:$X},{name:"Tasks",href:"/tasks",icon:UX}]},{label:"Knowledge",items:[{name:"Notes",href:"/notes",icon:qX},{name:"Code",href:"/code",icon:FX}]}];function kC({collapsed:e,trafficLightPad:t}){return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex items-center px-4 ${t?"h-[88px] pt-7":"h-16"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/logo-32.png",alt:"PO",className:"w-8 h-8 rounded-lg"}),!e&&a.jsx("span",{className:"font-semibold text-gray-100",children:"Project Orchestrator"})]})}),a.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:a.jsx("div",{className:"space-y-5 px-2",children:OX.map(n=>a.jsxs("div",{children:[e?a.jsx("div",{className:"h-px bg-white/[0.06] mx-2 mb-2"}):a.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500 px-3 mb-1.5",children:n.label}),a.jsx("ul",{className:"space-y-0.5",children:n.items.map(r=>a.jsx("li",{children:a.jsxs(uh,{to:r.href,className:({isActive:s})=>`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${s?"bg-indigo-500/15 text-indigo-400 font-medium border-l-[3px] border-indigo-500 -ml-[3px]":"text-gray-400 hover:bg-white/[0.06] hover:text-gray-200"}`,children:[a.jsx(r.icon,{className:"w-5 h-5 flex-shrink-0"}),!e&&a.jsx("span",{children:r.name})]})},r.name))})]},n.label))})})]})}function DX(){const[e,t]=ht(JB),[n,r]=ht(aO),[s]=ht(oO),[o,l]=S.useState(!1),u=Bs(),d=gO("(min-width: 640px)"),f=n==="open",p=n==="fullscreen",m=Ve(uO),g=SO(),b=_n&&!g;D7();const y=NO();return S.useEffect(()=>{l(!1)},[u.pathname]),S.useEffect(()=>{if(o)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[o]),a.jsxs("div",{className:"flex min-h-0 flex-1 bg-[#0f1117]",children:[a.jsxs("aside",{className:`${e?"w-16":"w-64"} hidden md:flex flex-col bg-[#1a1d27] border-r border-white/[0.06] transition-all duration-200`,children:[a.jsx(kC,{collapsed:e,trafficLightPad:b}),a.jsxs("div",{className:`border-t border-white/[0.06] p-2 ${e?"flex flex-col items-center gap-1":"flex items-center gap-1"}`,children:[a.jsx(SC,{dropUp:!0,showName:!e}),!e&&a.jsx("div",{className:"flex-1"}),a.jsx("button",{onClick:()=>t(!e),className:"flex items-center justify-center p-2 text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] rounded-lg transition-colors",children:e?a.jsx(HX,{className:"w-5 h-5"}):a.jsx(EC,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:`fixed inset-0 z-50 md:hidden transition-opacity duration-200 ${o?"opacity-100":"opacity-0 pointer-events-none"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>l(!1)}),a.jsxs("aside",{className:`absolute left-0 top-0 bottom-0 w-64 flex flex-col bg-[#1a1d27] border-r border-white/[0.06] transition-transform duration-200 ${o?"translate-x-0":"-translate-x-full"}`,children:[a.jsx(kC,{collapsed:!1}),a.jsxs("div",{className:"border-t border-white/[0.06] p-2 flex items-center gap-1",children:[a.jsx(SC,{dropUp:!0,showName:!0}),a.jsx("div",{className:"flex-1"}),a.jsx("button",{onClick:()=>l(!1),className:"flex items-center justify-center p-2 text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] rounded-lg transition-colors",children:a.jsx(EC,{className:"w-5 h-5"})})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden transition-[margin] duration-300",style:{marginRight:f&&!p&&d?s:0},children:[a.jsxs("header",{className:"h-16 flex items-center px-4 md:px-6 border-b border-white/[0.06] bg-[#1a1d27]/80 backdrop-blur-sm",onMouseDown:y,children:[a.jsx("button",{className:"mr-3 p-2 text-gray-400 hover:text-gray-200 hover:bg-white/[0.06] rounded-lg transition-colors md:hidden",onClick:()=>l(!0),children:a.jsx(IX,{className:"w-5 h-5"})}),a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 mr-2.5 transition-colors ${m==="connected"?"bg-emerald-400":m==="reconnecting"?"bg-amber-400 animate-pulse":"bg-gray-600"}`,title:`WebSocket: ${m}`}),a.jsx(LX,{pathname:u.pathname}),a.jsx("div",{className:"ml-auto flex items-center",children:a.jsx("button",{onClick:()=>r(n==="closed"?"open":"closed"),className:`p-2 rounded-lg transition-colors ${n!=="closed"?"text-indigo-400 bg-indigo-500/10":"text-gray-400 hover:text-gray-200 hover:bg-white/[0.06]"}`,title:"Toggle chat",children:a.jsx(GX,{className:"w-5 h-5"})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-4 md:px-6 pb-6",children:a.jsx(bu,{})})]}),a.jsx(MX,{}),a.jsx(xH,{})]})}function LX({pathname:e}){const t=e.split("/").filter(Boolean);return a.jsxs("nav",{className:"flex items-center gap-2 text-sm min-w-0",children:[a.jsx(uh,{to:"/",className:"text-gray-400 hover:text-gray-200 shrink-0",children:"Home"}),t.length>2&&a.jsxs("span",{className:"flex items-center gap-2 min-w-0 sm:hidden",children:[a.jsx("span",{className:"text-gray-600 shrink-0",children:"/"}),a.jsx("span",{className:"text-gray-500",children:"..."})]}),t.map((n,r)=>{const s=r===0,o=r===t.length-1,u=!s&&!o&&t.length>2;return a.jsxs("span",{className:`flex items-center gap-2 min-w-0 ${u?"hidden sm:flex":""}`,children:[a.jsx("span",{className:"text-gray-600 shrink-0",children:"/"}),a.jsx(uh,{to:`/${t.slice(0,r+1).join("/")}`,className:`truncate max-w-[120px] sm:max-w-[200px] md:max-w-none ${o?"text-gray-200 font-medium":"text-gray-400 hover:text-gray-200"}`,children:n.charAt(0).toUpperCase()+n.slice(1)})]},`${n}-${r}`)})]})}function IX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}function PX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function zX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}function BX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function $X({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}function UX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function qX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function FX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}function EC({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}function HX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function GX({className:e}){return a.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}function VX(){const e=An(),t=Ve(J3),n=Ve(ro),[r,s]=ht(Q3),o=At(ro),l=At(Nw),u=At(Sw),[d,f]=ht(Al),p=At(Uu),[m,g]=S.useState(!1);return S.useEffect(()=>{y7(e),v7({setToken:v=>p(v),setUser:()=>f(null)})},[e,p,f]),S.useEffect(()=>N7(),[]),S.useEffect(()=>{r||Ri.getProviders().then(v=>{const _=v.auth_required?"required":"none";o(_),ph(_),l(v.providers),u(v.allow_registration),s(!0)}).catch(()=>{o("none"),ph("none"),s(!0)})},[r,o,l,u,s]),S.useEffect(()=>{!r||n==="none"||!t||d||Ri.me().then(v=>{f(v)}).catch(()=>{g(!0),Oi()})},[r,n,t,d,f]),!r||n==="required"&&t&&!d&&!m?a.jsx("div",{className:"flex flex-1 items-center justify-center bg-[var(--surface-base)]",children:a.jsx(wr,{size:"lg"})}):n==="none"?a.jsx(bu,{}):t?a.jsx(bu,{}):a.jsx(P3,{to:"/login",replace:!0})}function WX(){const e=An(),t=Bs(),[n,r]=ht(x_),s=Ve(pO),o=At(a7);return S.useEffect(()=>{if(n!==null)return;let l=!1;return w_().then(u=>{if(!l){if(u===null){r(!0);return}r(u),!u&&!t.pathname.startsWith("/setup")&&(s&&o(t.pathname+t.search),e("/setup",{replace:!0}))}}),()=>{l=!0}},[n,r,e,t.pathname,t.search,s,o]),n===null?a.jsx("div",{className:"flex flex-1 items-center justify-center bg-[var(--surface-base)]",children:a.jsx(wr,{size:"lg"})}):a.jsx(bu,{})}async function Ff(e,t){try{const{listen:n}=await hr(async()=>{const{listen:s}=await import("./event-DjZVAIBO.js");return{listen:s}},__vite__mapDeps([2,1]));return await n(e,s=>t(s.payload))}catch{return null}}async function KX(e){try{const{invoke:t}=await hr(async()=>{const{invoke:n}=await import("./core-DhEqZVGG.js");return{invoke:n}},[]);return await t(e)}catch{return null}}function jC(){return typeof window<"u"&&("__TAURI_INTERNALS__"in window||"__TAURI__"in window)}function CC(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function YX(e,t=200){return e?e.length<=t?e:e.slice(0,t).trimEnd()+"...":""}function XX(){const[e,t]=S.useState({kind:"hidden"}),[n,r]=S.useState(!1);S.useEffect(()=>{if(!jC())return;const l=[];return(async()=>{l.push(await Ff("update-available",d=>{t({kind:"available",version:d.version,body:d.body}),r(!1)})),l.push(await Ff("update-progress",d=>{t({kind:"downloading",percent:d.percent,downloaded:d.downloaded,total:d.total})})),l.push(await Ff("update-installing",d=>{t({kind:"installing",version:d.version})})),l.push(await Ff("update-error",d=>{t({kind:"error",message:d.message})}))})(),()=>{l.forEach(d=>d==null?void 0:d())}},[]);const s=S.useCallback(async()=>{t(l=>l.kind==="available"?{kind:"downloading",percent:0,downloaded:0,total:null}:l),await KX("install_update")},[]),o=S.useCallback(()=>{r(!0)},[]);return!jC()||e.kind==="hidden"||n&&(e.kind==="available"||e.kind==="error")?null:a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 mx-auto max-w-2xl px-4 pt-2",children:a.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 shadow-lg dark:border-blue-800 dark:bg-blue-950",children:[e.kind==="available"&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:["New version ",e.version," available"]}),e.body&&a.jsx("p",{className:"mt-1 text-xs text-blue-700 dark:text-blue-300",children:YX(e.body)})]}),a.jsxs("div",{className:"flex flex-shrink-0 items-center gap-2",children:[a.jsx("button",{onClick:s,className:"rounded-md bg-blue-600 px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-blue-700",children:"Update now"}),a.jsx("button",{onClick:o,className:"rounded-md px-2 py-1.5 text-xs text-blue-600 transition-colors hover:bg-blue-100 dark:text-blue-400 dark:hover:bg-blue-900",children:"Later"})]})]}),e.kind==="downloading"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Downloading update..."}),a.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:[e.percent!=null?`${e.percent.toFixed(0)}%`:CC(e.downloaded),e.total!=null&&` / ${CC(e.total)}`]})]}),a.jsx("div",{className:"mt-2 h-2 w-full overflow-hidden rounded-full bg-blue-200 dark:bg-blue-800",children:a.jsx("div",{className:"h-full rounded-full bg-blue-600 transition-all duration-300 ease-out dark:bg-blue-400",style:{width:e.percent!=null?`${e.percent}%`:"30%",...e.percent==null&&{animation:"pulse 1.5s ease-in-out infinite"}}})})]}),e.kind==="installing"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{className:"h-5 w-5 animate-spin text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Installing v",e.version,"... The app will restart shortly."]})]}),e.kind==="error"&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-red-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Update check failed"}),a.jsx("p",{className:"mt-0.5 text-xs text-red-600 dark:text-red-400",children:e.message})]}),a.jsx("button",{onClick:o,className:"flex-shrink-0 text-red-400 hover:text-red-600 dark:hover:text-red-300",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})}function ZX(){const{updateAvailable:e,latestVersion:t,currentVersion:n,releaseUrl:r,dismissed:s,dismiss:o}=U7();return!e||s?null:a.jsx("div",{className:"border-b border-blue-200 bg-blue-50 px-4 py-2.5 dark:border-blue-800 dark:bg-blue-950",children:a.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[a.jsx("svg",{className:"h-4 w-4 flex-shrink-0 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[a.jsxs("span",{className:"font-medium",children:["Version ",t]})," is available",n&&a.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[" (current: ",n,")"]}),r&&a.jsxs(a.Fragment,{children:["  ",a.jsx(Di,{href:r,className:"font-medium underline hover:text-blue-900 dark:hover:text-blue-100",children:"View release notes"})]})]})]}),a.jsx("button",{onClick:o,className:"flex-shrink-0 rounded p-1 text-blue-400 transition-colors hover:bg-blue-100 hover:text-blue-600 dark:hover:bg-blue-900 dark:hover:text-blue-300","aria-label":"Dismiss update notification",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function QX(){const e=An(),t=At(Uu),n=At(Al),[r,s]=S.useState(""),[o,l]=S.useState(""),[u,d]=S.useState(!1),[f,p]=S.useState(null),m=async g=>{g.preventDefault(),p(null);const b=r.trim();if(!b||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){p("Please enter a valid email address");return}if(!o){p("Please enter your password");return}d(!0);try{const{token:y,user:v}=await Ri.loginWithPassword(b,o);t(y),n(v),e("/workspaces",{replace:!0})}catch(y){p(y instanceof Error?y.message:"Login failed")}finally{d(!1)}};return a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsx(st,{type:"email",label:"Email",placeholder:"you@example.com",value:r,onChange:g=>s(g.target.value),autoComplete:"email",required:!0}),a.jsx(st,{type:"password",label:"Password",placeholder:"Enter your password",value:o,onChange:g=>l(g.target.value),autoComplete:"current-password",required:!0}),f&&a.jsx("div",{className:"rounded-lg bg-red-900/50 px-4 py-3 text-sm text-red-300",children:f}),a.jsx(it,{type:"submit",loading:u,className:"w-full",children:"Sign in"})]})}function JX(){const e=An(),t=At(Uu),n=At(Al),[r,s]=S.useState(""),[o,l]=S.useState(""),[u,d]=S.useState(""),[f,p]=S.useState(""),[m,g]=S.useState(!1),[b,y]=S.useState(null),v=async _=>{_.preventDefault(),y(null);const N=r.trim(),j=o.trim();if(!N||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N)){y("Please enter a valid email address");return}if(!j){y("Please enter your name");return}if(u.length<8){y("Password must be at least 8 characters");return}if(u!==f){y("Passwords do not match");return}g(!0);try{const{token:k,user:C}=await Ri.register(N,u,j);t(k),n(C),e("/workspaces",{replace:!0})}catch(k){y(k instanceof Error?k.message:"Registration failed")}finally{g(!1)}};return a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsx(st,{type:"email",label:"Email",placeholder:"you@example.com",value:r,onChange:_=>s(_.target.value),autoComplete:"email",required:!0}),a.jsx(st,{type:"text",label:"Name",placeholder:"Your full name",value:o,onChange:_=>l(_.target.value),autoComplete:"name",required:!0}),a.jsx(st,{type:"password",label:"Password",placeholder:"Minimum 8 characters",value:u,onChange:_=>d(_.target.value),autoComplete:"new-password",required:!0}),a.jsx(st,{type:"password",label:"Confirm password",placeholder:"Enter password again",value:f,onChange:_=>p(_.target.value),autoComplete:"new-password",required:!0}),b&&a.jsx("div",{className:"rounded-lg bg-red-900/50 px-4 py-3 text-sm text-red-300",children:b}),a.jsx(it,{type:"submit",loading:m,className:"w-full",children:"Create account"})]})}function eZ(){const e=An(),t=Ve(J3),n=Ve(ro),r=Ve(Nw),s=Ve(Sw),[o,l]=ht(Q3),u=At(ro),d=At(Nw),f=At(Sw),[p,m]=S.useState(!1),[g,b]=S.useState(!1),[y,v]=S.useState(null);S.useEffect(()=>{o||Ri.getProviders().then(k=>{const C=k.auth_required?"required":"none";u(C),ph(C),d(k.providers),f(k.allow_registration),l(!0)}).catch(()=>{u("none"),ph("none"),l(!0)})},[o,u,d,f,l]),S.useEffect(()=>{o&&(t||n==="none")&&e("/workspaces",{replace:!0})},[o,t,n,e]);const _=r.some(k=>k.type==="password"),N=r.find(k=>k.type==="oidc"),j=async()=>{var k;b(!0),v(null);try{const{auth_url:C}=await Ri.getOidcAuthUrl(),A=document.createElement("div");A.id="sso-overlay",A.style.cssText="position:fixed;inset:0;z-index:99999;background:#0f1117",document.body.appendChild(A),window.location.href=C}catch(C){(k=document.getElementById("sso-overlay"))==null||k.remove(),v(C instanceof Error?C.message:"Failed to start login"),b(!1)}};return o?a.jsxs("div",{className:"flex h-screen flex-col items-center justify-center overflow-hidden bg-[var(--surface-base)]",children:[a.jsxs("div",{className:"w-full max-w-sm space-y-6 px-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("img",{src:"/logo-192.png",alt:"Project Orchestrator",className:"mx-auto h-20 w-20 rounded-2xl sm:h-28 sm:w-28 sm:rounded-3xl"}),a.jsx("h1",{className:"mt-4 text-2xl font-bold text-white",children:"Project Orchestrator"}),a.jsx("p",{className:"mt-1.5 text-sm text-gray-400",children:p?"Create your account":"Sign in to continue"})]}),a.jsxs("div",{className:"space-y-6",children:[_&&!p&&a.jsx(QX,{}),s&&p&&a.jsx(JX,{}),(_||s&&p)&&N&&a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-white/[0.1]"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"bg-[var(--surface-base)] px-3 text-gray-500",children:"or"})})]}),N&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:j,disabled:g,className:"flex w-full items-center justify-center gap-3 rounded-lg bg-white px-4 py-3 text-sm font-medium text-gray-900 shadow-sm transition hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-950 disabled:opacity-50 disabled:cursor-not-allowed",children:[g?a.jsx(wr,{size:"sm",className:"text-gray-600"}):a.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),"Sign in with ",N.name]}),y&&a.jsx("div",{className:"rounded-lg bg-red-900/50 px-4 py-3 text-sm text-red-300",children:y})]})]}),s&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>m(!p),className:"text-sm text-indigo-400 transition hover:text-indigo-300",children:p?"Already have an account? Sign in":"Don't have an account? Create one"})})]}),a.jsxs("div",{className:"absolute bottom-6 text-center text-xs tracking-wide",children:[a.jsx("div",{className:"text-gray-700",children:"Made by"}),a.jsx("div",{className:"text-gray-600",children:"Freedom From Scratch"})]})]}):a.jsx("div",{className:"flex flex-1 items-center justify-center bg-[var(--surface-base)]",children:a.jsx(wr,{size:"lg"})})}function tZ(){const[e]=$u(),t=An(),n=At(Uu),r=At(Al),[s,o]=S.useState(null);S.useEffect(()=>{var d;(d=document.getElementById("sso-overlay"))==null||d.remove()},[]);const l=S.useMemo(()=>e.get("code"),[e]),u=l?s:"Missing authorization code";return S.useEffect(()=>{if(!l)return;let d=!1;return Ri.exchangeOidcCode(l).catch(()=>Ri.exchangeCode(l)).then(({token:f,user:p})=>{d||(n(f),r(p),t("/workspaces",{replace:!0}))}).catch(f=>{d||o(f instanceof Error?f.message:"Authentication failed")}),()=>{d=!0}},[l,t,n,r]),u?a.jsx("div",{className:"flex flex-1 items-center justify-center bg-[var(--surface-base)]",children:a.jsxs("div",{className:"w-full max-w-sm space-y-6 px-6 text-center",children:[a.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-900/50",children:a.jsx("svg",{className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Authentication failed"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400",children:u})]}),a.jsx(ln,{to:"/login",className:"inline-block rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-indigo-500",children:"Back to login"})]})}):a.jsx("div",{className:"flex flex-1 items-center justify-center bg-[var(--surface-base)]",children:a.jsxs("div",{className:"space-y-4 text-center",children:[a.jsx(wr,{size:"lg",className:"mx-auto"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Signing you in..."})]})})}function nZ({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState({}),p=g=>{r(g),s||o(g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))},m=()=>{const g={};return n.trim()||(g.name="Name is required"),f(g),Object.keys(g).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Name",placeholder:"My Workspace",value:n,onChange:g=>p(g.target.value),error:d.name,disabled:t,autoFocus:!0}),a.jsx(st,{label:"Slug",placeholder:"my-workspace",value:s,onChange:g=>o(g.target.value),disabled:t}),a.jsx(bs,{label:"Description",placeholder:"Optional description...",value:l,onChange:g=>u(g.target.value),disabled:t,rows:3})]}),submit:async()=>{m()&&await e({name:n.trim(),slug:s.trim()||void 0,description:l.trim()})}}}async function rZ(){if(!_n)return null;const{invoke:e}=await hr(async()=>{const{invoke:t}=await import("./core-DhEqZVGG.js");return{invoke:t}},[]);return e("pick_directory")}function sZ({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState({}),g=v=>{r(v),s||o(v.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))},b=async()=>{try{const v=await rZ();v&&(u(v),m(_=>{const N={..._};return delete N.root_path,N}))}catch(v){console.error("Directory picker failed:",v),m(_=>({..._,root_path:"Failed to open folder picker. Rebuild the desktop app."}))}},y=()=>{const v={};return n.trim()||(v.name="Name is required"),l.trim()||(v.root_path="Root path is required"),m(v),Object.keys(v).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Name",placeholder:"My Project",value:n,onChange:v=>g(v.target.value),error:p.name,disabled:t,autoFocus:!0}),a.jsx(st,{label:"Slug",placeholder:"my-project",value:s,onChange:v=>o(v.target.value),disabled:t}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Root Path"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:`
                flex-1 min-w-0 px-3 py-2 bg-[#0f1117] border border-white/[0.1] rounded-lg
                text-gray-100 placeholder-gray-500
                focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent
                disabled:opacity-50 disabled:cursor-not-allowed
                ${p.root_path?"border-red-500":""}
              `,placeholder:"/path/to/project",value:l,onChange:v=>u(v.target.value),disabled:t}),_n&&a.jsx("button",{type:"button",onClick:b,disabled:t,className:`
                  shrink-0 px-3 py-2 bg-white/[0.06] border border-white/[0.1] rounded-lg
                  text-gray-300 hover:bg-white/[0.1] hover:text-gray-100
                  transition-colors cursor-pointer
                  disabled:opacity-50 disabled:cursor-not-allowed
                `,title:"Browse for folder",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})})})]}),p.root_path&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:p.root_path})]}),a.jsx(bs,{label:"Description",placeholder:"Optional description...",value:d,onChange:v=>f(v.target.value),disabled:t,rows:3})]}),submit:async()=>{y()&&await e({name:n.trim(),slug:s.trim()||void 0,root_path:l.trim(),description:d.trim()})}}}function iZ({onSubmit:e,loading:t,defaultProjectId:n}){const[r,s]=S.useState(""),[o,l]=S.useState(""),[u,d]=S.useState("5"),[f,p]=S.useState(n||""),[m,g]=S.useState([]),[b,y]=S.useState({});S.useEffect(()=>{Tt.list({limit:100}).then(N=>g(N.items||[])).catch(()=>{})},[]);const v=[{value:"",label:"No project"},...m.map(N=>({value:N.id,label:N.name}))],_=()=>{const N={};return r.trim()||(N.title="Title is required"),o.trim()||(N.description="Description is required"),y(N),Object.keys(N).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Title",placeholder:"Plan title",value:r,onChange:N=>s(N.target.value),error:b.title,disabled:t,autoFocus:!0}),a.jsx(bs,{label:"Description",placeholder:"Describe the plan...",value:o,onChange:N=>l(N.target.value),error:b.description,disabled:t,rows:4}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(st,{label:"Priority",type:"number",min:1,max:10,value:u,onChange:N=>d(N.target.value),disabled:t}),a.jsx(Tn,{label:"Project",options:v,value:f,onChange:N=>p(N),disabled:t})]})]}),submit:async()=>{_()&&await e({title:r.trim(),description:o.trim(),priority:parseInt(u)||5,project_id:f||void 0})}}}function aZ({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState(""),[g,b]=S.useState({}),y=()=>{const v={};return s.trim()||(v.description="Description is required"),b(v),Object.keys(v).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Title",placeholder:"Task title (optional)",value:n,onChange:v=>r(v.target.value),disabled:t,autoFocus:!0}),a.jsx(bs,{label:"Description",placeholder:"Describe what needs to be done...",value:s,onChange:v=>o(v.target.value),error:g.description,disabled:t,rows:4}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(st,{label:"Priority",type:"number",min:1,max:10,placeholder:"1-10",value:l,onChange:v=>u(v.target.value),disabled:t}),a.jsx(st,{label:"Estimated Complexity",type:"number",min:1,max:10,placeholder:"1-10",value:p,onChange:v=>m(v.target.value),disabled:t})]}),a.jsx(st,{label:"Tags",placeholder:"Comma-separated tags",value:d,onChange:v=>f(v.target.value),disabled:t})]}),submit:async()=>{y()&&await e({title:n.trim()||void 0,description:s.trim(),priority:l?parseInt(l):void 0,tags:d.split(",").map(v=>v.trim()).filter(Boolean),estimated_complexity:p?parseInt(p):void 0})}}}function oZ({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState(""),[l,u]=S.useState({}),d=()=>{const f={};return n.trim()||(f.description="Description is required"),u(f),Object.keys(f).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(bs,{label:"Description",placeholder:"What needs to be done in this step...",value:n,onChange:f=>r(f.target.value),error:l.description,disabled:t,autoFocus:!0,rows:3}),a.jsx(st,{label:"Verification",placeholder:"How to verify this step is complete (optional)",value:s,onChange:f=>o(f.target.value),disabled:t})]}),submit:async()=>{d()&&await e({description:n.trim(),verification:s.trim()||void 0})}}}function lZ({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState({}),g=()=>{const b={};return n.trim()||(b.description="Description is required"),s.trim()||(b.rationale="Rationale is required"),m(b),Object.keys(b).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Description",placeholder:"What was decided?",value:n,onChange:b=>r(b.target.value),error:p.description,disabled:t,autoFocus:!0}),a.jsx(bs,{label:"Rationale",placeholder:"Why was this decision made?",value:s,onChange:b=>o(b.target.value),error:p.rationale,disabled:t,rows:3}),a.jsx(st,{label:"Alternatives",placeholder:"Comma-separated alternatives considered",value:l,onChange:b=>u(b.target.value),disabled:t}),a.jsx(st,{label:"Chosen Option",placeholder:"The selected option (optional)",value:d,onChange:b=>f(b.target.value),disabled:t})]}),submit:async()=>{g()&&await e({description:n.trim(),rationale:s.trim(),alternatives:l.split(",").map(b=>b.trim()).filter(Boolean),chosen_option:d.trim()||void 0})}}}const cZ=[{value:"performance",label:"Performance"},{value:"security",label:"Security"},{value:"style",label:"Style"},{value:"compatibility",label:"Compatibility"},{value:"testing",label:"Testing"},{value:"other",label:"Other"}],uZ=[{value:"",label:"No severity"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}];function dZ({onSubmit:e,loading:t}){const[n,r]=S.useState("other"),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState({}),p=()=>{const m={};return s.trim()||(m.description="Description is required"),f(m),Object.keys(m).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(Tn,{label:"Type",options:cZ,value:n,onChange:m=>r(m),disabled:t}),a.jsx(Tn,{label:"Severity",options:uZ,value:l,onChange:m=>u(m),disabled:t})]}),a.jsx(st,{label:"Description",placeholder:"Describe the constraint...",value:s,onChange:m=>o(m.target.value),error:d.description,disabled:t,autoFocus:!0})]}),submit:async()=>{p()&&await e({constraint_type:n,description:s.trim(),severity:l||void 0})}}}function fL({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState({}),g=()=>{const b={};return n.trim()||(b.title="Title is required"),m(b),Object.keys(b).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Title",placeholder:"Milestone title",value:n,onChange:b=>r(b.target.value),error:p.title,disabled:t,autoFocus:!0}),a.jsx(bs,{label:"Description",placeholder:"Optional description...",value:s,onChange:b=>o(b.target.value),disabled:t,rows:3}),a.jsx(st,{label:"Target Date",type:"date",value:l,onChange:b=>u(b.target.value),disabled:t}),a.jsx(st,{label:"Tags",placeholder:"Comma-separated tags",value:d,onChange:b=>f(b.target.value),disabled:t})]}),submit:async()=>{g()&&await e({title:n.trim(),description:s.trim()||void 0,target_date:l||void 0,tags:d.split(",").map(b=>b.trim()).filter(Boolean)})}}}function fZ({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState({}),g=()=>{const b={};return n.trim()||(b.version="Version is required"),m(b),Object.keys(b).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Version",placeholder:"1.0.0",value:n,onChange:b=>r(b.target.value),error:p.version,disabled:t,autoFocus:!0}),a.jsx(st,{label:"Title",placeholder:"Release title (optional)",value:s,onChange:b=>o(b.target.value),disabled:t}),a.jsx(bs,{label:"Description",placeholder:"Optional description...",value:l,onChange:b=>u(b.target.value),disabled:t,rows:3}),a.jsx(st,{label:"Target Date",type:"date",value:d,onChange:b=>f(b.target.value),disabled:t})]}),submit:async()=>{g()&&await e({version:n.trim(),title:s.trim()||void 0,description:l.trim()||void 0,target_date:d||void 0})}}}const hZ=[{value:"api_contract",label:"API Contract"},{value:"protobuf",label:"Protobuf"},{value:"graphql_schema",label:"GraphQL Schema"},{value:"json_schema",label:"JSON Schema"},{value:"database_schema",label:"Database Schema"},{value:"shared_types",label:"Shared Types"},{value:"config",label:"Config"},{value:"documentation",label:"Documentation"},{value:"other",label:"Other"}];function pZ({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState("other"),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState(""),[g,b]=S.useState(""),[y,v]=S.useState(""),[_,N]=S.useState({}),j=()=>{const k={};return n.trim()||(k.name="Name is required"),l.trim()||(k.file_path="File path is required"),N(k),Object.keys(k).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Name",placeholder:"Resource name",value:n,onChange:k=>r(k.target.value),error:_.name,disabled:t,autoFocus:!0}),a.jsx(Tn,{label:"Type",options:hZ,value:s,onChange:k=>o(k),disabled:t}),a.jsx(st,{label:"File Path",placeholder:"/path/to/resource",value:l,onChange:k=>u(k.target.value),error:_.file_path,disabled:t}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(st,{label:"URL",placeholder:"https://...",value:d,onChange:k=>f(k.target.value),disabled:t}),a.jsx(st,{label:"Format",placeholder:"json, yaml, etc.",value:p,onChange:k=>m(k.target.value),disabled:t})]}),a.jsx(st,{label:"Version",placeholder:"1.0.0",value:g,onChange:k=>b(k.target.value),disabled:t}),a.jsx(bs,{label:"Description",placeholder:"Optional description...",value:y,onChange:k=>v(k.target.value),disabled:t,rows:2})]}),submit:async()=>{j()&&await e({name:n.trim(),resource_type:s,file_path:l.trim(),url:d.trim()||void 0,format:p.trim()||void 0,version:g.trim()||void 0,description:y.trim()||void 0})}}}const mZ=[{value:"service",label:"Service"},{value:"frontend",label:"Frontend"},{value:"worker",label:"Worker"},{value:"database",label:"Database"},{value:"message_queue",label:"Message Queue"},{value:"cache",label:"Cache"},{value:"gateway",label:"Gateway"},{value:"external",label:"External"},{value:"other",label:"Other"}];function gZ({onSubmit:e,loading:t}){const[n,r]=S.useState(""),[s,o]=S.useState("service"),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,m]=S.useState(""),[g,b]=S.useState({}),y=()=>{const v={};return n.trim()||(v.name="Name is required"),b(v),Object.keys(v).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(st,{label:"Name",placeholder:"Component name",value:n,onChange:v=>r(v.target.value),error:g.name,disabled:t,autoFocus:!0}),a.jsx(Tn,{label:"Type",options:mZ,value:s,onChange:v=>o(v),disabled:t}),a.jsx(bs,{label:"Description",placeholder:"Optional description...",value:l,onChange:v=>u(v.target.value),disabled:t,rows:2}),a.jsx(st,{label:"Runtime",placeholder:"node, python, rust, etc.",value:d,onChange:v=>f(v.target.value),disabled:t}),a.jsx(st,{label:"Tags",placeholder:"Comma-separated tags",value:p,onChange:v=>m(v.target.value),disabled:t})]}),submit:async()=>{y()&&await e({name:n.trim(),component_type:s,description:l.trim()||void 0,runtime:d.trim()||void 0,tags:p.split(",").map(v=>v.trim()).filter(Boolean)})}}}const xZ=[{value:"guideline",label:"Guideline"},{value:"gotcha",label:"Gotcha"},{value:"pattern",label:"Pattern"},{value:"context",label:"Context"},{value:"tip",label:"Tip"},{value:"observation",label:"Observation"},{value:"assertion",label:"Assertion"}],bZ=[{value:"",label:"Default"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}];function yZ({onSubmit:e,loading:t,defaultProjectId:n}){const[r,s]=S.useState(n||""),[o,l]=S.useState("guideline"),[u,d]=S.useState(""),[f,p]=S.useState(""),[m,g]=S.useState(""),[b,y]=S.useState([]),[v,_]=S.useState({});S.useEffect(()=>{Tt.list({limit:100}).then(k=>y(k.items||[])).catch(()=>{})},[]);const N=[{value:"",label:"Select a project"},...b.map(k=>({value:k.id,label:k.name}))],j=()=>{const k={};return r||(k.project_id="Project is required"),u.trim()||(k.content="Content is required"),_(k),Object.keys(k).length===0};return{fields:a.jsxs(a.Fragment,{children:[a.jsx(Tn,{label:"Project",options:N,value:r,onChange:k=>s(k),error:v.project_id,disabled:t}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(Tn,{label:"Type",options:xZ,value:o,onChange:k=>l(k),disabled:t}),a.jsx(Tn,{label:"Importance",options:bZ,value:f,onChange:k=>p(k),disabled:t})]}),a.jsx(bs,{label:"Content",placeholder:"Write the note content...",value:u,onChange:k=>d(k.target.value),error:v.content,disabled:t,autoFocus:!0,rows:5}),a.jsx(st,{label:"Tags",placeholder:"Comma-separated tags",value:m,onChange:k=>g(k.target.value),disabled:t})]}),submit:async()=>{j()&&await e({project_id:r,note_type:o,content:u.trim(),importance:f||void 0,tags:m.split(",").map(k=>k.trim()).filter(Boolean)})}}}function vZ(){const[e,t]=ht(eO),[n,r]=ht($B),[s,o]=S.useState(0),{page:l,pageSize:u,offset:d,paginationProps:f}=Rl(),p=ns(),m=Xr(),g=Ir(),[b,y]=S.useState(!1),v=Ve(Hh),_=async(T=!1)=>{T||r(!0);try{const M=await bt.list({limit:u,offset:d});t(M.items||[]),o(M.total||0)}catch(M){console.error("Failed to fetch workspaces:",M),g.error("Failed to load workspaces")}finally{T||r(!1)}},N=S.useRef(!1);S.useEffect(()=>{const T=N.current;_(T),N.current=!0},[t,r,l,u,d,v]);const j=nZ({onSubmit:async T=>{y(!0);try{await bt.create(T),g.success("Workspace created"),m.close(),_()}finally{y(!1)}},loading:b}),k=()=>{m.open({title:"Create Workspace"})},C=Il(e,T=>T.slug),A=()=>{const T=C.selectionCount;p.open({title:`Delete ${T} workspace${T>1?"s":""}`,description:`This will permanently delete ${T} workspace${T>1?"s":""}. Projects will not be deleted.`,onConfirm:async()=>{const M=C.selectedItems;p.setProgress({current:0,total:M.length});for(let z=0;z<M.length;z++)await bt.delete(M[z].slug),p.setProgress({current:z+1,total:M.length});t(z=>z.filter($=>!C.selectedIds.has($.slug))),o(z=>z-M.length),C.clear(),g.success(`Deleted ${T} workspace${T>1?"s":""}`)}})};return n?a.jsx(_r,{}):a.jsxs(Fl,{title:"Workspaces",description:"Organize your projects into workspaces",actions:a.jsx(it,{onClick:k,children:"Create Workspace"}),children:[e.length===0&&s===0?a.jsx(ka,{title:"No workspaces",description:"Create a workspace to group related projects together.",action:a.jsx(it,{onClick:k,children:"Create Workspace"})}):a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:C.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:C.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:e.map(T=>a.jsx(wZ,{selected:C.isSelected(T.slug),onToggleSelect:M=>C.toggle(T.slug,M),workspace:T,onDelete:()=>p.open({title:"Delete Workspace",description:"This will permanently delete this workspace.",onConfirm:async()=>{await bt.delete(T.slug),t(M=>M.filter(z=>z.id!==T.id)),g.success("Workspace deleted")}})},T.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Pl,{...f(s)})})]}),a.jsx(Gl,{count:C.selectionCount,onDelete:A,onClear:C.clear}),a.jsx(Qr,{...m.dialogProps,onSubmit:j.submit,loading:b,children:j.fields}),a.jsx(rs,{...p.dialogProps})]})}function wZ({workspace:e,onDelete:t,selected:n,onToggleSelect:r}){return a.jsx(ln,{to:`/workspaces/${e.slug}`,children:a.jsx(Ye,{className:`h-full transition-colors ${n?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex h-full",children:[r&&a.jsx(Hl,{selected:!!n,onToggle:r}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"h-0.5 bg-indigo-500/50"}),a.jsxs(nt,{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-100 truncate min-w-0",children:e.name}),a.jsx(mo,{actions:[{label:"Delete",variant:"danger",onClick:()=>t()}]})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:e.description}),a.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})]})]})})})}function _Z(){const{slug:e}=uo(),t=An(),n=ns(),r=Xr(),s=Xr(),o=Xr(),l=Dl(),u=Ir(),d=Ve(Hh),f=Ve(Ca),p=Ve(Ml),m=Ve(ja),[g,b]=S.useState(!1),[y,v]=S.useState(null),[_,N]=S.useState([]),[j,k]=S.useState([]),[C,A]=S.useState([]),[T,M]=S.useState([]),[z,$]=S.useState(null),[D,I]=S.useState(!0);S.useEffect(()=>{async function W(){if(!e)return;const X=!y;X&&I(!0);try{const L=await bt.getOverview(e);v(L.workspace),N(L.projects||[]),A(L.resources||[]),M(L.components||[]),$(L.progress||null);const q=L.milestones||[],P=await Promise.all(q.map(async O=>{try{const H=await bt.getMilestoneProgress(O.id);return{...O,progress:H}}catch{return{...O,progress:void 0}}}));k(P)}catch(L){console.error("Failed to fetch workspace:",L)}finally{X&&I(!1)}}W()},[e,d,f,p,m]);const F=fL({onSubmit:async W=>{if(e){b(!0);try{const X=await bt.createMilestone(e,W);k(L=>[...L,{...X,progress:void 0}]),r.close(),u.success("Milestone added")}finally{b(!1)}}},loading:g}),K=pZ({onSubmit:async W=>{if(e){b(!0);try{const X=await bt.createResource(e,W);A(L=>[...L,X]),s.close(),u.success("Resource added")}finally{b(!1)}}},loading:g}),B=gZ({onSubmit:async W=>{if(e){b(!0);try{const X=await bt.createComponent(e,W);M(L=>[...L,X]),o.close(),u.success("Component added")}finally{b(!1)}}},loading:g}),U=Ll(["overview","projects","milestones","resources","components"]);if(D||!y)return a.jsx(_r,{});const Y=[{id:"overview",label:"Overview"},{id:"projects",label:"Projects",count:_.length},{id:"milestones",label:"Milestones",count:j.length},{id:"resources",label:"Resources",count:C.length},{id:"components",label:"Components",count:T.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(go,{title:y.name,description:y.description,overflowActions:[{label:"Delete",variant:"danger",onClick:()=>n.open({title:"Delete Workspace",description:"This will permanently delete this workspace. Projects will not be deleted.",onConfirm:async()=>{await bt.delete(y.slug),u.success("Workspace deleted"),t("/workspaces")}})}]}),a.jsx(ql,{sections:Y,activeSection:U}),a.jsxs("section",{id:"overview",className:"scroll-mt-20",children:[z&&z.total_tasks>0&&a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsx(Lt,{children:"Overall Progress"})}),a.jsxs(nt,{children:[a.jsx(Is,{value:z.percentage,showLabel:!0,size:"lg"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[z.completed_tasks," / ",z.total_tasks," tasks completed"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mt-6",children:[a.jsx(Hf,{label:"Projects",value:_.length}),a.jsx(Hf,{label:"Milestones",value:j.length}),a.jsx(Hf,{label:"Resources",value:C.length}),a.jsx(Hf,{label:"Components",value:T.length})]})]}),a.jsx("section",{id:"projects",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Lt,{children:"Projects"}),a.jsx(it,{size:"sm",onClick:()=>l.open({title:"Add Project to Workspace",submitLabel:"Add",fetchOptions:async()=>{const W=await Tt.list(),X=new Set(_.map(L=>L.id));return(W.items||[]).filter(L=>!X.has(L.id)).map(L=>({value:L.id,label:L.name,description:L.slug}))},onLink:async W=>{await bt.addProject(y.slug,W);const L=((await Tt.list()).items||[]).find(q=>q.id===W);L&&N(q=>[...q,L]),u.success("Project added")}}),children:"Add Project"})]})}),a.jsx(nt,{children:_.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No projects in this workspace"}):a.jsx("div",{className:"space-y-2",children:_.map(W=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/[0.06] rounded-lg",children:[a.jsx(ln,{to:`/projects/${W.slug}`,className:"font-medium text-gray-200 hover:text-indigo-400 transition-colors flex-1 min-w-0",children:W.name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("span",{className:"text-xs text-gray-500 hidden sm:inline",children:W.slug}),a.jsx("button",{onClick:async X=>{X.preventDefault(),X.stopPropagation(),await bt.removeProject(y.slug,W.id),N(L=>L.filter(q=>q.id!==W.id)),u.success("Project removed")},className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Remove from workspace",children:""})]})]},W.id))})})]})}),a.jsx("section",{id:"milestones",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Lt,{children:"Milestones"}),a.jsx(it,{size:"sm",onClick:()=>r.open({title:"Add Milestone"}),children:"Add Milestone"})]})}),a.jsx(nt,{children:j.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No milestones defined"}):a.jsx("div",{className:"space-y-4",children:j.map(W=>{var X;return a.jsxs(ln,{to:`/milestones/${W.id}`,className:"block p-4 bg-white/[0.06] rounded-lg hover:bg-white/[0.06] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[a.jsx("span",{className:"font-medium text-gray-200 truncate min-w-0",children:W.title}),a.jsx(vt,{variant:((X=W.status)==null?void 0:X.toLowerCase())==="open"?"info":"success",children:W.status})]}),W.progress&&a.jsxs("div",{className:"space-y-1",children:[a.jsx(Is,{value:W.progress.percentage,showLabel:!0}),a.jsxs("p",{className:"text-xs text-gray-500",children:[W.progress.completed," / ",W.progress.total," tasks completed"]})]})]},W.id)})})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsx("section",{id:"resources",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Lt,{children:"Resources"}),a.jsx(it,{size:"sm",onClick:()=>s.open({title:"Add Resource",size:"lg"}),children:"Add"})]})}),a.jsx(nt,{children:C.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No resources defined"}):a.jsx("div",{className:"space-y-2",children:C.map(W=>a.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[a.jsx("span",{className:"text-gray-200 truncate min-w-0",children:W.name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(vt,{children:W.resource_type}),a.jsx("button",{onClick:async()=>{await bt.deleteResource(W.id),A(X=>X.filter(L=>L.id!==W.id)),u.success("Resource deleted")},className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Delete resource",children:""})]})]},W.id))})})]})}),a.jsx("section",{id:"components",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Lt,{children:"Components"}),a.jsx(it,{size:"sm",onClick:()=>o.open({title:"Add Component"}),children:"Add"})]})}),a.jsx(nt,{children:T.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No components defined"}):a.jsx("div",{className:"space-y-2",children:T.map(W=>a.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[a.jsx("span",{className:"text-gray-200 truncate min-w-0",children:W.name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(vt,{children:W.component_type}),a.jsx("button",{onClick:async()=>{await bt.deleteComponent(W.id),M(X=>X.filter(L=>L.id!==W.id)),u.success("Component deleted")},className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Delete component",children:""})]})]},W.id))})})]})})]}),a.jsx(Qr,{...r.dialogProps,onSubmit:F.submit,loading:g,children:F.fields}),a.jsx(Qr,{...s.dialogProps,onSubmit:K.submit,loading:g,children:K.fields}),a.jsx(Qr,{...o.dialogProps,onSubmit:B.submit,loading:g,children:B.fields}),a.jsx(Ul,{...l.dialogProps}),a.jsx(rs,{...n.dialogProps})]})}function Hf({label:e,value:t}){return a.jsx(Ye,{children:a.jsxs(nt,{className:"text-center",children:[a.jsx("div",{className:"text-2xl md:text-3xl font-bold text-indigo-400",children:t}),a.jsx("div",{className:"text-sm text-gray-400",children:e})]})})}const rp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function K_(e){return"nodeType"in e}function Nr(e){var t,n;return e?Vl(e)?e:K_(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Y_(e){const{Document:t}=Nr(e);return e instanceof t}function Yu(e){return Vl(e)?!1:e instanceof Nr(e).HTMLElement}function hL(e){return e instanceof Nr(e).SVGElement}function Wl(e){return e?Vl(e)?e.document:K_(e)?Y_(e)?e:Yu(e)||hL(e)?e.ownerDocument:document:document:document}const Li=rp?S.useLayoutEffect:S.useEffect;function sp(e){const t=S.useRef(e);return Li(()=>{t.current=e}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function NZ(){const e=S.useRef(null),t=S.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ku(e,t){t===void 0&&(t=[e]);const n=S.useRef(e);return Li(()=>{n.current!==e&&(n.current=e)},t),n}function Xu(e,t){const n=S.useRef();return S.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Nh(e){const t=sp(e),n=S.useRef(null),r=S.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Sh(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let R0={};function ip(e,t){return S.useMemo(()=>{if(t)return t;const n=R0[e]==null?0:R0[e]+1;return R0[e]=n,e+"-"+n},[e,t])}function pL(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,l)=>{const u=Object.entries(l);for(const[d,f]of u){const p=o[d];p!=null&&(o[d]=p+e*f)}return o},{...t})}}const hl=pL(1),kh=pL(-1);function SZ(e){return"clientX"in e&&"clientY"in e}function X_(e){if(!e)return!1;const{KeyboardEvent:t}=Nr(e.target);return t&&e instanceof t}function kZ(e){if(!e)return!1;const{TouchEvent:t}=Nr(e.target);return t&&e instanceof t}function Eh(e){if(kZ(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return SZ(e)?{x:e.clientX,y:e.clientY}:null}const Ea=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ea.Translate.toString(e),Ea.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),TC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function EZ(e){return e.matches(TC)?e:e.querySelector(TC)}const jZ={display:"none"};function CZ(e){let{id:t,value:n}=e;return fn.createElement("div",{id:t,style:jZ},n)}function TZ(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return fn.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function AZ(){const[e,t]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const mL=S.createContext(null);function MZ(e){const t=S.useContext(mL);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function RZ(){const[e]=S.useState(()=>new Set),t=S.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[S.useCallback(r=>{let{type:s,event:o}=r;e.forEach(l=>{var u;return(u=l[s])==null?void 0:u.call(l,o)})},[e]),t]}const OZ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},DZ={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function LZ(e){let{announcements:t=DZ,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=OZ}=e;const{announce:o,announcement:l}=AZ(),u=ip("DndLiveRegion"),[d,f]=S.useState(!1);if(S.useEffect(()=>{f(!0)},[]),MZ(S.useMemo(()=>({onDragStart(m){let{active:g}=m;o(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:b}=m;t.onDragMove&&o(t.onDragMove({active:g,over:b}))},onDragOver(m){let{active:g,over:b}=m;o(t.onDragOver({active:g,over:b}))},onDragEnd(m){let{active:g,over:b}=m;o(t.onDragEnd({active:g,over:b}))},onDragCancel(m){let{active:g,over:b}=m;o(t.onDragCancel({active:g,over:b}))}}),[o,t])),!d)return null;const p=fn.createElement(fn.Fragment,null,fn.createElement(CZ,{id:r,value:s.draggable}),fn.createElement(TZ,{id:u,announcement:l}));return n?ms.createPortal(p,n):p}var Kn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Kn||(Kn={}));function jh(){}function Ai(e,t){return S.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Z_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ps=Object.freeze({x:0,y:0});function IZ(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function PZ(e,t){const n=Eh(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function zZ(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function BZ(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function $Z(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function AC(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Q_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=AC(t,t.left,t.top),o=[];for(const l of r){const{id:u}=l,d=n.get(u);if(d){const f=IZ(AC(d),s);o.push({id:u,data:{droppableContainer:l,value:f}})}}return o.sort(zZ)};function UZ(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),l=s-r,u=o-n;if(r<s&&n<o){const d=t.width*t.height,f=e.width*e.height,p=l*u,m=p/(d+f-p);return Number(m.toFixed(4))}return 0}const qZ=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const o of r){const{id:l}=o,u=n.get(l);if(u){const d=UZ(u,t);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(BZ)};function FZ(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function gL(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ps}function HZ(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((l,u)=>({...l,top:l.top+e*u.y,bottom:l.bottom+e*u.y,left:l.left+e*u.x,right:l.right+e*u.x}),{...n})}}const GZ=HZ(1);function xL(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function VZ(e,t,n){const r=xL(t);if(!r)return e;const{scaleX:s,scaleY:o,x:l,y:u}=r,d=e.left-l-(1-s)*parseFloat(n),f=e.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,m=o?e.height/o:e.height;return{width:p,height:m,top:f,right:d+p,bottom:f+m,left:d}}const WZ={ignoreTransform:!1};function Zu(e,t){t===void 0&&(t=WZ);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:p}=Nr(e).getComputedStyle(e);f&&(n=VZ(n,f,p))}const{top:r,left:s,width:o,height:l,bottom:u,right:d}=n;return{top:r,left:s,width:o,height:l,bottom:u,right:d}}function MC(e){return Zu(e,{ignoreTransform:!0})}function KZ(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function YZ(e,t){return t===void 0&&(t=Nr(e).getComputedStyle(e)),t.position==="fixed"}function XZ(e,t){t===void 0&&(t=Nr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function J_(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Y_(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Yu(s)||hL(s)||n.includes(s))return n;const o=Nr(e).getComputedStyle(s);return s!==e&&XZ(s,o)&&n.push(s),YZ(s,o)?n:r(s.parentNode)}return e?r(e):n}function bL(e){const[t]=J_(e,1);return t??null}function O0(e){return!rp||!e?null:Vl(e)?e:K_(e)?Y_(e)||e===Wl(e).scrollingElement?window:Yu(e)?e:null:null}function yL(e){return Vl(e)?e.scrollX:e.scrollLeft}function vL(e){return Vl(e)?e.scrollY:e.scrollTop}function qw(e){return{x:yL(e),y:vL(e)}}var Jn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Jn||(Jn={}));function wL(e){return!rp||!e?!1:e===document.scrollingElement}function _L(e){const t={x:0,y:0},n=wL(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,l=e.scrollTop>=r.y,u=e.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:l,isRight:u,maxScroll:r,minScroll:t}}const ZZ={x:.2,y:.2};function QZ(e,t,n,r,s){let{top:o,left:l,right:u,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=ZZ);const{isTop:f,isBottom:p,isLeft:m,isRight:g}=_L(e),b={x:0,y:0},y={x:0,y:0},v={height:t.height*s.y,width:t.width*s.x};return!f&&o<=t.top+v.height?(b.y=Jn.Backward,y.y=r*Math.abs((t.top+v.height-o)/v.height)):!p&&d>=t.bottom-v.height&&(b.y=Jn.Forward,y.y=r*Math.abs((t.bottom-v.height-d)/v.height)),!g&&u>=t.right-v.width?(b.x=Jn.Forward,y.x=r*Math.abs((t.right-v.width-u)/v.width)):!m&&l<=t.left+v.width&&(b.x=Jn.Backward,y.x=r*Math.abs((t.left+v.width-l)/v.width)),{direction:b,speed:y}}function JZ(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function NL(e){return e.reduce((t,n)=>hl(t,qw(n)),Ps)}function eQ(e){return e.reduce((t,n)=>t+yL(n),0)}function tQ(e){return e.reduce((t,n)=>t+vL(n),0)}function SL(e,t){if(t===void 0&&(t=Zu),!e)return;const{top:n,left:r,bottom:s,right:o}=t(e);bL(e)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const nQ=[["x",["left","right"],eQ],["y",["top","bottom"],tQ]];class eN{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=J_(n),s=NL(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,l,u]of nQ)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=u(r),p=s[o]-f;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function rQ(e){const{EventTarget:t}=Nr(e);return e instanceof t?e:Wl(e)}function D0(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var hs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(hs||(hs={}));function RC(e){e.preventDefault()}function sQ(e){e.stopPropagation()}var Jt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Jt||(Jt={}));const kL={start:[Jt.Space,Jt.Enter],cancel:[Jt.Esc],end:[Jt.Space,Jt.Enter,Jt.Tab]},iQ=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Jt.Right:return{...n,x:n.x+25};case Jt.Left:return{...n,x:n.x-25};case Jt.Down:return{...n,y:n.y+25};case Jt.Up:return{...n,y:n.y-25}}};class Qu{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new fu(Wl(n)),this.windowListeners=new fu(Nr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hs.Resize,this.handleCancel),this.windowListeners.add(hs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&SL(r),n(Ps)}handleKeyDown(t){if(X_(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=kL,coordinateGetter:l=iQ,scrollBehavior:u="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=r.current,p=f?{x:f.left,y:f.top}:Ps;this.referenceCoordinates||(this.referenceCoordinates=p);const m=l(t,{active:n,context:r.current,currentCoordinates:p});if(m){const g=kh(m,p),b={x:0,y:0},{scrollableAncestors:y}=r.current;for(const v of y){const _=t.code,{isTop:N,isRight:j,isLeft:k,isBottom:C,maxScroll:A,minScroll:T}=_L(v),M=JZ(v),z={x:Math.min(_===Jt.Right?M.right-M.width/2:M.right,Math.max(_===Jt.Right?M.left:M.left+M.width/2,m.x)),y:Math.min(_===Jt.Down?M.bottom-M.height/2:M.bottom,Math.max(_===Jt.Down?M.top:M.top+M.height/2,m.y))},$=_===Jt.Right&&!j||_===Jt.Left&&!k,D=_===Jt.Down&&!C||_===Jt.Up&&!N;if($&&z.x!==m.x){const I=v.scrollLeft+g.x,F=_===Jt.Right&&I<=A.x||_===Jt.Left&&I>=T.x;if(F&&!g.y){v.scrollTo({left:I,behavior:u});return}F?b.x=v.scrollLeft-I:b.x=_===Jt.Right?v.scrollLeft-A.x:v.scrollLeft-T.x,b.x&&v.scrollBy({left:-b.x,behavior:u});break}else if(D&&z.y!==m.y){const I=v.scrollTop+g.y,F=_===Jt.Down&&I<=A.y||_===Jt.Up&&I>=T.y;if(F&&!g.x){v.scrollTo({top:I,behavior:u});return}F?b.y=v.scrollTop-I:b.y=_===Jt.Down?v.scrollTop-A.y:v.scrollTop-T.y,b.y&&v.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(t,hl(kh(m,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Qu.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=kL,onActivation:s}=t,{active:o}=n;const{code:l}=e.nativeEvent;if(r.start.includes(l)){const u=o.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function OC(e){return!!(e&&"distance"in e)}function DC(e){return!!(e&&"delay"in e)}class tN{constructor(t,n,r){var s;r===void 0&&(r=rQ(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:l}=o;this.props=t,this.events=n,this.document=Wl(l),this.documentListeners=new fu(this.document),this.listeners=new fu(r),this.windowListeners=new fu(Nr(l)),this.initialCoordinates=(s=Eh(o))!=null?s:Ps,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(hs.Resize,this.handleCancel),this.windowListeners.add(hs.DragStart,RC),this.windowListeners.add(hs.VisibilityChange,this.handleCancel),this.windowListeners.add(hs.ContextMenu,RC),this.documentListeners.add(hs.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(DC(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(OC(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(hs.Click,sQ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!s)return;const d=(n=Eh(t))!=null?n:Ps,f=kh(s,d);if(!r&&u){if(OC(u)){if(u.tolerance!=null&&D0(f,u.tolerance))return this.handleCancel();if(D0(f,u.distance))return this.handleStart()}if(DC(u)&&D0(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),l(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const aQ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ju extends tN{constructor(t){const{event:n}=t,r=Wl(n.target);super(t,aQ,r)}}Ju.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const oQ={move:{name:"mousemove"},end:{name:"mouseup"}};var Fw;(function(e){e[e.RightClick=2]="RightClick"})(Fw||(Fw={}));class lQ extends tN{constructor(t){super(t,oQ,Wl(t.event.target))}}lQ.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Fw.RightClick?!1:(r==null||r({event:n}),!0)}}];const L0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ap extends tN{constructor(t){super(t,L0)}static setup(){return window.addEventListener(L0.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(L0.move.name,t)};function t(){}}}ap.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var hu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(hu||(hu={}));var Ch;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ch||(Ch={}));function cQ(e){let{acceleration:t,activator:n=hu.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:l=5,order:u=Ch.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:p,delta:m,threshold:g}=e;const b=dQ({delta:m,disabled:!o}),[y,v]=NZ(),_=S.useRef({x:0,y:0}),N=S.useRef({x:0,y:0}),j=S.useMemo(()=>{switch(n){case hu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case hu.DraggableRect:return s}},[n,s,d]),k=S.useRef(null),C=S.useCallback(()=>{const T=k.current;if(!T)return;const M=_.current.x*N.current.x,z=_.current.y*N.current.y;T.scrollBy(M,z)},[]),A=S.useMemo(()=>u===Ch.TreeOrder?[...f].reverse():f,[u,f]);S.useEffect(()=>{if(!o||!f.length||!j){v();return}for(const T of A){if((r==null?void 0:r(T))===!1)continue;const M=f.indexOf(T),z=p[M];if(!z)continue;const{direction:$,speed:D}=QZ(T,z,j,t,g);for(const I of["x","y"])b[I][$[I]]||(D[I]=0,$[I]=0);if(D.x>0||D.y>0){v(),k.current=T,y(C,l),_.current=D,N.current=$;return}}_.current={x:0,y:0},N.current={x:0,y:0},v()},[t,C,r,v,o,l,JSON.stringify(j),JSON.stringify(b),y,f,A,p,JSON.stringify(g)])}const uQ={x:{[Jn.Backward]:!1,[Jn.Forward]:!1},y:{[Jn.Backward]:!1,[Jn.Forward]:!1}};function dQ(e){let{delta:t,disabled:n}=e;const r=Sh(t);return Xu(s=>{if(n||!r||!s)return uQ;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Jn.Backward]:s.x[Jn.Backward]||o.x===-1,[Jn.Forward]:s.x[Jn.Forward]||o.x===1},y:{[Jn.Backward]:s.y[Jn.Backward]||o.y===-1,[Jn.Forward]:s.y[Jn.Forward]||o.y===1}}},[n,t,r])}function fQ(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Xu(s=>{var o;return t==null?null:(o=r??s)!=null?o:null},[r,t])}function hQ(e,t){return S.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(l=>({eventName:l.eventName,handler:t(l.handler,r)}));return[...n,...o]},[]),[e,t])}var Eu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Eu||(Eu={}));var Hw;(function(e){e.Optimized="optimized"})(Hw||(Hw={}));const LC=new Map;function pQ(e,t){let{dragging:n,dependencies:r,config:s}=t;const[o,l]=S.useState(null),{frequency:u,measure:d,strategy:f}=s,p=S.useRef(e),m=_(),g=ku(m),b=S.useCallback(function(N){N===void 0&&(N=[]),!g.current&&l(j=>j===null?N:j.concat(N.filter(k=>!j.includes(k))))},[g]),y=S.useRef(null),v=Xu(N=>{if(m&&!n)return LC;if(!N||N===LC||p.current!==e||o!=null){const j=new Map;for(let k of e){if(!k)continue;if(o&&o.length>0&&!o.includes(k.id)&&k.rect.current){j.set(k.id,k.rect.current);continue}const C=k.node.current,A=C?new eN(d(C),C):null;k.rect.current=A,A&&j.set(k.id,A)}return j}return N},[e,o,n,m,d]);return S.useEffect(()=>{p.current=e},[e]),S.useEffect(()=>{m||b()},[n,m]),S.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),S.useEffect(()=>{m||typeof u!="number"||y.current!==null||(y.current=setTimeout(()=>{b(),y.current=null},u))},[u,m,b,...r]),{droppableRects:v,measureDroppableContainers:b,measuringScheduled:o!=null};function _(){switch(f){case Eu.Always:return!1;case Eu.BeforeDragging:return n;default:return!n}}}function nN(e,t){return Xu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function mQ(e,t){return nN(e,t)}function gQ(e){let{callback:t,disabled:n}=e;const r=sp(t),s=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return S.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function op(e){let{callback:t,disabled:n}=e;const r=sp(t),s=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return S.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function xQ(e){return new eN(Zu(e),e)}function IC(e,t,n){t===void 0&&(t=xQ);const[r,s]=S.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const p=t(e);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const l=gQ({callback(d){if(e)for(const f of d){const{type:p,target:m}=f;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),u=op({callback:o});return Li(()=>{o(),e?(u==null||u.observe(e),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),l==null||l.disconnect())},[e]),r}function bQ(e){const t=nN(e);return gL(e,t)}const PC=[];function yQ(e){const t=S.useRef(e),n=Xu(r=>e?r&&r!==PC&&e&&t.current&&e.parentNode===t.current.parentNode?r:J_(e):PC,[e]);return S.useEffect(()=>{t.current=e},[e]),n}function vQ(e){const[t,n]=S.useState(null),r=S.useRef(e),s=S.useCallback(o=>{const l=O0(o.target);l&&n(u=>u?(u.set(l,qw(l)),new Map(u)):null)},[]);return S.useEffect(()=>{const o=r.current;if(e!==o){l(o);const u=e.map(d=>{const f=O0(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,qw(f)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),r.current=e}return()=>{l(e),l(o)};function l(u){u.forEach(d=>{const f=O0(d);f==null||f.removeEventListener("scroll",s)})}},[s,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,l)=>hl(o,l),Ps):NL(e):Ps,[e,t])}function zC(e,t){t===void 0&&(t=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},t),S.useEffect(()=>{const r=e!==Ps;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?kh(e,n.current):Ps}function wQ(e){S.useEffect(()=>{if(!rp)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function _Q(e,t){return S.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=l=>{o(l,t)},n},{}),[e,t])}function EL(e){return S.useMemo(()=>e?KZ(e):null,[e])}const BC=[];function NQ(e,t){t===void 0&&(t=Zu);const[n]=e,r=EL(n?Nr(n):null),[s,o]=S.useState(BC);function l(){o(()=>e.length?e.map(d=>wL(d)?r:new eN(t(d),d)):BC)}const u=op({callback:l});return Li(()=>{u==null||u.disconnect(),l(),e.forEach(d=>u==null?void 0:u.observe(d))},[e]),s}function jL(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Yu(t)?t:e}function SQ(e){let{measure:t}=e;const[n,r]=S.useState(null),s=S.useCallback(f=>{for(const{target:p}of f)if(Yu(p)){r(m=>{const g=t(p);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),o=op({callback:s}),l=S.useCallback(f=>{const p=jL(f);o==null||o.disconnect(),p&&(o==null||o.observe(p)),r(p?t(p):null)},[t,o]),[u,d]=Nh(l);return S.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const kQ=[{sensor:Ju,options:{}},{sensor:Qu,options:{}}],EQ={current:{}},rh={draggable:{measure:MC},droppable:{measure:MC,strategy:Eu.WhileDragging,frequency:Hw.Optimized},dragOverlay:{measure:Zu}};class pu extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const jQ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:jh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rh,measureDroppableContainers:jh,windowRect:null,measuringScheduled:!1},CL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:jh,draggableNodes:new Map,over:null,measureDroppableContainers:jh},ed=S.createContext(CL),TL=S.createContext(jQ);function CQ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pu}}}function TQ(e,t){switch(t.type){case Kn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Kn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Kn.DragEnd:case Kn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Kn.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new pu(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Kn.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new pu(e.droppable.containers);return l.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case Kn.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new pu(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function AQ(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=S.useContext(ed),o=Sh(r),l=Sh(n==null?void 0:n.id);return S.useEffect(()=>{if(!t&&!r&&o&&l!=null){if(!X_(o)||document.activeElement===o.target)return;const u=s.get(l);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[d.current,f.current]){if(!p)continue;const m=EZ(p);if(m){m.focus();break}}})}},[r,t,s,l,o]),null}function AL(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...r}),n):n}function MQ(e){return S.useMemo(()=>({draggable:{...rh.draggable,...e==null?void 0:e.draggable},droppable:{...rh.droppable,...e==null?void 0:e.droppable},dragOverlay:{...rh.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function RQ(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const o=S.useRef(!1),{x:l,y:u}=typeof s=="boolean"?{x:s,y:s}:s;Li(()=>{if(!l&&!u||!t){o.current=!1;return}if(o.current||!r)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const p=n(f),m=gL(p,r);if(l||(m.x=0),u||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=bL(f);g&&g.scrollBy({top:m.y,left:m.x})}},[t,l,u,r,n])}const lp=S.createContext({...Ps,scaleX:1,scaleY:1});var wa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(wa||(wa={}));const rN=S.memo(function(t){var n,r,s,o;let{id:l,accessibility:u,autoScroll:d=!0,children:f,sensors:p=kQ,collisionDetection:m=qZ,measuring:g,modifiers:b,...y}=t;const v=S.useReducer(TQ,void 0,CQ),[_,N]=v,[j,k]=RZ(),[C,A]=S.useState(wa.Uninitialized),T=C===wa.Initialized,{draggable:{active:M,nodes:z,translate:$},droppable:{containers:D}}=_,I=M!=null?z.get(M):null,F=S.useRef({initial:null,translated:null}),K=S.useMemo(()=>{var tn;return M!=null?{id:M,data:(tn=I==null?void 0:I.data)!=null?tn:EQ,rect:F}:null},[M,I]),B=S.useRef(null),[G,U]=S.useState(null),[Y,W]=S.useState(null),X=ku(y,Object.values(y)),L=ip("DndDescribedBy",l),q=S.useMemo(()=>D.getEnabled(),[D]),P=MQ(g),{droppableRects:O,measureDroppableContainers:H,measuringScheduled:Z}=pQ(q,{dragging:T,dependencies:[$.x,$.y],config:P.droppable}),Q=fQ(z,M),ie=S.useMemo(()=>Y?Eh(Y):null,[Y]),ee=qs(),re=mQ(Q,P.draggable.measure);RQ({activeNode:M!=null?z.get(M):null,config:ee.layoutShiftCompensation,initialRect:re,measure:P.draggable.measure});const ue=IC(Q,P.draggable.measure,re),ge=IC(Q?Q.parentElement:null),J=S.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ae=D.getNodeFor((n=J.current.over)==null?void 0:n.id),pe=SQ({measure:P.dragOverlay.measure}),ve=(r=pe.nodeRef.current)!=null?r:Q,xe=T?(s=pe.rect)!=null?s:ue:null,Se=!!(pe.nodeRef.current&&pe.rect),ze=bQ(Se?null:ue),tt=EL(ve?Nr(ve):null),Ht=yQ(T?ae??Q:null),xn=NQ(Ht),sn=AL(b,{transform:{x:$.x-ze.x,y:$.y-ze.y,scaleX:1,scaleY:1},activatorEvent:Y,active:K,activeNodeRect:ue,containerNodeRect:ge,draggingNodeRect:xe,over:J.current.over,overlayNodeRect:pe.rect,scrollableAncestors:Ht,scrollableAncestorRects:xn,windowRect:tt}),Pt=ie?hl(ie,$):null,pt=vQ(Ht),Yn=zC(pt),he=zC(pt,[ue]),Ne=hl(sn,Yn),Re=xe?GZ(xe,sn):null,He=K&&Re?m({active:K,collisionRect:Re,droppableRects:O,droppableContainers:q,pointerCoordinates:Pt}):null,Xe=$Z(He,"id"),[Gt,Gn]=S.useState(null),zt=Se?sn:hl(sn,he),gt=FZ(zt,(o=Gt==null?void 0:Gt.rect)!=null?o:null,ue),Sn=S.useRef(null),xt=S.useCallback((tn,Bt)=>{let{sensor:te,options:me}=Bt;if(B.current==null)return;const Ee=z.get(B.current);if(!Ee)return;const De=tn.nativeEvent,rt=new te({active:B.current,activeNode:Ee,event:De,options:me,context:J,onAbort(Te){if(!z.get(Te))return;const{onDragAbort:Le}=X.current,Nt={id:Te};Le==null||Le(Nt),j({type:"onDragAbort",event:Nt})},onPending(Te,Ae,Le,Nt){if(!z.get(Te))return;const{onDragPending:er}=X.current,tr={id:Te,constraint:Ae,initialCoordinates:Le,offset:Nt};er==null||er(tr),j({type:"onDragPending",event:tr})},onStart(Te){const Ae=B.current;if(Ae==null)return;const Le=z.get(Ae);if(!Le)return;const{onDragStart:Nt}=X.current,kt={activatorEvent:De,active:{id:Ae,data:Le.data,rect:F}};ms.unstable_batchedUpdates(()=>{Nt==null||Nt(kt),A(wa.Initializing),N({type:Kn.DragStart,initialCoordinates:Te,active:Ae}),j({type:"onDragStart",event:kt}),U(Sn.current),W(De)})},onMove(Te){N({type:Kn.DragMove,coordinates:Te})},onEnd:ct(Kn.DragEnd),onCancel:ct(Kn.DragCancel)});Sn.current=rt;function ct(Te){return async function(){const{active:Le,collisions:Nt,over:kt,scrollAdjustedTranslate:er}=J.current;let tr=null;if(Le&&er){const{cancelDrop:kr}=X.current;tr={activatorEvent:De,active:Le,collisions:Nt,delta:er,over:kt},Te===Kn.DragEnd&&typeof kr=="function"&&await Promise.resolve(kr(tr))&&(Te=Kn.DragCancel)}B.current=null,ms.unstable_batchedUpdates(()=>{N({type:Te}),A(wa.Uninitialized),Gn(null),U(null),W(null),Sn.current=null;const kr=Te===Kn.DragEnd?"onDragEnd":"onDragCancel";if(tr){const or=X.current[kr];or==null||or(tr),j({type:kr,event:tr})}})}}},[z]),Sr=S.useCallback((tn,Bt)=>(te,me)=>{const Ee=te.nativeEvent,De=z.get(me);if(B.current!==null||!De||Ee.dndKit||Ee.defaultPrevented)return;const rt={active:De};tn(te,Bt.options,rt)===!0&&(Ee.dndKit={capturedBy:Bt.sensor},B.current=me,xt(te,Bt))},[z,xt]),Ln=hQ(p,Sr);wQ(p),Li(()=>{ue&&C===wa.Initializing&&A(wa.Initialized)},[ue,C]),S.useEffect(()=>{const{onDragMove:tn}=X.current,{active:Bt,activatorEvent:te,collisions:me,over:Ee}=J.current;if(!Bt||!te)return;const De={active:Bt,activatorEvent:te,collisions:me,delta:{x:Ne.x,y:Ne.y},over:Ee};ms.unstable_batchedUpdates(()=>{tn==null||tn(De),j({type:"onDragMove",event:De})})},[Ne.x,Ne.y]),S.useEffect(()=>{const{active:tn,activatorEvent:Bt,collisions:te,droppableContainers:me,scrollAdjustedTranslate:Ee}=J.current;if(!tn||B.current==null||!Bt||!Ee)return;const{onDragOver:De}=X.current,rt=me.get(Xe),ct=rt&&rt.rect.current?{id:rt.id,rect:rt.rect.current,data:rt.data,disabled:rt.disabled}:null,Te={active:tn,activatorEvent:Bt,collisions:te,delta:{x:Ee.x,y:Ee.y},over:ct};ms.unstable_batchedUpdates(()=>{Gn(ct),De==null||De(Te),j({type:"onDragOver",event:Te})})},[Xe]),Li(()=>{J.current={activatorEvent:Y,active:K,activeNode:Q,collisionRect:Re,collisions:He,droppableRects:O,draggableNodes:z,draggingNode:ve,draggingNodeRect:xe,droppableContainers:D,over:Gt,scrollableAncestors:Ht,scrollAdjustedTranslate:Ne},F.current={initial:xe,translated:Re}},[K,Q,He,Re,z,ve,xe,O,D,Gt,Ht,Ne]),cQ({...ee,delta:$,draggingRect:Re,pointerCoordinates:Pt,scrollableAncestors:Ht,scrollableAncestorRects:xn});const qi=S.useMemo(()=>({active:K,activeNode:Q,activeNodeRect:ue,activatorEvent:Y,collisions:He,containerNodeRect:ge,dragOverlay:pe,draggableNodes:z,droppableContainers:D,droppableRects:O,over:Gt,measureDroppableContainers:H,scrollableAncestors:Ht,scrollableAncestorRects:xn,measuringConfiguration:P,measuringScheduled:Z,windowRect:tt}),[K,Q,ue,Y,He,ge,pe,z,D,O,Gt,H,Ht,xn,P,Z,tt]),ws=S.useMemo(()=>({activatorEvent:Y,activators:Ln,active:K,activeNodeRect:ue,ariaDescribedById:{draggable:L},dispatch:N,draggableNodes:z,over:Gt,measureDroppableContainers:H}),[Y,Ln,K,ue,N,L,z,Gt,H]);return fn.createElement(mL.Provider,{value:k},fn.createElement(ed.Provider,{value:ws},fn.createElement(TL.Provider,{value:qi},fn.createElement(lp.Provider,{value:gt},f)),fn.createElement(AQ,{disabled:(u==null?void 0:u.restoreFocus)===!1})),fn.createElement(LZ,{...u,hiddenTextDescribedById:L}));function qs(){const tn=(G==null?void 0:G.autoScrollEnabled)===!1,Bt=typeof d=="object"?d.enabled===!1:d===!1,te=T&&!tn&&!Bt;return typeof d=="object"?{...d,enabled:te}:{enabled:te}}}),OQ=S.createContext(null),$C="button",DQ="Draggable";function sN(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const o=ip(DQ),{activators:l,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:p,draggableNodes:m,over:g}=S.useContext(ed),{role:b=$C,roleDescription:y="draggable",tabIndex:v=0}=s??{},_=(d==null?void 0:d.id)===t,N=S.useContext(_?lp:OQ),[j,k]=Nh(),[C,A]=Nh(),T=_Q(l,t),M=ku(n);Li(()=>(m.set(t,{id:t,key:o,node:j,activatorNode:C,data:M}),()=>{const $=m.get(t);$&&$.key===o&&m.delete(t)}),[m,t]);const z=S.useMemo(()=>({role:b,tabIndex:v,"aria-disabled":r,"aria-pressed":_&&b===$C?!0:void 0,"aria-roledescription":y,"aria-describedby":p.draggable}),[r,b,v,_,y,p.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:z,isDragging:_,listeners:r?void 0:T,node:j,over:g,setNodeRef:k,setActivatorNodeRef:A,transform:N}}function LQ(){return S.useContext(TL)}const IQ="Droppable",PQ={timeout:25};function iN(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const o=ip(IQ),{active:l,dispatch:u,over:d,measureDroppableContainers:f}=S.useContext(ed),p=S.useRef({disabled:n}),m=S.useRef(!1),g=S.useRef(null),b=S.useRef(null),{disabled:y,updateMeasurementsFor:v,timeout:_}={...PQ,...s},N=ku(v??r),j=S.useCallback(()=>{if(!m.current){m.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{f(Array.isArray(N.current)?N.current:[N.current]),b.current=null},_)},[_]),k=op({callback:j,disabled:y||!l}),C=S.useCallback((z,$)=>{k&&($&&(k.unobserve($),m.current=!1),z&&k.observe(z))},[k]),[A,T]=Nh(C),M=ku(t);return S.useEffect(()=>{!k||!A.current||(k.disconnect(),m.current=!1,k.observe(A.current))},[A,k]),S.useEffect(()=>(u({type:Kn.RegisterDroppable,element:{id:r,key:o,disabled:n,node:A,rect:g,data:M}}),()=>u({type:Kn.UnregisterDroppable,key:o,id:r})),[r]),S.useEffect(()=>{n!==p.current.disabled&&(u({type:Kn.SetDroppableDisabled,id:r,key:o,disabled:n}),p.current.disabled=n)},[r,o,n,u]),{active:l,rect:g,isOver:(d==null?void 0:d.id)===r,node:A,over:d,setNodeRef:T}}function zQ(e){let{animation:t,children:n}=e;const[r,s]=S.useState(null),[o,l]=S.useState(null),u=Sh(n);return!n&&!r&&u&&s(u),Li(()=>{if(!o)return;const d=r==null?void 0:r.key,f=r==null?void 0:r.props.id;if(d==null||f==null){s(null);return}Promise.resolve(t(f,o)).then(()=>{s(null)})},[t,r,o]),fn.createElement(fn.Fragment,null,n,r?S.cloneElement(r,{ref:l}):null)}const BQ={x:0,y:0,scaleX:1,scaleY:1};function $Q(e){let{children:t}=e;return fn.createElement(ed.Provider,{value:CL},fn.createElement(lp.Provider,{value:BQ},t))}const UQ={position:"fixed",touchAction:"none"},qQ=e=>X_(e)?"transform 250ms ease":void 0,FQ=S.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:o,className:l,rect:u,style:d,transform:f,transition:p=qQ}=e;if(!u)return null;const m=s?f:{...f,scaleX:1,scaleY:1},g={...UQ,width:u.width,height:u.height,top:u.top,left:u.left,transform:Ea.Transform.toString(m),transformOrigin:s&&r?PZ(r,u):void 0,transition:typeof p=="function"?p(r):p,...d};return fn.createElement(n,{className:l,style:g,ref:t},o)}),HQ=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:o,className:l}=e;if(o!=null&&o.active)for(const[u,d]of Object.entries(o.active))d!==void 0&&(s[u]=n.node.style.getPropertyValue(u),n.node.style.setProperty(u,d));if(o!=null&&o.dragOverlay)for(const[u,d]of Object.entries(o.dragOverlay))d!==void 0&&r.node.style.setProperty(u,d);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[d,f]of Object.entries(s))n.node.style.setProperty(d,f);l!=null&&l.active&&n.node.classList.remove(l.active)}},GQ=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ea.Transform.toString(t)},{transform:Ea.Transform.toString(n)}]},VQ={duration:250,easing:"ease",keyframes:GQ,sideEffects:HQ({styles:{active:{opacity:"0"}}})};function WQ(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return sp((o,l)=>{if(t===null)return;const u=n.get(o);if(!u)return;const d=u.node.current;if(!d)return;const f=jL(l);if(!f)return;const{transform:p}=Nr(l).getComputedStyle(l),m=xL(p);if(!m)return;const g=typeof t=="function"?t:KQ(t);return SL(d,s.draggable.measure),g({active:{id:o,data:u.data,node:d,rect:s.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:l,rect:s.dragOverlay.measure(f)},droppableContainers:r,measuringConfiguration:s,transform:m})})}function KQ(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...VQ,...e};return o=>{let{active:l,dragOverlay:u,transform:d,...f}=o;if(!t)return;const p={x:u.rect.left-l.rect.left,y:u.rect.top-l.rect.top},m={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/u.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/u.rect.height:1},g={x:d.x-p.x,y:d.y-p.y,...m},b=s({...f,active:l,dragOverlay:u,transform:{initial:d,final:g}}),[y]=b,v=b[b.length-1];if(JSON.stringify(y)===JSON.stringify(v))return;const _=r==null?void 0:r({active:l,dragOverlay:u,...f}),N=u.node.animate(b,{duration:t,easing:n,fill:"forwards"});return new Promise(j=>{N.onfinish=()=>{_==null||_(),j()}})}}let UC=0;function YQ(e){return S.useMemo(()=>{if(e!=null)return UC++,UC},[e])}const aN=fn.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:o,modifiers:l,wrapperElement:u="div",className:d,zIndex:f=999}=e;const{activatorEvent:p,active:m,activeNodeRect:g,containerNodeRect:b,draggableNodes:y,droppableContainers:v,dragOverlay:_,over:N,measuringConfiguration:j,scrollableAncestors:k,scrollableAncestorRects:C,windowRect:A}=LQ(),T=S.useContext(lp),M=YQ(m==null?void 0:m.id),z=AL(l,{activatorEvent:p,active:m,activeNodeRect:g,containerNodeRect:b,draggingNodeRect:_.rect,over:N,overlayNodeRect:_.rect,scrollableAncestors:k,scrollableAncestorRects:C,transform:T,windowRect:A}),$=nN(g),D=WQ({config:r,draggableNodes:y,droppableContainers:v,measuringConfiguration:j}),I=$?_.setRef:void 0;return fn.createElement($Q,null,fn.createElement(zQ,{animation:D},m&&M?fn.createElement(FQ,{key:M,id:m.id,ref:I,as:u,activatorEvent:p,adjustScale:t,className:d,transition:o,rect:$,style:{zIndex:f,...s},transform:z},n):null))});function XQ({task:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,isDragging:l}=sN({id:e.id,data:{task:e}}),u=o?{transform:Ea.Translate.toString(o),zIndex:l?50:void 0}:void 0,d=e.tags||[],f=e.status==="blocked",p=e.plan_title;return a.jsxs("div",{ref:s,style:u,...r,...n,onClick:m=>{!l&&t&&(m.stopPropagation(),t())},className:`rounded-lg border p-3 cursor-grab active:cursor-grabbing transition-all duration-150 select-none ${l?"opacity-50 rotate-2 shadow-xl border-indigo-500 bg-[#1a1d27]":f?"border-yellow-500/50 bg-[#1a1d27] hover:border-yellow-400":"border-white/[0.06] bg-[#1a1d27] hover:border-indigo-500 hover:shadow-lg"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 flex-1",children:e.title||(e.description||"").slice(0,60)}),e.priority!==void 0&&a.jsx("span",{className:"text-xs font-bold text-indigo-400 shrink-0",children:e.priority})]}),p&&a.jsx("div",{className:"text-xs text-gray-500 truncate mb-2",children:p}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[f&&a.jsx("span",{className:"text-xs text-yellow-400",title:"Blocked",children:a.jsx("svg",{className:"w-3.5 h-3.5 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.assigned_to&&a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white shrink-0",title:e.assigned_to,children:e.assigned_to.slice(0,2).toUpperCase()}),d.slice(0,3).map((m,g)=>a.jsx(vt,{variant:"default",className:"text-[10px] px-1.5 py-0",children:m},`${m}-${g}`)),d.length>3&&a.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",d.length-3]})]})]})}function ZQ({task:e}){const t=e.tags||[],n=e.plan_title;return a.jsxs("div",{className:"rounded-lg border border-indigo-500 bg-[#1a1d27] p-3 shadow-2xl rotate-2 w-[244px] opacity-90",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 flex-1",children:e.title||(e.description||"").slice(0,60)}),e.priority!==void 0&&a.jsx("span",{className:"text-xs font-bold text-indigo-400 shrink-0",children:e.priority})]}),n&&a.jsx("div",{className:"text-xs text-gray-500 truncate mb-2",children:n}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[e.assigned_to&&a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white shrink-0",children:e.assigned_to.slice(0,2).toUpperCase()}),t.slice(0,3).map((r,s)=>a.jsx(vt,{variant:"default",className:"text-[10px] px-1.5 py-0",children:r},`${r}-${s}`))]})]})}const Th={gray:{border:"border-l-gray-500",bg:"bg-gray-500/10",text:"text-gray-400",dropHighlight:"bg-gray-500/20 border-gray-500/50"},blue:{border:"border-l-blue-500",bg:"bg-blue-500/10",text:"text-blue-400",dropHighlight:"bg-blue-500/20 border-blue-500/50"},yellow:{border:"border-l-yellow-500",bg:"bg-yellow-500/10",text:"text-yellow-400",dropHighlight:"bg-yellow-500/20 border-yellow-500/50"},green:{border:"border-l-green-500",bg:"bg-green-500/10",text:"text-green-400",dropHighlight:"bg-green-500/20 border-green-500/50"},red:{border:"border-l-red-500",bg:"bg-red-500/10",text:"text-red-400",dropHighlight:"bg-red-500/20 border-red-500/50"},purple:{border:"border-l-purple-500",bg:"bg-purple-500/10",text:"text-purple-400",dropHighlight:"bg-purple-500/20 border-purple-500/50"}};function qC({id:e,title:t,tasks:n,color:r,total:s,hasMore:o=!1,loadingMore:l=!1,onLoadMore:u,loading:d=!1,onTaskClick:f,fullWidth:p=!1}){const{isOver:m,setNodeRef:g}=iN({id:e}),b=Th[r]||Th.gray,{sentinelRef:y}=mO({onLoadMore:u||(()=>{}),hasMore:o,loading:l||d}),v=s!==void 0?s:n.length;return a.jsxs("div",{className:`flex flex-col flex-1 ${p?"min-w-0":"min-w-[200px]"}`,children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-t-lg ${b.bg} border-l-4 ${b.border}`,children:[a.jsx("h3",{className:`text-sm font-semibold ${b.text}`,children:t}),a.jsx("span",{className:"text-xs text-gray-500 bg-[#1a1d27] rounded-full px-2 py-0.5",children:v})]}),a.jsx("div",{ref:g,className:`flex-1 p-2 space-y-2 rounded-b-lg border border-t-0 border-white/[0.06] min-h-[200px] ${p?"max-h-[calc(100dvh-200px)]":"max-h-[calc(100vh-280px)]"} overflow-y-auto transition-colors duration-150 ${m?b.dropHighlight:"bg-[#1a1d27]/30"}`,children:d?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(_=>a.jsx("div",{className:"h-20 bg-white/[0.06] rounded-lg animate-pulse"},_))}):n.length===0?a.jsx("div",{className:"flex items-center justify-center h-20 text-xs text-gray-600",children:"No tasks"}):a.jsxs(a.Fragment,{children:[n.map(_=>a.jsx(XQ,{task:_,onClick:()=>f==null?void 0:f(_.id)},_.id)),o&&a.jsx("div",{ref:y,className:"h-1"}),l&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(wr,{})})]})})]})}const QQ=[{id:"pending",title:"Pending",color:"gray"},{id:"in_progress",title:"In Progress",color:"blue"},{id:"blocked",title:"Blocked",color:"yellow"},{id:"completed",title:"Completed",color:"green"},{id:"failed",title:"Failed",color:"red"}];function ML({fetchFn:e,filters:t={},hiddenStatuses:n=[],onTaskStatusChange:r,onTaskClick:s,refreshTrigger:o=0}){const[l,u]=S.useState(null),d=b_(),f=QQ.filter(C=>!n.includes(C.id)),p=Z_(Ai(Ju,{activationConstraint:{distance:8}}),Ai(ap,{activationConstraint:{delay:200,tolerance:5}}),Ai(Qu)),m=Qs({status:"pending",fetchFn:e,filters:t,enabled:!n.includes("pending"),refreshTrigger:o}),g=Qs({status:"in_progress",fetchFn:e,filters:t,enabled:!n.includes("in_progress"),refreshTrigger:o}),b=Qs({status:"blocked",fetchFn:e,filters:t,enabled:!n.includes("blocked"),refreshTrigger:o}),y=Qs({status:"completed",fetchFn:e,filters:t,enabled:!n.includes("completed"),refreshTrigger:o}),v=Qs({status:"failed",fetchFn:e,filters:t,enabled:!n.includes("failed"),refreshTrigger:o}),_={pending:m,in_progress:g,blocked:b,completed:y,failed:v},N=S.useRef(_);N.current=_;const j=S.useCallback(C=>{var T;const A=(T=C.active.data.current)==null?void 0:T.task;A&&u(A)},[]),k=S.useCallback(async C=>{const A=l;u(null);const{active:T,over:M}=C;if(!M||!A)return;const z=T.id,$=M.id,D=A.status;if(D===$)return;const I=N.current;I[D].removeItem(z),I[$].addItem({...A,status:$});try{await r(z,$)}catch(F){I[$].removeItem(z),I[D].addItem(A),console.error("Failed to update task status:",F)}},[l,r]);return d?a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 -mx-4 px-4 snap-x snap-mandatory",children:f.map(C=>{const A=_[C.id];return a.jsx("div",{className:"w-[80vw] shrink-0 snap-start",children:a.jsx(qC,{id:C.id,title:C.title,tasks:A.items,color:C.color,total:A.total,hasMore:A.hasMore,loadingMore:A.loadingMore,onLoadMore:A.loadMore,loading:A.loading,onTaskClick:s,fullWidth:!0})},C.id)})}):a.jsxs(rN,{sensors:p,collisionDetection:Q_,onDragStart:j,onDragEnd:k,children:[a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:f.map(C=>{const A=_[C.id];return a.jsx(qC,{id:C.id,title:C.title,tasks:A.items,color:C.color,total:A.total,hasMore:A.hasMore,loadingMore:A.loadingMore,onLoadMore:A.loadMore,loading:A.loading,onTaskClick:s},C.id)})}),a.jsx(aN,{dropAnimation:null,children:l?a.jsx(ZQ,{task:l}):null})]})}function JQ({filters:e,onFilterChange:t,onToggleExcludeProject:n,onClearFilters:r,activeFilterCount:s}){const[o,l]=S.useState([]),[u,d]=S.useState([]);S.useEffect(()=>{Ct.list({limit:100}).then(g=>l(g.items||[])).catch(()=>{}),Tt.list({limit:100}).then(g=>d(g.items||[])).catch(()=>{})},[]);const f=[{value:"",label:"All Plans"},...o.map(g=>({value:g.id,label:g.title}))],p=u.filter(g=>{var b;return!((b=e.exclude_projects)!=null&&b.includes(g.id))}),m=u.filter(g=>{var b;return(b=e.exclude_projects)==null?void 0:b.includes(g.id)});return a.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-2 sm:gap-3 p-3 bg-[#1a1d27]/50 rounded-lg border border-white/[0.06] mb-4",children:[a.jsx(Tn,{options:f,value:e.plan_id||"",onChange:g=>t("plan_id",g||void 0),className:"w-full sm:w-44"}),a.jsx("input",{type:"text",placeholder:"Assigned to...",value:e.assigned_to||"",onChange:g=>t("assigned_to",g.target.value||void 0),className:"w-full sm:w-36 px-2.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:border-indigo-500"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[a.jsx("span",{children:"P:"}),a.jsx("input",{type:"number",placeholder:"Min",value:e.priority_min??"",onChange:g=>t("priority_min",g.target.value?Number(g.target.value):void 0),className:"w-14 px-1.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded text-gray-200 focus:outline-none focus:border-indigo-500"}),a.jsx("span",{children:"-"}),a.jsx("input",{type:"number",placeholder:"Max",value:e.priority_max??"",onChange:g=>t("priority_max",g.target.value?Number(g.target.value):void 0),className:"w-14 px-1.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded text-gray-200 focus:outline-none focus:border-indigo-500"})]}),a.jsx("div",{className:"hidden sm:block w-px h-6 bg-white/[0.06]"}),a.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.exclude_completed||!1,onChange:g=>t("exclude_completed",g.target.checked||void 0),className:"rounded border-white/[0.1] bg-[#0f1117] text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),"Hide completed"]}),a.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.exclude_failed||!1,onChange:g=>t("exclude_failed",g.target.checked||void 0),className:"rounded border-white/[0.1] bg-[#0f1117] text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),"Hide failed"]}),p.length>0&&a.jsx(Tn,{options:p.map(g=>({value:g.id,label:g.name})),value:"",onChange:g=>{g&&n(g)},placeholder:"Exclude project...",className:"w-full sm:w-40"}),m.map(g=>a.jsxs("button",{onClick:()=>n(g.id),className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-red-900/50 text-red-400 hover:bg-red-900/70 transition-colors cursor-pointer",children:[g.name," "]},g.id)),a.jsx("div",{className:"hidden sm:block flex-1"}),s>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white",children:s}),a.jsx(it,{variant:"ghost",size:"sm",onClick:r,children:"Clear all"})]})]})}function eJ({filters:e,onFilterChange:t,onClearFilters:n,activeFilterCount:r}){const[s,o]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState({});S.useEffect(()=>{async function b(){try{const[y,v]=await Promise.all([Tt.list({limit:100}),bt.list({limit:100})]);o(y.items||[]),u(v.items||[]);const _={};for(const N of v.items||[])try{const j=await bt.listProjects(N.slug),k=Array.isArray(j)?j:j.items||[];_[N.id]=k.map(C=>C.id)}catch{_[N.id]=[]}f(_)}catch(y){console.error("Failed to load filter data:",y)}}b()},[]);const p=e.workspace==="all"?s:s.filter(b=>(d[e.workspace]||[]).includes(b.id)),m=[{value:"all",label:"All Workspaces"},...l.map(b=>({value:b.id,label:b.name}))],g=[{value:"all",label:"All Projects"},...p.map(b=>({value:b.id,label:b.name}))];return a.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-3 bg-[#1a1d27]/50 rounded-lg border border-white/[0.06] mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search title...",value:e.search,onChange:b=>t("search",b.target.value),className:"w-40 px-2.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:border-indigo-500"}),a.jsx(Tn,{options:m,value:e.workspace,onChange:b=>{t("workspace",b),t("project","all")},className:"w-44"}),a.jsx(Tn,{options:g,value:e.project,onChange:b=>t("project",b),className:"w-44"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[a.jsx("span",{children:"P:"}),a.jsx("input",{type:"number",placeholder:"Min",value:e.priority_min??"",onChange:b=>t("priority_min",b.target.value?Number(b.target.value):void 0),className:"w-14 px-1.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded text-gray-200 focus:outline-none focus:border-indigo-500"}),a.jsx("span",{children:"-"}),a.jsx("input",{type:"number",placeholder:"Max",value:e.priority_max??"",onChange:b=>t("priority_max",b.target.value?Number(b.target.value):void 0),className:"w-14 px-1.5 py-1.5 text-sm bg-[#0f1117] border border-white/[0.1] rounded text-gray-200 focus:outline-none focus:border-indigo-500"})]}),a.jsx("div",{className:"w-px h-6 bg-white/[0.06]"}),a.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.hide_completed,onChange:b=>t("hide_completed",b.target.checked),className:"rounded border-white/[0.1] bg-[#0f1117] text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),"Hide completed"]}),a.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.hide_cancelled,onChange:b=>t("hide_cancelled",b.target.checked),className:"rounded border-white/[0.1] bg-[#0f1117] text-indigo-600 focus:ring-indigo-500 focus:ring-offset-0"}),"Hide cancelled"]}),a.jsx("div",{className:"flex-1"}),r>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white",children:r}),a.jsx(it,{variant:"ghost",size:"sm",onClick:n,children:"Clear all"})]})]})}function tJ({plan:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,isDragging:l}=sN({id:e.id,data:{plan:e}}),u=o?{transform:Ea.Translate.toString(o),zIndex:l?50:void 0}:void 0;return a.jsxs("div",{ref:s,style:u,...r,...n,onClick:d=>{!l&&t&&(d.stopPropagation(),t())},className:`rounded-lg border p-3 cursor-grab active:cursor-grabbing transition-all duration-150 select-none ${l?"opacity-50 rotate-2 shadow-xl border-indigo-500 bg-[#1a1d27]":"border-white/[0.06] bg-[#1a1d27] hover:border-indigo-500 hover:shadow-lg"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 flex-1",children:e.title}),e.priority!==void 0&&a.jsx("span",{className:"text-xs font-bold text-indigo-400 shrink-0",children:e.priority})]}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-2",children:e.description}),a.jsxs("div",{className:"flex items-center gap-1",children:[e.created_by&&a.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-[10px] font-bold text-white shrink-0",title:e.created_by,children:e.created_by.slice(0,2).toUpperCase()}),e.project_id&&a.jsx(vt,{variant:"default",className:"text-[10px] px-1.5 py-0",children:"project"})]})]})}function nJ({plan:e}){return a.jsxs("div",{className:"rounded-lg border border-indigo-500 bg-[#1a1d27] p-3 shadow-2xl rotate-2 w-[244px] opacity-90",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 flex-1",children:e.title}),e.priority!==void 0&&a.jsx("span",{className:"text-xs font-bold text-indigo-400 shrink-0",children:e.priority})]}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.description})]})}const rJ=[{id:"draft",title:"Draft",color:"gray"},{id:"approved",title:"Approved",color:"blue"},{id:"in_progress",title:"In Progress",color:"yellow"},{id:"completed",title:"Completed",color:"green"},{id:"cancelled",title:"Cancelled",color:"red"}];function oN({fetchFn:e,filters:t={},hiddenStatuses:n=[],onPlanStatusChange:r,onPlanClick:s,refreshTrigger:o=0}){const[l,u]=S.useState(null),d=b_(),f=S.useMemo(()=>rJ.filter(C=>!n.includes(C.id)),[n]),p=Z_(Ai(Ju,{activationConstraint:{distance:8}}),Ai(ap,{activationConstraint:{delay:200,tolerance:5}}),Ai(Qu)),m=Qs({status:"draft",fetchFn:e,filters:t,enabled:!n.includes("draft"),refreshTrigger:o}),g=Qs({status:"approved",fetchFn:e,filters:t,enabled:!n.includes("approved"),refreshTrigger:o}),b=Qs({status:"in_progress",fetchFn:e,filters:t,enabled:!n.includes("in_progress"),refreshTrigger:o}),y=Qs({status:"completed",fetchFn:e,filters:t,enabled:!n.includes("completed"),refreshTrigger:o}),v=Qs({status:"cancelled",fetchFn:e,filters:t,enabled:!n.includes("cancelled"),refreshTrigger:o}),_={draft:m,approved:g,in_progress:b,completed:y,cancelled:v},N=S.useRef(_);N.current=_;const j=S.useCallback(C=>{var T;const A=(T=C.active.data.current)==null?void 0:T.plan;A&&u(A)},[]),k=S.useCallback(async C=>{const A=l;u(null);const{active:T,over:M}=C;if(!M||!A)return;const z=T.id,$=M.id,D=A.status;if(D===$)return;const I=N.current;I[D].removeItem(z),I[$].addItem({...A,status:$});try{await r(z,$)}catch(F){I[$].removeItem(z),I[D].addItem(A),console.error("Failed to update plan status:",F)}},[l,r]);return d?a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 -mx-4 px-4 snap-x snap-mandatory",children:f.map(C=>{const A=_[C.id];return a.jsx("div",{className:"w-[80vw] shrink-0 snap-start",children:a.jsx(FC,{id:C.id,title:C.title,plans:A.items,color:C.color,total:A.total,hasMore:A.hasMore,loadingMore:A.loadingMore,onLoadMore:A.loadMore,loading:A.loading,onPlanClick:s,fullWidth:!0})},C.id)})}):a.jsxs(rN,{sensors:p,collisionDetection:Q_,onDragStart:j,onDragEnd:k,children:[a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:f.map(C=>{const A=_[C.id];return a.jsx(FC,{id:C.id,title:C.title,plans:A.items,color:C.color,total:A.total,hasMore:A.hasMore,loadingMore:A.loadingMore,onLoadMore:A.loadMore,loading:A.loading,onPlanClick:s},C.id)})}),a.jsx(aN,{dropAnimation:null,children:l?a.jsx(nJ,{plan:l}):null})]})}function FC({id:e,title:t,plans:n,color:r,total:s,hasMore:o=!1,loadingMore:l=!1,onLoadMore:u,loading:d=!1,onPlanClick:f,fullWidth:p=!1}){const{isOver:m,setNodeRef:g}=iN({id:e}),b=Th[r]||Th.gray,{sentinelRef:y}=mO({onLoadMore:u||(()=>{}),hasMore:o,loading:l||d}),v=s!==void 0?s:n.length;return a.jsxs("div",{className:`flex flex-col flex-1 ${p?"min-w-0":"min-w-[200px]"}`,children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-t-lg ${b.bg} border-l-4 ${b.border}`,children:[a.jsx("h3",{className:`text-sm font-semibold ${b.text}`,children:t}),a.jsx("span",{className:"text-xs text-gray-500 bg-[#1a1d27] rounded-full px-2 py-0.5",children:v})]}),a.jsx("div",{ref:g,className:`flex-1 p-2 space-y-2 rounded-b-lg border border-t-0 border-white/[0.06] min-h-[200px] ${p?"max-h-[calc(100dvh-200px)]":"max-h-[calc(100vh-280px)]"} overflow-y-auto transition-colors duration-150 ${m?b.dropHighlight:"bg-[#1a1d27]/30"}`,children:d?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(_=>a.jsx("div",{className:"h-20 bg-white/[0.06] rounded-lg animate-pulse"},_))}):n.length===0?a.jsx("div",{className:"flex items-center justify-center h-20 text-xs text-gray-600",children:"No plans"}):a.jsxs(a.Fragment,{children:[n.map(_=>a.jsx(tJ,{plan:_,onClick:()=>f==null?void 0:f(_.id)},_.id)),o&&a.jsx("div",{ref:y,className:"h-1"}),l&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(wr,{})})]})})]})}function sJ({milestone:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,isDragging:l}=sN({id:e.id,data:{milestone:e}}),u=o?{transform:Ea.Translate.toString(o),zIndex:l?50:void 0}:void 0,d=e.tags||[];return a.jsxs("div",{ref:s,style:u,...r,...n,onClick:f=>{!l&&t&&(f.stopPropagation(),t())},className:`rounded-lg border p-3 cursor-grab active:cursor-grabbing transition-all duration-150 select-none ${l?"opacity-50 rotate-2 shadow-xl border-indigo-500 bg-[#1a1d27]":"border-white/[0.06] bg-[#1a1d27] hover:border-indigo-500 hover:shadow-lg"}`,children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 mb-1",children:e.title}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-2",children:e.description}),e.progress&&a.jsxs("div",{className:"mb-2",children:[a.jsx(Is,{value:e.progress.percentage,size:"sm"}),a.jsxs("p",{className:"text-[10px] text-gray-500 mt-0.5",children:[e.progress.completed,"/",e.progress.total]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[e.workspace_name&&a.jsx("span",{className:"text-[10px] text-gray-500",children:e.workspace_name}),e.target_date&&a.jsxs("span",{className:"text-[10px] text-gray-500",children:["Target: ",new Date(e.target_date).toLocaleDateString()]}),d.slice(0,2).map((f,p)=>a.jsx(vt,{variant:"default",className:"text-[10px] px-1.5 py-0",children:f},`${f}-${p}`))]})]})}function iJ({milestone:e}){return a.jsxs("div",{className:"rounded-lg border border-indigo-500 bg-[#1a1d27] p-3 shadow-2xl rotate-2 w-[300px] opacity-90",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-100 line-clamp-2 mb-1",children:e.title}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.description}),e.progress&&a.jsx("div",{className:"mt-1",children:a.jsx(Is,{value:e.progress.percentage,size:"sm"})})]})}const I0=[{id:"planned",title:"Planned",color:"gray"},{id:"open",title:"Open",color:"blue"},{id:"in_progress",title:"In Progress",color:"yellow"},{id:"completed",title:"Completed",color:"green"},{id:"closed",title:"Closed",color:"purple"}],HC={gray:{border:"border-l-gray-500",bg:"bg-gray-500/10",text:"text-gray-400",dropHighlight:"bg-gray-500/20 border-gray-500/50"},blue:{border:"border-l-blue-500",bg:"bg-blue-500/10",text:"text-blue-400",dropHighlight:"bg-blue-500/20 border-blue-500/50"},yellow:{border:"border-l-yellow-500",bg:"bg-yellow-500/10",text:"text-yellow-400",dropHighlight:"bg-yellow-500/20 border-yellow-500/50"},green:{border:"border-l-green-500",bg:"bg-green-500/10",text:"text-green-400",dropHighlight:"bg-green-500/20 border-green-500/50"},purple:{border:"border-l-purple-500",bg:"bg-purple-500/10",text:"text-purple-400",dropHighlight:"bg-purple-500/20 border-purple-500/50"}};function aJ({milestones:e,onMilestoneStatusChange:t,onMilestoneClick:n,loading:r}){const[s,o]=S.useState(null),l=b_(),u=Z_(Ai(Ju,{activationConstraint:{distance:8}}),Ai(ap,{activationConstraint:{delay:200,tolerance:5}}),Ai(Qu)),d=S.useMemo(()=>{var g;const m={planned:[],open:[],in_progress:[],completed:[],closed:[]};for(const b of e){const y=((g=b.status)==null?void 0:g.toLowerCase())||"open";m[y]&&m[y].push(b)}return m},[e]),f=S.useCallback(m=>{var b;const g=(b=m.active.data.current)==null?void 0:b.milestone;g&&o(g)},[]),p=S.useCallback(async m=>{var j;o(null);const{active:g,over:b}=m;if(!b)return;const y=g.id,v=b.id,_=e.find(k=>k.id===y);if(!(!_||(((j=_.status)==null?void 0:j.toLowerCase())||"open")===v))try{await t(y,v)}catch(k){console.error("Failed to update milestone status:",k)}},[e,t]);return r?a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:I0.map(m=>a.jsxs("div",{className:"min-w-[200px] flex-1",children:[a.jsx("div",{className:"h-10 bg-[#1a1d27] rounded-t-lg animate-pulse"}),a.jsx("div",{className:"h-[200px] bg-[#1a1d27]/30 rounded-b-lg border border-t-0 border-white/[0.06] animate-pulse"})]},m.id))}):l?a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 -mx-4 px-4 snap-x snap-mandatory",children:I0.map(m=>a.jsx("div",{className:"w-[80vw] shrink-0 snap-start",children:a.jsx(GC,{id:m.id,title:m.title,milestones:d[m.id],color:m.color,onMilestoneClick:n,fullWidth:!0})},m.id))}):a.jsxs(rN,{sensors:u,collisionDetection:Q_,onDragStart:f,onDragEnd:p,children:[a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:I0.map(m=>a.jsx(GC,{id:m.id,title:m.title,milestones:d[m.id],color:m.color,onMilestoneClick:n},m.id))}),a.jsx(aN,{dropAnimation:null,children:s?a.jsx(iJ,{milestone:s}):null})]})}function GC({id:e,title:t,milestones:n,color:r,onMilestoneClick:s,fullWidth:o=!1}){const{isOver:l,setNodeRef:u}=iN({id:e}),d=HC[r]||HC.blue;return a.jsxs("div",{className:`flex flex-col flex-1 ${o?"min-w-0":"min-w-[200px]"}`,children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-t-lg ${d.bg} border-l-4 ${d.border}`,children:[a.jsx("h3",{className:`text-sm font-semibold ${d.text}`,children:t}),a.jsx("span",{className:"text-xs text-gray-500 bg-[#1a1d27] rounded-full px-2 py-0.5",children:n.length})]}),a.jsx("div",{ref:u,className:`flex-1 p-2 space-y-2 rounded-b-lg border border-t-0 border-white/[0.06] min-h-[200px] ${o?"max-h-[calc(100dvh-200px)]":"max-h-[calc(100vh-280px)]"} overflow-y-auto transition-colors duration-150 ${l?d.dropHighlight:"bg-[#1a1d27]/30"}`,children:n.length===0?a.jsx("div",{className:"flex items-center justify-center h-20 text-xs text-gray-600",children:"No milestones"}):n.map(f=>a.jsx(sJ,{milestone:f,onClick:()=>s==null?void 0:s(f.id)},f.id))})]})}const oJ=[{value:"all",label:"All Status"},{value:"planned",label:"Planned"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"closed",label:"Closed"}];function lJ(){const[e,t]=S.useState([]),[n,r]=S.useState([]),[s,o]=S.useState(!0),{page:l,pageSize:u,paginationProps:d}=Rl(),[f,p]=Ol(),m=An(),g=ns(),b=Ir(),[y,v]=S.useState("all"),[_,N]=S.useState("all"),j=Ve(Ml),k=Ve(Hh);S.useEffect(()=>{async function I(){const F=e.length===0;F&&o(!0);try{const B=(await bt.list()).items||[];r(B);const G=[];for(const U of B)try{const Y=await bt.listMilestones(U.slug),W=Array.isArray(Y)?Y:Y.items||[];for(const X of W)try{const L=await bt.getMilestoneProgress(X.id);G.push({...X,progress:L,workspace_name:U.name})}catch{G.push({...X,workspace_name:U.name})}}catch(Y){console.error(`Failed to fetch milestones for workspace ${U.slug}:`,Y),b.error("Failed to load milestones")}t(G)}catch(K){console.error("Failed to fetch milestones:",K),b.error("Failed to load milestones")}finally{F&&o(!1)}}I()},[j,k]);const C=S.useMemo(()=>{let I=e;return y!=="all"&&(I=I.filter(F=>F.workspace_id===y)),_!=="all"&&(I=I.filter(F=>{var K;return(((K=F.status)==null?void 0:K.toLowerCase())||"open")===_})),I},[e,y,_]),A=S.useMemo(()=>{const I=(l-1)*u;return C.slice(I,I+u)},[C,l,u]),T=S.useCallback(async(I,F)=>{const K=e.find(B=>B.id===I);t(B=>B.map(G=>G.id===I?{...G,status:F}:G));try{await bt.updateMilestone(I,{status:F}),b.success("Status updated")}catch(B){K&&t(G=>G.map(U=>U.id===I?K:U)),console.error("Failed to update milestone status:",B),b.error("Failed to update status")}},[e]),M=Il(A,I=>I.id),z=()=>{const I=M.selectionCount;g.open({title:`Delete ${I} milestone${I>1?"s":""}`,description:`This will permanently delete ${I} milestone${I>1?"s":""}.`,onConfirm:async()=>{const F=M.selectedItems;g.setProgress({current:0,total:F.length});for(let K=0;K<F.length;K++)await bt.deleteMilestone(F[K].id),g.setProgress({current:K+1,total:F.length});t(K=>K.filter(B=>!M.selectedIds.has(B.id))),M.clear(),b.success(`Deleted ${I} milestone${I>1?"s":""}`)}})};if(s)return a.jsx(_r,{});const $=[{value:"all",label:"All Workspaces"},...n.map(I=>({value:I.id,label:I.name}))],D=y!=="all"||_!=="all";return a.jsxs(Fl,{title:"Milestones",description:"Track milestones across workspaces",actions:a.jsx(zl,{value:f,onChange:p}),children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-4 sm:flex-wrap",children:[a.jsx(Tn,{options:$,value:y,onChange:I=>v(I),className:"w-full sm:w-44"}),f==="list"&&a.jsx(Tn,{options:oJ,value:_,onChange:I=>N(I),className:"w-full sm:w-40"}),D&&a.jsx("button",{onClick:()=>{v("all"),N("all")},className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:"Clear filters"})]}),C.length===0?a.jsx(ka,{title:"No milestones",description:D?"No milestones match the current filters.":"Milestones help track major goals across your projects."}):f==="kanban"?a.jsx(aJ,{milestones:C,onMilestoneStatusChange:T,onMilestoneClick:I=>m(`/milestones/${I}`)}):a.jsxs(a.Fragment,{children:[f==="list"&&A.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:M.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:M.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"space-y-4",children:A.map(I=>a.jsx(uJ,{selected:M.isSelected(I.id),onToggleSelect:F=>M.toggle(I.id,F),milestone:I,onStatusChange:F=>T(I.id,F),onDelete:()=>g.open({title:"Delete Milestone",description:"This milestone will be permanently deleted.",onConfirm:async()=>{await bt.deleteMilestone(I.id),t(F=>F.filter(K=>K.id!==I.id)),b.success("Milestone deleted")}})},I.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Pl,{...d(C.length)})})]}),a.jsx(Gl,{count:M.selectionCount,onDelete:z,onClear:M.clear}),a.jsx(rs,{...g.dialogProps})]})}const cJ={planned:"bg-gray-400",open:"bg-blue-400",in_progress:"bg-yellow-400",completed:"bg-green-400",closed:"bg-purple-400"};function uJ({milestone:e,onStatusChange:t,onDelete:n,selected:r,onToggleSelect:s}){var u,d;const o=e.tags||[],l=((u=e.status)==null?void 0:u.toLowerCase())||"open";return a.jsx(ln,{to:`/milestones/${e.id}`,children:a.jsx(Ye,{className:`transition-colors ${r?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex",children:[s&&a.jsx(Hl,{selected:!!r,onToggle:s}),a.jsx("div",{className:`w-1 shrink-0 ${s?"":"rounded-l-xl"} ${cJ[l]||"bg-gray-400"}`}),a.jsxs("div",{className:"flex-1 min-w-0 p-3 md:p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-gray-100 truncate min-w-0",children:e.title}),a.jsx(W7,{status:(d=e.status)==null?void 0:d.toLowerCase(),onStatusChange:t})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-2 text-xs text-gray-500",children:[e.workspace_name&&a.jsxs("span",{children:["Workspace: ",e.workspace_name]}),e.target_date&&a.jsxs("span",{children:["Target: ",new Date(e.target_date).toLocaleDateString()]})]}),o.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:o.slice(0,4).map((f,p)=>a.jsx(vt,{variant:"default",children:f},`${f}-${p}`))})]}),a.jsx(mo,{actions:[{label:"Delete",variant:"danger",onClick:()=>n()}]})]}),e.progress&&a.jsxs("div",{className:"mt-3",children:[a.jsx(Is,{value:e.progress.percentage,showLabel:!0,size:"sm"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.progress.completed," / ",e.progress.total," tasks completed"]})]})]})]})})})}function lN({expanded:e,className:t}){return a.jsx("svg",{className:`w-4 h-4 transition-transform duration-150 ${e?"rotate-90":""} ${t||""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}const dJ={pending:"bg-white/[0.15]",in_progress:"bg-blue-600",completed:"bg-green-600",skipped:"bg-yellow-600"},fJ={pending:"Pending",in_progress:"In progress",completed:"Done",skipped:"Skipped"};function RL({step:e,index:t}){return a.jsxs("div",{className:"flex items-start gap-2 py-1.5 px-2 rounded bg-white/[0.03]",children:[a.jsx("div",{className:`w-5 h-5 rounded-full ${dJ[e.status]} flex items-center justify-center text-[10px] font-medium text-white flex-shrink-0 mt-0.5`,children:e.status==="completed"?"":t+1}),a.jsx("p",{className:"text-sm text-gray-300 flex-1 min-w-0",children:e.description}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full flex-shrink-0 ${e.status==="completed"?"bg-green-500/20 text-green-400":e.status==="in_progress"?"bg-blue-500/20 text-blue-400":e.status==="skipped"?"bg-yellow-500/20 text-yellow-400":"bg-white/[0.08] text-gray-500"}`,children:fJ[e.status]})]})}function hJ({task:e,refreshTrigger:t,expandAllSignal:n,collapseAllSignal:r}){const[s,o]=S.useState(!1),[l,u]=S.useState([]),d=S.useCallback(async()=>{try{const g=await Ot.listSteps(e.id);u(Array.isArray(g)?g:[])}catch{u([])}},[e.id]);S.useEffect(()=>{d()},[t,d]),S.useEffect(()=>{n&&o(!0)},[n]),S.useEffect(()=>{r&&o(!1)},[r]);const f=g=>{g.preventDefault(),g.stopPropagation(),o(!s)},p=l.filter(g=>g.status==="completed").length,m=l.length;return a.jsxs("div",{className:"bg-white/[0.04] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 p-2",children:[a.jsx("button",{onClick:f,className:"flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 hover:text-gray-300 transition-colors",title:s?"Collapse":"Show steps",children:a.jsx(lN,{expanded:s,className:"!w-3 !h-3"})}),a.jsx(ln,{to:`/tasks/${e.id}`,className:"flex-1 min-w-0 text-sm text-gray-300 hover:text-indigo-400 transition-colors truncate",children:e.title||e.description}),m>0&&a.jsxs("span",{className:"text-[10px] text-gray-500 flex-shrink-0",children:[p,"/",m]}),a.jsx(gh,{status:e.status})]}),s&&a.jsx("div",{className:"pl-9 pr-2 pb-2 space-y-1",children:l.length>0?l.map((g,b)=>a.jsx(RL,{step:g,index:b},g.id||b)):a.jsx("div",{className:"text-xs text-gray-500 py-1",children:"No steps"})})]})}function cN({plan:e,onStatusChange:t,refreshTrigger:n,expandAllSignal:r,collapseAllSignal:s}){const[o,l]=S.useState(!1),[u,d]=S.useState([]),f=S.useCallback(async()=>{try{const m=await Ot.list({plan_id:e.id,limit:100});d(m.items||[])}catch{d([])}},[e.id]);S.useEffect(()=>{f()},[n,f]),S.useEffect(()=>{r&&l(!0)},[r]),S.useEffect(()=>{s&&l(!1)},[s]);const p=m=>{m.preventDefault(),m.stopPropagation(),l(!o)};return a.jsxs("div",{className:"bg-white/[0.06] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3",children:[a.jsx("button",{onClick:p,className:"flex-shrink-0 w-6 h-6 flex items-center justify-center text-gray-500 hover:text-gray-300 transition-colors",title:o?"Collapse":"Show tasks",children:a.jsx(lN,{expanded:o})}),a.jsxs(ln,{to:`/plans/${e.id}`,className:"flex-1 min-w-0 hover:text-indigo-400 transition-colors overflow-hidden",children:[a.jsx("span",{className:"font-medium text-gray-200 block truncate",children:e.title}),e.description&&a.jsx("p",{className:"text-sm text-gray-400 line-clamp-1 mt-1",children:e.description})]}),u.length>0&&a.jsxs("span",{className:"text-xs text-gray-500 flex-shrink-0",children:[u.length," tasks"]}),a.jsx(kO,{status:e.status,onStatusChange:t})]}),o&&a.jsx("div",{className:"pl-8 pr-3 pb-3 space-y-1.5",children:u.length>0?u.map(m=>a.jsx(hJ,{task:m,refreshTrigger:n,expandAllSignal:r,collapseAllSignal:s},m.id)):a.jsx("div",{className:"text-xs text-gray-500 py-1",children:"No tasks"})})]})}function OL({task:e,refreshTrigger:t,expandAllSignal:n,collapseAllSignal:r}){const[s,o]=S.useState(!1),[l,u]=S.useState([]),d=S.useCallback(async()=>{try{const g=await Ot.listSteps(e.id);u(Array.isArray(g)?g:[])}catch{u([])}},[e.id]);S.useEffect(()=>{d()},[t,d]),S.useEffect(()=>{n&&o(!0)},[n]),S.useEffect(()=>{r&&o(!1)},[r]);const f=g=>{g.preventDefault(),g.stopPropagation(),o(!s)},p=l.filter(g=>g.status==="completed").length,m=l.length;return a.jsxs("div",{className:"bg-white/[0.06] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3",children:[a.jsx("button",{onClick:f,className:"flex-shrink-0 w-6 h-6 flex items-center justify-center text-gray-500 hover:text-gray-300 transition-colors",title:s?"Collapse":"Show steps",children:a.jsx(lN,{expanded:s})}),a.jsx(ln,{to:`/tasks/${e.id}`,className:"flex-1 min-w-0 hover:text-indigo-400 transition-colors overflow-hidden",children:a.jsx("span",{className:"font-medium text-gray-200 block truncate",children:e.title||e.description})}),m>0&&a.jsxs("span",{className:"text-xs text-gray-500 flex-shrink-0",children:[p,"/",m]}),a.jsx(gh,{status:e.status})]}),s&&a.jsx("div",{className:"pl-11 pr-3 pb-3 space-y-1.5",children:l.length>0?l.map((g,b)=>a.jsx(RL,{step:g,index:b},g.id||b)):a.jsx("div",{className:"text-xs text-gray-500 py-1",children:"No steps"})})]})}function pJ(){var ee;const{milestoneId:e}=uo(),t=An(),[n,r]=S.useState(null),[s,o]=S.useState(null),[l,u]=S.useState([]),[d,f]=S.useState([]),[p,m]=S.useState(new Set),[g,b]=S.useState([]),[y,v]=S.useState(!0),[_,N]=Ol(),j=ns(),k=Dl(),C=Ir(),A=Ve(Ml),T=Ve(fo),M=Ve(ja),z=Ve(Ca),[$,D]=S.useState(0),[I,F]=S.useState(0),[K,B]=S.useState(!1),[G,U]=S.useState(0),[Y,W]=S.useState(0),[X,L]=S.useState(!1),q=S.useCallback(async()=>{if(!e)return;const re=!n;re&&v(!0);try{const[ue,ge,J]=await Promise.all([bt.getMilestone(e),bt.getMilestoneProgress(e).catch(()=>null),bt.listMilestoneTasks(e)]);if(r(ue),o(ge),b(J||[]),ue.workspace_id){const ve=((await bt.list()).items||[]).find(xe=>xe.id===ue.workspace_id);if(ve){const xe=await bt.listProjects(ve.slug),Se=Array.isArray(xe)?xe:xe.items||[];u(Se)}}const ae=new Set((J||[]).map(pe=>pe.id));if(ae.size>0){const pe=await Ot.list({limit:100}),ve=new Set((pe.items||[]).filter(xe=>ae.has(xe.id)&&xe.plan_id).map(xe=>xe.plan_id));if(m(ve),ve.size>0){const Se=((await Ct.list({limit:100})).items||[]).filter(ze=>ve.has(ze.id));f(Se)}else f([])}else m(new Set),f([])}catch(ue){console.error("Failed to fetch milestone:",ue)}finally{re&&v(!1)}},[e,A,T,M,z]);S.useEffect(()=>{q()},[q]);const P=S.useCallback(async(re,ue)=>{const ge=d.find(J=>J.id===re);f(J=>J.map(ae=>ae.id===re?{...ae,status:ue}:ae));try{await Ct.updateStatus(re,ue),C.success("Status updated")}catch(J){ge&&f(ae=>ae.map(pe=>pe.id===re?ge:pe)),console.error("Failed to update plan status:",J),C.error("Failed to update plan status")}},[d]),O=S.useCallback(async re=>{if(p.size===0)return{items:[],total:0,limit:0,offset:0};const ue=re.status,J=((await Ct.list({limit:100})).items||[]).filter(ae=>p.has(ae.id)&&ae.status===ue);return{items:J,total:J.length,limit:J.length,offset:0}},[p]),Z=Ll(["progress","plans","tasks","projects"]);if(y||!n)return a.jsx(_r,{});const Q=n.tags||[],ie=[{id:"progress",label:"Progress"},{id:"plans",label:"Plans",count:d.length},{id:"tasks",label:"Tasks",count:g.length},{id:"projects",label:"Projects",count:l.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(go,{title:n.title,description:n.description,status:a.jsx(Jh,{status:(ee=n.status)==null?void 0:ee.toLowerCase(),options:[{value:"planned",label:"Planned"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"closed",label:"Closed"}],colorMap:{planned:{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},open:{bg:"bg-blue-900/50",text:"text-blue-400",dot:"bg-blue-400"},in_progress:{bg:"bg-yellow-900/50",text:"text-yellow-400",dot:"bg-yellow-400"},completed:{bg:"bg-green-900/50",text:"text-green-400",dot:"bg-green-400"},closed:{bg:"bg-purple-900/50",text:"text-purple-400",dot:"bg-purple-400"}},onStatusChange:async re=>{await bt.updateMilestone(n.id,{status:re}),r({...n,status:re}),C.success("Status updated")}}),metadata:[{label:"Created",value:new Date(n.created_at).toLocaleDateString()},...n.target_date?[{label:"Target",value:new Date(n.target_date).toLocaleDateString()}]:[],...n.closed_at?[{label:"Closed",value:new Date(n.closed_at).toLocaleDateString()}]:[]],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>j.open({title:"Delete Milestone",description:"This will permanently delete this milestone. Tasks linked to it will not be deleted.",onConfirm:async()=>{await bt.deleteMilestone(n.id),C.success("Milestone deleted"),t("/milestones")}})}],children:Q.length>0&&a.jsx("div",{className:"flex gap-1",children:Q.map((re,ue)=>a.jsx(vt,{variant:"default",children:re},`${re}-${ue}`))})}),a.jsx(ql,{sections:ie,activeSection:Z}),a.jsx("section",{id:"progress",className:"scroll-mt-20",children:s&&a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsx(Lt,{children:"Progress"})}),a.jsxs(nt,{children:[a.jsx(Is,{value:s.percentage,showLabel:!0,size:"lg"}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:s.completed}),a.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-400",children:s.total-s.completed}),a.jsx("div",{className:"text-xs text-gray-500",children:"Remaining"})]})]})]})]})}),a.jsx("section",{id:"plans",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Lt,{children:["Plans (",d.length,")"]}),d.length>0&&_==="list"&&a.jsx("button",{onClick:()=>{K?F(re=>re+1):D(re=>re+1),B(!K)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:K?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:K?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),d.length>0&&a.jsx(zl,{value:_,onChange:N})]})}),a.jsx(nt,{children:d.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No plans for projects in this workspace"}):_==="kanban"?a.jsx(oN,{fetchFn:O,onPlanStatusChange:P,onPlanClick:re=>t(`/plans/${re}`),refreshTrigger:T}):a.jsx("div",{className:"space-y-2",children:d.map(re=>a.jsx(cN,{plan:re,onStatusChange:async ue=>{await Ct.updateStatus(re.id,ue),f(ge=>ge.map(J=>J.id===re.id?{...J,status:ue}:J)),C.success("Status updated")},refreshTrigger:M,expandAllSignal:$,collapseAllSignal:I},re.id))})})]})}),a.jsx("section",{id:"tasks",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Lt,{children:["Tasks (",g.length,")"]}),g.length>0&&a.jsx("button",{onClick:()=>{X?W(re=>re+1):U(re=>re+1),L(!X)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:X?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),a.jsx(it,{size:"sm",onClick:()=>k.open({title:"Add Task to Milestone",submitLabel:"Add",fetchOptions:async()=>{const re=await Ot.list({limit:100}),ue=new Set(g.map(ge=>ge.id));return(re.items||[]).filter(ge=>!ue.has(ge.id)).map(ge=>({value:ge.id,label:ge.title||ge.description||"Untitled",description:ge.status}))},onLink:async re=>{await bt.addTaskToMilestone(e,re),await q(),C.success("Task added")}}),children:"Add Task"})]})}),a.jsx(nt,{children:g.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks linked to this milestone"}):a.jsx("div",{className:"space-y-2",children:g.map(re=>a.jsx(OL,{task:re,refreshTrigger:M,expandAllSignal:G,collapseAllSignal:Y},re.id))})})]})}),a.jsx("section",{id:"projects",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs(Lt,{children:["Projects (",l.length,")"]})}),a.jsx(nt,{children:l.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No projects in this workspace"}):a.jsx("div",{className:"space-y-2",children:l.map(re=>a.jsxs(ln,{to:`/projects/${re.slug}`,className:"flex items-center justify-between gap-2 p-3 bg-white/[0.06] rounded-lg hover:bg-white/[0.08] transition-colors",children:[a.jsx("span",{className:"font-medium text-gray-200 truncate min-w-0",children:re.name}),a.jsx("span",{className:"text-xs text-gray-500 shrink-0",children:re.slug})]},re.id))})})]})}),a.jsx(Ul,{...k.dialogProps}),a.jsx(rs,{...j.dialogProps})]})}function mJ(){var ee;const{milestoneId:e}=uo(),t=An(),[n,r]=S.useState(null),[s,o]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState([]),[p,m]=S.useState(new Set),[g,b]=S.useState([]),[y,v]=S.useState(!0),[_,N]=Ol(),j=ns(),k=Dl(),C=Ir(),A=Ve(Ml),T=Ve(fo),M=Ve(ja),z=Ve(Ca),[$,D]=S.useState(0),[I,F]=S.useState(0),[K,B]=S.useState(!1),[G,U]=S.useState(0),[Y,W]=S.useState(0),[X,L]=S.useState(!1),q=S.useCallback(async()=>{if(!e)return;const re=!n;re&&v(!0);try{const[ue,ge]=await Promise.all([Tt.getMilestone(e),Tt.getMilestoneProgress(e).catch(()=>null)]);if(r(ue.milestone),b(ue.tasks||[]),o(ge),ue.milestone.project_id)try{const ae=((await Tt.list({limit:100})).items||[]).find(pe=>pe.id===ue.milestone.project_id);if(ae){u(ae);const pe=new Set((ue.tasks||[]).map(ve=>ve.id));if(pe.size>0){const ve=await Ot.list({limit:100}),xe=new Set((ve.items||[]).filter(Se=>pe.has(Se.id)&&Se.plan_id).map(Se=>Se.plan_id));if(m(xe),xe.size>0){const ze=((await Ct.list({limit:100})).items||[]).filter(tt=>xe.has(tt.id));f(ze)}else f([])}else m(new Set),f([])}}catch{}}catch(ue){console.error("Failed to fetch milestone:",ue)}finally{re&&v(!1)}},[e,A,T,M,z]);S.useEffect(()=>{q()},[q]);const P=S.useCallback(async(re,ue)=>{const ge=d.find(J=>J.id===re);f(J=>J.map(ae=>ae.id===re?{...ae,status:ue}:ae));try{await Ct.updateStatus(re,ue),C.success("Status updated")}catch(J){ge&&f(ae=>ae.map(pe=>pe.id===re?ge:pe)),console.error("Failed to update plan status:",J),C.error("Failed to update plan status")}},[d]),O=S.useCallback(async re=>{if(p.size===0)return{items:[],total:0,limit:0,offset:0};const ue=re.status,J=((await Ct.list({limit:100})).items||[]).filter(ae=>p.has(ae.id)&&ae.status===ue);return{items:J,total:J.length,limit:J.length,offset:0}},[p]),H=S.useCallback(async re=>{if(!e)return;await Tt.addTaskToMilestone(e,re);const[ue,ge]=await Promise.all([Tt.getMilestone(e),Tt.getMilestoneProgress(e).catch(()=>null)]);b(ue.tasks||[]),o(ge),C.success("Task added")},[e,C]),Q=Ll(["progress","plans","tasks"]);if(y||!n)return a.jsx(_r,{});const ie=[{id:"progress",label:"Progress"},{id:"plans",label:"Plans",count:d.length},{id:"tasks",label:"Tasks",count:g.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(go,{title:n.title,description:n.description,status:a.jsx(Jh,{status:(ee=n.status)==null?void 0:ee.toLowerCase(),options:[{value:"planned",label:"Planned"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"closed",label:"Closed"}],colorMap:{planned:{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},open:{bg:"bg-blue-900/50",text:"text-blue-400",dot:"bg-blue-400"},in_progress:{bg:"bg-yellow-900/50",text:"text-yellow-400",dot:"bg-yellow-400"},completed:{bg:"bg-green-900/50",text:"text-green-400",dot:"bg-green-400"},closed:{bg:"bg-purple-900/50",text:"text-purple-400",dot:"bg-purple-400"}},onStatusChange:async re=>{await Tt.updateMilestone(n.id,{status:re}),r({...n,status:re}),C.success("Status updated")}}),metadata:[{label:"Created",value:new Date(n.created_at).toLocaleDateString()},...n.target_date?[{label:"Target",value:new Date(n.target_date).toLocaleDateString()}]:[],...n.closed_at?[{label:"Closed",value:new Date(n.closed_at).toLocaleDateString()}]:[],...l?[{label:"Project",value:l.name}]:[]],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>j.open({title:"Delete Milestone",description:"This will permanently delete this milestone. Tasks linked to it will not be deleted.",onConfirm:async()=>{await Tt.updateMilestone(n.id,{status:"closed"}),C.success("Milestone deleted"),t(l?`/projects/${l.slug}`:"/projects")}})}]}),a.jsx(ql,{sections:ie,activeSection:Q}),a.jsx("section",{id:"progress",className:"scroll-mt-20",children:s&&a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsx(Lt,{children:"Progress"})}),a.jsxs(nt,{children:[a.jsx(Is,{value:s.percentage,showLabel:!0,size:"lg"}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:s.completed}),a.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-400",children:s.total-s.completed}),a.jsx("div",{className:"text-xs text-gray-500",children:"Remaining"})]})]})]})]})}),a.jsx("section",{id:"plans",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Lt,{children:["Plans (",d.length,")"]}),d.length>0&&_==="list"&&a.jsx("button",{onClick:()=>{K?F(re=>re+1):D(re=>re+1),B(!K)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:K?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:K?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),d.length>0&&a.jsx(zl,{value:_,onChange:N})]})}),a.jsx(nt,{children:d.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No plans for this project"}):_==="kanban"?a.jsx(oN,{fetchFn:O,onPlanStatusChange:P,onPlanClick:re=>t(`/plans/${re}`),refreshTrigger:T}):a.jsx("div",{className:"space-y-2",children:d.map(re=>a.jsx(cN,{plan:re,onStatusChange:async ue=>{await Ct.updateStatus(re.id,ue),f(ge=>ge.map(J=>J.id===re.id?{...J,status:ue}:J)),C.success("Status updated")},refreshTrigger:M,expandAllSignal:$,collapseAllSignal:I},re.id))})})]})}),a.jsx("section",{id:"tasks",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Lt,{children:["Tasks (",g.length,")"]}),g.length>0&&a.jsx("button",{onClick:()=>{X?W(re=>re+1):U(re=>re+1),L(!X)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:X?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),a.jsx(it,{size:"sm",onClick:()=>k.open({title:"Add Task to Milestone",submitLabel:"Add",fetchOptions:async()=>{const re=await Ot.list({limit:100}),ue=new Set(g.map(ge=>ge.id));return(re.items||[]).filter(ge=>!ue.has(ge.id)).map(ge=>({value:ge.id,label:ge.title||ge.description||"Untitled",description:ge.status}))},onLink:H}),children:"Add Task"})]})}),a.jsx(nt,{children:g.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks linked to this milestone"}):a.jsx("div",{className:"space-y-2",children:g.map(re=>a.jsx(OL,{task:re,refreshTrigger:M,expandAllSignal:G,collapseAllSignal:Y},re.id))})})]})}),a.jsx(Ul,{...k.dialogProps}),a.jsx(rs,{...j.dialogProps})]})}function gJ(){const[e,t]=ht(tO),[n,r]=ht(qB),[s,o]=S.useState(0),{page:l,pageSize:u,offset:d,paginationProps:f}=Rl(),p=ns(),m=Xr(),g=Ir(),[b,y]=S.useState(!1),v=Ve(Ca),_=async(T=!1)=>{T||r(!0);try{const M=await Tt.list({limit:u,offset:d});t(M.items||[]),o(M.total||0)}catch(M){console.error("Failed to fetch projects:",M),g.error("Failed to load projects")}finally{T||r(!1)}},N=S.useRef(!1);S.useEffect(()=>{const T=N.current;_(T),N.current=!0},[t,r,l,u,d,v]);const j=sZ({onSubmit:async T=>{y(!0);try{await Tt.create(T),g.success("Project created"),m.close(),_()}finally{y(!1)}},loading:b}),k=()=>{m.open({title:"Create Project"})},C=Il(e,T=>T.slug),A=()=>{const T=C.selectionCount;p.open({title:`Delete ${T} project${T>1?"s":""}`,description:`This will permanently delete ${T} project${T>1?"s":""}.`,onConfirm:async()=>{const M=C.selectedItems;p.setProgress({current:0,total:M.length});for(let z=0;z<M.length;z++)await Tt.delete(M[z].slug),p.setProgress({current:z+1,total:M.length});t(z=>z.filter($=>!C.selectedIds.has($.slug))),o(z=>z-M.length),C.clear(),g.success(`Deleted ${T} project${T>1?"s":""}`)}})};return n?a.jsx(_r,{}):a.jsxs(Fl,{title:"Projects",description:"Track your codebase projects",actions:a.jsx(it,{onClick:k,children:"Create Project"}),children:[e.length===0&&s===0?a.jsx(ka,{title:"No projects",description:"Create a project to start tracking your codebase.",action:a.jsx(it,{onClick:k,children:"Create Project"})}):a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:C.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:C.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:e.map(T=>a.jsx(xJ,{selected:C.isSelected(T.slug),onToggleSelect:M=>C.toggle(T.slug,M),project:T,onDelete:()=>p.open({title:"Delete Project",description:"This will permanently delete this project.",onConfirm:async()=>{await Tt.delete(T.slug),t(M=>M.filter(z=>z.id!==T.id)),g.success("Project deleted")}})},T.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Pl,{...f(s)})})]}),a.jsx(Gl,{count:C.selectionCount,onDelete:A,onClear:C.clear}),a.jsx(Qr,{...m.dialogProps,onSubmit:j.submit,loading:b,children:j.fields}),a.jsx(rs,{...p.dialogProps})]})}function xJ({project:e,onDelete:t,selected:n,onToggleSelect:r}){return a.jsx(ln,{to:`/projects/${e.slug}`,children:a.jsx(Ye,{className:`h-full transition-colors ${n?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex h-full",children:[r&&a.jsx(Hl,{selected:!!n,onToggle:r}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"h-0.5 bg-blue-500/50"}),a.jsxs(nt,{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-100 truncate min-w-0",children:e.name}),a.jsx(mo,{actions:[{label:"Delete",variant:"danger",onClick:()=>t()}]})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-3",children:e.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:e.last_synced?`Synced ${new Date(e.last_synced).toLocaleDateString()}`:"Never synced"}),e.last_synced&&a.jsx(vt,{variant:"success",children:"Synced"})]})]})]})]})})})}function bJ(){const{slug:e}=uo(),t=An(),n=ns(),r=Xr(),s=Xr(),o=Dl(),l=Ir(),u=At(g_),d=Ve(Ca),f=Ve(fo),p=Ve(Ml),m=Ve(ja),[g,b]=S.useState(!1),[y,v]=S.useState(null),[_,N]=S.useState([]),[j,k]=S.useState(null),[C,A]=S.useState(!0),[T,M]=S.useState(!1),[z,$]=S.useState([]),[D,I]=S.useState(0),[F,K]=S.useState(0),[B,G]=S.useState(!1);S.useEffect(()=>{async function O(){if(!e)return;const H=!y;H&&A(!0);try{const Z=await Tt.get(e);v(Z),u(Z.id);const ie=((await Ct.list({limit:100})).items||[]).filter(ee=>ee.project_id===Z.id);N(ie);try{const ee=await Tt.getRoadmap(Z.id);k(ee)}catch{}try{const ee=await mh.list({project_id:Z.id});$(ee.feature_graphs||[])}catch(ee){console.error("Failed to fetch feature graphs:",ee)}}catch(Z){console.error("Failed to fetch project:",Z)}finally{H&&A(!1)}}O()},[e,d,f,p,m]);const U=async()=>{if(e){M(!0);try{await Tt.sync(e);const O=await Tt.get(e);v(O),l.success("Codebase synced")}catch(O){console.error("Failed to sync project:",O),l.error("Failed to sync project")}finally{M(!1)}}},Y=fL({onSubmit:async O=>{if(y){b(!0);try{await Tt.createMilestone(y.id,O),r.close(),l.success("Milestone added");try{const H=await Tt.getRoadmap(y.id);k(H)}catch{}}finally{b(!1)}}},loading:g}),W=fZ({onSubmit:async O=>{if(y){b(!0);try{await Tt.createRelease(y.id,O),s.close(),l.success("Release added");try{const H=await Tt.getRoadmap(y.id);k(H)}catch{}}finally{b(!1)}}},loading:g}),X=j&&((j.milestones||[]).length>0||j.releases.length>0),L=[...X?["roadmap"]:[],"plans","feature-graphs"],q=Ll(L);if(C||!y)return a.jsx(_r,{});const P=[...X?[{id:"roadmap",label:"Roadmap",count:(j.milestones||[]).length+j.releases.length}]:[],{id:"plans",label:"Plans",count:_.length},{id:"feature-graphs",label:"Feature Graphs",count:z.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(go,{title:y.name,description:y.description,overflowActions:[{label:"Delete",variant:"danger",onClick:()=>n.open({title:"Delete Project",description:"This will permanently delete this project and all associated data.",onConfirm:async()=>{await Tt.delete(y.slug),l.success("Project deleted"),t("/projects")}})}]}),a.jsx(ql,{sections:P,activeSection:q,rightContent:a.jsxs("div",{className:"flex items-center gap-2",children:[y.root_path&&a.jsxs("div",{className:"flex items-center gap-1.5 bg-white/[0.04] border border-white/[0.08] rounded-md px-2.5 py-1 group",children:[a.jsx("svg",{className:"w-3.5 h-3.5 text-gray-500 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),a.jsx("span",{className:"text-xs text-gray-400 font-mono truncate max-w-[200px] md:max-w-xs",title:y.root_path,children:y.root_path}),a.jsx("button",{onClick:async()=>{await navigator.clipboard.writeText(y.root_path),l.success("Path copied")},className:"ml-0.5 p-0.5 rounded text-gray-600 opacity-0 group-hover:opacity-100 hover:text-gray-300 hover:bg-white/[0.08] transition-all",title:"Copy path",children:a.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9.75a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})})})]}),a.jsx("button",{onClick:U,disabled:T,className:"p-1.5 rounded-md text-gray-500 hover:text-indigo-400 hover:bg-white/[0.08] transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:T?"Syncing...":`Sync codebase${y.last_synced?`
Last sync: ${new Date(y.last_synced).toLocaleString()}`:""}`,children:a.jsx("svg",{className:`w-4 h-4 ${T?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M21.015 4.356v4.992"})})})]})}),j&&a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsx(Lt,{children:"Progress"})}),a.jsxs(nt,{children:[a.jsx(Is,{value:j.progress.percentage,showLabel:!0,size:"lg"}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-200",children:j.progress.total_tasks}),a.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:j.progress.completed_tasks}),a.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:j.progress.in_progress_tasks}),a.jsx("div",{className:"text-xs text-gray-500",children:"In Progress"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-400",children:j.progress.pending_tasks}),a.jsx("div",{className:"text-xs text-gray-500",children:"Pending"})]})]})]})]}),j&&a.jsx("section",{id:"roadmap",className:"scroll-mt-20",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Lt,{children:"Milestones"}),a.jsx(it,{size:"sm",onClick:()=>r.open({title:"Add Milestone"}),children:"Add"})]})}),a.jsx(nt,{children:(j.milestones||[]).length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No milestones defined"}):a.jsx("div",{className:"space-y-3",children:(j.milestones||[]).map(({milestone:O,progress:H})=>{var Z;return a.jsxs(ln,{to:`/project-milestones/${O.id}`,className:"block p-3 bg-white/[0.06] rounded-lg hover:bg-white/[0.08] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[a.jsx("span",{className:"font-medium text-gray-200 truncate min-w-0",children:O.title}),a.jsx(vt,{variant:((Z=O.status)==null?void 0:Z.toLowerCase())==="open"?"info":"success",children:O.status})]}),a.jsx(Is,{value:(H==null?void 0:H.percentage)||0,size:"sm"})]},O.id)})})})]}),a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Lt,{children:"Releases"}),a.jsx(it,{size:"sm",onClick:()=>s.open({title:"Add Release"}),children:"Add"})]})}),a.jsx(nt,{children:j.releases.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No releases planned"}):a.jsx("div",{className:"space-y-3",children:j.releases.map(({release:O})=>a.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 bg-white/[0.06] rounded-lg",children:[a.jsxs("div",{className:"min-w-0 truncate",children:[a.jsxs("span",{className:"font-medium text-gray-200",children:["v",O.version]}),O.title&&a.jsx("span",{className:"ml-2 text-gray-400",children:O.title})]}),a.jsx(vt,{variant:O.status==="released"?"success":"default",children:O.status})]},O.id))})})]})]})}),a.jsx("section",{id:"plans",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsxs(Dt,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Lt,{children:["Plans (",_.length,")"]}),_.length>0&&a.jsx("button",{onClick:()=>{B?K(O=>O+1):I(O=>O+1),G(!B)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:B?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{size:"sm",onClick:()=>o.open({title:"Link Existing Plan",submitLabel:"Link",fetchOptions:async()=>((await Ct.list({limit:100})).items||[]).filter(H=>!H.project_id).map(H=>({value:H.id,label:H.title,description:H.status})),onLink:async O=>{await Ct.linkToProject(O,y.id);const Z=((await Ct.list({limit:100})).items||[]).filter(Q=>Q.project_id===y.id);N(Z),l.success("Plan linked")}}),children:"Link Plan"}),a.jsx(ln,{to:"/plans",children:a.jsx(it,{variant:"ghost",size:"sm",children:"View All"})})]})]}),a.jsx(nt,{children:_.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No plans for this project"}):a.jsx("div",{className:"space-y-2",children:_.map(O=>a.jsx(cN,{plan:O,onStatusChange:async H=>{await Ct.updateStatus(O.id,H),N(Z=>Z.map(Q=>Q.id===O.id?{...Q,status:H}:Q)),l.success("Status updated")},refreshTrigger:m,expandAllSignal:D,collapseAllSignal:F},O.id))})})]})}),a.jsx("section",{id:"feature-graphs",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{className:"flex flex-row items-center justify-between",children:a.jsxs(Lt,{children:["Feature Graphs (",z.length,")"]})}),a.jsx(nt,{children:z.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No feature graphs for this project"}):a.jsx("div",{className:"space-y-2",children:z.map(O=>a.jsxs(ln,{to:`/feature-graphs/${O.id}`,className:"flex items-center justify-between gap-3 p-3 bg-white/[0.06] rounded-lg hover:bg-white/[0.08] transition-colors group",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-200 truncate",children:O.name}),O.entity_count!=null&&a.jsxs(vt,{variant:"default",children:[O.entity_count," entities"]}),O.entry_function&&a.jsx(vt,{variant:"info",children:O.entry_function})]}),O.description&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:O.description.length>80?`${O.description.slice(0,80)}...`:O.description})]}),a.jsx("button",{onClick:H=>{H.preventDefault(),H.stopPropagation(),n.open({title:"Delete Feature Graph",description:`Delete "${O.name}"? This cannot be undone.`,onConfirm:async()=>{await mh.delete(O.id),$(Z=>Z.filter(Q=>Q.id!==O.id)),l.success("Feature graph deleted")}})},className:"p-1.5 rounded text-gray-600 opacity-0 group-hover:opacity-100 hover:text-red-400 hover:bg-white/[0.08] transition-all shrink-0",title:"Delete",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]},O.id))})})]})}),a.jsx(Qr,{...r.dialogProps,onSubmit:Y.submit,loading:g,children:Y.fields}),a.jsx(Qr,{...s.dialogProps,onSubmit:W.submit,loading:g,children:W.fields}),a.jsx(Ul,{...o.dialogProps}),a.jsx(rs,{...n.dialogProps})]})}const yJ=[{value:"all",label:"All Status"},{value:"draft",label:"Draft"},{value:"approved",label:"Approved"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],VC={workspace:"all",project:"all",search:"",priority_min:void 0,priority_max:void 0,hide_completed:!1,hide_cancelled:!1};function vJ(){const[e,t]=ht(p_),[n,r]=ht(HB),[s,o]=ht(nO),l=Ve(fo),[u,d]=S.useState(0),{page:f,pageSize:p,offset:m,setPage:g,paginationProps:b}=Rl(),[y,v]=Ol(),_=An(),N=ns(),j=Xr(),k=Ir(),[C,A]=S.useState(!1),[T,M]=S.useState(VC),[z,$]=S.useState({});S.useEffect(()=>{async function P(){try{const O=await bt.list({limit:100}),H={};for(const Z of O.items||[])try{const Q=await bt.listProjects(Z.slug),ie=Array.isArray(Q)?Q:Q.items||[];H[Z.id]=ie.map(ee=>ee.id)}catch{H[Z.id]=[]}$(H)}catch{}}P()},[]);const D=S.useCallback((P,O)=>{M(H=>({...H,[P]:O}))},[]),I=S.useCallback(()=>{M(VC)},[]),F=S.useMemo(()=>{let P=0;return T.workspace!=="all"&&P++,T.project!=="all"&&P++,T.search&&P++,T.priority_min!==void 0&&P++,T.priority_max!==void 0&&P++,T.hide_completed&&P++,T.hide_cancelled&&P++,P},[T]);S.useEffect(()=>{if(y!=="list")return;async function P(){const O=e.length===0;O&&r(!0);try{const H={limit:p,offset:m};s!=="all"&&(H.status=s);const Z=await Ct.list(H);t(Z.items||[]),d(Z.total||0)}catch(H){console.error("Failed to fetch plans:",H),k.error("Failed to load plans")}finally{O&&r(!1)}}P()},[t,r,f,p,m,s,y,l]);const K=S.useCallback(async P=>{const O={...P};T.priority_min!==void 0&&(O.priority_min=T.priority_min),T.priority_max!==void 0&&(O.priority_max=T.priority_max),T.search&&(O.search=T.search);const H=await Ct.list(O);let Z=H.items||[];if(T.project!=="all"&&(Z=Z.filter(Q=>Q.project_id===T.project)),T.workspace!=="all"){const Q=z[T.workspace]||[];Z=Z.filter(ie=>ie.project_id&&Q.includes(ie.project_id))}if(T.search){const Q=T.search.toLowerCase();Z=Z.filter(ie=>ie.title.toLowerCase().includes(Q)||ie.description&&ie.description.toLowerCase().includes(Q))}return{...H,items:Z,total:Z.length}},[T,z]),B=S.useMemo(()=>({...T}),[T]),G=S.useMemo(()=>{const P=[];return T.hide_completed&&P.push("completed"),T.hide_cancelled&&P.push("cancelled"),P},[T.hide_completed,T.hide_cancelled]),U=P=>{o(P),g(1)},Y=S.useCallback(async(P,O)=>{t(H=>H.map(Z=>Z.id===P?{...Z,status:O}:Z)),await Ct.updateStatus(P,O),k.success("Status updated")},[t,k]),W=iZ({onSubmit:async P=>{A(!0);try{await Ct.create(P),k.success("Plan created"),j.close(),t([]),r(!0);const O={limit:p,offset:m};s!=="all"&&(O.status=s);const H=await Ct.list(O);t(H.items||[]),d(H.total||0),r(!1)}finally{A(!1)}},loading:C}),X=Il(e,P=>P.id),L=()=>{const P=X.selectionCount;N.open({title:`Delete ${P} plan${P>1?"s":""}`,description:`This will permanently delete ${P} plan${P>1?"s":""} and all their tasks.`,onConfirm:async()=>{const O=X.selectedItems;N.setProgress({current:0,total:O.length});for(let H=0;H<O.length;H++)await Ct.delete(O[H].id),N.setProgress({current:H+1,total:O.length});t(H=>H.filter(Z=>!X.selectedIds.has(Z.id))),d(H=>H-O.length),X.clear(),k.success(`Deleted ${P} plan${P>1?"s":""}`)}})},q=()=>j.open({title:"Create Plan",size:"lg"});return n&&y==="list"&&e.length===0?a.jsx(_r,{}):a.jsxs(Fl,{title:"Plans",description:"Plan and track implementation phases",actions:a.jsxs(a.Fragment,{children:[y==="list"&&a.jsx(Tn,{options:yJ,value:s,onChange:P=>U(P),className:"w-full sm:w-40"}),a.jsx(zl,{value:y,onChange:v}),a.jsx(it,{onClick:q,children:"Create Plan"})]}),children:[y==="kanban"&&a.jsx(eJ,{filters:T,onFilterChange:D,onClearFilters:I,activeFilterCount:F}),y==="kanban"?a.jsx(oN,{fetchFn:K,filters:B,hiddenStatuses:G,onPlanStatusChange:Y,onPlanClick:P=>_(`/plans/${P}`),refreshTrigger:l}):e.length===0?a.jsx(ka,{title:"No plans found",description:u===0&&s==="all"?"Create a plan to organize your development work.":"No plans match the current filters.",action:u===0&&s==="all"?a.jsx(it,{onClick:q,children:"Create Plan"}):void 0}):a.jsxs(a.Fragment,{children:[y==="list"&&e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:X.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:X.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"space-y-4",children:e.map(P=>a.jsx(_J,{selected:X.isSelected(P.id),onToggleSelect:O=>X.toggle(P.id,O),plan:P,onStatusChange:async O=>{await Ct.updateStatus(P.id,O),t(H=>H.map(Z=>Z.id===P.id?{...Z,status:O}:Z)),k.success("Status updated")},onDelete:()=>N.open({title:"Delete Plan",description:"This plan and all its tasks will be permanently deleted.",onConfirm:async()=>{await Ct.delete(P.id),t(O=>O.filter(H=>H.id!==P.id)),k.success("Plan deleted")}})},P.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Pl,{...b(u)})})]}),a.jsx(Gl,{count:X.selectionCount,onDelete:L,onClear:X.clear}),a.jsx(Qr,{...j.dialogProps,onSubmit:W.submit,loading:C,children:W.fields}),a.jsx(rs,{...N.dialogProps})]})}const wJ={draft:"bg-gray-400",approved:"bg-blue-400",in_progress:"bg-purple-400",completed:"bg-green-400",cancelled:"bg-red-400"};function _J({plan:e,onStatusChange:t,onDelete:n,selected:r,onToggleSelect:s}){return a.jsx(ln,{to:`/plans/${e.id}`,children:a.jsx(Ye,{className:`transition-colors ${r?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex",children:[s&&a.jsx(Hl,{selected:!!r,onToggle:s}),a.jsx("div",{className:`w-1 shrink-0 ${s?"":"rounded-l-xl"} ${wJ[e.status]||"bg-gray-400"}`}),a.jsxs("div",{className:"flex-1 min-w-0 p-3 md:p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-1",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-100 truncate min-w-0",children:e.title}),a.jsx(kO,{status:e.status,onStatusChange:t})]}),a.jsx("p",{className:"text-sm text-gray-400 line-clamp-1",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:ml-4 shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Priority"}),a.jsx("div",{className:"text-lg font-bold text-indigo-400",children:e.priority})]}),a.jsx(mo,{actions:[{label:"Delete",variant:"danger",onClick:()=>n()}]})]})]})]})})})}function Fn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Fn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var NJ={value:()=>{}};function cp(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sh(n)}function sh(e){this._=e}function SJ(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sh.prototype=cp.prototype={constructor:sh,on:function(e,t){var n=this._,r=SJ(e+"",n),s,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((s=(e=r[o]).type)&&(s=kJ(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(s=(e=r[o]).type)n[s]=WC(n[s],e.name,t);else if(t==null)for(s in n)n[s]=WC(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new sh(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function kJ(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function WC(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=NJ,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Gw="http://www.w3.org/1999/xhtml";const KC={svg:"http://www.w3.org/2000/svg",xhtml:Gw,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function up(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),KC.hasOwnProperty(t)?{space:KC[t],local:e}:e}function EJ(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Gw&&t.documentElement.namespaceURI===Gw?t.createElement(e):t.createElementNS(n,e)}}function jJ(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function DL(e){var t=up(e);return(t.local?jJ:EJ)(t)}function CJ(){}function uN(e){return e==null?CJ:function(){return this.querySelector(e)}}function TJ(e){typeof e!="function"&&(e=uN(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],l=o.length,u=r[s]=new Array(l),d,f,p=0;p<l;++p)(d=o[p])&&(f=e.call(d,d.__data__,p,o))&&("__data__"in d&&(f.__data__=d.__data__),u[p]=f);return new es(r,this._parents)}function AJ(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function MJ(){return[]}function LL(e){return e==null?MJ:function(){return this.querySelectorAll(e)}}function RJ(e){return function(){return AJ(e.apply(this,arguments))}}function OJ(e){typeof e=="function"?e=RJ(e):e=LL(e);for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var l=t[o],u=l.length,d,f=0;f<u;++f)(d=l[f])&&(r.push(e.call(d,d.__data__,f,l)),s.push(d));return new es(r,s)}function IL(e){return function(){return this.matches(e)}}function PL(e){return function(t){return t.matches(e)}}var DJ=Array.prototype.find;function LJ(e){return function(){return DJ.call(this.children,e)}}function IJ(){return this.firstElementChild}function PJ(e){return this.select(e==null?IJ:LJ(typeof e=="function"?e:PL(e)))}var zJ=Array.prototype.filter;function BJ(){return Array.from(this.children)}function $J(e){return function(){return zJ.call(this.children,e)}}function UJ(e){return this.selectAll(e==null?BJ:$J(typeof e=="function"?e:PL(e)))}function qJ(e){typeof e!="function"&&(e=IL(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],l=o.length,u=r[s]=[],d,f=0;f<l;++f)(d=o[f])&&e.call(d,d.__data__,f,o)&&u.push(d);return new es(r,this._parents)}function zL(e){return new Array(e.length)}function FJ(){return new es(this._enter||this._groups.map(zL),this._parents)}function Ah(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ah.prototype={constructor:Ah,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function HJ(e){return function(){return e}}function GJ(e,t,n,r,s,o){for(var l=0,u,d=t.length,f=o.length;l<f;++l)(u=t[l])?(u.__data__=o[l],r[l]=u):n[l]=new Ah(e,o[l]);for(;l<d;++l)(u=t[l])&&(s[l]=u)}function VJ(e,t,n,r,s,o,l){var u,d,f=new Map,p=t.length,m=o.length,g=new Array(p),b;for(u=0;u<p;++u)(d=t[u])&&(g[u]=b=l.call(d,d.__data__,u,t)+"",f.has(b)?s[u]=d:f.set(b,d));for(u=0;u<m;++u)b=l.call(e,o[u],u,o)+"",(d=f.get(b))?(r[u]=d,d.__data__=o[u],f.delete(b)):n[u]=new Ah(e,o[u]);for(u=0;u<p;++u)(d=t[u])&&f.get(g[u])===d&&(s[u]=d)}function WJ(e){return e.__data__}function KJ(e,t){if(!arguments.length)return Array.from(this,WJ);var n=t?VJ:GJ,r=this._parents,s=this._groups;typeof e!="function"&&(e=HJ(e));for(var o=s.length,l=new Array(o),u=new Array(o),d=new Array(o),f=0;f<o;++f){var p=r[f],m=s[f],g=m.length,b=YJ(e.call(p,p&&p.__data__,f,r)),y=b.length,v=u[f]=new Array(y),_=l[f]=new Array(y),N=d[f]=new Array(g);n(p,m,v,_,N,b,t);for(var j=0,k=0,C,A;j<y;++j)if(C=v[j]){for(j>=k&&(k=j+1);!(A=_[k])&&++k<y;);C._next=A||null}}return l=new es(l,r),l._enter=u,l._exit=d,l}function YJ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XJ(){return new es(this._exit||this._groups.map(zL),this._parents)}function ZJ(e,t,n){var r=this.enter(),s=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function QJ(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,o=r.length,l=Math.min(s,o),u=new Array(s),d=0;d<l;++d)for(var f=n[d],p=r[d],m=f.length,g=u[d]=new Array(m),b,y=0;y<m;++y)(b=f[y]||p[y])&&(g[y]=b);for(;d<s;++d)u[d]=n[d];return new es(u,this._parents)}function JJ(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],l;--s>=0;)(l=r[s])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function eee(e){e||(e=tee);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var l=n[o],u=l.length,d=s[o]=new Array(u),f,p=0;p<u;++p)(f=l[p])&&(d[p]=f);d.sort(t)}return new es(s,this._parents).order()}function tee(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nee(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ree(){return Array.from(this)}function see(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var l=r[s];if(l)return l}return null}function iee(){let e=0;for(const t of this)++e;return e}function aee(){return!this.node()}function oee(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,l=s.length,u;o<l;++o)(u=s[o])&&e.call(u,u.__data__,o,s);return this}function lee(e){return function(){this.removeAttribute(e)}}function cee(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uee(e,t){return function(){this.setAttribute(e,t)}}function dee(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fee(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function hee(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pee(e,t){var n=up(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?cee:lee:typeof t=="function"?n.local?hee:fee:n.local?dee:uee)(n,t))}function BL(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mee(e){return function(){this.style.removeProperty(e)}}function gee(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xee(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bee(e,t,n){return arguments.length>1?this.each((t==null?mee:typeof t=="function"?xee:gee)(e,t,n??"")):bl(this.node(),e)}function bl(e,t){return e.style.getPropertyValue(t)||BL(e).getComputedStyle(e,null).getPropertyValue(t)}function yee(e){return function(){delete this[e]}}function vee(e,t){return function(){this[e]=t}}function wee(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function _ee(e,t){return arguments.length>1?this.each((t==null?yee:typeof t=="function"?wee:vee)(e,t)):this.node()[e]}function $L(e){return e.trim().split(/^|\s+/)}function dN(e){return e.classList||new UL(e)}function UL(e){this._node=e,this._names=$L(e.getAttribute("class")||"")}UL.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function qL(e,t){for(var n=dN(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function FL(e,t){for(var n=dN(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function Nee(e){return function(){qL(this,e)}}function See(e){return function(){FL(this,e)}}function kee(e,t){return function(){(t.apply(this,arguments)?qL:FL)(this,e)}}function Eee(e,t){var n=$L(e+"");if(arguments.length<2){for(var r=dN(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?kee:t?Nee:See)(n,t))}function jee(){this.textContent=""}function Cee(e){return function(){this.textContent=e}}function Tee(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Aee(e){return arguments.length?this.each(e==null?jee:(typeof e=="function"?Tee:Cee)(e)):this.node().textContent}function Mee(){this.innerHTML=""}function Ree(e){return function(){this.innerHTML=e}}function Oee(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Dee(e){return arguments.length?this.each(e==null?Mee:(typeof e=="function"?Oee:Ree)(e)):this.node().innerHTML}function Lee(){this.nextSibling&&this.parentNode.appendChild(this)}function Iee(){return this.each(Lee)}function Pee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zee(){return this.each(Pee)}function Bee(e){var t=typeof e=="function"?e:DL(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $ee(){return null}function Uee(e,t){var n=typeof e=="function"?e:DL(e),r=t==null?$ee:typeof t=="function"?t:uN(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qee(){var e=this.parentNode;e&&e.removeChild(this)}function Fee(){return this.each(qee)}function Hee(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gee(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Vee(e){return this.select(e?Gee:Hee)}function Wee(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Kee(e){return function(t){e.call(this,t,this.__data__)}}function Yee(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Xee(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Zee(e,t,n){return function(){var r=this.__on,s,o=Kee(t);if(r){for(var l=0,u=r.length;l<u;++l)if((s=r[l]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=t;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(s):this.__on=[s]}}function Qee(e,t,n){var r=Yee(e+""),s,o=r.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,p;d<f;++d)for(s=0,p=u[d];s<o;++s)if((l=r[s]).type===p.type&&l.name===p.name)return p.value}return}for(u=t?Zee:Xee,s=0;s<o;++s)this.each(u(r[s],t,n));return this}function HL(e,t,n){var r=BL(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Jee(e,t){return function(){return HL(this,e,t)}}function ete(e,t){return function(){return HL(this,e,t.apply(this,arguments))}}function tte(e,t){return this.each((typeof t=="function"?ete:Jee)(e,t))}function*nte(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length,l;s<o;++s)(l=r[s])&&(yield l)}var GL=[null];function es(e,t){this._groups=e,this._parents=t}function td(){return new es([[document.documentElement]],GL)}function rte(){return this}es.prototype=td.prototype={constructor:es,select:TJ,selectAll:OJ,selectChild:PJ,selectChildren:UJ,filter:qJ,data:KJ,enter:FJ,exit:XJ,join:ZJ,merge:QJ,selection:rte,order:JJ,sort:eee,call:nee,nodes:ree,node:see,size:iee,empty:aee,each:oee,attr:pee,style:bee,property:_ee,classed:Eee,text:Aee,html:Dee,raise:Iee,lower:zee,append:Bee,insert:Uee,remove:Fee,clone:Vee,datum:Wee,on:Qee,dispatch:tte,[Symbol.iterator]:nte};function Yr(e){return typeof e=="string"?new es([[document.querySelector(e)]],[document.documentElement]):new es([[e]],GL)}function ste(e){let t;for(;t=e.sourceEvent;)e=t;return e}function As(e,t){if(e=ste(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const ite={passive:!1},ju={capture:!0,passive:!1};function P0(e){e.stopImmediatePropagation()}function pl(e){e.preventDefault(),e.stopImmediatePropagation()}function VL(e){var t=e.document.documentElement,n=Yr(e).on("dragstart.drag",pl,ju);"onselectstart"in t?n.on("selectstart.drag",pl,ju):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function WL(e,t){var n=e.document.documentElement,r=Yr(e).on("dragstart.drag",null);t&&(r.on("click.drag",pl,ju),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Gf=e=>()=>e;function Vw(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:o,x:l,y:u,dx:d,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}Vw.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ate(e){return!e.ctrlKey&&!e.button}function ote(){return this.parentNode}function lte(e,t){return t??{x:e.x,y:e.y}}function cte(){return navigator.maxTouchPoints||"ontouchstart"in this}function KL(){var e=ate,t=ote,n=lte,r=cte,s={},o=cp("start","drag","end"),l=0,u,d,f,p,m=0;function g(C){C.on("mousedown.drag",b).filter(r).on("touchstart.drag",_).on("touchmove.drag",N,ite).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(C,A){if(!(p||!e.call(this,C,A))){var T=k(this,t.call(this,C,A),C,A,"mouse");T&&(Yr(C.view).on("mousemove.drag",y,ju).on("mouseup.drag",v,ju),VL(C.view),P0(C),f=!1,u=C.clientX,d=C.clientY,T("start",C))}}function y(C){if(pl(C),!f){var A=C.clientX-u,T=C.clientY-d;f=A*A+T*T>m}s.mouse("drag",C)}function v(C){Yr(C.view).on("mousemove.drag mouseup.drag",null),WL(C.view,f),pl(C),s.mouse("end",C)}function _(C,A){if(e.call(this,C,A)){var T=C.changedTouches,M=t.call(this,C,A),z=T.length,$,D;for($=0;$<z;++$)(D=k(this,M,C,A,T[$].identifier,T[$]))&&(P0(C),D("start",C,T[$]))}}function N(C){var A=C.changedTouches,T=A.length,M,z;for(M=0;M<T;++M)(z=s[A[M].identifier])&&(pl(C),z("drag",C,A[M]))}function j(C){var A=C.changedTouches,T=A.length,M,z;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),M=0;M<T;++M)(z=s[A[M].identifier])&&(P0(C),z("end",C,A[M]))}function k(C,A,T,M,z,$){var D=o.copy(),I=As($||T,A),F,K,B;if((B=n.call(C,new Vw("beforestart",{sourceEvent:T,target:g,identifier:z,active:l,x:I[0],y:I[1],dx:0,dy:0,dispatch:D}),M))!=null)return F=B.x-I[0]||0,K=B.y-I[1]||0,function G(U,Y,W){var X=I,L;switch(U){case"start":s[z]=G,L=l++;break;case"end":delete s[z],--l;case"drag":I=As(W||Y,A),L=l;break}D.call(U,C,new Vw(U,{sourceEvent:Y,subject:B,target:g,identifier:z,active:L,x:I[0]+F,y:I[1]+K,dx:I[0]-X[0],dy:I[1]-X[1],dispatch:D}),M)}}return g.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Gf(!!C),g):e},g.container=function(C){return arguments.length?(t=typeof C=="function"?C:Gf(C),g):t},g.subject=function(C){return arguments.length?(n=typeof C=="function"?C:Gf(C),g):n},g.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:Gf(!!C),g):r},g.on=function(){var C=o.on.apply(o,arguments);return C===o?g:C},g.clickDistance=function(C){return arguments.length?(m=(C=+C)*C,g):Math.sqrt(m)},g}function fN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function YL(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nd(){}var Cu=.7,Mh=1/Cu,ml="\\s*([+-]?\\d+)\\s*",Tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ute=/^#([0-9a-f]{3,8})$/,dte=new RegExp(`^rgb\\(${ml},${ml},${ml}\\)$`),fte=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),hte=new RegExp(`^rgba\\(${ml},${ml},${ml},${Tu}\\)$`),pte=new RegExp(`^rgba\\(${Js},${Js},${Js},${Tu}\\)$`),mte=new RegExp(`^hsl\\(${Tu},${Js},${Js}\\)$`),gte=new RegExp(`^hsla\\(${Tu},${Js},${Js},${Tu}\\)$`),YC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fN(nd,ao,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XC,formatHex:XC,formatHex8:xte,formatHsl:bte,formatRgb:ZC,toString:ZC});function XC(){return this.rgb().formatHex()}function xte(){return this.rgb().formatHex8()}function bte(){return XL(this).formatHsl()}function ZC(){return this.rgb().formatRgb()}function ao(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ute.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?QC(t):n===3?new Or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dte.exec(e))?new Or(t[1],t[2],t[3],1):(t=fte.exec(e))?new Or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hte.exec(e))?Vf(t[1],t[2],t[3],t[4]):(t=pte.exec(e))?Vf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mte.exec(e))?t4(t[1],t[2]/100,t[3]/100,1):(t=gte.exec(e))?t4(t[1],t[2]/100,t[3]/100,t[4]):YC.hasOwnProperty(e)?QC(YC[e]):e==="transparent"?new Or(NaN,NaN,NaN,0):null}function QC(e){return new Or(e>>16&255,e>>8&255,e&255,1)}function Vf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Or(e,t,n,r)}function yte(e){return e instanceof nd||(e=ao(e)),e?(e=e.rgb(),new Or(e.r,e.g,e.b,e.opacity)):new Or}function Ww(e,t,n,r){return arguments.length===1?yte(e):new Or(e,t,n,r??1)}function Or(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fN(Or,Ww,YL(nd,{brighter(e){return e=e==null?Mh:Math.pow(Mh,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cu:Math.pow(Cu,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Or(to(this.r),to(this.g),to(this.b),Rh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JC,formatHex:JC,formatHex8:vte,formatRgb:e4,toString:e4}));function JC(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function vte(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function e4(){const e=Rh(this.opacity);return`${e===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${e===1?")":`, ${e})`}`}function Rh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function to(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eo(e){return e=to(e),(e<16?"0":"")+e.toString(16)}function t4(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Rs(e,t,n,r)}function XL(e){if(e instanceof Rs)return new Rs(e.h,e.s,e.l,e.opacity);if(e instanceof nd||(e=ao(e)),!e)return new Rs;if(e instanceof Rs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-s,d=(o+s)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?o+s:2-o-s,l*=60):u=d>0&&d<1?0:l,new Rs(l,u,d,e.opacity)}function wte(e,t,n,r){return arguments.length===1?XL(e):new Rs(e,t,n,r??1)}function Rs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fN(Rs,wte,YL(nd,{brighter(e){return e=e==null?Mh:Math.pow(Mh,e),new Rs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cu:Math.pow(Cu,e),new Rs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Or(z0(e>=240?e-240:e+120,s,r),z0(e,s,r),z0(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Rs(n4(this.h),Wf(this.s),Wf(this.l),Rh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rh(this.opacity);return`${e===1?"hsl(":"hsla("}${n4(this.h)}, ${Wf(this.s)*100}%, ${Wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n4(e){return e=(e||0)%360,e<0?e+360:e}function Wf(e){return Math.max(0,Math.min(1,e||0))}function z0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hN=e=>()=>e;function _te(e,t){return function(n){return e+n*t}}function Nte(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ste(e){return(e=+e)==1?ZL:function(t,n){return n-t?Nte(t,n,e):hN(isNaN(t)?n:t)}}function ZL(e,t){var n=t-e;return n?_te(e,n):hN(isNaN(e)?t:e)}const Oh=(function e(t){var n=Ste(t);function r(s,o){var l=n((s=Ww(s)).r,(o=Ww(o)).r),u=n(s.g,o.g),d=n(s.b,o.b),f=ZL(s.opacity,o.opacity);return function(p){return s.r=l(p),s.g=u(p),s.b=d(p),s.opacity=f(p),s+""}}return r.gamma=e,r})(1);function kte(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function Ete(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jte(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)s[l]=mu(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=s[l](u);return o}}function Cte(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tte(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=mu(e[s],t[s]):r[s]=t[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var Kw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B0=new RegExp(Kw.source,"g");function Ate(e){return function(){return e}}function Mte(e){return function(t){return e(t)+""}}function QL(e,t){var n=Kw.lastIndex=B0.lastIndex=0,r,s,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=Kw.exec(e))&&(s=B0.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:Xs(r,s)})),n=B0.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?Mte(d[0].x):Ate(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function mu(e,t){var n=typeof t,r;return t==null||n==="boolean"?hN(t):(n==="number"?Xs:n==="string"?(r=ao(t))?(t=r,Oh):QL:t instanceof ao?Oh:t instanceof Date?Cte:Ete(t)?kte:Array.isArray(t)?jte:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tte:Xs)(e,t)}var r4=180/Math.PI,Yw={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function JL(e,t,n,r,s,o){var l,u,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,d/=u),e*r<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*r4,skewX:Math.atan(d)*r4,scaleX:l,scaleY:u}}var Kf;function Rte(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yw:JL(t.a,t.b,t.c,t.d,t.e,t.f)}function Ote(e){return e==null||(Kf||(Kf=document.createElementNS("http://www.w3.org/2000/svg","g")),Kf.setAttribute("transform",e),!(e=Kf.transform.baseVal.consolidate()))?Yw:(e=e.matrix,JL(e.a,e.b,e.c,e.d,e.e,e.f))}function e6(e,t,n,r){function s(f){return f.length?f.pop()+" ":""}function o(f,p,m,g,b,y){if(f!==m||p!==g){var v=b.push("translate(",null,t,null,n);y.push({i:v-4,x:Xs(f,m)},{i:v-2,x:Xs(p,g)})}else(m||g)&&b.push("translate("+m+t+g+n)}function l(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(s(m)+"rotate(",null,r)-2,x:Xs(f,p)})):p&&m.push(s(m)+"rotate("+p+r)}function u(f,p,m,g){f!==p?g.push({i:m.push(s(m)+"skewX(",null,r)-2,x:Xs(f,p)}):p&&m.push(s(m)+"skewX("+p+r)}function d(f,p,m,g,b,y){if(f!==m||p!==g){var v=b.push(s(b)+"scale(",null,",",null,")");y.push({i:v-4,x:Xs(f,m)},{i:v-2,x:Xs(p,g)})}else(m!==1||g!==1)&&b.push(s(b)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=e(f),p=e(p),o(f.translateX,f.translateY,p.translateX,p.translateY,m,g),l(f.rotate,p.rotate,m,g),u(f.skewX,p.skewX,m,g),d(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(b){for(var y=-1,v=g.length,_;++y<v;)m[(_=g[y]).i]=_.x(b);return m.join("")}}}var Dte=e6(Rte,"px, ","px)","deg)"),Lte=e6(Ote,", ",")",")"),Ite=1e-12;function s4(e){return((e=Math.exp(e))+1/e)/2}function Pte(e){return((e=Math.exp(e))-1/e)/2}function zte(e){return((e=Math.exp(2*e))-1)/(e+1)}const ih=(function e(t,n,r){function s(o,l){var u=o[0],d=o[1],f=o[2],p=l[0],m=l[1],g=l[2],b=p-u,y=m-d,v=b*b+y*y,_,N;if(v<Ite)N=Math.log(g/f)/t,_=function(M){return[u+M*b,d+M*y,f*Math.exp(t*M*N)]};else{var j=Math.sqrt(v),k=(g*g-f*f+r*v)/(2*f*n*j),C=(g*g-f*f-r*v)/(2*g*n*j),A=Math.log(Math.sqrt(k*k+1)-k),T=Math.log(Math.sqrt(C*C+1)-C);N=(T-A)/t,_=function(M){var z=M*N,$=s4(A),D=f/(n*j)*($*zte(t*z+A)-Pte(A));return[u+D*b,d+D*y,f*$/s4(t*z+A)]}}return _.duration=N*1e3*t/Math.SQRT2,_}return s.rho=function(o){var l=Math.max(.001,+o),u=l*l,d=u*u;return e(l,u,d)},s})(Math.SQRT2,2,4);var yl=0,su=0,Jc=0,t6=1e3,Dh,iu,Lh=0,oo=0,dp=0,Au=typeof performance=="object"&&performance.now?performance:Date,n6=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function pN(){return oo||(n6(Bte),oo=Au.now()+dp)}function Bte(){oo=0}function Ih(){this._call=this._time=this._next=null}Ih.prototype=r6.prototype={constructor:Ih,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?pN():+n)+(t==null?0:+t),!this._next&&iu!==this&&(iu?iu._next=this:Dh=this,iu=this),this._call=e,this._time=n,Xw()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xw())}};function r6(e,t,n){var r=new Ih;return r.restart(e,t,n),r}function $te(){pN(),++yl;for(var e=Dh,t;e;)(t=oo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yl}function i4(){oo=(Lh=Au.now())+dp,yl=su=0;try{$te()}finally{yl=0,qte(),oo=0}}function Ute(){var e=Au.now(),t=e-Lh;t>t6&&(dp-=t,Lh=e)}function qte(){for(var e,t=Dh,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Dh=n);iu=e,Xw(r)}function Xw(e){if(!yl){su&&(su=clearTimeout(su));var t=e-oo;t>24?(e<1/0&&(su=setTimeout(i4,e-Au.now()-dp)),Jc&&(Jc=clearInterval(Jc))):(Jc||(Lh=Au.now(),Jc=setInterval(Ute,t6)),yl=1,n6(i4))}}function a4(e,t,n){var r=new Ih;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var Fte=cp("start","end","cancel","interrupt"),Hte=[],s6=0,o4=1,Zw=2,ah=3,l4=4,Qw=5,oh=6;function fp(e,t,n,r,s,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;Gte(e,n,{name:t,index:r,group:s,on:Fte,tween:Hte,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:s6})}function mN(e,t){var n=$s(e,t);if(n.state>s6)throw new Error("too late; already scheduled");return n}function ni(e,t){var n=$s(e,t);if(n.state>ah)throw new Error("too late; already running");return n}function $s(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Gte(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=r6(o,0,n.time);function o(f){n.state=o4,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var p,m,g,b;if(n.state!==o4)return d();for(p in r)if(b=r[p],b.name===n.name){if(b.state===ah)return a4(l);b.state===l4?(b.state=oh,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete r[p]):+p<t&&(b.state=oh,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete r[p])}if(a4(function(){n.state===ah&&(n.state=l4,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=Zw,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Zw){for(n.state=ah,s=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(b=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(s[++m]=b);s.length=m+1}}function u(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=Qw,1),m=-1,g=s.length;++m<g;)s[m].call(e,p);n.state===Qw&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=oh,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function lh(e,t){var n=e.__transition,r,s,o=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){o=!1;continue}s=r.state>Zw&&r.state<Qw,r.state=oh,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}o&&delete e.__transition}}function Vte(e){return this.each(function(){lh(this,e)})}function Wte(e,t){var n,r;return function(){var s=ni(this,e),o=s.tween;if(o!==n){r=n=o;for(var l=0,u=r.length;l<u;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}s.tween=r}}function Kte(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=ni(this,e),l=o.tween;if(l!==r){s=(r=l).slice();for(var u={name:t,value:n},d=0,f=s.length;d<f;++d)if(s[d].name===t){s[d]=u;break}d===f&&s.push(u)}o.tween=s}}function Yte(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=$s(this.node(),n).tween,s=0,o=r.length,l;s<o;++s)if((l=r[s]).name===e)return l.value;return null}return this.each((t==null?Wte:Kte)(n,e,t))}function gN(e,t,n){var r=e._id;return e.each(function(){var s=ni(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return $s(s,r).value[t]}}function i6(e,t){var n;return(typeof t=="number"?Xs:t instanceof ao?Oh:(n=ao(t))?(t=n,Oh):QL)(e,t)}function Xte(e){return function(){this.removeAttribute(e)}}function Zte(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qte(e,t,n){var r,s=n+"",o;return function(){var l=this.getAttribute(e);return l===s?null:l===r?o:o=t(r=l,n)}}function Jte(e,t,n){var r,s=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===s?null:l===r?o:o=t(r=l,n)}}function ene(e,t,n){var r,s,o;return function(){var l,u=n(this),d;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=u+"",l===d?null:l===r&&d===s?o:(s=d,o=t(r=l,u)))}}function tne(e,t,n){var r,s,o;return function(){var l,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=u+"",l===d?null:l===r&&d===s?o:(s=d,o=t(r=l,u)))}}function nne(e,t){var n=up(e),r=n==="transform"?Lte:i6;return this.attrTween(e,typeof t=="function"?(n.local?tne:ene)(n,r,gN(this,"attr."+e,t)):t==null?(n.local?Zte:Xte)(n):(n.local?Jte:Qte)(n,r,t))}function rne(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function sne(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ine(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&sne(e,o)),n}return s._value=t,s}function ane(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&rne(e,o)),n}return s._value=t,s}function one(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=up(e);return this.tween(n,(r.local?ine:ane)(r,t))}function lne(e,t){return function(){mN(this,e).delay=+t.apply(this,arguments)}}function cne(e,t){return t=+t,function(){mN(this,e).delay=t}}function une(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lne:cne)(t,e)):$s(this.node(),t).delay}function dne(e,t){return function(){ni(this,e).duration=+t.apply(this,arguments)}}function fne(e,t){return t=+t,function(){ni(this,e).duration=t}}function hne(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dne:fne)(t,e)):$s(this.node(),t).duration}function pne(e,t){if(typeof t!="function")throw new Error;return function(){ni(this,e).ease=t}}function mne(e){var t=this._id;return arguments.length?this.each(pne(t,e)):$s(this.node(),t).ease}function gne(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ni(this,e).ease=n}}function xne(e){if(typeof e!="function")throw new Error;return this.each(gne(this._id,e))}function bne(e){typeof e!="function"&&(e=IL(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],l=o.length,u=r[s]=[],d,f=0;f<l;++f)(d=o[f])&&e.call(d,d.__data__,f,o)&&u.push(d);return new Ii(r,this._parents,this._name,this._id)}function yne(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),l=new Array(r),u=0;u<o;++u)for(var d=t[u],f=n[u],p=d.length,m=l[u]=new Array(p),g,b=0;b<p;++b)(g=d[b]||f[b])&&(m[b]=g);for(;u<r;++u)l[u]=t[u];return new Ii(l,this._parents,this._name,this._id)}function vne(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function wne(e,t,n){var r,s,o=vne(t)?mN:ni;return function(){var l=o(this,e),u=l.on;u!==r&&(s=(r=u).copy()).on(t,n),l.on=s}}function _ne(e,t){var n=this._id;return arguments.length<2?$s(this.node(),n).on.on(e):this.each(wne(n,e,t))}function Nne(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sne(){return this.on("end.remove",Nne(this._id))}function kne(e){var t=this._name,n=this._id;typeof e!="function"&&(e=uN(e));for(var r=this._groups,s=r.length,o=new Array(s),l=0;l<s;++l)for(var u=r[l],d=u.length,f=o[l]=new Array(d),p,m,g=0;g<d;++g)(p=u[g])&&(m=e.call(p,p.__data__,g,u))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,fp(f[g],t,n,g,f,$s(p,n)));return new Ii(o,this._parents,t,n)}function Ene(e){var t=this._name,n=this._id;typeof e!="function"&&(e=LL(e));for(var r=this._groups,s=r.length,o=[],l=[],u=0;u<s;++u)for(var d=r[u],f=d.length,p,m=0;m<f;++m)if(p=d[m]){for(var g=e.call(p,p.__data__,m,d),b,y=$s(p,n),v=0,_=g.length;v<_;++v)(b=g[v])&&fp(b,t,n,v,g,y);o.push(g),l.push(p)}return new Ii(o,l,t,n)}var jne=td.prototype.constructor;function Cne(){return new jne(this._groups,this._parents)}function Tne(e,t){var n,r,s;return function(){var o=bl(this,e),l=(this.style.removeProperty(e),bl(this,e));return o===l?null:o===n&&l===r?s:s=t(n=o,r=l)}}function a6(e){return function(){this.style.removeProperty(e)}}function Ane(e,t,n){var r,s=n+"",o;return function(){var l=bl(this,e);return l===s?null:l===r?o:o=t(r=l,n)}}function Mne(e,t,n){var r,s,o;return function(){var l=bl(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),bl(this,e))),l===d?null:l===r&&d===s?o:(s=d,o=t(r=l,u))}}function Rne(e,t){var n,r,s,o="style."+t,l="end."+o,u;return function(){var d=ni(this,e),f=d.on,p=d.value[o]==null?u||(u=a6(t)):void 0;(f!==n||s!==p)&&(r=(n=f).copy()).on(l,s=p),d.on=r}}function One(e,t,n){var r=(e+="")=="transform"?Dte:i6;return t==null?this.styleTween(e,Tne(e,r)).on("end.style."+e,a6(e)):typeof t=="function"?this.styleTween(e,Mne(e,r,gN(this,"style."+e,t))).each(Rne(this._id,e)):this.styleTween(e,Ane(e,r,t),n).on("end.style."+e,null)}function Dne(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Lne(e,t,n){var r,s;function o(){var l=t.apply(this,arguments);return l!==s&&(r=(s=l)&&Dne(e,l,n)),r}return o._value=t,o}function Ine(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Lne(e,t,n??""))}function Pne(e){return function(){this.textContent=e}}function zne(e){return function(){var t=e(this);this.textContent=t??""}}function Bne(e){return this.tween("text",typeof e=="function"?zne(gN(this,"text",e)):Pne(e==null?"":e+""))}function $ne(e){return function(t){this.textContent=e.call(this,t)}}function Une(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&$ne(s)),t}return r._value=e,r}function qne(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Une(e))}function Fne(){for(var e=this._name,t=this._id,n=o6(),r=this._groups,s=r.length,o=0;o<s;++o)for(var l=r[o],u=l.length,d,f=0;f<u;++f)if(d=l[f]){var p=$s(d,t);fp(d,e,n,f,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ii(r,this._parents,e,n)}function Hne(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(o,l){var u={value:l},d={value:function(){--s===0&&o()}};n.each(function(){var f=ni(this,r),p=f.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),s===0&&o()})}var Gne=0;function Ii(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function o6(){return++Gne}var ji=td.prototype;Ii.prototype={constructor:Ii,select:kne,selectAll:Ene,selectChild:ji.selectChild,selectChildren:ji.selectChildren,filter:bne,merge:yne,selection:Cne,transition:Fne,call:ji.call,nodes:ji.nodes,node:ji.node,size:ji.size,empty:ji.empty,each:ji.each,on:_ne,attr:nne,attrTween:one,style:One,styleTween:Ine,text:Bne,textTween:qne,remove:Sne,tween:Yte,delay:une,duration:hne,ease:mne,easeVarying:xne,end:Hne,[Symbol.iterator]:ji[Symbol.iterator]};function Vne(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Wne={time:null,delay:0,duration:250,ease:Vne};function Kne(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Yne(e){var t,n;e instanceof Ii?(t=e._id,e=e._name):(t=o6(),(n=Wne).time=pN(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var l=r[o],u=l.length,d,f=0;f<u;++f)(d=l[f])&&fp(d,e,t,f,l,n||Kne(d,t));return new Ii(r,this._parents,e,t)}td.prototype.interrupt=Vte;td.prototype.transition=Yne;const Yf=e=>()=>e;function Xne(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Ci(e,t,n){this.k=e,this.x=t,this.y=n}Ci.prototype={constructor:Ci,scale:function(e){return e===1?this:new Ci(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ci(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hp=new Ci(1,0,0);l6.prototype=Ci.prototype;function l6(e){for(;!e.__zoom;)if(!(e=e.parentNode))return hp;return e.__zoom}function $0(e){e.stopImmediatePropagation()}function eu(e){e.preventDefault(),e.stopImmediatePropagation()}function Zne(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Qne(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function c4(){return this.__zoom||hp}function Jne(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ere(){return navigator.maxTouchPoints||"ontouchstart"in this}function tre(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function c6(){var e=Zne,t=Qne,n=tre,r=Jne,s=ere,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=ih,f=cp("start","zoom","end"),p,m,g,b=500,y=150,v=0,_=10;function N(B){B.property("__zoom",c4).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",D).filter(s).on("touchstart.zoom",I).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(B,G,U,Y){var W=B.selection?B.selection():B;W.property("__zoom",c4),B!==W?A(B,G,U,Y):W.interrupt().each(function(){T(this,arguments).event(Y).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},N.scaleBy=function(B,G,U,Y){N.scaleTo(B,function(){var W=this.__zoom.k,X=typeof G=="function"?G.apply(this,arguments):G;return W*X},U,Y)},N.scaleTo=function(B,G,U,Y){N.transform(B,function(){var W=t.apply(this,arguments),X=this.__zoom,L=U==null?C(W):typeof U=="function"?U.apply(this,arguments):U,q=X.invert(L),P=typeof G=="function"?G.apply(this,arguments):G;return n(k(j(X,P),L,q),W,l)},U,Y)},N.translateBy=function(B,G,U,Y){N.transform(B,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof U=="function"?U.apply(this,arguments):U),t.apply(this,arguments),l)},null,Y)},N.translateTo=function(B,G,U,Y,W){N.transform(B,function(){var X=t.apply(this,arguments),L=this.__zoom,q=Y==null?C(X):typeof Y=="function"?Y.apply(this,arguments):Y;return n(hp.translate(q[0],q[1]).scale(L.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof U=="function"?-U.apply(this,arguments):-U),X,l)},Y,W)};function j(B,G){return G=Math.max(o[0],Math.min(o[1],G)),G===B.k?B:new Ci(G,B.x,B.y)}function k(B,G,U){var Y=G[0]-U[0]*B.k,W=G[1]-U[1]*B.k;return Y===B.x&&W===B.y?B:new Ci(B.k,Y,W)}function C(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function A(B,G,U,Y){B.on("start.zoom",function(){T(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(Y).end()}).tween("zoom",function(){var W=this,X=arguments,L=T(W,X).event(Y),q=t.apply(W,X),P=U==null?C(q):typeof U=="function"?U.apply(W,X):U,O=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),H=W.__zoom,Z=typeof G=="function"?G.apply(W,X):G,Q=d(H.invert(P).concat(O/H.k),Z.invert(P).concat(O/Z.k));return function(ie){if(ie===1)ie=Z;else{var ee=Q(ie),re=O/ee[2];ie=new Ci(re,P[0]-ee[0]*re,P[1]-ee[1]*re)}L.zoom(null,ie)}})}function T(B,G,U){return!U&&B.__zooming||new M(B,G)}function M(B,G){this.that=B,this.args=G,this.active=0,this.sourceEvent=null,this.extent=t.apply(B,G),this.taps=0}M.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,G){return this.mouse&&B!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var G=Yr(this.that).datum();f.call(B,this.that,new Xne(B,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:f}),G)}};function z(B,...G){if(!e.apply(this,arguments))return;var U=T(this,G).event(B),Y=this.__zoom,W=Math.max(o[0],Math.min(o[1],Y.k*Math.pow(2,r.apply(this,arguments)))),X=As(B);if(U.wheel)(U.mouse[0][0]!==X[0]||U.mouse[0][1]!==X[1])&&(U.mouse[1]=Y.invert(U.mouse[0]=X)),clearTimeout(U.wheel);else{if(Y.k===W)return;U.mouse=[X,Y.invert(X)],lh(this),U.start()}eu(B),U.wheel=setTimeout(L,y),U.zoom("mouse",n(k(j(Y,W),U.mouse[0],U.mouse[1]),U.extent,l));function L(){U.wheel=null,U.end()}}function $(B,...G){if(g||!e.apply(this,arguments))return;var U=B.currentTarget,Y=T(this,G,!0).event(B),W=Yr(B.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",O,!0),X=As(B,U),L=B.clientX,q=B.clientY;VL(B.view),$0(B),Y.mouse=[X,this.__zoom.invert(X)],lh(this),Y.start();function P(H){if(eu(H),!Y.moved){var Z=H.clientX-L,Q=H.clientY-q;Y.moved=Z*Z+Q*Q>v}Y.event(H).zoom("mouse",n(k(Y.that.__zoom,Y.mouse[0]=As(H,U),Y.mouse[1]),Y.extent,l))}function O(H){W.on("mousemove.zoom mouseup.zoom",null),WL(H.view,Y.moved),eu(H),Y.event(H).end()}}function D(B,...G){if(e.apply(this,arguments)){var U=this.__zoom,Y=As(B.changedTouches?B.changedTouches[0]:B,this),W=U.invert(Y),X=U.k*(B.shiftKey?.5:2),L=n(k(j(U,X),Y,W),t.apply(this,G),l);eu(B),u>0?Yr(this).transition().duration(u).call(A,L,Y,B):Yr(this).call(N.transform,L,Y,B)}}function I(B,...G){if(e.apply(this,arguments)){var U=B.touches,Y=U.length,W=T(this,G,B.changedTouches.length===Y).event(B),X,L,q,P;for($0(B),L=0;L<Y;++L)q=U[L],P=As(q,this),P=[P,this.__zoom.invert(P),q.identifier],W.touch0?!W.touch1&&W.touch0[2]!==P[2]&&(W.touch1=P,W.taps=0):(W.touch0=P,X=!0,W.taps=1+!!p);p&&(p=clearTimeout(p)),X&&(W.taps<2&&(m=P[0],p=setTimeout(function(){p=null},b)),lh(this),W.start())}}function F(B,...G){if(this.__zooming){var U=T(this,G).event(B),Y=B.changedTouches,W=Y.length,X,L,q,P;for(eu(B),X=0;X<W;++X)L=Y[X],q=As(L,this),U.touch0&&U.touch0[2]===L.identifier?U.touch0[0]=q:U.touch1&&U.touch1[2]===L.identifier&&(U.touch1[0]=q);if(L=U.that.__zoom,U.touch1){var O=U.touch0[0],H=U.touch0[1],Z=U.touch1[0],Q=U.touch1[1],ie=(ie=Z[0]-O[0])*ie+(ie=Z[1]-O[1])*ie,ee=(ee=Q[0]-H[0])*ee+(ee=Q[1]-H[1])*ee;L=j(L,Math.sqrt(ie/ee)),q=[(O[0]+Z[0])/2,(O[1]+Z[1])/2],P=[(H[0]+Q[0])/2,(H[1]+Q[1])/2]}else if(U.touch0)q=U.touch0[0],P=U.touch0[1];else return;U.zoom("touch",n(k(L,q,P),U.extent,l))}}function K(B,...G){if(this.__zooming){var U=T(this,G).event(B),Y=B.changedTouches,W=Y.length,X,L;for($0(B),g&&clearTimeout(g),g=setTimeout(function(){g=null},b),X=0;X<W;++X)L=Y[X],U.touch0&&U.touch0[2]===L.identifier?delete U.touch0:U.touch1&&U.touch1[2]===L.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(L=As(L,this),Math.hypot(m[0]-L[0],m[1]-L[1])<_)){var q=Yr(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return N.wheelDelta=function(B){return arguments.length?(r=typeof B=="function"?B:Yf(+B),N):r},N.filter=function(B){return arguments.length?(e=typeof B=="function"?B:Yf(!!B),N):e},N.touchable=function(B){return arguments.length?(s=typeof B=="function"?B:Yf(!!B),N):s},N.extent=function(B){return arguments.length?(t=typeof B=="function"?B:Yf([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),N):t},N.scaleExtent=function(B){return arguments.length?(o[0]=+B[0],o[1]=+B[1],N):[o[0],o[1]]},N.translateExtent=function(B){return arguments.length?(l[0][0]=+B[0][0],l[1][0]=+B[1][0],l[0][1]=+B[0][1],l[1][1]=+B[1][1],N):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},N.constrain=function(B){return arguments.length?(n=B,N):n},N.duration=function(B){return arguments.length?(u=+B,N):u},N.interpolate=function(B){return arguments.length?(d=B,N):d},N.on=function(){var B=f.on.apply(f,arguments);return B===f?N:B},N.clickDistance=function(B){return arguments.length?(v=(B=+B)*B,N):Math.sqrt(v)},N.tapDistance=function(B){return arguments.length?(_=+B,N):_},N}const ei={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Mu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],u6=["Enter"," ","Escape"],d6={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var vl;(function(e){e.Strict="strict",e.Loose="loose"})(vl||(vl={}));var no;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(no||(no={}));var Ru;(function(e){e.Partial="partial",e.Full="full"})(Ru||(Ru={}));const f6={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var _a;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(_a||(_a={}));var Ou;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ou||(Ou={}));var $e;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})($e||($e={}));const u4={[$e.Left]:$e.Right,[$e.Right]:$e.Left,[$e.Top]:$e.Bottom,[$e.Bottom]:$e.Top};function h6(e){return e===null?null:e?"valid":"invalid"}const p6=e=>"id"in e&&"source"in e&&"target"in e,nre=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),xN=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),rd=(e,t=[0,0])=>{const{width:n,height:r}=Bi(e),s=e.origin??t,o=n*s[0],l=r*s[1];return{x:e.position.x-o,y:e.position.y-l}},rre=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const o=typeof s=="string";let l=!t.nodeLookup&&!o?s:void 0;t.nodeLookup&&(l=o?t.nodeLookup.get(s):xN(s)?s:t.nodeLookup.get(s.id));const u=l?Ph(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return pp(r,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return mp(n)},sd=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=pp(n,Ph(s)),r=!0)}),r?mp(n):{x:0,y:0,width:0,height:0}},bN=(e,t,[n,r,s]=[0,0,1],o=!1,l=!1)=>{const u={...ad(t,[n,r,s]),width:t.width/s,height:t.height/s},d=[];for(const f of e.values()){const{measured:p,selectable:m=!0,hidden:g=!1}=f;if(l&&!m||g)continue;const b=p.width??f.width??f.initialWidth??null,y=p.height??f.height??f.initialHeight??null,v=Du(u,_l(f)),_=(b??0)*(y??0),N=o&&v>0;(!f.internals.handleBounds||N||v>=_||f.dragging)&&d.push(f)}return d},sre=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function ire(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function are({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:o},l){if(e.size===0)return Promise.resolve(!0);const u=ire(e,l),d=sd(u),f=yN(d,t,n,(l==null?void 0:l.minZoom)??s,(l==null?void 0:l.maxZoom)??o,(l==null?void 0:l.padding)??.1);return await r.setViewport(f,{duration:l==null?void 0:l.duration,ease:l==null?void 0:l.ease,interpolate:l==null?void 0:l.interpolate}),Promise.resolve(!0)}function m6({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:o}){const l=n.get(e),u=l.parentId?n.get(l.parentId):void 0,{x:d,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},p=l.origin??r;let m=l.extent||s;if(l.extent==="parent"&&!l.expandParent)if(!u)o==null||o("005",ei.error005());else{const b=u.measured.width,y=u.measured.height;b&&y&&(m=[[d,f],[d+b,f+y]])}else u&&Nl(l.extent)&&(m=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const g=Nl(m)?lo(t,m,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&(o==null||o("015",ei.error015())),{position:{x:g.x-d+(l.measured.width??0)*p[0],y:g.y-f+(l.measured.height??0)*p[1]},positionAbsolute:g}}async function ore({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const o=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const b=o.has(g.id),y=!b&&g.parentId&&l.find(v=>v.id===g.parentId);(b||y)&&l.push(g)}const u=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),p=sre(l,d);for(const g of d)u.has(g.id)&&!p.find(y=>y.id===g.id)&&p.push(g);if(!s)return{edges:p,nodes:l};const m=await s({nodes:l,edges:p});return typeof m=="boolean"?m?{edges:p,nodes:l}:{edges:[],nodes:[]}:m}const wl=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),lo=(e={x:0,y:0},t,n)=>({x:wl(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:wl(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function g6(e,t,n){const{width:r,height:s}=Bi(n),{x:o,y:l}=n.internals.positionAbsolute;return lo(e,[[o,l],[o+r,l+s]],t)}const d4=(e,t,n)=>e<t?wl(Math.abs(e-t),1,t)/t:e>n?-wl(Math.abs(e-n),1,t)/t:0,x6=(e,t,n=15,r=40)=>{const s=d4(e.x,r,t.width-r)*n,o=d4(e.y,r,t.height-r)*n;return[s,o]},pp=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Jw=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),mp=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),_l=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=xN(e)?e.internals.positionAbsolute:rd(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Ph=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=xN(e)?e.internals.positionAbsolute:rd(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},b6=(e,t)=>mp(pp(Jw(e),Jw(t))),Du=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},f4=e=>Os(e.width)&&Os(e.height)&&Os(e.x)&&Os(e.y),Os=e=>!isNaN(e)&&isFinite(e),lre=(e,t)=>{},id=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ad=({x:e,y:t},[n,r,s],o=!1,l=[1,1])=>{const u={x:(e-n)/s,y:(t-r)/s};return o?id(u,l):u},zh=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function rl(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function cre(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=rl(e,n),s=rl(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=rl(e.top??e.y??0,n),s=rl(e.bottom??e.y??0,n),o=rl(e.left??e.x??0,t),l=rl(e.right??e.x??0,t);return{top:r,right:l,bottom:s,left:o,x:o+l,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function ure(e,t,n,r,s,o){const{x:l,y:u}=zh(e,[t,n,r]),{x:d,y:f}=zh({x:e.x+e.width,y:e.y+e.height},[t,n,r]),p=s-d,m=o-f;return{left:Math.floor(l),top:Math.floor(u),right:Math.floor(p),bottom:Math.floor(m)}}const yN=(e,t,n,r,s,o)=>{const l=cre(o,t,n),u=(t-l.x)/e.width,d=(n-l.y)/e.height,f=Math.min(u,d),p=wl(f,r,s),m=e.x+e.width/2,g=e.y+e.height/2,b=t/2-m*p,y=n/2-g*p,v=ure(e,b,y,p,t,n),_={left:Math.min(v.left-l.left,0),top:Math.min(v.top-l.top,0),right:Math.min(v.right-l.right,0),bottom:Math.min(v.bottom-l.bottom,0)};return{x:b-_.left+_.right,y:y-_.top+_.bottom,zoom:p}},Lu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Nl(e){return e!=null&&e!=="parent"}function Bi(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function y6(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function v6(e,t={width:0,height:0},n,r,s){const o={...e},l=r.get(n);if(l){const u=l.origin||s;o.x+=l.internals.positionAbsolute.x-(t.width??0)*u[0],o.y+=l.internals.positionAbsolute.y-(t.height??0)*u[1]}return o}function h4(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function dre(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function fre(e){return{...d6,...e||{}}}function gu(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:o,y:l}=Ds(e),u=ad({x:o-((s==null?void 0:s.left)??0),y:l-((s==null?void 0:s.top)??0)},r),{x:d,y:f}=n?id(u,t):u;return{xSnapped:d,ySnapped:f,...u}}const vN=e=>({width:e.offsetWidth,height:e.offsetHeight}),w6=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},hre=["INPUT","SELECT","TEXTAREA"];function _6(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:hre.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const N6=e=>"clientX"in e,Ds=(e,t)=>{var o,l;const n=N6(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,s=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},p4=(e,t,n,r,s)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:s,position:l.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...vN(l)}})};function S6({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:l,targetControlY:u}){const d=e*.125+s*.375+l*.375+n*.125,f=t*.125+o*.375+u*.375+r*.125,p=Math.abs(d-e),m=Math.abs(f-t);return[d,f,p,m]}function Xf(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function m4({pos:e,x1:t,y1:n,x2:r,y2:s,c:o}){switch(e){case $e.Left:return[t-Xf(t-r,o),n];case $e.Right:return[t+Xf(r-t,o),n];case $e.Top:return[t,n-Xf(n-s,o)];case $e.Bottom:return[t,n+Xf(s-n,o)]}}function k6({sourceX:e,sourceY:t,sourcePosition:n=$e.Bottom,targetX:r,targetY:s,targetPosition:o=$e.Top,curvature:l=.25}){const[u,d]=m4({pos:n,x1:e,y1:t,x2:r,y2:s,c:l}),[f,p]=m4({pos:o,x1:r,y1:s,x2:e,y2:t,c:l}),[m,g,b,y]=S6({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:p});return[`M${e},${t} C${u},${d} ${f},${p} ${r},${s}`,m,g,b,y]}function E6({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,o=n<e?n+s:n-s,l=Math.abs(r-t)/2,u=r<t?r+l:r-l;return[o,u,s,l]}function pre({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const l=s&&n?r+1e3:r,u=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return l+u}function mre({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const o=pp(Ph(e),Ph(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const l={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return Du(l,mp(o))>0}const gre=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,xre=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),bre=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||gre;let s;return p6(e)?s={...e}:s={...e,id:r(e)},xre(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function j6({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,o,l,u]=E6({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,o,l,u]}const g4={[$e.Left]:{x:-1,y:0},[$e.Right]:{x:1,y:0},[$e.Top]:{x:0,y:-1},[$e.Bottom]:{x:0,y:1}},yre=({source:e,sourcePosition:t=$e.Bottom,target:n})=>t===$e.Left||t===$e.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},x4=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function vre({source:e,sourcePosition:t=$e.Bottom,target:n,targetPosition:r=$e.Top,center:s,offset:o,stepPosition:l}){const u=g4[t],d=g4[r],f={x:e.x+u.x*o,y:e.y+u.y*o},p={x:n.x+d.x*o,y:n.y+d.y*o},m=yre({source:f,sourcePosition:t,target:p}),g=m.x!==0?"x":"y",b=m[g];let y=[],v,_;const N={x:0,y:0},j={x:0,y:0},[,,k,C]=E6({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[g]*d[g]===-1){g==="x"?(v=s.x??f.x+(p.x-f.x)*l,_=s.y??(f.y+p.y)/2):(v=s.x??(f.x+p.x)/2,_=s.y??f.y+(p.y-f.y)*l);const T=[{x:v,y:f.y},{x:v,y:p.y}],M=[{x:f.x,y:_},{x:p.x,y:_}];u[g]===b?y=g==="x"?T:M:y=g==="x"?M:T}else{const T=[{x:f.x,y:p.y}],M=[{x:p.x,y:f.y}];if(g==="x"?y=u.x===b?M:T:y=u.y===b?T:M,t===r){const F=Math.abs(e[g]-n[g]);if(F<=o){const K=Math.min(o-1,o-F);u[g]===b?N[g]=(f[g]>e[g]?-1:1)*K:j[g]=(p[g]>n[g]?-1:1)*K}}if(t!==r){const F=g==="x"?"y":"x",K=u[g]===d[F],B=f[F]>p[F],G=f[F]<p[F];(u[g]===1&&(!K&&B||K&&G)||u[g]!==1&&(!K&&G||K&&B))&&(y=g==="x"?T:M)}const z={x:f.x+N.x,y:f.y+N.y},$={x:p.x+j.x,y:p.y+j.y},D=Math.max(Math.abs(z.x-y[0].x),Math.abs($.x-y[0].x)),I=Math.max(Math.abs(z.y-y[0].y),Math.abs($.y-y[0].y));D>=I?(v=(z.x+$.x)/2,_=y[0].y):(v=y[0].x,_=(z.y+$.y)/2)}return[[e,{x:f.x+N.x,y:f.y+N.y},...y,{x:p.x+j.x,y:p.y+j.y},n],v,_,k,C]}function wre(e,t,n,r){const s=Math.min(x4(e,t)/2,x4(t,n)/2,r),{x:o,y:l}=t;if(e.x===o&&o===n.x||e.y===l&&l===n.y)return`L${o} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,p=e.y<n.y?1:-1;return`L ${o+s*f},${l}Q ${o},${l} ${o},${l+s*p}`}const u=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${o},${l+s*d}Q ${o},${l} ${o+s*u},${l}`}function e_({sourceX:e,sourceY:t,sourcePosition:n=$e.Bottom,targetX:r,targetY:s,targetPosition:o=$e.Top,borderRadius:l=5,centerX:u,centerY:d,offset:f=20,stepPosition:p=.5}){const[m,g,b,y,v]=vre({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:u,y:d},offset:f,stepPosition:p});return[m.reduce((N,j,k)=>{let C="";return k>0&&k<m.length-1?C=wre(m[k-1],j,m[k+1],l):C=`${k===0?"M":"L"}${j.x} ${j.y}`,N+=C,N},""),g,b,y,v]}function b4(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function _re(e){var m;const{sourceNode:t,targetNode:n}=e;if(!b4(t)||!b4(n))return null;const r=t.internals.handleBounds||y4(t.handles),s=n.internals.handleBounds||y4(n.handles),o=v4((r==null?void 0:r.source)??[],e.sourceHandle),l=v4(e.connectionMode===vl.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!o||!l)return(m=e.onError)==null||m.call(e,"008",ei.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=(o==null?void 0:o.position)||$e.Bottom,d=(l==null?void 0:l.position)||$e.Top,f=co(t,o,u),p=co(n,l,d);return{sourceX:f.x,sourceY:f.y,targetX:p.x,targetY:p.y,sourcePosition:u,targetPosition:d}}function y4(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function co(e,t,n=$e.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:l,height:u}=t??Bi(e);if(r)return{x:s+l/2,y:o+u/2};switch((t==null?void 0:t.position)??n){case $e.Top:return{x:s+l/2,y:o};case $e.Right:return{x:s+l,y:o+u/2};case $e.Bottom:return{x:s+l/2,y:o+u};case $e.Left:return{x:s,y:o+u/2}}}function v4(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function t_(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Nre(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const o=new Set;return e.reduce((l,u)=>([u.markerStart||r,u.markerEnd||s].forEach(d=>{if(d&&typeof d=="object"){const f=t_(d,t);o.has(f)||(l.push({id:f,color:d.color||n,...d}),o.add(f))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))}const C6=1e3,Sre=10,wN={nodeOrigin:[0,0],nodeExtent:Mu,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},kre={...wN,checkEquality:!0};function _N(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Ere(e,t,n){const r=_N(wN,n);for(const s of e.values())if(s.parentId)SN(s,e,t,r);else{const o=rd(s,r.nodeOrigin),l=Nl(s.extent)?s.extent:r.nodeExtent,u=lo(o,l,Bi(s));s.internals.positionAbsolute=u}}function jre(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const o={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(o):s.type==="target"&&r.push(o)}return{source:n,target:r}}function NN(e){return e==="manual"}function n_(e,t,n,r={}){var f,p;const s=_N(kre,r),o={i:0},l=new Map(t),u=s!=null&&s.elevateNodesOnSelect&&!NN(s.zIndexMode)?C6:0;let d=e.length>0;t.clear(),n.clear();for(const m of e){let g=l.get(m.id);if(s.checkEquality&&m===(g==null?void 0:g.internals.userNode))t.set(m.id,g);else{const b=rd(m,s.nodeOrigin),y=Nl(m.extent)?m.extent:s.nodeExtent,v=lo(b,y,Bi(m));g={...s.defaults,...m,measured:{width:(f=m.measured)==null?void 0:f.width,height:(p=m.measured)==null?void 0:p.height},internals:{positionAbsolute:v,handleBounds:jre(m,g),z:T6(m,u,s.zIndexMode),userNode:m}},t.set(m.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(d=!1),m.parentId&&SN(g,t,n,r,o)}return d}function Cre(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function SN(e,t,n,r,s){const{elevateNodesOnSelect:o,nodeOrigin:l,nodeExtent:u,zIndexMode:d}=_N(wN,r),f=e.parentId,p=t.get(f);if(!p){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Cre(e,n),s&&!p.parentId&&p.internals.rootParentIndex===void 0&&d==="auto"&&(p.internals.rootParentIndex=++s.i,p.internals.z=p.internals.z+s.i*Sre),s&&p.internals.rootParentIndex!==void 0&&(s.i=p.internals.rootParentIndex);const m=o&&!NN(d)?C6:0,{x:g,y:b,z:y}=Tre(e,p,l,u,m,d),{positionAbsolute:v}=e.internals,_=g!==v.x||b!==v.y;(_||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:g,y:b}:v,z:y}})}function T6(e,t,n){const r=Os(e.zIndex)?e.zIndex:0;return NN(n)?r:r+(e.selected?t:0)}function Tre(e,t,n,r,s,o){const{x:l,y:u}=t.internals.positionAbsolute,d=Bi(e),f=rd(e,n),p=Nl(e.extent)?lo(f,e.extent,d):f;let m=lo({x:l+p.x,y:u+p.y},r,d);e.extent==="parent"&&(m=g6(m,d,t));const g=T6(e,s,o),b=t.internals.z??0;return{x:m.x,y:m.y,z:b>=g?b+1:g}}function kN(e,t,n,r=[0,0]){var l;const s=[],o=new Map;for(const u of e){const d=t.get(u.parentId);if(!d)continue;const f=((l=o.get(u.parentId))==null?void 0:l.expandedRect)??_l(d),p=b6(f,u.rect);o.set(u.parentId,{expandedRect:p,parent:d})}return o.size>0&&o.forEach(({expandedRect:u,parent:d},f)=>{var k;const p=d.internals.positionAbsolute,m=Bi(d),g=d.origin??r,b=u.x<p.x?Math.round(Math.abs(p.x-u.x)):0,y=u.y<p.y?Math.round(Math.abs(p.y-u.y)):0,v=Math.max(m.width,Math.round(u.width)),_=Math.max(m.height,Math.round(u.height)),N=(v-m.width)*g[0],j=(_-m.height)*g[1];(b>0||y>0||N||j)&&(s.push({id:f,type:"position",position:{x:d.position.x-b+N,y:d.position.y-y+j}}),(k=n.get(f))==null||k.forEach(C=>{e.some(A=>A.id===C.id)||s.push({id:C.id,type:"position",position:{x:C.position.x+b,y:C.position.y+y}})})),(m.width<u.width||m.height<u.height||b||y)&&s.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:v+(b?g[0]*b-N:0),height:_+(y?g[1]*y-j:0)}})}),s}function Are(e,t,n,r,s,o,l){const u=r==null?void 0:r.querySelector(".xyflow__viewport");let d=!1;if(!u)return{changes:[],updatedInternals:d};const f=[],p=window.getComputedStyle(u),{m22:m}=new window.DOMMatrixReadOnly(p.transform),g=[];for(const b of e.values()){const y=t.get(b.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),d=!0;continue}const v=vN(b.nodeElement),_=y.measured.width!==v.width||y.measured.height!==v.height;if(!!(v.width&&v.height&&(_||!y.internals.handleBounds||b.force))){const j=b.nodeElement.getBoundingClientRect(),k=Nl(y.extent)?y.extent:o;let{positionAbsolute:C}=y.internals;y.parentId&&y.extent==="parent"?C=g6(C,v,t.get(y.parentId)):k&&(C=lo(C,k,v));const A={...y,measured:v,internals:{...y.internals,positionAbsolute:C,handleBounds:{source:p4("source",b.nodeElement,j,m,y.id),target:p4("target",b.nodeElement,j,m,y.id)}}};t.set(y.id,A),y.parentId&&SN(A,t,n,{nodeOrigin:s,zIndexMode:l}),d=!0,_&&(f.push({id:y.id,type:"dimensions",dimensions:v}),y.expandParent&&y.parentId&&g.push({id:y.id,parentId:y.parentId,rect:_l(A,s)}))}}if(g.length>0){const b=kN(g,t,n,s);f.push(...b)}return{changes:f,updatedInternals:d}}async function Mre({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,o]],r),u=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(u)}function w4(e,t,n,r,s,o){let l=s;const u=r.get(l)||new Map;r.set(l,u.set(n,t)),l=`${s}-${e}`;const d=r.get(l)||new Map;if(r.set(l,d.set(n,t)),o){l=`${s}-${e}-${o}`;const f=r.get(l)||new Map;r.set(l,f.set(n,t))}}function A6(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:o,sourceHandle:l=null,targetHandle:u=null}=r,d={edgeId:r.id,source:s,target:o,sourceHandle:l,targetHandle:u},f=`${s}-${l}--${o}-${u}`,p=`${o}-${u}--${s}-${l}`;w4("source",d,p,e,s,l),w4("target",d,f,e,o,u),t.set(r.id,r)}}function M6(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:M6(n,t):!1}function _4(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Rre(e,t,n,r){const s=new Map;for(const[o,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!M6(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const u=e.get(o);u&&s.set(o,{id:o,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return s}function U0({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var l,u,d;const s=[];for(const[f,p]of t){const m=(l=n.get(f))==null?void 0:l.internals.userNode;m&&s.push({...m,position:p.position,dragging:r})}if(!e)return[s[0],s];const o=(u=n.get(e))==null?void 0:u.internals.userNode;return[o?{...o,position:((d=t.get(e))==null?void 0:d.position)||o.position,dragging:r}:s[0],s]}function Ore({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const o={x:n-s.distance.x,y:r-s.distance.y},l=id(o,t);return{x:l.x-o.x,y:l.y-o.y}}function Dre({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let o={x:null,y:null},l=0,u=new Map,d=!1,f={x:0,y:0},p=null,m=!1,g=null,b=!1,y=!1,v=null;function _({noDragClassName:j,handleSelector:k,domNode:C,isSelectable:A,nodeId:T,nodeClickDistance:M=0}){g=Yr(C);function z({x:F,y:K}){const{nodeLookup:B,nodeExtent:G,snapGrid:U,snapToGrid:Y,nodeOrigin:W,onNodeDrag:X,onSelectionDrag:L,onError:q,updateNodePositions:P}=t();o={x:F,y:K};let O=!1;const H=u.size>1,Z=H&&G?Jw(sd(u)):null,Q=H&&Y?Ore({dragItems:u,snapGrid:U,x:F,y:K}):null;for(const[ie,ee]of u){if(!B.has(ie))continue;let re={x:F-ee.distance.x,y:K-ee.distance.y};Y&&(re=Q?{x:Math.round(re.x+Q.x),y:Math.round(re.y+Q.y)}:id(re,U));let ue=null;if(H&&G&&!ee.extent&&Z){const{positionAbsolute:ae}=ee.internals,pe=ae.x-Z.x+G[0][0],ve=ae.x+ee.measured.width-Z.x2+G[1][0],xe=ae.y-Z.y+G[0][1],Se=ae.y+ee.measured.height-Z.y2+G[1][1];ue=[[pe,xe],[ve,Se]]}const{position:ge,positionAbsolute:J}=m6({nodeId:ie,nextPosition:re,nodeLookup:B,nodeExtent:ue||G,nodeOrigin:W,onError:q});O=O||ee.position.x!==ge.x||ee.position.y!==ge.y,ee.position=ge,ee.internals.positionAbsolute=J}if(y=y||O,!!O&&(P(u,!0),v&&(r||X||!T&&L))){const[ie,ee]=U0({nodeId:T,dragItems:u,nodeLookup:B});r==null||r(v,u,ie,ee),X==null||X(v,ie,ee),T||L==null||L(v,ee)}}async function $(){if(!p)return;const{transform:F,panBy:K,autoPanSpeed:B,autoPanOnNodeDrag:G}=t();if(!G){d=!1,cancelAnimationFrame(l);return}const[U,Y]=x6(f,p,B);(U!==0||Y!==0)&&(o.x=(o.x??0)-U/F[2],o.y=(o.y??0)-Y/F[2],await K({x:U,y:Y})&&z(o)),l=requestAnimationFrame($)}function D(F){var H;const{nodeLookup:K,multiSelectionActive:B,nodesDraggable:G,transform:U,snapGrid:Y,snapToGrid:W,selectNodesOnDrag:X,onNodeDragStart:L,onSelectionDragStart:q,unselectNodesAndEdges:P}=t();m=!0,(!X||!A)&&!B&&T&&((H=K.get(T))!=null&&H.selected||P()),A&&X&&T&&(e==null||e(T));const O=gu(F.sourceEvent,{transform:U,snapGrid:Y,snapToGrid:W,containerBounds:p});if(o=O,u=Rre(K,G,O,T),u.size>0&&(n||L||!T&&q)){const[Z,Q]=U0({nodeId:T,dragItems:u,nodeLookup:K});n==null||n(F.sourceEvent,u,Z,Q),L==null||L(F.sourceEvent,Z,Q),T||q==null||q(F.sourceEvent,Q)}}const I=KL().clickDistance(M).on("start",F=>{const{domNode:K,nodeDragThreshold:B,transform:G,snapGrid:U,snapToGrid:Y}=t();p=(K==null?void 0:K.getBoundingClientRect())||null,b=!1,y=!1,v=F.sourceEvent,B===0&&D(F),o=gu(F.sourceEvent,{transform:G,snapGrid:U,snapToGrid:Y,containerBounds:p}),f=Ds(F.sourceEvent,p)}).on("drag",F=>{const{autoPanOnNodeDrag:K,transform:B,snapGrid:G,snapToGrid:U,nodeDragThreshold:Y,nodeLookup:W}=t(),X=gu(F.sourceEvent,{transform:B,snapGrid:G,snapToGrid:U,containerBounds:p});if(v=F.sourceEvent,(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||T&&!W.has(T))&&(b=!0),!b){if(!d&&K&&m&&(d=!0,$()),!m){const L=Ds(F.sourceEvent,p),q=L.x-f.x,P=L.y-f.y;Math.sqrt(q*q+P*P)>Y&&D(F)}(o.x!==X.xSnapped||o.y!==X.ySnapped)&&u&&m&&(f=Ds(F.sourceEvent,p),z(X))}}).on("end",F=>{if(!(!m||b)&&(d=!1,m=!1,cancelAnimationFrame(l),u.size>0)){const{nodeLookup:K,updateNodePositions:B,onNodeDragStop:G,onSelectionDragStop:U}=t();if(y&&(B(u,!1),y=!1),s||G||!T&&U){const[Y,W]=U0({nodeId:T,dragItems:u,nodeLookup:K,dragging:!1});s==null||s(F.sourceEvent,u,Y,W),G==null||G(F.sourceEvent,Y,W),T||U==null||U(F.sourceEvent,W)}}}).filter(F=>{const K=F.target;return!F.button&&(!j||!_4(K,`.${j}`,C))&&(!k||_4(K,k,C))});g.call(I)}function N(){g==null||g.on(".drag",null)}return{update:_,destroy:N}}function Lre(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Du(s,_l(o))>0&&r.push(o);return r}const Ire=250;function Pre(e,t,n,r){var u,d;let s=[],o=1/0;const l=Lre(e,n,t+Ire);for(const f of l){const p=[...((u=f.internals.handleBounds)==null?void 0:u.source)??[],...((d=f.internals.handleBounds)==null?void 0:d.target)??[]];for(const m of p){if(r.nodeId===m.nodeId&&r.type===m.type&&r.id===m.id)continue;const{x:g,y:b}=co(f,m,m.position,!0),y=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(b-e.y,2));y>t||(y<o?(s=[{...m,x:g,y:b}],o=y):y===o&&s.push({...m,x:g,y:b}))}}if(!s.length)return null;if(s.length>1){const f=r.type==="source"?"target":"source";return s.find(p=>p.type===f)??s[0]}return s[0]}function R6(e,t,n,r,s,o=!1){var f,p,m;const l=r.get(e);if(!l)return null;const u=s==="strict"?(f=l.internals.handleBounds)==null?void 0:f[t]:[...((p=l.internals.handleBounds)==null?void 0:p.source)??[],...((m=l.internals.handleBounds)==null?void 0:m.target)??[]],d=(n?u==null?void 0:u.find(g=>g.id===n):u==null?void 0:u[0])??null;return d&&o?{...d,...co(l,d,d.position,!0)}:d}function O6(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function zre(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const D6=()=>!0;function Bre(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:o,isTarget:l,domNode:u,nodeLookup:d,lib:f,autoPanOnConnect:p,flowId:m,panBy:g,cancelConnection:b,onConnectStart:y,onConnect:v,onConnectEnd:_,isValidConnection:N=D6,onReconnectEnd:j,updateConnection:k,getTransform:C,getFromHandle:A,autoPanSpeed:T,dragThreshold:M=1,handleDomNode:z}){const $=w6(e.target);let D=0,I;const{x:F,y:K}=Ds(e),B=O6(o,z),G=u==null?void 0:u.getBoundingClientRect();let U=!1;if(!G||!B)return;const Y=R6(s,B,r,d,t);if(!Y)return;let W=Ds(e,G),X=!1,L=null,q=!1,P=null;function O(){if(!p||!G)return;const[ge,J]=x6(W,G,T);g({x:ge,y:J}),D=requestAnimationFrame(O)}const H={...Y,nodeId:s,type:B,position:Y.position},Z=d.get(s);let ie={inProgress:!0,isValid:null,from:co(Z,H,$e.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:Z,to:W,toHandle:null,toPosition:u4[H.position],toNode:null,pointer:W};function ee(){U=!0,k(ie),y==null||y(e,{nodeId:s,handleId:r,handleType:B})}M===0&&ee();function re(ge){if(!U){const{x:Se,y:ze}=Ds(ge),tt=Se-F,Ht=ze-K;if(!(tt*tt+Ht*Ht>M*M))return;ee()}if(!A()||!H){ue(ge);return}const J=C();W=Ds(ge,G),I=Pre(ad(W,J,!1,[1,1]),n,d,H),X||(O(),X=!0);const ae=L6(ge,{handle:I,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:l?"target":"source",isValidConnection:N,doc:$,lib:f,flowId:m,nodeLookup:d});P=ae.handleDomNode,L=ae.connection,q=zre(!!I,ae.isValid);const pe=d.get(s),ve=pe?co(pe,H,$e.Left,!0):ie.from,xe={...ie,from:ve,isValid:q,to:ae.toHandle&&q?zh({x:ae.toHandle.x,y:ae.toHandle.y},J):W,toHandle:ae.toHandle,toPosition:q&&ae.toHandle?ae.toHandle.position:u4[H.position],toNode:ae.toHandle?d.get(ae.toHandle.nodeId):null,pointer:W};k(xe),ie=xe}function ue(ge){if(!("touches"in ge&&ge.touches.length>0)){if(U){(I||P)&&L&&q&&(v==null||v(L));const{inProgress:J,...ae}=ie,pe={...ae,toPosition:ie.toHandle?ie.toPosition:null};_==null||_(ge,pe),o&&(j==null||j(ge,pe))}b(),cancelAnimationFrame(D),X=!1,q=!1,L=null,P=null,$.removeEventListener("mousemove",re),$.removeEventListener("mouseup",ue),$.removeEventListener("touchmove",re),$.removeEventListener("touchend",ue)}}$.addEventListener("mousemove",re),$.addEventListener("mouseup",ue),$.addEventListener("touchmove",re),$.addEventListener("touchend",ue)}function L6(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:o,doc:l,lib:u,flowId:d,isValidConnection:f=D6,nodeLookup:p}){const m=o==="target",g=t?l.querySelector(`.${u}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:b,y}=Ds(e),v=l.elementFromPoint(b,y),_=v!=null&&v.classList.contains(`${u}-flow__handle`)?v:g,N={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const j=O6(void 0,_),k=_.getAttribute("data-nodeid"),C=_.getAttribute("data-handleid"),A=_.classList.contains("connectable"),T=_.classList.contains("connectableend");if(!k||!j)return N;const M={source:m?k:r,sourceHandle:m?C:s,target:m?r:k,targetHandle:m?s:C};N.connection=M;const $=A&&T&&(n===vl.Strict?m&&j==="source"||!m&&j==="target":k!==r||C!==s);N.isValid=$&&f(M),N.toHandle=R6(k,j,C,p,n,!0)}return N}const r_={onPointerDown:Bre,isValid:L6};function $re({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=Yr(e);function o({translateExtent:u,width:d,height:f,zoomStep:p=1,pannable:m=!0,zoomable:g=!0,inversePan:b=!1}){const y=k=>{if(k.sourceEvent.type!=="wheel"||!t)return;const C=n(),A=k.sourceEvent.ctrlKey&&Lu()?10:1,T=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*p,M=C[2]*Math.pow(2,T*A);t.scaleTo(M)};let v=[0,0];const _=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(v=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},N=k=>{const C=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!t)return;const A=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],T=[A[0]-v[0],A[1]-v[1]];v=A;const M=r()*Math.max(C[2],Math.log(C[2]))*(b?-1:1),z={x:C[0]-T[0]*M,y:C[1]-T[1]*M},$=[[0,0],[d,f]];t.setViewportConstrained({x:z.x,y:z.y,zoom:C[2]},$,u)},j=c6().on("start",_).on("zoom",m?N:null).on("zoom.wheel",g?y:null);s.call(j,{})}function l(){s.on("zoom",null)}return{update:o,destroy:l,pointer:As}}const gp=e=>({x:e.x,y:e.y,zoom:e.k}),q0=({x:e,y:t,zoom:n})=>hp.translate(e,t).scale(n),ul=(e,t)=>e.target.closest(`.${t}`),I6=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Ure=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,F0=(e,t=0,n=Ure,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},P6=e=>{const t=e.ctrlKey&&Lu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function qre({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:o,zoomOnPinch:l,onPanZoomStart:u,onPanZoom:d,onPanZoomEnd:f}){return p=>{if(ul(p,t))return p.ctrlKey&&p.preventDefault(),!1;p.preventDefault(),p.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(p.ctrlKey&&l){const _=As(p),N=P6(p),j=m*Math.pow(2,N);r.scaleTo(n,j,_,p);return}const g=p.deltaMode===1?20:1;let b=s===no.Vertical?0:p.deltaX*g,y=s===no.Horizontal?0:p.deltaY*g;!Lu()&&p.shiftKey&&s!==no.Vertical&&(b=p.deltaY*g,y=0),r.translateBy(n,-(b/m)*o,-(y/m)*o,{internal:!0});const v=gp(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(p,v),e.panScrollTimeout=setTimeout(()=>{f==null||f(p,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u==null||u(p,v))}}function Fre({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const o=r.type==="wheel",l=!t&&o&&!r.ctrlKey,u=ul(r,e);if(r.ctrlKey&&o&&u&&r.preventDefault(),l||u)return null;r.preventDefault(),n.call(this,r,s)}}function Hre({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,l,u;if((o=r.sourceEvent)!=null&&o.internal)return;const s=gp(r.transform);e.mouseButton=((l=r.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((u=r.sourceEvent)==null?void 0:u.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function Gre({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return o=>{var l,u;e.usedRightMouseButton=!!(n&&I6(t,e.mouseButton??0)),(l=o.sourceEvent)!=null&&l.sync||r([o.transform.x,o.transform.y,o.transform.k]),s&&!((u=o.sourceEvent)!=null&&u.internal)&&(s==null||s(o.sourceEvent,gp(o.transform)))}}function Vre({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:o}){return l=>{var u;if(!((u=l.sourceEvent)!=null&&u.internal)&&(e.isZoomingOrPanning=!1,o&&I6(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&o(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const d=gp(l.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(l.sourceEvent,d)},n?150:0)}}}function Wre({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:o,userSelectionActive:l,noWheelClassName:u,noPanClassName:d,lib:f,connectionInProgress:p}){return m=>{var _;const g=e||t,b=n&&m.ctrlKey,y=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(ul(m,`${f}-flow__node`)||ul(m,`${f}-flow__edge`)))return!0;if(!r&&!g&&!s&&!o&&!n||l||p&&!y||ul(m,u)&&y||ul(m,d)&&(!y||s&&y&&!e)||!n&&m.ctrlKey&&y)return!1;if(!n&&m.type==="touchstart"&&((_=m.touches)==null?void 0:_.length)>1)return m.preventDefault(),!1;if(!g&&!s&&!b&&y||!r&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(r)&&!r.includes(m.button)&&m.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||y)&&v}}function Kre({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=e.getBoundingClientRect(),m=c6().scaleExtent([t,n]).translateExtent(r),g=Yr(e).call(m);j({x:s.x,y:s.y,zoom:wl(s.zoom,t,n)},[[0,0],[p.width,p.height]],r);const b=g.on("wheel.zoom"),y=g.on("dblclick.zoom");m.wheelDelta(P6);function v(I,F){return g?new Promise(K=>{m==null||m.interpolate((F==null?void 0:F.interpolate)==="linear"?mu:ih).transform(F0(g,F==null?void 0:F.duration,F==null?void 0:F.ease,()=>K(!0)),I)}):Promise.resolve(!1)}function _({noWheelClassName:I,noPanClassName:F,onPaneContextMenu:K,userSelectionActive:B,panOnScroll:G,panOnDrag:U,panOnScrollMode:Y,panOnScrollSpeed:W,preventScrolling:X,zoomOnPinch:L,zoomOnScroll:q,zoomOnDoubleClick:P,zoomActivationKeyPressed:O,lib:H,onTransformChange:Z,connectionInProgress:Q,paneClickDistance:ie,selectionOnDrag:ee}){B&&!f.isZoomingOrPanning&&N();const re=G&&!O&&!B;m.clickDistance(ee?1/0:!Os(ie)||ie<0?0:ie);const ue=re?qre({zoomPanValues:f,noWheelClassName:I,d3Selection:g,d3Zoom:m,panOnScrollMode:Y,panOnScrollSpeed:W,zoomOnPinch:L,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:u}):Fre({noWheelClassName:I,preventScrolling:X,d3ZoomHandler:b});if(g.on("wheel.zoom",ue,{passive:!1}),!B){const J=Hre({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});m.on("start",J);const ae=Gre({zoomPanValues:f,panOnDrag:U,onPaneContextMenu:!!K,onPanZoom:o,onTransformChange:Z});m.on("zoom",ae);const pe=Vre({zoomPanValues:f,panOnDrag:U,panOnScroll:G,onPaneContextMenu:K,onPanZoomEnd:u,onDraggingChange:d});m.on("end",pe)}const ge=Wre({zoomActivationKeyPressed:O,panOnDrag:U,zoomOnScroll:q,panOnScroll:G,zoomOnDoubleClick:P,zoomOnPinch:L,userSelectionActive:B,noPanClassName:F,noWheelClassName:I,lib:H,connectionInProgress:Q});m.filter(ge),P?g.on("dblclick.zoom",y):g.on("dblclick.zoom",null)}function N(){m.on("zoom",null)}async function j(I,F,K){const B=q0(I),G=m==null?void 0:m.constrain()(B,F,K);return G&&await v(G),new Promise(U=>U(G))}async function k(I,F){const K=q0(I);return await v(K,F),new Promise(B=>B(K))}function C(I){if(g){const F=q0(I),K=g.property("__zoom");(K.k!==I.zoom||K.x!==I.x||K.y!==I.y)&&(m==null||m.transform(g,F,null,{sync:!0}))}}function A(){const I=g?l6(g.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function T(I,F){return g?new Promise(K=>{m==null||m.interpolate((F==null?void 0:F.interpolate)==="linear"?mu:ih).scaleTo(F0(g,F==null?void 0:F.duration,F==null?void 0:F.ease,()=>K(!0)),I)}):Promise.resolve(!1)}function M(I,F){return g?new Promise(K=>{m==null||m.interpolate((F==null?void 0:F.interpolate)==="linear"?mu:ih).scaleBy(F0(g,F==null?void 0:F.duration,F==null?void 0:F.ease,()=>K(!0)),I)}):Promise.resolve(!1)}function z(I){m==null||m.scaleExtent(I)}function $(I){m==null||m.translateExtent(I)}function D(I){const F=!Os(I)||I<0?0:I;m==null||m.clickDistance(F)}return{update:_,destroy:N,setViewport:k,setViewportConstrained:j,getViewport:A,scaleTo:T,scaleBy:M,setScaleExtent:z,setTranslateExtent:$,syncViewport:C,setClickDistance:D}}var Sl;(function(e){e.Line="line",e.Handle="handle"})(Sl||(Sl={}));function Yre({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:o}){const l=e-t,u=n-r,d=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&s&&(d[0]=d[0]*-1),u&&o&&(d[1]=d[1]*-1),d}function N4(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function ba(e,t){return Math.max(0,t-e)}function ya(e,t){return Math.max(0,e-t)}function Zf(e,t,n){return Math.max(0,t-e,e-n)}function S4(e,t){return e?!t:t}function Xre(e,t,n,r,s,o,l,u){let{affectsX:d,affectsY:f}=t;const{isHorizontal:p,isVertical:m}=t,g=p&&m,{xSnapped:b,ySnapped:y}=n,{minWidth:v,maxWidth:_,minHeight:N,maxHeight:j}=r,{x:k,y:C,width:A,height:T,aspectRatio:M}=e;let z=Math.floor(p?b-e.pointerX:0),$=Math.floor(m?y-e.pointerY:0);const D=A+(d?-z:z),I=T+(f?-$:$),F=-o[0]*A,K=-o[1]*T;let B=Zf(D,v,_),G=Zf(I,N,j);if(l){let W=0,X=0;d&&z<0?W=ba(k+z+F,l[0][0]):!d&&z>0&&(W=ya(k+D+F,l[1][0])),f&&$<0?X=ba(C+$+K,l[0][1]):!f&&$>0&&(X=ya(C+I+K,l[1][1])),B=Math.max(B,W),G=Math.max(G,X)}if(u){let W=0,X=0;d&&z>0?W=ya(k+z,u[0][0]):!d&&z<0&&(W=ba(k+D,u[1][0])),f&&$>0?X=ya(C+$,u[0][1]):!f&&$<0&&(X=ba(C+I,u[1][1])),B=Math.max(B,W),G=Math.max(G,X)}if(s){if(p){const W=Zf(D/M,N,j)*M;if(B=Math.max(B,W),l){let X=0;!d&&!f||d&&!f&&g?X=ya(C+K+D/M,l[1][1])*M:X=ba(C+K+(d?z:-z)/M,l[0][1])*M,B=Math.max(B,X)}if(u){let X=0;!d&&!f||d&&!f&&g?X=ba(C+D/M,u[1][1])*M:X=ya(C+(d?z:-z)/M,u[0][1])*M,B=Math.max(B,X)}}if(m){const W=Zf(I*M,v,_)/M;if(G=Math.max(G,W),l){let X=0;!d&&!f||f&&!d&&g?X=ya(k+I*M+F,l[1][0])/M:X=ba(k+(f?$:-$)*M+F,l[0][0])/M,G=Math.max(G,X)}if(u){let X=0;!d&&!f||f&&!d&&g?X=ba(k+I*M,u[1][0])/M:X=ya(k+(f?$:-$)*M,u[0][0])/M,G=Math.max(G,X)}}}$=$+($<0?G:-G),z=z+(z<0?B:-B),s&&(g?D>I*M?$=(S4(d,f)?-z:z)/M:z=(S4(d,f)?-$:$)*M:p?($=z/M,f=d):(z=$*M,d=f));const U=d?k+z:k,Y=f?C+$:C;return{width:A+(d?-z:z),height:T+(f?-$:$),x:o[0]*z*(d?-1:1)+U,y:o[1]*$*(f?-1:1)+Y}}const z6={width:0,height:0,x:0,y:0},Zre={...z6,pointerX:0,pointerY:0,aspectRatio:1};function Qre(e){return[[0,0],[e.measured.width,e.measured.height]]}function Jre(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,o=e.measured.width??0,l=e.measured.height??0,u=n[0]*o,d=n[1]*l;return[[r-u,s-d],[r+o-u,s+l-d]]}function ese({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const o=Yr(e);let l={controlDirection:N4("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:f,boundaries:p,keepAspectRatio:m,resizeDirection:g,onResizeStart:b,onResize:y,onResizeEnd:v,shouldResize:_}){let N={...z6},j={...Zre};l={boundaries:p,resizeDirection:g,keepAspectRatio:m,controlDirection:N4(f)};let k,C=null,A=[],T,M,z,$=!1;const D=KL().on("start",I=>{const{nodeLookup:F,transform:K,snapGrid:B,snapToGrid:G,nodeOrigin:U,paneDomNode:Y}=n();if(k=F.get(t),!k)return;C=(Y==null?void 0:Y.getBoundingClientRect())??null;const{xSnapped:W,ySnapped:X}=gu(I.sourceEvent,{transform:K,snapGrid:B,snapToGrid:G,containerBounds:C});N={width:k.measured.width??0,height:k.measured.height??0,x:k.position.x??0,y:k.position.y??0},j={...N,pointerX:W,pointerY:X,aspectRatio:N.width/N.height},T=void 0,k.parentId&&(k.extent==="parent"||k.expandParent)&&(T=F.get(k.parentId),M=T&&k.extent==="parent"?Qre(T):void 0),A=[],z=void 0;for(const[L,q]of F)if(q.parentId===t&&(A.push({id:L,position:{...q.position},extent:q.extent}),q.extent==="parent"||q.expandParent)){const P=Jre(q,k,q.origin??U);z?z=[[Math.min(P[0][0],z[0][0]),Math.min(P[0][1],z[0][1])],[Math.max(P[1][0],z[1][0]),Math.max(P[1][1],z[1][1])]]:z=P}b==null||b(I,{...N})}).on("drag",I=>{const{transform:F,snapGrid:K,snapToGrid:B,nodeOrigin:G}=n(),U=gu(I.sourceEvent,{transform:F,snapGrid:K,snapToGrid:B,containerBounds:C}),Y=[];if(!k)return;const{x:W,y:X,width:L,height:q}=N,P={},O=k.origin??G,{width:H,height:Z,x:Q,y:ie}=Xre(j,l.controlDirection,U,l.boundaries,l.keepAspectRatio,O,M,z),ee=H!==L,re=Z!==q,ue=Q!==W&&ee,ge=ie!==X&&re;if(!ue&&!ge&&!ee&&!re)return;if((ue||ge||O[0]===1||O[1]===1)&&(P.x=ue?Q:N.x,P.y=ge?ie:N.y,N.x=P.x,N.y=P.y,A.length>0)){const ve=Q-W,xe=ie-X;for(const Se of A)Se.position={x:Se.position.x-ve+O[0]*(H-L),y:Se.position.y-xe+O[1]*(Z-q)},Y.push(Se)}if((ee||re)&&(P.width=ee&&(!l.resizeDirection||l.resizeDirection==="horizontal")?H:N.width,P.height=re&&(!l.resizeDirection||l.resizeDirection==="vertical")?Z:N.height,N.width=P.width,N.height=P.height),T&&k.expandParent){const ve=O[0]*(P.width??0);P.x&&P.x<ve&&(N.x=ve,j.x=j.x-(P.x-ve));const xe=O[1]*(P.height??0);P.y&&P.y<xe&&(N.y=xe,j.y=j.y-(P.y-xe))}const J=Yre({width:N.width,prevWidth:L,height:N.height,prevHeight:q,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),ae={...N,direction:J};(_==null?void 0:_(I,ae))!==!1&&($=!0,y==null||y(I,ae),r(P,Y))}).on("end",I=>{$&&(v==null||v(I,{...N}),s==null||s({...N}),$=!1)});o.call(D)}function d(){o.on(".drag",null)}return{update:u,destroy:d}}var H0={exports:{}},G0={},V0={exports:{}},W0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4;function tse(){if(k4)return W0;k4=1;var e=Pu();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(m,g){var b=g(),y=r({inst:{value:b,getSnapshot:g}}),v=y[0].inst,_=y[1];return o(function(){v.value=b,v.getSnapshot=g,d(v)&&_({inst:v})},[m,b,g]),s(function(){return d(v)&&_({inst:v}),m(function(){d(v)&&_({inst:v})})},[m]),l(b),b}function d(m){var g=m.getSnapshot;m=m.value;try{var b=g();return!n(m,b)}catch{return!0}}function f(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return W0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,W0}var E4;function nse(){return E4||(E4=1,V0.exports=tse()),V0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4;function rse(){if(j4)return G0;j4=1;var e=Pu(),t=nse();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return G0.useSyncExternalStoreWithSelector=function(f,p,m,g,b){var y=o(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=u(function(){function N(T){if(!j){if(j=!0,k=T,T=g(T),b!==void 0&&v.hasValue){var M=v.value;if(b(M,T))return C=M}return C=T}if(M=C,r(k,T))return M;var z=g(T);return b!==void 0&&b(M,z)?(k=T,M):(k=T,C=z)}var j=!1,k,C,A=m===void 0?null:m;return[function(){return N(p())},A===null?void 0:function(){return N(A())}]},[p,m,g,b]);var _=s(f,y[0],y[1]);return l(function(){v.hasValue=!0,v.value=_},[_]),d(_),_},G0}var C4;function sse(){return C4||(C4=1,H0.exports=rse()),H0.exports}var ise=sse();const ase=El(ise),ose={},T4=e=>{let t;const n=new Set,r=(p,m)=>{const g=typeof p=="function"?p(t):p;if(!Object.is(g,t)){const b=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(y=>y(t,b))}},s=()=>t,d={setState:r,getState:s,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(ose?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,s,d);return d},lse=e=>e?T4(e):T4,{useDebugValue:cse}=fn,{useSyncExternalStoreWithSelector:use}=ase,dse=e=>e;function B6(e,t=dse,n){const r=use(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return cse(r),r}const A4=(e,t)=>{const n=lse(e),r=(s,o=t)=>B6(n,s,o);return Object.assign(r,n),r},fse=(e,t)=>e?A4(e,t):A4;function pn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const xp=S.createContext(null),hse=xp.Provider,$6=ei.error001();function _t(e,t){const n=S.useContext(xp);if(n===null)throw new Error($6);return B6(n,e,t)}function mn(){const e=S.useContext(xp);if(e===null)throw new Error($6);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const M4={display:"none"},pse={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},U6="react-flow__node-desc",q6="react-flow__edge-desc",mse="react-flow__aria-live",gse=e=>e.ariaLiveMessage,xse=e=>e.ariaLabelConfig;function bse({rfId:e}){const t=_t(gse);return a.jsx("div",{id:`${mse}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:pse,children:t})}function yse({rfId:e,disableKeyboardA11y:t}){const n=_t(xse);return a.jsxs(a.Fragment,{children:[a.jsx("div",{id:`${U6}-${e}`,style:M4,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),a.jsx("div",{id:`${q6}-${e}`,style:M4,children:n["edge.a11yDescription.default"]}),!t&&a.jsx(bse,{rfId:e})]})}const bp=S.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},o)=>{const l=`${e}`.split("-");return a.jsx("div",{className:Fn(["react-flow__panel",n,...l]),style:r,ref:o,...s,children:t})});bp.displayName="Panel";function vse({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:a.jsx(bp,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:a.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const wse=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Qf=e=>e.id;function _se(e,t){return pn(e.selectedNodes.map(Qf),t.selectedNodes.map(Qf))&&pn(e.selectedEdges.map(Qf),t.selectedEdges.map(Qf))}function Nse({onSelectionChange:e}){const t=mn(),{selectedNodes:n,selectedEdges:r}=_t(wse,_se);return S.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(o=>o(s))},[n,r,e]),null}const Sse=e=>!!e.onSelectionChangeHandlers;function kse({onSelectionChange:e}){const t=_t(Sse);return e||t?a.jsx(Nse,{onSelectionChange:e}):null}const F6=[0,0],Ese={x:0,y:0,zoom:1},jse=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],R4=[...jse,"rfId"],Cse=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),O4={translateExtent:Mu,nodeOrigin:F6,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Tse(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:o,setNodeExtent:l,reset:u,setDefaultNodesAndEdges:d}=_t(Cse,pn),f=mn();S.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{p.current=O4,u()}),[]);const p=S.useRef(O4);return S.useEffect(()=>{for(const m of R4){const g=e[m],b=p.current[m];g!==b&&(typeof e[m]>"u"||(m==="nodes"?t(g):m==="edges"?n(g):m==="minZoom"?r(g):m==="maxZoom"?s(g):m==="translateExtent"?o(g):m==="nodeExtent"?l(g):m==="ariaLabelConfig"?f.setState({ariaLabelConfig:fre(g)}):m==="fitView"?f.setState({fitViewQueued:g}):m==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[m]:g})))}p.current=e},R4.map(m=>e[m])),null}function D4(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Ase(e){var r;const[t,n]=S.useState(e==="system"?null:e);return S.useEffect(()=>{if(e!=="system"){n(e);return}const s=D4(),o=()=>n(s!=null&&s.matches?"dark":"light");return o(),s==null||s.addEventListener("change",o),()=>{s==null||s.removeEventListener("change",o)}},[e]),t!==null?t:(r=D4())!=null&&r.matches?"dark":"light"}const L4=typeof document<"u"?document:null;function Iu(e=null,t={target:L4,actInsideInputWithModifier:!0}){const[n,r]=S.useState(!1),s=S.useRef(!1),o=S.useRef(new Set([])),[l,u]=S.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=f.reduce((m,g)=>m.concat(...g),[]);return[f,p]}return[[],[]]},[e]);return S.useEffect(()=>{const d=(t==null?void 0:t.target)??L4,f=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const p=b=>{var _,N;if(s.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!s.current||s.current&&!f)&&_6(b))return!1;const v=P4(b.code,u);if(o.current.add(b[v]),I4(l,o.current,!1)){const j=((N=(_=b.composedPath)==null?void 0:_.call(b))==null?void 0:N[0])||b.target,k=(j==null?void 0:j.nodeName)==="BUTTON"||(j==null?void 0:j.nodeName)==="A";t.preventDefault!==!1&&(s.current||!k)&&b.preventDefault(),r(!0)}},m=b=>{const y=P4(b.code,u);I4(l,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(b[y]),b.key==="Meta"&&o.current.clear(),s.current=!1},g=()=>{o.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",p),d==null||d.addEventListener("keyup",m),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d==null||d.removeEventListener("keydown",p),d==null||d.removeEventListener("keyup",m),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function I4(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function P4(e,t){return t.includes(e)?"code":"key"}const Mse=()=>{const e=mn();return S.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,o],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:o,maxZoom:l,panZoom:u}=e.getState(),d=yN(t,r,s,o,l,(n==null?void 0:n.padding)??.1);return u?(await u.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:o,domNode:l}=e.getState();if(!l)return t;const{x:u,y:d}=l.getBoundingClientRect(),f={x:t.x-u,y:t.y-d},p=n.snapGrid??s,m=n.snapToGrid??o;return ad(f,r,m,p)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:o}=r.getBoundingClientRect(),l=zh(t,n);return{x:l.x+s,y:l.y+o}}}),[])};function H6(e,t){const n=[],r=new Map,s=[];for(const o of e)if(o.type==="add"){s.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const l=r.get(o.id);l?l.push(o):r.set(o.id,[o])}for(const o of t){const l=r.get(o.id);if(!l){n.push(o);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const u={...o};for(const d of l)Rse(d,u);n.push(u)}return s.length&&s.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function Rse(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Ose(e,t){return H6(e,t)}function Dse(e,t){return H6(e,t)}function Ja(e,t){return{id:e,type:"select",selected:t}}function dl(e,t=new Set,n=!1){const r=[];for(const[s,o]of e){const l=t.has(s);!(o.selected===void 0&&!l)&&o.selected!==l&&(n&&(o.selected=l),r.push(Ja(o.id,l)))}return r}function z4({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,l]of e.entries()){const u=t.get(l.id),d=((s=u==null?void 0:u.internals)==null?void 0:s.userNode)??u;d!==void 0&&d!==l&&n.push({id:l.id,item:l,type:"replace"}),d===void 0&&n.push({item:l,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function B4(e){return{id:e.id,type:"remove"}}const $4=e=>nre(e),Lse=e=>p6(e);function G6(e){return S.forwardRef(e)}const Ise=typeof window<"u"?S.useLayoutEffect:S.useEffect;function U4(e){const[t,n]=S.useState(BigInt(0)),[r]=S.useState(()=>Pse(()=>n(s=>s+BigInt(1))));return Ise(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function Pse(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const V6=S.createContext(null);function zse({children:e}){const t=mn(),n=S.useCallback(u=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:p,onNodesChange:m,nodeLookup:g,fitViewQueued:b,onNodesChangeMiddlewareMap:y}=t.getState();let v=d;for(const N of u)v=typeof N=="function"?N(v):N;let _=z4({items:v,lookup:g});for(const N of y.values())_=N(_);p&&f(v),_.length>0?m==null||m(_):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:N,nodes:j,setNodes:k}=t.getState();N&&k(j)})},[]),r=U4(n),s=S.useCallback(u=>{const{edges:d=[],setEdges:f,hasDefaultEdges:p,onEdgesChange:m,edgeLookup:g}=t.getState();let b=d;for(const y of u)b=typeof y=="function"?y(b):y;p?f(b):m&&m(z4({items:b,lookup:g}))},[]),o=U4(s),l=S.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return a.jsx(V6.Provider,{value:l,children:e})}function Bse(){const e=S.useContext(V6);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const $se=e=>!!e.panZoom;function EN(){const e=Mse(),t=mn(),n=Bse(),r=_t($se),s=S.useMemo(()=>{const o=m=>t.getState().nodeLookup.get(m),l=m=>{n.nodeQueue.push(m)},u=m=>{n.edgeQueue.push(m)},d=m=>{var N,j;const{nodeLookup:g,nodeOrigin:b}=t.getState(),y=$4(m)?m:g.get(m.id),v=y.parentId?v6(y.position,y.measured,y.parentId,g,b):y.position,_={...y,position:v,width:((N=y.measured)==null?void 0:N.width)??y.width,height:((j=y.measured)==null?void 0:j.height)??y.height};return _l(_)},f=(m,g,b={replace:!1})=>{l(y=>y.map(v=>{if(v.id===m){const _=typeof g=="function"?g(v):g;return b.replace&&$4(_)?_:{...v,..._}}return v}))},p=(m,g,b={replace:!1})=>{u(y=>y.map(v=>{if(v.id===m){const _=typeof g=="function"?g(v):g;return b.replace&&Lse(_)?_:{...v,..._}}return v}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var g;return(g=o(m))==null?void 0:g.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(g=>({...g}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:l,setEdges:u,addNodes:m=>{const g=Array.isArray(m)?m:[m];n.nodeQueue.push(b=>[...b,...g])},addEdges:m=>{const g=Array.isArray(m)?m:[m];n.edgeQueue.push(b=>[...b,...g])},toObject:()=>{const{nodes:m=[],edges:g=[],transform:b}=t.getState(),[y,v,_]=b;return{nodes:m.map(N=>({...N})),edges:g.map(N=>({...N})),viewport:{x:y,y:v,zoom:_}}},deleteElements:async({nodes:m=[],edges:g=[]})=>{const{nodes:b,edges:y,onNodesDelete:v,onEdgesDelete:_,triggerNodeChanges:N,triggerEdgeChanges:j,onDelete:k,onBeforeDelete:C}=t.getState(),{nodes:A,edges:T}=await ore({nodesToRemove:m,edgesToRemove:g,nodes:b,edges:y,onBeforeDelete:C}),M=T.length>0,z=A.length>0;if(M){const $=T.map(B4);_==null||_(T),j($)}if(z){const $=A.map(B4);v==null||v(A),N($)}return(z||M)&&(k==null||k({nodes:A,edges:T})),{deletedNodes:A,deletedEdges:T}},getIntersectingNodes:(m,g=!0,b)=>{const y=f4(m),v=y?m:d(m),_=b!==void 0;return v?(b||t.getState().nodes).filter(N=>{const j=t.getState().nodeLookup.get(N.id);if(j&&!y&&(N.id===m.id||!j.internals.positionAbsolute))return!1;const k=_l(_?N:j),C=Du(k,v);return g&&C>0||C>=k.width*k.height||C>=v.width*v.height}):[]},isNodeIntersecting:(m,g,b=!0)=>{const v=f4(m)?m:d(m);if(!v)return!1;const _=Du(v,g);return b&&_>0||_>=g.width*g.height||_>=v.width*v.height},updateNode:f,updateNodeData:(m,g,b={replace:!1})=>{f(m,y=>{const v=typeof g=="function"?g(y):g;return b.replace?{...y,data:v}:{...y,data:{...y.data,...v}}},b)},updateEdge:p,updateEdgeData:(m,g,b={replace:!1})=>{p(m,y=>{const v=typeof g=="function"?g(y):g;return b.replace?{...y,data:v}:{...y,data:{...y.data,...v}}},b)},getNodesBounds:m=>{const{nodeLookup:g,nodeOrigin:b}=t.getState();return rre(m,{nodeLookup:g,nodeOrigin:b})},getHandleConnections:({type:m,id:g,nodeId:b})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${b}-${m}${g?`-${g}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:m,handleId:g,nodeId:b})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${b}${m?g?`-${m}-${g}`:`-${m}`:""}`))==null?void 0:y.values())??[])},fitView:async m=>{const g=t.getState().fitViewResolver??dre();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:g}),n.nodeQueue.push(b=>[...b]),g.promise}}},[]);return S.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const q4=e=>e.selected,Use=typeof window<"u"?window:void 0;function qse({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=mn(),{deleteElements:r}=EN(),s=Iu(e,{actInsideInputWithModifier:!1}),o=Iu(t,{target:Use});S.useEffect(()=>{if(s){const{edges:l,nodes:u}=n.getState();r({nodes:u.filter(q4),edges:l.filter(q4)}),n.setState({nodesSelectionActive:!1})}},[s]),S.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Fse(e){const t=mn();S.useEffect(()=>{const n=()=>{var s,o,l,u;if(!e.current||!(((o=(s=e.current).checkVisibility)==null?void 0:o.call(s))??!0))return!1;const r=vN(e.current);(r.height===0||r.width===0)&&((u=(l=t.getState()).onError)==null||u.call(l,"004",ei.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const yp={position:"absolute",width:"100%",height:"100%",top:0,left:0},Hse=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Gse({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:o=no.Free,zoomOnDoubleClick:l=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:f,minZoom:p,maxZoom:m,zoomActivationKeyCode:g,preventScrolling:b=!0,children:y,noWheelClassName:v,noPanClassName:_,onViewportChange:N,isControlledViewport:j,paneClickDistance:k,selectionOnDrag:C}){const A=mn(),T=S.useRef(null),{userSelectionActive:M,lib:z,connectionInProgress:$}=_t(Hse,pn),D=Iu(g),I=S.useRef();Fse(T);const F=S.useCallback(K=>{N==null||N({x:K[0],y:K[1],zoom:K[2]}),j||A.setState({transform:K})},[N,j]);return S.useEffect(()=>{if(T.current){I.current=Kre({domNode:T.current,minZoom:p,maxZoom:m,translateExtent:f,viewport:d,onDraggingChange:U=>A.setState({paneDragging:U}),onPanZoomStart:(U,Y)=>{const{onViewportChangeStart:W,onMoveStart:X}=A.getState();X==null||X(U,Y),W==null||W(Y)},onPanZoom:(U,Y)=>{const{onViewportChange:W,onMove:X}=A.getState();X==null||X(U,Y),W==null||W(Y)},onPanZoomEnd:(U,Y)=>{const{onViewportChangeEnd:W,onMoveEnd:X}=A.getState();X==null||X(U,Y),W==null||W(Y)}});const{x:K,y:B,zoom:G}=I.current.getViewport();return A.setState({panZoom:I.current,transform:[K,B,G],domNode:T.current.closest(".react-flow")}),()=>{var U;(U=I.current)==null||U.destroy()}}},[]),S.useEffect(()=>{var K;(K=I.current)==null||K.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:o,zoomOnDoubleClick:l,panOnDrag:u,zoomActivationKeyPressed:D,preventScrolling:b,noPanClassName:_,userSelectionActive:M,noWheelClassName:v,lib:z,onTransformChange:F,connectionInProgress:$,selectionOnDrag:C,paneClickDistance:k})},[e,t,n,r,s,o,l,u,D,b,_,M,v,z,F,$,C,k]),a.jsx("div",{className:"react-flow__renderer",ref:T,style:yp,children:y})}const Vse=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Wse(){const{userSelectionActive:e,userSelectionRect:t}=_t(Vse,pn);return e&&t?a.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const K0=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Kse=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Yse({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ru.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:o,onSelectionStart:l,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:g,onPaneMouseLeave:b,children:y}){const v=mn(),{userSelectionActive:_,elementsSelectable:N,dragging:j,connectionInProgress:k}=_t(Kse,pn),C=N&&(e||_),A=S.useRef(null),T=S.useRef(),M=S.useRef(new Set),z=S.useRef(new Set),$=S.useRef(!1),D=W=>{if($.current||k){$.current=!1;return}d==null||d(W),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},I=W=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){W.preventDefault();return}f==null||f(W)},F=p?W=>p(W):void 0,K=W=>{$.current&&(W.stopPropagation(),$.current=!1)},B=W=>{var Z,Q;const{domNode:X}=v.getState();if(T.current=X==null?void 0:X.getBoundingClientRect(),!T.current)return;const L=W.target===A.current;if(!L&&!!W.target.closest(".nokey")||!e||!(o&&L||t)||W.button!==0||!W.isPrimary)return;(Q=(Z=W.target)==null?void 0:Z.setPointerCapture)==null||Q.call(Z,W.pointerId),$.current=!1;const{x:O,y:H}=Ds(W.nativeEvent,T.current);v.setState({userSelectionRect:{width:0,height:0,startX:O,startY:H,x:O,y:H}}),L||(W.stopPropagation(),W.preventDefault())},G=W=>{const{userSelectionRect:X,transform:L,nodeLookup:q,edgeLookup:P,connectionLookup:O,triggerNodeChanges:H,triggerEdgeChanges:Z,defaultEdgeOptions:Q,resetSelectedElements:ie}=v.getState();if(!T.current||!X)return;const{x:ee,y:re}=Ds(W.nativeEvent,T.current),{startX:ue,startY:ge}=X;if(!$.current){const xe=t?0:s;if(Math.hypot(ee-ue,re-ge)<=xe)return;ie(),l==null||l(W)}$.current=!0;const J={startX:ue,startY:ge,x:ee<ue?ee:ue,y:re<ge?re:ge,width:Math.abs(ee-ue),height:Math.abs(re-ge)},ae=M.current,pe=z.current;M.current=new Set(bN(q,J,L,n===Ru.Partial,!0).map(xe=>xe.id)),z.current=new Set;const ve=(Q==null?void 0:Q.selectable)??!0;for(const xe of M.current){const Se=O.get(xe);if(Se)for(const{edgeId:ze}of Se.values()){const tt=P.get(ze);tt&&(tt.selectable??ve)&&z.current.add(ze)}}if(!h4(ae,M.current)){const xe=dl(q,M.current,!0);H(xe)}if(!h4(pe,z.current)){const xe=dl(P,z.current);Z(xe)}v.setState({userSelectionRect:J,userSelectionActive:!0,nodesSelectionActive:!1})},U=W=>{var X,L;W.button===0&&((L=(X=W.target)==null?void 0:X.releasePointerCapture)==null||L.call(X,W.pointerId),!_&&W.target===A.current&&v.getState().userSelectionRect&&(D==null||D(W)),v.setState({userSelectionActive:!1,userSelectionRect:null}),$.current&&(u==null||u(W),v.setState({nodesSelectionActive:M.current.size>0})))},Y=r===!0||Array.isArray(r)&&r.includes(0);return a.jsxs("div",{className:Fn(["react-flow__pane",{draggable:Y,dragging:j,selection:e}]),onClick:C?void 0:K0(D,A),onContextMenu:K0(I,A),onWheel:K0(F,A),onPointerEnter:C?void 0:m,onPointerMove:C?G:g,onPointerUp:C?U:void 0,onPointerDownCapture:C?B:void 0,onClickCapture:C?K:void 0,onPointerLeave:b,ref:A,style:yp,children:[y,a.jsx(Wse,{})]})}function s_({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:l,nodeLookup:u,onError:d}=t.getState(),f=u.get(e);if(!f){d==null||d("012",ei.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(o({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var p;return(p=r==null?void 0:r.current)==null?void 0:p.blur()})):s([e])}function W6({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,nodeClickDistance:l}){const u=mn(),[d,f]=S.useState(!1),p=S.useRef();return S.useEffect(()=>{p.current=Dre({getStoreItems:()=>u.getState(),onNodeMouseDown:m=>{s_({id:m,store:u,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),S.useEffect(()=>{var m,g;if(t)(m=p.current)==null||m.destroy();else if(e.current)return(g=p.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:s,nodeClickDistance:l}),()=>{var b;(b=p.current)==null||b.destroy()}},[n,r,t,o,e,s]),d}const Xse=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function K6(){const e=mn();return S.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:o,nodesDraggable:l,onError:u,updateNodePositions:d,nodeLookup:f,nodeOrigin:p}=e.getState(),m=new Map,g=Xse(l),b=s?o[0]:5,y=s?o[1]:5,v=n.direction.x*b*n.factor,_=n.direction.y*y*n.factor;for(const[,N]of f){if(!g(N))continue;let j={x:N.internals.positionAbsolute.x+v,y:N.internals.positionAbsolute.y+_};s&&(j=id(j,o));const{position:k,positionAbsolute:C}=m6({nodeId:N.id,nextPosition:j,nodeLookup:f,nodeExtent:r,nodeOrigin:p,onError:u});N.position=k,N.internals.positionAbsolute=C,m.set(N.id,N)}d(m)},[])}const jN=S.createContext(null),Zse=jN.Provider;jN.Consumer;const Y6=()=>S.useContext(jN),Qse=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Jse=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:o,connection:l}=r,{fromHandle:u,toHandle:d,isValid:f}=l,p=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n,connectingTo:p,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:o===vl.Strict?(u==null?void 0:u.type)!==n:e!==(u==null?void 0:u.nodeId)||t!==(u==null?void 0:u.id),connectionInProcess:!!u,clickConnectionInProcess:!!s,valid:p&&f}};function eie({type:e="source",position:t=$e.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:l,onConnect:u,children:d,className:f,onMouseDown:p,onTouchStart:m,...g},b){var G,U;const y=l||null,v=e==="target",_=mn(),N=Y6(),{connectOnClick:j,noPanClassName:k,rfId:C}=_t(Qse,pn),{connectingFrom:A,connectingTo:T,clickConnecting:M,isPossibleEndHandle:z,connectionInProcess:$,clickConnectionInProcess:D,valid:I}=_t(Jse(N,y,e),pn);N||(U=(G=_.getState()).onError)==null||U.call(G,"010",ei.error010());const F=Y=>{const{defaultEdgeOptions:W,onConnect:X,hasDefaultEdges:L}=_.getState(),q={...W,...Y};if(L){const{edges:P,setEdges:O}=_.getState();O(bre(q,P))}X==null||X(q),u==null||u(q)},K=Y=>{if(!N)return;const W=N6(Y.nativeEvent);if(s&&(W&&Y.button===0||!W)){const X=_.getState();r_.onPointerDown(Y.nativeEvent,{handleDomNode:Y.currentTarget,autoPanOnConnect:X.autoPanOnConnect,connectionMode:X.connectionMode,connectionRadius:X.connectionRadius,domNode:X.domNode,nodeLookup:X.nodeLookup,lib:X.lib,isTarget:v,handleId:y,nodeId:N,flowId:X.rfId,panBy:X.panBy,cancelConnection:X.cancelConnection,onConnectStart:X.onConnectStart,onConnectEnd:X.onConnectEnd,updateConnection:X.updateConnection,onConnect:F,isValidConnection:n||X.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:X.autoPanSpeed,dragThreshold:X.connectionDragThreshold})}W?p==null||p(Y):m==null||m(Y)},B=Y=>{const{onClickConnectStart:W,onClickConnectEnd:X,connectionClickStartHandle:L,connectionMode:q,isValidConnection:P,lib:O,rfId:H,nodeLookup:Z,connection:Q}=_.getState();if(!N||!L&&!s)return;if(!L){W==null||W(Y.nativeEvent,{nodeId:N,handleId:y,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:N,type:e,id:y}});return}const ie=w6(Y.target),ee=n||P,{connection:re,isValid:ue}=r_.isValid(Y.nativeEvent,{handle:{nodeId:N,id:y,type:e},connectionMode:q,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:ee,flowId:H,doc:ie,lib:O,nodeLookup:Z});ue&&re&&F(re);const ge=structuredClone(Q);delete ge.inProgress,ge.toPosition=ge.toHandle?ge.toHandle.position:null,X==null||X(Y,ge),_.setState({connectionClickStartHandle:null})};return a.jsx("div",{"data-handleid":y,"data-nodeid":N,"data-handlepos":t,"data-id":`${C}-${N}-${y}-${e}`,className:Fn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,f,{source:!v,target:v,connectable:r,connectablestart:s,connectableend:o,clickconnecting:M,connectingfrom:A,connectingto:T,valid:I,connectionindicator:r&&(!$||z)&&($||D?o:s)}]),onMouseDown:K,onTouchStart:K,onClick:j?B:void 0,ref:b,...g,children:d})}const kl=S.memo(G6(eie));function tie({data:e,isConnectable:t,sourcePosition:n=$e.Bottom}){return a.jsxs(a.Fragment,{children:[e==null?void 0:e.label,a.jsx(kl,{type:"source",position:n,isConnectable:t})]})}function nie({data:e,isConnectable:t,targetPosition:n=$e.Top,sourcePosition:r=$e.Bottom}){return a.jsxs(a.Fragment,{children:[a.jsx(kl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,a.jsx(kl,{type:"source",position:r,isConnectable:t})]})}function rie(){return null}function sie({data:e,isConnectable:t,targetPosition:n=$e.Top}){return a.jsxs(a.Fragment,{children:[a.jsx(kl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Bh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},F4={input:tie,default:nie,output:sie,group:rie};function iie(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const aie=e=>{const{width:t,height:n,x:r,y:s}=sd(e.nodeLookup,{filter:o=>!!o.selected});return{width:Os(t)?t:null,height:Os(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function oie({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=mn(),{width:s,height:o,transformString:l,userSelectionActive:u}=_t(aie,pn),d=K6(),f=S.useRef(null);if(S.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),W6({nodeRef:f}),u||!s||!o)return null;const p=e?g=>{const b=r.getState().nodes.filter(y=>y.selected);e(g,b)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(Bh,g.key)&&(g.preventDefault(),d({direction:Bh[g.key],factor:g.shiftKey?4:1}))};return a.jsx("div",{className:Fn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:a.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:o}})})}const H4=typeof window<"u"?window:void 0,lie=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function X6({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:l,paneClickDistance:u,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:b,multiSelectionKeyCode:y,panActivationKeyCode:v,zoomActivationKeyCode:_,elementsSelectable:N,zoomOnScroll:j,zoomOnPinch:k,panOnScroll:C,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:z,defaultViewport:$,translateExtent:D,minZoom:I,maxZoom:F,preventScrolling:K,onSelectionContextMenu:B,noWheelClassName:G,noPanClassName:U,disableKeyboardA11y:Y,onViewportChange:W,isControlledViewport:X}){const{nodesSelectionActive:L,userSelectionActive:q}=_t(lie,pn),P=Iu(f,{target:H4}),O=Iu(v,{target:H4}),H=O||z,Z=O||C,Q=p&&H!==!0,ie=P||q||Q;return qse({deleteKeyCode:d,multiSelectionKeyCode:y}),a.jsx(Gse,{onPaneContextMenu:o,elementsSelectable:N,zoomOnScroll:j,zoomOnPinch:k,panOnScroll:Z,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:!P&&H,defaultViewport:$,translateExtent:D,minZoom:I,maxZoom:F,zoomActivationKeyCode:_,preventScrolling:K,noWheelClassName:G,noPanClassName:U,onViewportChange:W,isControlledViewport:X,paneClickDistance:u,selectionOnDrag:Q,children:a.jsxs(Yse,{onSelectionStart:g,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:l,panOnDrag:H,isSelecting:!!ie,selectionMode:m,selectionKeyPressed:P,paneClickDistance:u,selectionOnDrag:Q,children:[e,L&&a.jsx(oie,{onSelectionContextMenu:B,noPanClassName:U,disableKeyboardA11y:Y})]})})}X6.displayName="FlowRenderer";const cie=S.memo(X6),uie=e=>t=>e?bN(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function die(e){return _t(S.useCallback(uie(e),[e]),pn)}const fie=e=>e.updateNodeInternals;function hie(){const e=_t(fie),[t]=S.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const o=s.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:s.target,force:!0})}),e(r)}));return S.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function pie({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=mn(),o=S.useRef(null),l=S.useRef(null),u=S.useRef(e.sourcePosition),d=S.useRef(e.targetPosition),f=S.useRef(t),p=n&&!!e.internals.handleBounds;return S.useEffect(()=>{o.current&&!e.hidden&&(!p||l.current!==o.current)&&(l.current&&(r==null||r.unobserve(l.current)),r==null||r.observe(o.current),l.current=o.current)},[p,e.hidden]),S.useEffect(()=>()=>{l.current&&(r==null||r.unobserve(l.current),l.current=null)},[]),S.useEffect(()=>{if(o.current){const m=f.current!==t,g=u.current!==e.sourcePosition,b=d.current!==e.targetPosition;(m||g||b)&&(f.current=t,u.current=e.sourcePosition,d.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function mie({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:o,onDoubleClick:l,nodesDraggable:u,elementsSelectable:d,nodesConnectable:f,nodesFocusable:p,resizeObserver:m,noDragClassName:g,noPanClassName:b,disableKeyboardA11y:y,rfId:v,nodeTypes:_,nodeClickDistance:N,onError:j}){const{node:k,internals:C,isParent:A}=_t(ee=>{const re=ee.nodeLookup.get(e),ue=ee.parentLookup.has(e);return{node:re,internals:re.internals,isParent:ue}},pn);let T=k.type||"default",M=(_==null?void 0:_[T])||F4[T];M===void 0&&(j==null||j("003",ei.error003(T)),T="default",M=(_==null?void 0:_.default)||F4.default);const z=!!(k.draggable||u&&typeof k.draggable>"u"),$=!!(k.selectable||d&&typeof k.selectable>"u"),D=!!(k.connectable||f&&typeof k.connectable>"u"),I=!!(k.focusable||p&&typeof k.focusable>"u"),F=mn(),K=y6(k),B=pie({node:k,nodeType:T,hasDimensions:K,resizeObserver:m}),G=W6({nodeRef:B,disabled:k.hidden||!z,noDragClassName:g,handleSelector:k.dragHandle,nodeId:e,isSelectable:$,nodeClickDistance:N}),U=K6();if(k.hidden)return null;const Y=Bi(k),W=iie(k),X=$||z||t||n||r||s,L=n?ee=>n(ee,{...C.userNode}):void 0,q=r?ee=>r(ee,{...C.userNode}):void 0,P=s?ee=>s(ee,{...C.userNode}):void 0,O=o?ee=>o(ee,{...C.userNode}):void 0,H=l?ee=>l(ee,{...C.userNode}):void 0,Z=ee=>{const{selectNodesOnDrag:re,nodeDragThreshold:ue}=F.getState();$&&(!re||!z||ue>0)&&s_({id:e,store:F,nodeRef:B}),t&&t(ee,{...C.userNode})},Q=ee=>{if(!(_6(ee.nativeEvent)||y)){if(u6.includes(ee.key)&&$){const re=ee.key==="Escape";s_({id:e,store:F,unselect:re,nodeRef:B})}else if(z&&k.selected&&Object.prototype.hasOwnProperty.call(Bh,ee.key)){ee.preventDefault();const{ariaLabelConfig:re}=F.getState();F.setState({ariaLiveMessage:re["node.a11yDescription.ariaLiveMessage"]({direction:ee.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),U({direction:Bh[ee.key],factor:ee.shiftKey?4:1})}}},ie=()=>{var pe;if(y||!((pe=B.current)!=null&&pe.matches(":focus-visible")))return;const{transform:ee,width:re,height:ue,autoPanOnNodeFocus:ge,setCenter:J}=F.getState();if(!ge)return;bN(new Map([[e,k]]),{x:0,y:0,width:re,height:ue},ee,!0).length>0||J(k.position.x+Y.width/2,k.position.y+Y.height/2,{zoom:ee[2]})};return a.jsx("div",{className:Fn(["react-flow__node",`react-flow__node-${T}`,{[b]:z},k.className,{selected:k.selected,selectable:$,parent:A,draggable:z,dragging:G}]),ref:B,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:X?"all":"none",visibility:K?"visible":"hidden",...k.style,...W},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:q,onMouseLeave:P,onContextMenu:O,onClick:Z,onDoubleClick:H,onKeyDown:I?Q:void 0,tabIndex:I?0:void 0,onFocus:I?ie:void 0,role:k.ariaRole??(I?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${U6}-${v}`,"aria-label":k.ariaLabel,...k.domAttributes,children:a.jsx(Zse,{value:e,children:a.jsx(M,{id:e,data:k.data,type:T,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:k.selected??!1,selectable:$,draggable:z,deletable:k.deletable??!0,isConnectable:D,sourcePosition:k.sourcePosition,targetPosition:k.targetPosition,dragging:G,dragHandle:k.dragHandle,zIndex:C.z,parentId:k.parentId,...Y})})})}var gie=S.memo(mie);const xie=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Z6(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:o}=_t(xie,pn),l=die(e.onlyRenderVisibleElements),u=hie();return a.jsx("div",{className:"react-flow__nodes",style:yp,children:l.map(d=>a.jsx(gie,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:o},d))})}Z6.displayName="NodeRenderer";const bie=S.memo(Z6);function yie(e){return _t(S.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const o=n.nodeLookup.get(s.source),l=n.nodeLookup.get(s.target);o&&l&&mre({sourceNode:o,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),pn)}const vie=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return a.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},wie=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return a.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},G4={[Ou.Arrow]:vie,[Ou.ArrowClosed]:wie};function _ie(e){const t=mn();return S.useMemo(()=>{var s,o;return Object.prototype.hasOwnProperty.call(G4,e)?G4[e]:((o=(s=t.getState()).onError)==null||o.call(s,"009",ei.error009(e)),null)},[e])}const Nie=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:l,orient:u="auto-start-reverse"})=>{const d=_ie(t);return d?a.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:u,refX:"0",refY:"0",children:a.jsx(d,{color:n,strokeWidth:l})}):null},Q6=({defaultColor:e,rfId:t})=>{const n=_t(o=>o.edges),r=_t(o=>o.defaultEdgeOptions),s=S.useMemo(()=>Nre(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?a.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:a.jsx("defs",{children:s.map(o=>a.jsx(Nie,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};Q6.displayName="MarkerDefinitions";var Sie=S.memo(Q6);function J6({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:o,labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...p}){const[m,g]=S.useState({x:1,y:0,width:0,height:0}),b=Fn(["react-flow__edge-textwrapper",f]),y=S.useRef(null);return S.useEffect(()=>{if(y.current){const v=y.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?a.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:b,visibility:m.width?"visible":"hidden",...p,children:[s&&a.jsx("rect",{width:m.width+2*l[0],x:-l[0],y:-l[1],height:m.height+2*l[1],className:"react-flow__edge-textbg",style:o,rx:u,ry:u}),a.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:y,style:r,children:n}),d]}):null}J6.displayName="EdgeText";const kie=S.memo(J6);function vp({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:f=20,...p}){return a.jsxs(a.Fragment,{children:[a.jsx("path",{...p,d:e,fill:"none",className:Fn(["react-flow__edge-path",p.className])}),f?a.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Os(t)&&Os(n)?a.jsx(kie,{x:t,y:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function V4({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===$e.Left||e===$e.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function eI({sourceX:e,sourceY:t,sourcePosition:n=$e.Bottom,targetX:r,targetY:s,targetPosition:o=$e.Top}){const[l,u]=V4({pos:n,x1:e,y1:t,x2:r,y2:s}),[d,f]=V4({pos:o,x1:r,y1:s,x2:e,y2:t}),[p,m,g,b]=S6({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${u} ${d},${f} ${r},${s}`,p,m,g,b]}function tI(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:l,targetPosition:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:b,style:y,markerEnd:v,markerStart:_,interactionWidth:N})=>{const[j,k,C]=eI({sourceX:n,sourceY:r,sourcePosition:l,targetX:s,targetY:o,targetPosition:u}),A=e.isInternal?void 0:t;return a.jsx(vp,{id:A,path:j,labelX:k,labelY:C,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:b,style:y,markerEnd:v,markerStart:_,interactionWidth:N})})}const Eie=tI({isInternal:!1}),nI=tI({isInternal:!0});Eie.displayName="SimpleBezierEdge";nI.displayName="SimpleBezierEdgeInternal";function rI(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,sourcePosition:b=$e.Bottom,targetPosition:y=$e.Top,markerEnd:v,markerStart:_,pathOptions:N,interactionWidth:j})=>{const[k,C,A]=e_({sourceX:n,sourceY:r,sourcePosition:b,targetX:s,targetY:o,targetPosition:y,borderRadius:N==null?void 0:N.borderRadius,offset:N==null?void 0:N.offset,stepPosition:N==null?void 0:N.stepPosition}),T=e.isInternal?void 0:t;return a.jsx(vp,{id:T,path:k,labelX:C,labelY:A,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:_,interactionWidth:j})})}const sI=rI({isInternal:!1}),iI=rI({isInternal:!0});sI.displayName="SmoothStepEdge";iI.displayName="SmoothStepEdgeInternal";function aI(e){return S.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return a.jsx(sI,{...n,id:r,pathOptions:S.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const jie=aI({isInternal:!1}),oI=aI({isInternal:!0});jie.displayName="StepEdge";oI.displayName="StepEdgeInternal";function lI(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:b,markerStart:y,interactionWidth:v})=>{const[_,N,j]=j6({sourceX:n,sourceY:r,targetX:s,targetY:o}),k=e.isInternal?void 0:t;return a.jsx(vp,{id:k,path:_,labelX:N,labelY:j,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:b,markerStart:y,interactionWidth:v})})}const Cie=lI({isInternal:!1}),cI=lI({isInternal:!0});Cie.displayName="StraightEdge";cI.displayName="StraightEdgeInternal";function uI(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:l=$e.Bottom,targetPosition:u=$e.Top,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:b,style:y,markerEnd:v,markerStart:_,pathOptions:N,interactionWidth:j})=>{const[k,C,A]=k6({sourceX:n,sourceY:r,sourcePosition:l,targetX:s,targetY:o,targetPosition:u,curvature:N==null?void 0:N.curvature}),T=e.isInternal?void 0:t;return a.jsx(vp,{id:T,path:k,labelX:C,labelY:A,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:b,style:y,markerEnd:v,markerStart:_,interactionWidth:j})})}const Tie=uI({isInternal:!1}),dI=uI({isInternal:!0});Tie.displayName="BezierEdge";dI.displayName="BezierEdgeInternal";const W4={default:dI,straight:cI,step:oI,smoothstep:iI,simplebezier:nI},K4={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Aie=(e,t,n)=>n===$e.Left?e-t:n===$e.Right?e+t:e,Mie=(e,t,n)=>n===$e.Top?e-t:n===$e.Bottom?e+t:e,Y4="react-flow__edgeupdater";function X4({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:l,type:u}){return a.jsx("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:l,className:Fn([Y4,`${Y4}-${u}`]),cx:Aie(t,r,e),cy:Mie(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Rie({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:o,targetY:l,sourcePosition:u,targetPosition:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,setReconnecting:g,setUpdateHover:b}){const y=mn(),v=(C,A)=>{if(C.button!==0)return;const{autoPanOnConnect:T,domNode:M,isValidConnection:z,connectionMode:$,connectionRadius:D,lib:I,onConnectStart:F,onConnectEnd:K,cancelConnection:B,nodeLookup:G,rfId:U,panBy:Y,updateConnection:W}=y.getState(),X=A.type==="target",L=(O,H)=>{g(!1),m==null||m(O,n,A.type,H)},q=O=>f==null?void 0:f(n,O),P=(O,H)=>{g(!0),p==null||p(C,n,A.type),F==null||F(O,H)};r_.onPointerDown(C.nativeEvent,{autoPanOnConnect:T,connectionMode:$,connectionRadius:D,domNode:M,handleId:A.id,nodeId:A.nodeId,nodeLookup:G,isTarget:X,edgeUpdaterType:A.type,lib:I,flowId:U,cancelConnection:B,panBy:Y,isValidConnection:z,onConnect:q,onConnectStart:P,onConnectEnd:K,onReconnectEnd:L,updateConnection:W,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:C.currentTarget})},_=C=>v(C,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),N=C=>v(C,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),j=()=>b(!0),k=()=>b(!1);return a.jsxs(a.Fragment,{children:[(e===!0||e==="source")&&a.jsx(X4,{position:u,centerX:r,centerY:s,radius:t,onMouseDown:_,onMouseEnter:j,onMouseOut:k,type:"source"}),(e===!0||e==="target")&&a.jsx(X4,{position:d,centerX:o,centerY:l,radius:t,onMouseDown:N,onMouseEnter:j,onMouseOut:k,type:"target"})]})}function Oie({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:o,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:b,rfId:y,edgeTypes:v,noPanClassName:_,onError:N,disableKeyboardA11y:j}){let k=_t(J=>J.edgeLookup.get(e));const C=_t(J=>J.defaultEdgeOptions);k=C?{...C,...k}:k;let A=k.type||"default",T=(v==null?void 0:v[A])||W4[A];T===void 0&&(N==null||N("011",ei.error011(A)),A="default",T=(v==null?void 0:v.default)||W4.default);const M=!!(k.focusable||t&&typeof k.focusable>"u"),z=typeof m<"u"&&(k.reconnectable||n&&typeof k.reconnectable>"u"),$=!!(k.selectable||r&&typeof k.selectable>"u"),D=S.useRef(null),[I,F]=S.useState(!1),[K,B]=S.useState(!1),G=mn(),{zIndex:U,sourceX:Y,sourceY:W,targetX:X,targetY:L,sourcePosition:q,targetPosition:P}=_t(S.useCallback(J=>{const ae=J.nodeLookup.get(k.source),pe=J.nodeLookup.get(k.target);if(!ae||!pe)return{zIndex:k.zIndex,...K4};const ve=_re({id:e,sourceNode:ae,targetNode:pe,sourceHandle:k.sourceHandle||null,targetHandle:k.targetHandle||null,connectionMode:J.connectionMode,onError:N});return{zIndex:pre({selected:k.selected,zIndex:k.zIndex,sourceNode:ae,targetNode:pe,elevateOnSelect:J.elevateEdgesOnSelect,zIndexMode:J.zIndexMode}),...ve||K4}},[k.source,k.target,k.sourceHandle,k.targetHandle,k.selected,k.zIndex]),pn),O=S.useMemo(()=>k.markerStart?`url('#${t_(k.markerStart,y)}')`:void 0,[k.markerStart,y]),H=S.useMemo(()=>k.markerEnd?`url('#${t_(k.markerEnd,y)}')`:void 0,[k.markerEnd,y]);if(k.hidden||Y===null||W===null||X===null||L===null)return null;const Z=J=>{var xe;const{addSelectedEdges:ae,unselectNodesAndEdges:pe,multiSelectionActive:ve}=G.getState();$&&(G.setState({nodesSelectionActive:!1}),k.selected&&ve?(pe({nodes:[],edges:[k]}),(xe=D.current)==null||xe.blur()):ae([e])),s&&s(J,k)},Q=o?J=>{o(J,{...k})}:void 0,ie=l?J=>{l(J,{...k})}:void 0,ee=u?J=>{u(J,{...k})}:void 0,re=d?J=>{d(J,{...k})}:void 0,ue=f?J=>{f(J,{...k})}:void 0,ge=J=>{var ae;if(!j&&u6.includes(J.key)&&$){const{unselectNodesAndEdges:pe,addSelectedEdges:ve}=G.getState();J.key==="Escape"?((ae=D.current)==null||ae.blur(),pe({edges:[k]})):ve([e])}};return a.jsx("svg",{style:{zIndex:U},children:a.jsxs("g",{className:Fn(["react-flow__edge",`react-flow__edge-${A}`,k.className,_,{selected:k.selected,animated:k.animated,inactive:!$&&!s,updating:I,selectable:$}]),onClick:Z,onDoubleClick:Q,onContextMenu:ie,onMouseEnter:ee,onMouseMove:re,onMouseLeave:ue,onKeyDown:M?ge:void 0,tabIndex:M?0:void 0,role:k.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":k.ariaLabel===null?void 0:k.ariaLabel||`Edge from ${k.source} to ${k.target}`,"aria-describedby":M?`${q6}-${y}`:void 0,ref:D,...k.domAttributes,children:[!K&&a.jsx(T,{id:e,source:k.source,target:k.target,type:k.type,selected:k.selected,animated:k.animated,selectable:$,deletable:k.deletable??!0,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,sourceX:Y,sourceY:W,targetX:X,targetY:L,sourcePosition:q,targetPosition:P,data:k.data,style:k.style,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerStart:O,markerEnd:H,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth}),z&&a.jsx(Rie,{edge:k,isReconnectable:z,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:b,sourceX:Y,sourceY:W,targetX:X,targetY:L,sourcePosition:q,targetPosition:P,setUpdateHover:F,setReconnecting:B})]})})}var Die=S.memo(Oie);const Lie=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function fI({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:o,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:p,reconnectRadius:m,onEdgeDoubleClick:g,onReconnectStart:b,onReconnectEnd:y,disableKeyboardA11y:v}){const{edgesFocusable:_,edgesReconnectable:N,elementsSelectable:j,onError:k}=_t(Lie,pn),C=yie(t);return a.jsxs("div",{className:"react-flow__edges",children:[a.jsx(Sie,{defaultColor:e,rfId:n}),C.map(A=>a.jsx(Die,{id:A,edgesFocusable:_,edgesReconnectable:N,elementsSelectable:j,noPanClassName:s,onReconnect:o,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:p,reconnectRadius:m,onDoubleClick:g,onReconnectStart:b,onReconnectEnd:y,rfId:n,onError:k,edgeTypes:r,disableKeyboardA11y:v},A))]})}fI.displayName="EdgeRenderer";const Iie=S.memo(fI),Pie=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function zie({children:e}){const t=_t(Pie);return a.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Bie(e){const t=EN(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const $ie=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Uie(e){const t=_t($ie),n=mn();return S.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function qie(e){return e.connection.inProgress?{...e.connection,to:ad(e.connection.to,e.transform)}:{...e.connection}}function Fie(e){return qie}function Hie(e){const t=Fie();return _t(t,pn)}const Gie=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Vie({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:o,height:l,isValid:u,inProgress:d}=_t(Gie,pn);return!(o&&s&&d)?null:a.jsx("svg",{style:e,width:o,height:l,className:"react-flow__connectionline react-flow__container",children:a.jsx("g",{className:Fn(["react-flow__connection",h6(u)]),children:a.jsx(hI,{style:t,type:n,CustomComponent:r,isValid:u})})})}const hI=({style:e,type:t=_a.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:o,fromNode:l,fromHandle:u,fromPosition:d,to:f,toNode:p,toHandle:m,toPosition:g,pointer:b}=Hie();if(!s)return;if(n)return a.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:o.x,fromY:o.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:h6(r),toNode:p,toHandle:m,pointer:b});let y="";const v={sourceX:o.x,sourceY:o.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case _a.Bezier:[y]=k6(v);break;case _a.SimpleBezier:[y]=eI(v);break;case _a.Step:[y]=e_({...v,borderRadius:0});break;case _a.SmoothStep:[y]=e_(v);break;default:[y]=j6(v)}return a.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};hI.displayName="ConnectionLine";const Wie={};function Z4(e=Wie){S.useRef(e),mn(),S.useEffect(()=>{},[e])}function Kie(){mn(),S.useRef(!1),S.useEffect(()=>{},[])}function pI({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:o,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:b,connectionLineType:y,connectionLineStyle:v,connectionLineComponent:_,connectionLineContainerStyle:N,selectionKeyCode:j,selectionOnDrag:k,selectionMode:C,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:M,deleteKeyCode:z,onlyRenderVisibleElements:$,elementsSelectable:D,defaultViewport:I,translateExtent:F,minZoom:K,maxZoom:B,preventScrolling:G,defaultMarkerColor:U,zoomOnScroll:Y,zoomOnPinch:W,panOnScroll:X,panOnScrollSpeed:L,panOnScrollMode:q,zoomOnDoubleClick:P,panOnDrag:O,onPaneClick:H,onPaneMouseEnter:Z,onPaneMouseMove:Q,onPaneMouseLeave:ie,onPaneScroll:ee,onPaneContextMenu:re,paneClickDistance:ue,nodeClickDistance:ge,onEdgeContextMenu:J,onEdgeMouseEnter:ae,onEdgeMouseMove:pe,onEdgeMouseLeave:ve,reconnectRadius:xe,onReconnect:Se,onReconnectStart:ze,onReconnectEnd:tt,noDragClassName:Ht,noWheelClassName:xn,noPanClassName:sn,disableKeyboardA11y:Pt,nodeExtent:pt,rfId:Yn,viewport:he,onViewportChange:Ne}){return Z4(e),Z4(t),Kie(),Bie(n),Uie(he),a.jsx(cie,{onPaneClick:H,onPaneMouseEnter:Z,onPaneMouseMove:Q,onPaneMouseLeave:ie,onPaneContextMenu:re,onPaneScroll:ee,paneClickDistance:ue,deleteKeyCode:z,selectionKeyCode:j,selectionOnDrag:k,selectionMode:C,onSelectionStart:g,onSelectionEnd:b,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:M,elementsSelectable:D,zoomOnScroll:Y,zoomOnPinch:W,zoomOnDoubleClick:P,panOnScroll:X,panOnScrollSpeed:L,panOnScrollMode:q,panOnDrag:O,defaultViewport:I,translateExtent:F,minZoom:K,maxZoom:B,onSelectionContextMenu:m,preventScrolling:G,noDragClassName:Ht,noWheelClassName:xn,noPanClassName:sn,disableKeyboardA11y:Pt,onViewportChange:Ne,isControlledViewport:!!he,children:a.jsxs(zie,{children:[a.jsx(Iie,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:l,onReconnect:Se,onReconnectStart:ze,onReconnectEnd:tt,onlyRenderVisibleElements:$,onEdgeContextMenu:J,onEdgeMouseEnter:ae,onEdgeMouseMove:pe,onEdgeMouseLeave:ve,reconnectRadius:xe,defaultMarkerColor:U,noPanClassName:sn,disableKeyboardA11y:Pt,rfId:Yn}),a.jsx(Vie,{style:v,type:y,component:_,containerStyle:N}),a.jsx("div",{className:"react-flow__edgelabel-renderer"}),a.jsx(bie,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,nodeClickDistance:ge,onlyRenderVisibleElements:$,noPanClassName:sn,noDragClassName:Ht,disableKeyboardA11y:Pt,nodeExtent:pt,rfId:Yn}),a.jsx("div",{className:"react-flow__viewport-portal"})]})})}pI.displayName="GraphView";const Yie=S.memo(pI),Q4=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:l,fitViewOptions:u,minZoom:d=.5,maxZoom:f=2,nodeOrigin:p,nodeExtent:m,zIndexMode:g="basic"}={})=>{const b=new Map,y=new Map,v=new Map,_=new Map,N=r??t??[],j=n??e??[],k=p??[0,0],C=m??Mu;A6(v,_,N);const A=n_(j,b,y,{nodeOrigin:k,nodeExtent:C,zIndexMode:g});let T=[0,0,1];if(l&&s&&o){const M=sd(b,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:z,y:$,zoom:D}=yN(M,s,o,d,f,(u==null?void 0:u.padding)??.1);T=[z,$,D]}return{rfId:"1",width:s??0,height:o??0,transform:T,nodes:j,nodesInitialized:A,nodeLookup:b,parentLookup:y,edges:N,edgeLookup:_,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:Mu,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:vl.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:k,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:u,fitViewResolver:null,connection:{...f6},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:lre,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:d6,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Xie=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:m,zIndexMode:g})=>fse((b,y)=>{async function v(){const{nodeLookup:_,panZoom:N,fitViewOptions:j,fitViewResolver:k,width:C,height:A,minZoom:T,maxZoom:M}=y();N&&(await are({nodes:_,width:C,height:A,panZoom:N,minZoom:T,maxZoom:M},j),k==null||k.resolve(!0),b({fitViewResolver:null}))}return{...Q4({nodes:e,edges:t,width:s,height:o,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:m,defaultNodes:n,defaultEdges:r,zIndexMode:g}),setNodes:_=>{const{nodeLookup:N,parentLookup:j,nodeOrigin:k,elevateNodesOnSelect:C,fitViewQueued:A,zIndexMode:T}=y(),M=n_(_,N,j,{nodeOrigin:k,nodeExtent:m,elevateNodesOnSelect:C,checkEquality:!0,zIndexMode:T});A&&M?(v(),b({nodes:_,nodesInitialized:M,fitViewQueued:!1,fitViewOptions:void 0})):b({nodes:_,nodesInitialized:M})},setEdges:_=>{const{connectionLookup:N,edgeLookup:j}=y();A6(N,j,_),b({edges:_})},setDefaultNodesAndEdges:(_,N)=>{if(_){const{setNodes:j}=y();j(_),b({hasDefaultNodes:!0})}if(N){const{setEdges:j}=y();j(N),b({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:N,nodeLookup:j,parentLookup:k,domNode:C,nodeOrigin:A,nodeExtent:T,debug:M,fitViewQueued:z,zIndexMode:$}=y(),{changes:D,updatedInternals:I}=Are(_,j,k,C,A,T,$);I&&(Ere(j,k,{nodeOrigin:A,nodeExtent:T,zIndexMode:$}),z?(v(),b({fitViewQueued:!1,fitViewOptions:void 0})):b({}),(D==null?void 0:D.length)>0&&(M&&console.log("React Flow: trigger node changes",D),N==null||N(D)))},updateNodePositions:(_,N=!1)=>{const j=[];let k=[];const{nodeLookup:C,triggerNodeChanges:A,connection:T,updateConnection:M,onNodesChangeMiddlewareMap:z}=y();for(const[$,D]of _){const I=C.get($),F=!!(I!=null&&I.expandParent&&(I!=null&&I.parentId)&&(D!=null&&D.position)),K={id:$,type:"position",position:F?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:N};if(I&&T.inProgress&&T.fromNode.id===I.id){const B=co(I,T.fromHandle,$e.Left,!0);M({...T,from:B})}F&&I.parentId&&j.push({id:$,parentId:I.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),k.push(K)}if(j.length>0){const{parentLookup:$,nodeOrigin:D}=y(),I=kN(j,C,$,D);k.push(...I)}for(const $ of z.values())k=$(k);A(k)},triggerNodeChanges:_=>{const{onNodesChange:N,setNodes:j,nodes:k,hasDefaultNodes:C,debug:A}=y();if(_!=null&&_.length){if(C){const T=Ose(_,k);j(T)}A&&console.log("React Flow: trigger node changes",_),N==null||N(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:N,setEdges:j,edges:k,hasDefaultEdges:C,debug:A}=y();if(_!=null&&_.length){if(C){const T=Dse(_,k);j(T)}A&&console.log("React Flow: trigger edge changes",_),N==null||N(_)}},addSelectedNodes:_=>{const{multiSelectionActive:N,edgeLookup:j,nodeLookup:k,triggerNodeChanges:C,triggerEdgeChanges:A}=y();if(N){const T=_.map(M=>Ja(M,!0));C(T);return}C(dl(k,new Set([..._]),!0)),A(dl(j))},addSelectedEdges:_=>{const{multiSelectionActive:N,edgeLookup:j,nodeLookup:k,triggerNodeChanges:C,triggerEdgeChanges:A}=y();if(N){const T=_.map(M=>Ja(M,!0));A(T);return}A(dl(j,new Set([..._]))),C(dl(k,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:N}={})=>{const{edges:j,nodes:k,nodeLookup:C,triggerNodeChanges:A,triggerEdgeChanges:T}=y(),M=_||k,z=N||j,$=M.map(I=>{const F=C.get(I.id);return F&&(F.selected=!1),Ja(I.id,!1)}),D=z.map(I=>Ja(I.id,!1));A($),T(D)},setMinZoom:_=>{const{panZoom:N,maxZoom:j}=y();N==null||N.setScaleExtent([_,j]),b({minZoom:_})},setMaxZoom:_=>{const{panZoom:N,minZoom:j}=y();N==null||N.setScaleExtent([j,_]),b({maxZoom:_})},setTranslateExtent:_=>{var N;(N=y().panZoom)==null||N.setTranslateExtent(_),b({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:N,triggerNodeChanges:j,triggerEdgeChanges:k,elementsSelectable:C}=y();if(!C)return;const A=N.reduce((M,z)=>z.selected?[...M,Ja(z.id,!1)]:M,[]),T=_.reduce((M,z)=>z.selected?[...M,Ja(z.id,!1)]:M,[]);j(A),k(T)},setNodeExtent:_=>{const{nodes:N,nodeLookup:j,parentLookup:k,nodeOrigin:C,elevateNodesOnSelect:A,nodeExtent:T,zIndexMode:M}=y();_[0][0]===T[0][0]&&_[0][1]===T[0][1]&&_[1][0]===T[1][0]&&_[1][1]===T[1][1]||(n_(N,j,k,{nodeOrigin:C,nodeExtent:_,elevateNodesOnSelect:A,checkEquality:!1,zIndexMode:M}),b({nodeExtent:_}))},panBy:_=>{const{transform:N,width:j,height:k,panZoom:C,translateExtent:A}=y();return Mre({delta:_,panZoom:C,transform:N,translateExtent:A,width:j,height:k})},setCenter:async(_,N,j)=>{const{width:k,height:C,maxZoom:A,panZoom:T}=y();if(!T)return Promise.resolve(!1);const M=typeof(j==null?void 0:j.zoom)<"u"?j.zoom:A;return await T.setViewport({x:k/2-_*M,y:C/2-N*M,zoom:M},{duration:j==null?void 0:j.duration,ease:j==null?void 0:j.ease,interpolate:j==null?void 0:j.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{b({connection:{...f6}})},updateConnection:_=>{b({connection:_})},reset:()=>b({...Q4()})}},Object.is);function Zie({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:o,initialMinZoom:l,initialMaxZoom:u,initialFitViewOptions:d,fitView:f,nodeOrigin:p,nodeExtent:m,zIndexMode:g,children:b}){const[y]=S.useState(()=>Xie({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:f,minZoom:l,maxZoom:u,fitViewOptions:d,nodeOrigin:p,nodeExtent:m,zIndexMode:g}));return a.jsx(hse,{value:y,children:a.jsx(zse,{children:b})})}function Qie({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:o,height:l,fitView:u,fitViewOptions:d,minZoom:f,maxZoom:p,nodeOrigin:m,nodeExtent:g,zIndexMode:b}){return S.useContext(xp)?a.jsx(a.Fragment,{children:e}):a.jsx(Zie,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:o,initialHeight:l,fitView:u,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:p,nodeOrigin:m,nodeExtent:g,zIndexMode:b,children:e})}const Jie={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function eae({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o,edgeTypes:l,onNodeClick:u,onEdgeClick:d,onInit:f,onMove:p,onMoveStart:m,onMoveEnd:g,onConnect:b,onConnectStart:y,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:N,onNodeMouseEnter:j,onNodeMouseMove:k,onNodeMouseLeave:C,onNodeContextMenu:A,onNodeDoubleClick:T,onNodeDragStart:M,onNodeDrag:z,onNodeDragStop:$,onNodesDelete:D,onEdgesDelete:I,onDelete:F,onSelectionChange:K,onSelectionDragStart:B,onSelectionDrag:G,onSelectionDragStop:U,onSelectionContextMenu:Y,onSelectionStart:W,onSelectionEnd:X,onBeforeDelete:L,connectionMode:q,connectionLineType:P=_a.Bezier,connectionLineStyle:O,connectionLineComponent:H,connectionLineContainerStyle:Z,deleteKeyCode:Q="Backspace",selectionKeyCode:ie="Shift",selectionOnDrag:ee=!1,selectionMode:re=Ru.Full,panActivationKeyCode:ue="Space",multiSelectionKeyCode:ge=Lu()?"Meta":"Control",zoomActivationKeyCode:J=Lu()?"Meta":"Control",snapToGrid:ae,snapGrid:pe,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:xe,nodesDraggable:Se,autoPanOnNodeFocus:ze,nodesConnectable:tt,nodesFocusable:Ht,nodeOrigin:xn=F6,edgesFocusable:sn,edgesReconnectable:Pt,elementsSelectable:pt=!0,defaultViewport:Yn=Ese,minZoom:he=.5,maxZoom:Ne=2,translateExtent:Re=Mu,preventScrolling:He=!0,nodeExtent:Xe,defaultMarkerColor:Gt="#b1b1b7",zoomOnScroll:Gn=!0,zoomOnPinch:zt=!0,panOnScroll:gt=!1,panOnScrollSpeed:Sn=.5,panOnScrollMode:xt=no.Free,zoomOnDoubleClick:Sr=!0,panOnDrag:Ln=!0,onPaneClick:qi,onPaneMouseEnter:ws,onPaneMouseMove:qs,onPaneMouseLeave:tn,onPaneScroll:Bt,onPaneContextMenu:te,paneClickDistance:me=1,nodeClickDistance:Ee=0,children:De,onReconnect:rt,onReconnectStart:ct,onReconnectEnd:Te,onEdgeContextMenu:Ae,onEdgeDoubleClick:Le,onEdgeMouseEnter:Nt,onEdgeMouseMove:kt,onEdgeMouseLeave:er,reconnectRadius:tr=10,onNodesChange:kr,onEdgesChange:or,noDragClassName:bn="nodrag",noWheelClassName:Xn="nowheel",noPanClassName:_s="nopan",fitView:Fi,fitViewOptions:Ma,connectOnClick:Hi,attributionPosition:_o,proOptions:si,defaultEdgeOptions:Ra,elevateNodesOnSelect:nr=!0,elevateEdgesOnSelect:Ns=!1,disableKeyboardA11y:Ss=!1,autoPanOnConnect:Fs,autoPanOnNodeDrag:kn,autoPanSpeed:No,connectionRadius:ii,isValidConnection:ks,onError:ke,style:Be,id:Qe,nodeDragThreshold:Mt,connectionDragThreshold:yn,viewport:Zn,onViewportChange:gr,width:lr,height:Vt,colorMode:xr="light",debug:So,onScroll:Es,ariaLabelConfig:Oa,zIndexMode:ai="basic",...Jl},cr){const oi=Qe||"1",li=Ase(xr),Gi=S.useCallback(In=>{In.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Es==null||Es(In)},[Es]);return a.jsx("div",{"data-testid":"rf__wrapper",...Jl,onScroll:Gi,style:{...Be,...Jie},ref:cr,className:Fn(["react-flow",s,li]),id:Qe,role:"application",children:a.jsxs(Qie,{nodes:e,edges:t,width:lr,height:Vt,fitView:Fi,fitViewOptions:Ma,minZoom:he,maxZoom:Ne,nodeOrigin:xn,nodeExtent:Xe,zIndexMode:ai,children:[a.jsx(Yie,{onInit:f,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:j,onNodeMouseMove:k,onNodeMouseLeave:C,onNodeContextMenu:A,onNodeDoubleClick:T,nodeTypes:o,edgeTypes:l,connectionLineType:P,connectionLineStyle:O,connectionLineComponent:H,connectionLineContainerStyle:Z,selectionKeyCode:ie,selectionOnDrag:ee,selectionMode:re,deleteKeyCode:Q,multiSelectionKeyCode:ge,panActivationKeyCode:ue,zoomActivationKeyCode:J,onlyRenderVisibleElements:ve,defaultViewport:Yn,translateExtent:Re,minZoom:he,maxZoom:Ne,preventScrolling:He,zoomOnScroll:Gn,zoomOnPinch:zt,zoomOnDoubleClick:Sr,panOnScroll:gt,panOnScrollSpeed:Sn,panOnScrollMode:xt,panOnDrag:Ln,onPaneClick:qi,onPaneMouseEnter:ws,onPaneMouseMove:qs,onPaneMouseLeave:tn,onPaneScroll:Bt,onPaneContextMenu:te,paneClickDistance:me,nodeClickDistance:Ee,onSelectionContextMenu:Y,onSelectionStart:W,onSelectionEnd:X,onReconnect:rt,onReconnectStart:ct,onReconnectEnd:Te,onEdgeContextMenu:Ae,onEdgeDoubleClick:Le,onEdgeMouseEnter:Nt,onEdgeMouseMove:kt,onEdgeMouseLeave:er,reconnectRadius:tr,defaultMarkerColor:Gt,noDragClassName:bn,noWheelClassName:Xn,noPanClassName:_s,rfId:oi,disableKeyboardA11y:Ss,nodeExtent:Xe,viewport:Zn,onViewportChange:gr}),a.jsx(Tse,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:y,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:N,nodesDraggable:Se,autoPanOnNodeFocus:ze,nodesConnectable:tt,nodesFocusable:Ht,edgesFocusable:sn,edgesReconnectable:Pt,elementsSelectable:pt,elevateNodesOnSelect:nr,elevateEdgesOnSelect:Ns,minZoom:he,maxZoom:Ne,nodeExtent:Xe,onNodesChange:kr,onEdgesChange:or,snapToGrid:ae,snapGrid:pe,connectionMode:q,translateExtent:Re,connectOnClick:Hi,defaultEdgeOptions:Ra,fitView:Fi,fitViewOptions:Ma,onNodesDelete:D,onEdgesDelete:I,onDelete:F,onNodeDragStart:M,onNodeDrag:z,onNodeDragStop:$,onSelectionDrag:G,onSelectionDragStart:B,onSelectionDragStop:U,onMove:p,onMoveStart:m,onMoveEnd:g,noPanClassName:_s,nodeOrigin:xn,rfId:oi,autoPanOnConnect:Fs,autoPanOnNodeDrag:kn,autoPanSpeed:No,onError:ke,connectionRadius:ii,isValidConnection:ks,selectNodesOnDrag:xe,nodeDragThreshold:Mt,connectionDragThreshold:yn,onBeforeDelete:L,debug:So,ariaLabelConfig:Oa,zIndexMode:ai}),a.jsx(kse,{onSelectionChange:K}),De,a.jsx(vse,{proOptions:si,position:_o}),a.jsx(yse,{rfId:oi,disableKeyboardA11y:Ss})]})})}var tae=G6(eae);function nae({dimensions:e,lineWidth:t,variant:n,className:r}){return a.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Fn(["react-flow__background-pattern",n,r])})}function rae({radius:e,className:t}){return a.jsx("circle",{cx:e,cy:e,r:e,className:Fn(["react-flow__background-pattern","dots",t])})}var Sa;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Sa||(Sa={}));const sae={[Sa.Dots]:1,[Sa.Lines]:1,[Sa.Cross]:6},iae=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function mI({id:e,variant:t=Sa.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=0,color:l,bgColor:u,style:d,className:f,patternClassName:p}){const m=S.useRef(null),{transform:g,patternId:b}=_t(iae,pn),y=r||sae[t],v=t===Sa.Dots,_=t===Sa.Cross,N=Array.isArray(n)?n:[n,n],j=[N[0]*g[2]||1,N[1]*g[2]||1],k=y*g[2],C=Array.isArray(o)?o:[o,o],A=_?[k,k]:j,T=[C[0]*g[2]||1+A[0]/2,C[1]*g[2]||1+A[1]/2],M=`${b}${e||""}`;return a.jsxs("svg",{className:Fn(["react-flow__background",f]),style:{...d,...yp,"--xy-background-color-props":u,"--xy-background-pattern-color-props":l},ref:m,"data-testid":"rf__background",children:[a.jsx("pattern",{id:M,x:g[0]%j[0],y:g[1]%j[1],width:j[0],height:j[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:v?a.jsx(rae,{radius:k/2,className:p}):a.jsx(nae,{dimensions:A,lineWidth:s,variant:t,className:p})}),a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}mI.displayName="Background";const aae=S.memo(mI);function oae(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:a.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function lae(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:a.jsx("path",{d:"M0 0h32v4.2H0z"})})}function cae(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:a.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function uae(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function dae(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Jf({children:e,className:t,...n}){return a.jsx("button",{type:"button",className:Fn(["react-flow__controls-button",t]),...n,children:e})}const fae=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function gI({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:l,onFitView:u,onInteractiveChange:d,className:f,children:p,position:m="bottom-left",orientation:g="vertical","aria-label":b}){const y=mn(),{isInteractive:v,minZoomReached:_,maxZoomReached:N,ariaLabelConfig:j}=_t(fae,pn),{zoomIn:k,zoomOut:C,fitView:A}=EN(),T=()=>{k(),o==null||o()},M=()=>{C(),l==null||l()},z=()=>{A(s),u==null||u()},$=()=>{y.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d==null||d(!v)},D=g==="horizontal"?"horizontal":"vertical";return a.jsxs(bp,{className:Fn(["react-flow__controls",D,f]),position:m,style:e,"data-testid":"rf__controls","aria-label":b??j["controls.ariaLabel"],children:[t&&a.jsxs(a.Fragment,{children:[a.jsx(Jf,{onClick:T,className:"react-flow__controls-zoomin",title:j["controls.zoomIn.ariaLabel"],"aria-label":j["controls.zoomIn.ariaLabel"],disabled:N,children:a.jsx(oae,{})}),a.jsx(Jf,{onClick:M,className:"react-flow__controls-zoomout",title:j["controls.zoomOut.ariaLabel"],"aria-label":j["controls.zoomOut.ariaLabel"],disabled:_,children:a.jsx(lae,{})})]}),n&&a.jsx(Jf,{className:"react-flow__controls-fitview",onClick:z,title:j["controls.fitView.ariaLabel"],"aria-label":j["controls.fitView.ariaLabel"],children:a.jsx(cae,{})}),r&&a.jsx(Jf,{className:"react-flow__controls-interactive",onClick:$,title:j["controls.interactive.ariaLabel"],"aria-label":j["controls.interactive.ariaLabel"],children:v?a.jsx(dae,{}):a.jsx(uae,{})}),p]})}gI.displayName="Controls";const hae=S.memo(gI);function pae({id:e,x:t,y:n,width:r,height:s,style:o,color:l,strokeColor:u,strokeWidth:d,className:f,borderRadius:p,shapeRendering:m,selected:g,onClick:b}){const{background:y,backgroundColor:v}=o||{},_=l||y||v;return a.jsx("rect",{className:Fn(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:p,ry:p,width:r,height:s,style:{fill:_,stroke:u,strokeWidth:d},shapeRendering:m,onClick:b?N=>b(N,e):void 0})}const mae=S.memo(pae),gae=e=>e.nodes.map(t=>t.id),Y0=e=>e instanceof Function?e:()=>e;function xae({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:o=mae,onClick:l}){const u=_t(gae,pn),d=Y0(t),f=Y0(e),p=Y0(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return a.jsx(a.Fragment,{children:u.map(g=>a.jsx(yae,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:p,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:o,onClick:l,shapeRendering:m},g))})}function bae({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:o,shapeRendering:l,NodeComponent:u,onClick:d}){const{node:f,x:p,y:m,width:g,height:b}=_t(y=>{const{internals:v}=y.nodeLookup.get(e),_=v.userNode,{x:N,y:j}=v.positionAbsolute,{width:k,height:C}=Bi(_);return{node:_,x:N,y:j,width:k,height:C}},pn);return!f||f.hidden||!y6(f)?null:a.jsx(u,{x:p,y:m,width:g,height:b,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:s,strokeColor:n(f),strokeWidth:o,shapeRendering:l,onClick:d,id:f.id})}const yae=S.memo(bae);var vae=S.memo(xae);const wae=200,_ae=150,Nae=e=>!e.hidden,Sae=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?b6(sd(e.nodeLookup,{filter:Nae}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},kae="react-flow__minimap-desc";function xI({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:u,bgColor:d,maskColor:f,maskStrokeColor:p,maskStrokeWidth:m,position:g="bottom-right",onClick:b,onNodeClick:y,pannable:v=!1,zoomable:_=!1,ariaLabel:N,inversePan:j,zoomStep:k=1,offsetScale:C=5}){const A=mn(),T=S.useRef(null),{boundingRect:M,viewBB:z,rfId:$,panZoom:D,translateExtent:I,flowWidth:F,flowHeight:K,ariaLabelConfig:B}=_t(Sae,pn),G=(e==null?void 0:e.width)??wae,U=(e==null?void 0:e.height)??_ae,Y=M.width/G,W=M.height/U,X=Math.max(Y,W),L=X*G,q=X*U,P=C*X,O=M.x-(L-M.width)/2-P,H=M.y-(q-M.height)/2-P,Z=L+P*2,Q=q+P*2,ie=`${kae}-${$}`,ee=S.useRef(0),re=S.useRef();ee.current=X,S.useEffect(()=>{if(T.current&&D)return re.current=$re({domNode:T.current,panZoom:D,getTransform:()=>A.getState().transform,getViewScale:()=>ee.current}),()=>{var ae;(ae=re.current)==null||ae.destroy()}},[D]),S.useEffect(()=>{var ae;(ae=re.current)==null||ae.update({translateExtent:I,width:F,height:K,inversePan:j,pannable:v,zoomStep:k,zoomable:_})},[v,_,j,k,I,F,K]);const ue=b?ae=>{var xe;const[pe,ve]=((xe=re.current)==null?void 0:xe.pointer(ae))||[0,0];b(ae,{x:pe,y:ve})}:void 0,ge=y?S.useCallback((ae,pe)=>{const ve=A.getState().nodeLookup.get(pe).internals.userNode;y(ae,ve)},[]):void 0,J=N??B["minimap.ariaLabel"];return a.jsx(bp,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*X:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Fn(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:a.jsxs("svg",{width:G,height:U,viewBox:`${O} ${H} ${Z} ${Q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ie,ref:T,onClick:ue,children:[J&&a.jsx("title",{id:ie,children:J}),a.jsx(vae,{onClick:ge,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:s,nodeStrokeWidth:l,nodeComponent:u}),a.jsx("path",{className:"react-flow__minimap-mask",d:`M${O-P},${H-P}h${Z+P*2}v${Q+P*2}h${-Z-P*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}xI.displayName="MiniMap";S.memo(xI);const Eae=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,jae={[Sl.Line]:"right",[Sl.Handle]:"bottom-right"};function Cae({nodeId:e,position:t,variant:n=Sl.Handle,className:r,style:s=void 0,children:o,color:l,minWidth:u=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:g,autoScale:b=!0,shouldResize:y,onResizeStart:v,onResize:_,onResizeEnd:N}){const j=Y6(),k=typeof e=="string"?e:j,C=mn(),A=S.useRef(null),T=n===Sl.Handle,M=_t(S.useCallback(Eae(T&&b),[T,b]),pn),z=S.useRef(null),$=t??jae[n];S.useEffect(()=>{if(!(!A.current||!k))return z.current||(z.current=ese({domNode:A.current,nodeId:k,getStoreItems:()=>{const{nodeLookup:I,transform:F,snapGrid:K,snapToGrid:B,nodeOrigin:G,domNode:U}=C.getState();return{nodeLookup:I,transform:F,snapGrid:K,snapToGrid:B,nodeOrigin:G,paneDomNode:U}},onChange:(I,F)=>{const{triggerNodeChanges:K,nodeLookup:B,parentLookup:G,nodeOrigin:U}=C.getState(),Y=[],W={x:I.x,y:I.y},X=B.get(k);if(X&&X.expandParent&&X.parentId){const L=X.origin??U,q=I.width??X.measured.width??0,P=I.height??X.measured.height??0,O={id:X.id,parentId:X.parentId,rect:{width:q,height:P,...v6({x:I.x??X.position.x,y:I.y??X.position.y},{width:q,height:P},X.parentId,B,L)}},H=kN([O],B,G,U);Y.push(...H),W.x=I.x?Math.max(L[0]*q,I.x):void 0,W.y=I.y?Math.max(L[1]*P,I.y):void 0}if(W.x!==void 0&&W.y!==void 0){const L={id:k,type:"position",position:{...W}};Y.push(L)}if(I.width!==void 0&&I.height!==void 0){const q={id:k,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:I.width,height:I.height}};Y.push(q)}for(const L of F){const q={...L,type:"position"};Y.push(q)}K(Y)},onEnd:({width:I,height:F})=>{const K={id:k,type:"dimensions",resizing:!1,dimensions:{width:I,height:F}};C.getState().triggerNodeChanges([K])}})),z.current.update({controlPosition:$,boundaries:{minWidth:u,minHeight:d,maxWidth:f,maxHeight:p},keepAspectRatio:m,resizeDirection:g,onResizeStart:v,onResize:_,onResizeEnd:N,shouldResize:y}),()=>{var I;(I=z.current)==null||I.destroy()}},[$,u,d,f,p,m,v,_,N,y]);const D=$.split("-");return a.jsx("div",{className:Fn(["react-flow__resize-control","nodrag",...D,n,r]),ref:A,style:{...s,scale:M,...l&&{[T?"backgroundColor":"borderColor"]:l}},children:o})}S.memo(Cae);function CN(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var X0,J4;function Tae(){if(J4)return X0;J4=1;function e(){this.__data__=[],this.size=0}return X0=e,X0}var Z0,e5;function Kl(){if(e5)return Z0;e5=1;function e(t,n){return t===n||t!==t&&n!==n}return Z0=e,Z0}var Q0,t5;function wp(){if(t5)return Q0;t5=1;var e=Kl();function t(n,r){for(var s=n.length;s--;)if(e(n[s][0],r))return s;return-1}return Q0=t,Q0}var J0,n5;function Aae(){if(n5)return J0;n5=1;var e=wp(),t=Array.prototype,n=t.splice;function r(s){var o=this.__data__,l=e(o,s);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():n.call(o,l,1),--this.size,!0}return J0=r,J0}var ex,r5;function Mae(){if(r5)return ex;r5=1;var e=wp();function t(n){var r=this.__data__,s=e(r,n);return s<0?void 0:r[s][1]}return ex=t,ex}var tx,s5;function Rae(){if(s5)return tx;s5=1;var e=wp();function t(n){return e(this.__data__,n)>-1}return tx=t,tx}var nx,i5;function Oae(){if(i5)return nx;i5=1;var e=wp();function t(n,r){var s=this.__data__,o=e(s,n);return o<0?(++this.size,s.push([n,r])):s[o][1]=r,this}return nx=t,nx}var rx,a5;function _p(){if(a5)return rx;a5=1;var e=Tae(),t=Aae(),n=Mae(),r=Rae(),s=Oae();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=s,rx=o,rx}var sx,o5;function Dae(){if(o5)return sx;o5=1;var e=_p();function t(){this.__data__=new e,this.size=0}return sx=t,sx}var ix,l5;function Lae(){if(l5)return ix;l5=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return ix=e,ix}var ax,c5;function Iae(){if(c5)return ax;c5=1;function e(t){return this.__data__.get(t)}return ax=e,ax}var ox,u5;function Pae(){if(u5)return ox;u5=1;function e(t){return this.__data__.has(t)}return ox=e,ox}var lx,d5;function bI(){if(d5)return lx;d5=1;var e=typeof Sf=="object"&&Sf&&Sf.Object===Object&&Sf;return lx=e,lx}var cx,f5;function Us(){if(f5)return cx;f5=1;var e=bI(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return cx=n,cx}var ux,h5;function Yl(){if(h5)return ux;h5=1;var e=Us(),t=e.Symbol;return ux=t,ux}var dx,p5;function zae(){if(p5)return dx;p5=1;var e=Yl(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,s=e?e.toStringTag:void 0;function o(l){var u=n.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var p=r.call(l);return f&&(u?l[s]=d:delete l[s]),p}return dx=o,dx}var fx,m5;function Bae(){if(m5)return fx;m5=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return fx=n,fx}var hx,g5;function bo(){if(g5)return hx;g5=1;var e=Yl(),t=zae(),n=Bae(),r="[object Null]",s="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:r:o&&o in Object(u)?t(u):n(u)}return hx=l,hx}var px,x5;function ys(){if(x5)return px;x5=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return px=e,px}var mx,b5;function od(){if(b5)return mx;b5=1;var e=bo(),t=ys(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==r||d==s||d==n||d==o}return mx=l,mx}var gx,y5;function $ae(){if(y5)return gx;y5=1;var e=Us(),t=e["__core-js_shared__"];return gx=t,gx}var xx,v5;function Uae(){if(v5)return xx;v5=1;var e=$ae(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return xx=n,xx}var bx,w5;function yI(){if(w5)return bx;w5=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return bx=n,bx}var yx,_5;function qae(){if(_5)return yx;_5=1;var e=od(),t=Uae(),n=ys(),r=yI(),s=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var b=e(g)?p:o;return b.test(r(g))}return yx=m,yx}var vx,N5;function Fae(){if(N5)return vx;N5=1;function e(t,n){return t==null?void 0:t[n]}return vx=e,vx}var wx,S5;function yo(){if(S5)return wx;S5=1;var e=qae(),t=Fae();function n(r,s){var o=t(r,s);return e(o)?o:void 0}return wx=n,wx}var _x,k5;function TN(){if(k5)return _x;k5=1;var e=yo(),t=Us(),n=e(t,"Map");return _x=n,_x}var Nx,E5;function Np(){if(E5)return Nx;E5=1;var e=yo(),t=e(Object,"create");return Nx=t,Nx}var Sx,j5;function Hae(){if(j5)return Sx;j5=1;var e=Np();function t(){this.__data__=e?e(null):{},this.size=0}return Sx=t,Sx}var kx,C5;function Gae(){if(C5)return kx;C5=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return kx=e,kx}var Ex,T5;function Vae(){if(T5)return Ex;T5=1;var e=Np(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return r.call(l,o)?l[o]:void 0}return Ex=s,Ex}var jx,A5;function Wae(){if(A5)return jx;A5=1;var e=Np(),t=Object.prototype,n=t.hasOwnProperty;function r(s){var o=this.__data__;return e?o[s]!==void 0:n.call(o,s)}return jx=r,jx}var Cx,M5;function Kae(){if(M5)return Cx;M5=1;var e=Np(),t="__lodash_hash_undefined__";function n(r,s){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&s===void 0?t:s,this}return Cx=n,Cx}var Tx,R5;function Yae(){if(R5)return Tx;R5=1;var e=Hae(),t=Gae(),n=Vae(),r=Wae(),s=Kae();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=s,Tx=o,Tx}var Ax,O5;function Xae(){if(O5)return Ax;O5=1;var e=Yae(),t=_p(),n=TN();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Ax=r,Ax}var Mx,D5;function Zae(){if(D5)return Mx;D5=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Mx=e,Mx}var Rx,L5;function Sp(){if(L5)return Rx;L5=1;var e=Zae();function t(n,r){var s=n.__data__;return e(r)?s[typeof r=="string"?"string":"hash"]:s.map}return Rx=t,Rx}var Ox,I5;function Qae(){if(I5)return Ox;I5=1;var e=Sp();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Ox=t,Ox}var Dx,P5;function Jae(){if(P5)return Dx;P5=1;var e=Sp();function t(n){return e(this,n).get(n)}return Dx=t,Dx}var Lx,z5;function eoe(){if(z5)return Lx;z5=1;var e=Sp();function t(n){return e(this,n).has(n)}return Lx=t,Lx}var Ix,B5;function toe(){if(B5)return Ix;B5=1;var e=Sp();function t(n,r){var s=e(this,n),o=s.size;return s.set(n,r),this.size+=s.size==o?0:1,this}return Ix=t,Ix}var Px,$5;function AN(){if($5)return Px;$5=1;var e=Xae(),t=Qae(),n=Jae(),r=eoe(),s=toe();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=s,Px=o,Px}var zx,U5;function noe(){if(U5)return zx;U5=1;var e=_p(),t=TN(),n=AN(),r=200;function s(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<r-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(o,l),this.size=u.size,this}return zx=s,zx}var Bx,q5;function kp(){if(q5)return Bx;q5=1;var e=_p(),t=Dae(),n=Lae(),r=Iae(),s=Pae(),o=noe();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=s,l.prototype.set=o,Bx=l,Bx}var $x,F5;function MN(){if(F5)return $x;F5=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s&&n(t[r],r,t)!==!1;);return t}return $x=e,$x}var Ux,H5;function vI(){if(H5)return Ux;H5=1;var e=yo(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Ux=t,Ux}var qx,G5;function Ep(){if(G5)return qx;G5=1;var e=vI();function t(n,r,s){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return qx=t,qx}var Fx,V5;function jp(){if(V5)return Fx;V5=1;var e=Ep(),t=Kl(),n=Object.prototype,r=n.hasOwnProperty;function s(o,l,u){var d=o[l];(!(r.call(o,l)&&t(d,u))||u===void 0&&!(l in o))&&e(o,l,u)}return Fx=s,Fx}var Hx,W5;function ld(){if(W5)return Hx;W5=1;var e=jp(),t=Ep();function n(r,s,o,l){var u=!o;o||(o={});for(var d=-1,f=s.length;++d<f;){var p=s[d],m=l?l(o[p],r[p],p,o,r):void 0;m===void 0&&(m=r[p]),u?t(o,p,m):e(o,p,m)}return o}return Hx=n,Hx}var Gx,K5;function roe(){if(K5)return Gx;K5=1;function e(t,n){for(var r=-1,s=Array(t);++r<t;)s[r]=n(r);return s}return Gx=e,Gx}var Vx,Y5;function ri(){if(Y5)return Vx;Y5=1;function e(t){return t!=null&&typeof t=="object"}return Vx=e,Vx}var Wx,X5;function soe(){if(X5)return Wx;X5=1;var e=bo(),t=ri(),n="[object Arguments]";function r(s){return t(s)&&e(s)==n}return Wx=r,Wx}var Kx,Z5;function cd(){if(Z5)return Kx;Z5=1;var e=soe(),t=ri(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&r.call(l,"callee")&&!s.call(l,"callee")};return Kx=o,Kx}var Yx,Q5;function Hn(){if(Q5)return Yx;Q5=1;var e=Array.isArray;return Yx=e,Yx}var au={exports:{}},Xx,J5;function ioe(){if(J5)return Xx;J5=1;function e(){return!1}return Xx=e,Xx}au.exports;var eT;function Xl(){return eT||(eT=1,(function(e,t){var n=Us(),r=ioe(),s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===s,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||r;e.exports=f})(au,au.exports)),au.exports}var Zx,tT;function Cp(){if(tT)return Zx;tT=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,s){var o=typeof r;return s=s??e,!!s&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<s}return Zx=n,Zx}var Qx,nT;function RN(){if(nT)return Qx;nT=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Qx=t,Qx}var Jx,rT;function aoe(){if(rT)return Jx;rT=1;var e=bo(),t=RN(),n=ri(),r="[object Arguments]",s="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",b="[object Set]",y="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",N="[object DataView]",j="[object Float32Array]",k="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",M="[object Uint8Array]",z="[object Uint8ClampedArray]",$="[object Uint16Array]",D="[object Uint32Array]",I={};I[j]=I[k]=I[C]=I[A]=I[T]=I[M]=I[z]=I[$]=I[D]=!0,I[r]=I[s]=I[_]=I[o]=I[N]=I[l]=I[u]=I[d]=I[f]=I[p]=I[m]=I[g]=I[b]=I[y]=I[v]=!1;function F(K){return n(K)&&t(K.length)&&!!I[e(K)]}return Jx=F,Jx}var eb,sT;function Tp(){if(sT)return eb;sT=1;function e(t){return function(n){return t(n)}}return eb=e,eb}var ou={exports:{}};ou.exports;var iT;function ON(){return iT||(iT=1,(function(e,t){var n=bI(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===r,l=o&&n.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(ou,ou.exports)),ou.exports}var tb,aT;function ud(){if(aT)return tb;aT=1;var e=aoe(),t=Tp(),n=ON(),r=n&&n.isTypedArray,s=r?t(r):e;return tb=s,tb}var nb,oT;function wI(){if(oT)return nb;oT=1;var e=roe(),t=cd(),n=Hn(),r=Xl(),s=Cp(),o=ud(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var m=n(f),g=!m&&t(f),b=!m&&!g&&r(f),y=!m&&!g&&!b&&o(f),v=m||g||b||y,_=v?e(f.length,String):[],N=_.length;for(var j in f)(p||u.call(f,j))&&!(v&&(j=="length"||b&&(j=="offset"||j=="parent")||y&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||s(j,N)))&&_.push(j);return _}return nb=d,nb}var rb,lT;function Ap(){if(lT)return rb;lT=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||e;return n===s}return rb=t,rb}var sb,cT;function _I(){if(cT)return sb;cT=1;function e(t,n){return function(r){return t(n(r))}}return sb=e,sb}var ib,uT;function ooe(){if(uT)return ib;uT=1;var e=_I(),t=e(Object.keys,Object);return ib=t,ib}var ab,dT;function DN(){if(dT)return ab;dT=1;var e=Ap(),t=ooe(),n=Object.prototype,r=n.hasOwnProperty;function s(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&l.push(u);return l}return ab=s,ab}var ob,fT;function $i(){if(fT)return ob;fT=1;var e=od(),t=RN();function n(r){return r!=null&&t(r.length)&&!e(r)}return ob=n,ob}var lb,hT;function Aa(){if(hT)return lb;hT=1;var e=wI(),t=DN(),n=$i();function r(s){return n(s)?e(s):t(s)}return lb=r,lb}var cb,pT;function loe(){if(pT)return cb;pT=1;var e=ld(),t=Aa();function n(r,s){return r&&e(s,t(s),r)}return cb=n,cb}var ub,mT;function coe(){if(mT)return ub;mT=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return ub=e,ub}var db,gT;function uoe(){if(gT)return db;gT=1;var e=ys(),t=Ap(),n=coe(),r=Object.prototype,s=r.hasOwnProperty;function o(l){if(!e(l))return n(l);var u=t(l),d=[];for(var f in l)f=="constructor"&&(u||!s.call(l,f))||d.push(f);return d}return db=o,db}var fb,xT;function vo(){if(xT)return fb;xT=1;var e=wI(),t=uoe(),n=$i();function r(s){return n(s)?e(s,!0):t(s)}return fb=r,fb}var hb,bT;function doe(){if(bT)return hb;bT=1;var e=ld(),t=vo();function n(r,s){return r&&e(s,t(s),r)}return hb=n,hb}var lu={exports:{}};lu.exports;var yT;function NI(){return yT||(yT=1,(function(e,t){var n=Us(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===r,l=o?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function d(f,p){if(p)return f.slice();var m=f.length,g=u?u(m):new f.constructor(m);return f.copy(g),g}e.exports=d})(lu,lu.exports)),lu.exports}var pb,vT;function SI(){if(vT)return pb;vT=1;function e(t,n){var r=-1,s=t.length;for(n||(n=Array(s));++r<s;)n[r]=t[r];return n}return pb=e,pb}var mb,wT;function kI(){if(wT)return mb;wT=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,o=0,l=[];++r<s;){var u=t[r];n(u,r,t)&&(l[o++]=u)}return l}return mb=e,mb}var gb,_T;function EI(){if(_T)return gb;_T=1;function e(){return[]}return gb=e,gb}var xb,NT;function LN(){if(NT)return xb;NT=1;var e=kI(),t=EI(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return r.call(l,u)}))}:t;return xb=o,xb}var bb,ST;function foe(){if(ST)return bb;ST=1;var e=ld(),t=LN();function n(r,s){return e(r,t(r),s)}return bb=n,bb}var yb,kT;function IN(){if(kT)return yb;kT=1;function e(t,n){for(var r=-1,s=n.length,o=t.length;++r<s;)t[o+r]=n[r];return t}return yb=e,yb}var vb,ET;function Mp(){if(ET)return vb;ET=1;var e=_I(),t=e(Object.getPrototypeOf,Object);return vb=t,vb}var wb,jT;function jI(){if(jT)return wb;jT=1;var e=IN(),t=Mp(),n=LN(),r=EI(),s=Object.getOwnPropertySymbols,o=s?function(l){for(var u=[];l;)e(u,n(l)),l=t(l);return u}:r;return wb=o,wb}var _b,CT;function hoe(){if(CT)return _b;CT=1;var e=ld(),t=jI();function n(r,s){return e(r,t(r),s)}return _b=n,_b}var Nb,TT;function CI(){if(TT)return Nb;TT=1;var e=IN(),t=Hn();function n(r,s,o){var l=s(r);return t(r)?l:e(l,o(r))}return Nb=n,Nb}var Sb,AT;function TI(){if(AT)return Sb;AT=1;var e=CI(),t=LN(),n=Aa();function r(s){return e(s,n,t)}return Sb=r,Sb}var kb,MT;function poe(){if(MT)return kb;MT=1;var e=CI(),t=jI(),n=vo();function r(s){return e(s,n,t)}return kb=r,kb}var Eb,RT;function moe(){if(RT)return Eb;RT=1;var e=yo(),t=Us(),n=e(t,"DataView");return Eb=n,Eb}var jb,OT;function goe(){if(OT)return jb;OT=1;var e=yo(),t=Us(),n=e(t,"Promise");return jb=n,jb}var Cb,DT;function AI(){if(DT)return Cb;DT=1;var e=yo(),t=Us(),n=e(t,"Set");return Cb=n,Cb}var Tb,LT;function xoe(){if(LT)return Tb;LT=1;var e=yo(),t=Us(),n=e(t,"WeakMap");return Tb=n,Tb}var Ab,IT;function Zl(){if(IT)return Ab;IT=1;var e=moe(),t=TN(),n=goe(),r=AI(),s=xoe(),o=bo(),l=yI(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",b=l(e),y=l(t),v=l(n),_=l(r),N=l(s),j=o;return(e&&j(new e(new ArrayBuffer(1)))!=g||t&&j(new t)!=u||n&&j(n.resolve())!=f||r&&j(new r)!=p||s&&j(new s)!=m)&&(j=function(k){var C=o(k),A=C==d?k.constructor:void 0,T=A?l(A):"";if(T)switch(T){case b:return g;case y:return u;case v:return f;case _:return p;case N:return m}return C}),Ab=j,Ab}var Mb,PT;function boe(){if(PT)return Mb;PT=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var s=r.length,o=new r.constructor(s);return s&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Mb=n,Mb}var Rb,zT;function MI(){if(zT)return Rb;zT=1;var e=Us(),t=e.Uint8Array;return Rb=t,Rb}var Ob,BT;function PN(){if(BT)return Ob;BT=1;var e=MI();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Ob=t,Ob}var Db,$T;function yoe(){if($T)return Db;$T=1;var e=PN();function t(n,r){var s=r?e(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}return Db=t,Db}var Lb,UT;function voe(){if(UT)return Lb;UT=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Lb=t,Lb}var Ib,qT;function woe(){if(qT)return Ib;qT=1;var e=Yl(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(s){return n?Object(n.call(s)):{}}return Ib=r,Ib}var Pb,FT;function RI(){if(FT)return Pb;FT=1;var e=PN();function t(n,r){var s=r?e(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return Pb=t,Pb}var zb,HT;function _oe(){if(HT)return zb;HT=1;var e=PN(),t=yoe(),n=voe(),r=woe(),s=RI(),o="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",f="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",N="[object Int8Array]",j="[object Int16Array]",k="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",M="[object Uint32Array]";function z($,D,I){var F=$.constructor;switch(D){case b:return e($);case o:case l:return new F(+$);case y:return t($,I);case v:case _:case N:case j:case k:case C:case A:case T:case M:return s($,I);case u:return new F;case d:case m:return new F($);case f:return n($);case p:return new F;case g:return r($)}}return zb=z,zb}var Bb,GT;function OI(){if(GT)return Bb;GT=1;var e=ys(),t=Object.create,n=(function(){function r(){}return function(s){if(!e(s))return{};if(t)return t(s);r.prototype=s;var o=new r;return r.prototype=void 0,o}})();return Bb=n,Bb}var $b,VT;function DI(){if(VT)return $b;VT=1;var e=OI(),t=Mp(),n=Ap();function r(s){return typeof s.constructor=="function"&&!n(s)?e(t(s)):{}}return $b=r,$b}var Ub,WT;function Noe(){if(WT)return Ub;WT=1;var e=Zl(),t=ri(),n="[object Map]";function r(s){return t(s)&&e(s)==n}return Ub=r,Ub}var qb,KT;function Soe(){if(KT)return qb;KT=1;var e=Noe(),t=Tp(),n=ON(),r=n&&n.isMap,s=r?t(r):e;return qb=s,qb}var Fb,YT;function koe(){if(YT)return Fb;YT=1;var e=Zl(),t=ri(),n="[object Set]";function r(s){return t(s)&&e(s)==n}return Fb=r,Fb}var Hb,XT;function Eoe(){if(XT)return Hb;XT=1;var e=koe(),t=Tp(),n=ON(),r=n&&n.isSet,s=r?t(r):e;return Hb=s,Hb}var Gb,ZT;function LI(){if(ZT)return Gb;ZT=1;var e=kp(),t=MN(),n=jp(),r=loe(),s=doe(),o=NI(),l=SI(),u=foe(),d=hoe(),f=TI(),p=poe(),m=Zl(),g=boe(),b=_oe(),y=DI(),v=Hn(),_=Xl(),N=Soe(),j=ys(),k=Eoe(),C=Aa(),A=vo(),T=1,M=2,z=4,$="[object Arguments]",D="[object Array]",I="[object Boolean]",F="[object Date]",K="[object Error]",B="[object Function]",G="[object GeneratorFunction]",U="[object Map]",Y="[object Number]",W="[object Object]",X="[object RegExp]",L="[object Set]",q="[object String]",P="[object Symbol]",O="[object WeakMap]",H="[object ArrayBuffer]",Z="[object DataView]",Q="[object Float32Array]",ie="[object Float64Array]",ee="[object Int8Array]",re="[object Int16Array]",ue="[object Int32Array]",ge="[object Uint8Array]",J="[object Uint8ClampedArray]",ae="[object Uint16Array]",pe="[object Uint32Array]",ve={};ve[$]=ve[D]=ve[H]=ve[Z]=ve[I]=ve[F]=ve[Q]=ve[ie]=ve[ee]=ve[re]=ve[ue]=ve[U]=ve[Y]=ve[W]=ve[X]=ve[L]=ve[q]=ve[P]=ve[ge]=ve[J]=ve[ae]=ve[pe]=!0,ve[K]=ve[B]=ve[O]=!1;function xe(Se,ze,tt,Ht,xn,sn){var Pt,pt=ze&T,Yn=ze&M,he=ze&z;if(tt&&(Pt=xn?tt(Se,Ht,xn,sn):tt(Se)),Pt!==void 0)return Pt;if(!j(Se))return Se;var Ne=v(Se);if(Ne){if(Pt=g(Se),!pt)return l(Se,Pt)}else{var Re=m(Se),He=Re==B||Re==G;if(_(Se))return o(Se,pt);if(Re==W||Re==$||He&&!xn){if(Pt=Yn||He?{}:y(Se),!pt)return Yn?d(Se,s(Pt,Se)):u(Se,r(Pt,Se))}else{if(!ve[Re])return xn?Se:{};Pt=b(Se,Re,pt)}}sn||(sn=new e);var Xe=sn.get(Se);if(Xe)return Xe;sn.set(Se,Pt),k(Se)?Se.forEach(function(zt){Pt.add(xe(zt,ze,tt,zt,Se,sn))}):N(Se)&&Se.forEach(function(zt,gt){Pt.set(gt,xe(zt,ze,tt,gt,Se,sn))});var Gt=he?Yn?p:f:Yn?A:C,Gn=Ne?void 0:Gt(Se);return t(Gn||Se,function(zt,gt){Gn&&(gt=zt,zt=Se[gt]),n(Pt,gt,xe(zt,ze,tt,gt,Se,sn))}),Pt}return Gb=xe,Gb}var Vb,QT;function joe(){if(QT)return Vb;QT=1;var e=LI(),t=4;function n(r){return e(r,t)}return Vb=n,Vb}var Wb,JT;function zN(){if(JT)return Wb;JT=1;function e(t){return function(){return t}}return Wb=e,Wb}var Kb,eA;function Coe(){if(eA)return Kb;eA=1;function e(t){return function(n,r,s){for(var o=-1,l=Object(n),u=s(n),d=u.length;d--;){var f=u[t?d:++o];if(r(l[f],f,l)===!1)break}return n}}return Kb=e,Kb}var Yb,tA;function BN(){if(tA)return Yb;tA=1;var e=Coe(),t=e();return Yb=t,Yb}var Xb,nA;function $N(){if(nA)return Xb;nA=1;var e=BN(),t=Aa();function n(r,s){return r&&e(r,s,t)}return Xb=n,Xb}var Zb,rA;function Toe(){if(rA)return Zb;rA=1;var e=$i();function t(n,r){return function(s,o){if(s==null)return s;if(!e(s))return n(s,o);for(var l=s.length,u=r?l:-1,d=Object(s);(r?u--:++u<l)&&o(d[u],u,d)!==!1;);return s}}return Zb=t,Zb}var Qb,sA;function Rp(){if(sA)return Qb;sA=1;var e=$N(),t=Toe(),n=t(e);return Qb=n,Qb}var Jb,iA;function wo(){if(iA)return Jb;iA=1;function e(t){return t}return Jb=e,Jb}var ey,aA;function II(){if(aA)return ey;aA=1;var e=wo();function t(n){return typeof n=="function"?n:e}return ey=t,ey}var ty,oA;function PI(){if(oA)return ty;oA=1;var e=MN(),t=Rp(),n=II(),r=Hn();function s(o,l){var u=r(o)?e:t;return u(o,n(l))}return ty=s,ty}var ny,lA;function zI(){return lA||(lA=1,ny=PI()),ny}var ry,cA;function Aoe(){if(cA)return ry;cA=1;var e=Rp();function t(n,r){var s=[];return e(n,function(o,l,u){r(o,l,u)&&s.push(o)}),s}return ry=t,ry}var sy,uA;function Moe(){if(uA)return sy;uA=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return sy=t,sy}var iy,dA;function Roe(){if(dA)return iy;dA=1;function e(t){return this.__data__.has(t)}return iy=e,iy}var ay,fA;function BI(){if(fA)return ay;fA=1;var e=AN(),t=Moe(),n=Roe();function r(s){var o=-1,l=s==null?0:s.length;for(this.__data__=new e;++o<l;)this.add(s[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,ay=r,ay}var oy,hA;function Ooe(){if(hA)return oy;hA=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(t[r],r,t))return!0;return!1}return oy=e,oy}var ly,pA;function $I(){if(pA)return ly;pA=1;function e(t,n){return t.has(n)}return ly=e,ly}var cy,mA;function UI(){if(mA)return cy;mA=1;var e=BI(),t=Ooe(),n=$I(),r=1,s=2;function o(l,u,d,f,p,m){var g=d&r,b=l.length,y=u.length;if(b!=y&&!(g&&y>b))return!1;var v=m.get(l),_=m.get(u);if(v&&_)return v==u&&_==l;var N=-1,j=!0,k=d&s?new e:void 0;for(m.set(l,u),m.set(u,l);++N<b;){var C=l[N],A=u[N];if(f)var T=g?f(A,C,N,u,l,m):f(C,A,N,l,u,m);if(T!==void 0){if(T)continue;j=!1;break}if(k){if(!t(u,function(M,z){if(!n(k,z)&&(C===M||p(C,M,d,f,m)))return k.push(z)})){j=!1;break}}else if(!(C===A||p(C,A,d,f,m))){j=!1;break}}return m.delete(l),m.delete(u),j}return cy=o,cy}var uy,gA;function Doe(){if(gA)return uy;gA=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s,o){r[++n]=[o,s]}),r}return uy=e,uy}var dy,xA;function UN(){if(xA)return dy;xA=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s){r[++n]=s}),r}return dy=e,dy}var fy,bA;function Loe(){if(bA)return fy;bA=1;var e=Yl(),t=MI(),n=Kl(),r=UI(),s=Doe(),o=UN(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",b="[object RegExp]",y="[object Set]",v="[object String]",_="[object Symbol]",N="[object ArrayBuffer]",j="[object DataView]",k=e?e.prototype:void 0,C=k?k.valueOf:void 0;function A(T,M,z,$,D,I,F){switch(z){case j:if(T.byteLength!=M.byteLength||T.byteOffset!=M.byteOffset)return!1;T=T.buffer,M=M.buffer;case N:return!(T.byteLength!=M.byteLength||!I(new t(T),new t(M)));case d:case f:case g:return n(+T,+M);case p:return T.name==M.name&&T.message==M.message;case b:case v:return T==M+"";case m:var K=s;case y:var B=$&l;if(K||(K=o),T.size!=M.size&&!B)return!1;var G=F.get(T);if(G)return G==M;$|=u,F.set(T,M);var U=r(K(T),K(M),$,D,I,F);return F.delete(T),U;case _:if(C)return C.call(T)==C.call(M)}return!1}return fy=A,fy}var hy,yA;function Ioe(){if(yA)return hy;yA=1;var e=TI(),t=1,n=Object.prototype,r=n.hasOwnProperty;function s(o,l,u,d,f,p){var m=u&t,g=e(o),b=g.length,y=e(l),v=y.length;if(b!=v&&!m)return!1;for(var _=b;_--;){var N=g[_];if(!(m?N in l:r.call(l,N)))return!1}var j=p.get(o),k=p.get(l);if(j&&k)return j==l&&k==o;var C=!0;p.set(o,l),p.set(l,o);for(var A=m;++_<b;){N=g[_];var T=o[N],M=l[N];if(d)var z=m?d(M,T,N,l,o,p):d(T,M,N,o,l,p);if(!(z===void 0?T===M||f(T,M,u,d,p):z)){C=!1;break}A||(A=N=="constructor")}if(C&&!A){var $=o.constructor,D=l.constructor;$!=D&&"constructor"in o&&"constructor"in l&&!(typeof $=="function"&&$ instanceof $&&typeof D=="function"&&D instanceof D)&&(C=!1)}return p.delete(o),p.delete(l),C}return hy=s,hy}var py,vA;function Poe(){if(vA)return py;vA=1;var e=kp(),t=UI(),n=Loe(),r=Ioe(),s=Zl(),o=Hn(),l=Xl(),u=ud(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function y(v,_,N,j,k,C){var A=o(v),T=o(_),M=A?p:s(v),z=T?p:s(_);M=M==f?m:M,z=z==f?m:z;var $=M==m,D=z==m,I=M==z;if(I&&l(v)){if(!l(_))return!1;A=!0,$=!1}if(I&&!$)return C||(C=new e),A||u(v)?t(v,_,N,j,k,C):n(v,_,M,N,j,k,C);if(!(N&d)){var F=$&&b.call(v,"__wrapped__"),K=D&&b.call(_,"__wrapped__");if(F||K){var B=F?v.value():v,G=K?_.value():_;return C||(C=new e),k(B,G,N,j,C)}}return I?(C||(C=new e),r(v,_,N,j,k,C)):!1}return py=y,py}var my,wA;function qI(){if(wA)return my;wA=1;var e=Poe(),t=ri();function n(r,s,o,l,u){return r===s?!0:r==null||s==null||!t(r)&&!t(s)?r!==r&&s!==s:e(r,s,o,l,n,u)}return my=n,my}var gy,_A;function zoe(){if(_A)return gy;_A=1;var e=kp(),t=qI(),n=1,r=2;function s(o,l,u,d){var f=u.length,p=f,m=!d;if(o==null)return!p;for(o=Object(o);f--;){var g=u[f];if(m&&g[2]?g[1]!==o[g[0]]:!(g[0]in o))return!1}for(;++f<p;){g=u[f];var b=g[0],y=o[b],v=g[1];if(m&&g[2]){if(y===void 0&&!(b in o))return!1}else{var _=new e;if(d)var N=d(y,v,b,o,l,_);if(!(N===void 0?t(v,y,n|r,d,_):N))return!1}}return!0}return gy=s,gy}var xy,NA;function FI(){if(NA)return xy;NA=1;var e=ys();function t(n){return n===n&&!e(n)}return xy=t,xy}var by,SA;function Boe(){if(SA)return by;SA=1;var e=FI(),t=Aa();function n(r){for(var s=t(r),o=s.length;o--;){var l=s[o],u=r[l];s[o]=[l,u,e(u)]}return s}return by=n,by}var yy,kA;function HI(){if(kA)return yy;kA=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return yy=e,yy}var vy,EA;function $oe(){if(EA)return vy;EA=1;var e=zoe(),t=Boe(),n=HI();function r(s){var o=t(s);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(l){return l===s||e(l,s,o)}}return vy=r,vy}var wy,jA;function Ql(){if(jA)return wy;jA=1;var e=bo(),t=ri(),n="[object Symbol]";function r(s){return typeof s=="symbol"||t(s)&&e(s)==n}return wy=r,wy}var _y,CA;function qN(){if(CA)return _y;CA=1;var e=Hn(),t=Ql(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||l!=null&&o in Object(l)}return _y=s,_y}var Ny,TA;function Uoe(){if(TA)return Ny;TA=1;var e=AN(),t="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var o=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var f=r.apply(this,l);return o.cache=d.set(u,f)||d,f};return o.cache=new(n.Cache||e),o}return n.Cache=e,Ny=n,Ny}var Sy,AA;function qoe(){if(AA)return Sy;AA=1;var e=Uoe(),t=500;function n(r){var s=e(r,function(l){return o.size===t&&o.clear(),l}),o=s.cache;return s}return Sy=n,Sy}var ky,MA;function Foe(){if(MA)return ky;MA=1;var e=qoe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(t,function(l,u,d,f){o.push(d?f.replace(n,"$1"):u||l)}),o});return ky=r,ky}var Ey,RA;function Op(){if(RA)return Ey;RA=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,o=Array(s);++r<s;)o[r]=n(t[r],r,t);return o}return Ey=e,Ey}var jy,OA;function Hoe(){if(OA)return jy;OA=1;var e=Yl(),t=Op(),n=Hn(),r=Ql(),s=e?e.prototype:void 0,o=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(r(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return jy=l,jy}var Cy,DA;function GI(){if(DA)return Cy;DA=1;var e=Hoe();function t(n){return n==null?"":e(n)}return Cy=t,Cy}var Ty,LA;function Dp(){if(LA)return Ty;LA=1;var e=Hn(),t=qN(),n=Foe(),r=GI();function s(o,l){return e(o)?o:t(o,l)?[o]:n(r(o))}return Ty=s,Ty}var Ay,IA;function dd(){if(IA)return Ay;IA=1;var e=Ql();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Ay=t,Ay}var My,PA;function Lp(){if(PA)return My;PA=1;var e=Dp(),t=dd();function n(r,s){s=e(s,r);for(var o=0,l=s.length;r!=null&&o<l;)r=r[t(s[o++])];return o&&o==l?r:void 0}return My=n,My}var Ry,zA;function Goe(){if(zA)return Ry;zA=1;var e=Lp();function t(n,r,s){var o=n==null?void 0:e(n,r);return o===void 0?s:o}return Ry=t,Ry}var Oy,BA;function Voe(){if(BA)return Oy;BA=1;function e(t,n){return t!=null&&n in Object(t)}return Oy=e,Oy}var Dy,$A;function VI(){if($A)return Dy;$A=1;var e=Dp(),t=cd(),n=Hn(),r=Cp(),s=RN(),o=dd();function l(u,d,f){d=e(d,u);for(var p=-1,m=d.length,g=!1;++p<m;){var b=o(d[p]);if(!(g=u!=null&&f(u,b)))break;u=u[b]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&s(m)&&r(b,m)&&(n(u)||t(u)))}return Dy=l,Dy}var Ly,UA;function WI(){if(UA)return Ly;UA=1;var e=Voe(),t=VI();function n(r,s){return r!=null&&t(r,s,e)}return Ly=n,Ly}var Iy,qA;function Woe(){if(qA)return Iy;qA=1;var e=qI(),t=Goe(),n=WI(),r=qN(),s=FI(),o=HI(),l=dd(),u=1,d=2;function f(p,m){return r(p)&&s(m)?o(l(p),m):function(g){var b=t(g,p);return b===void 0&&b===m?n(g,p):e(m,b,u|d)}}return Iy=f,Iy}var Py,FA;function KI(){if(FA)return Py;FA=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Py=e,Py}var zy,HA;function Koe(){if(HA)return zy;HA=1;var e=Lp();function t(n){return function(r){return e(r,n)}}return zy=t,zy}var By,GA;function Yoe(){if(GA)return By;GA=1;var e=KI(),t=Koe(),n=qN(),r=dd();function s(o){return n(o)?e(r(o)):t(o)}return By=s,By}var $y,VA;function Ui(){if(VA)return $y;VA=1;var e=$oe(),t=Woe(),n=wo(),r=Hn(),s=Yoe();function o(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?t(l[0],l[1]):e(l):s(l)}return $y=o,$y}var Uy,WA;function YI(){if(WA)return Uy;WA=1;var e=kI(),t=Aoe(),n=Ui(),r=Hn();function s(o,l){var u=r(o)?e:t;return u(o,n(l,3))}return Uy=s,Uy}var qy,KA;function Xoe(){if(KA)return qy;KA=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,s){return r!=null&&t.call(r,s)}return qy=n,qy}var Fy,YA;function XI(){if(YA)return Fy;YA=1;var e=Xoe(),t=VI();function n(r,s){return r!=null&&t(r,s,e)}return Fy=n,Fy}var Hy,XA;function Zoe(){if(XA)return Hy;XA=1;var e=DN(),t=Zl(),n=cd(),r=Hn(),s=$i(),o=Xl(),l=Ap(),u=ud(),d="[object Map]",f="[object Set]",p=Object.prototype,m=p.hasOwnProperty;function g(b){if(b==null)return!0;if(s(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||o(b)||u(b)||n(b)))return!b.length;var y=t(b);if(y==d||y==f)return!b.size;if(l(b))return!e(b).length;for(var v in b)if(m.call(b,v))return!1;return!0}return Hy=g,Hy}var Gy,ZA;function ZI(){if(ZA)return Gy;ZA=1;function e(t){return t===void 0}return Gy=e,Gy}var Vy,QA;function QI(){if(QA)return Vy;QA=1;var e=Rp(),t=$i();function n(r,s){var o=-1,l=t(r)?Array(r.length):[];return e(r,function(u,d,f){l[++o]=s(u,d,f)}),l}return Vy=n,Vy}var Wy,JA;function JI(){if(JA)return Wy;JA=1;var e=Op(),t=Ui(),n=QI(),r=Hn();function s(o,l){var u=r(o)?e:n;return u(o,t(l,3))}return Wy=s,Wy}var Ky,eM;function Qoe(){if(eM)return Ky;eM=1;function e(t,n,r,s){var o=-1,l=t==null?0:t.length;for(s&&l&&(r=t[++o]);++o<l;)r=n(r,t[o],o,t);return r}return Ky=e,Ky}var Yy,tM;function Joe(){if(tM)return Yy;tM=1;function e(t,n,r,s,o){return o(t,function(l,u,d){r=s?(s=!1,l):n(r,l,u,d)}),r}return Yy=e,Yy}var Xy,nM;function e9(){if(nM)return Xy;nM=1;var e=Qoe(),t=Rp(),n=Ui(),r=Joe(),s=Hn();function o(l,u,d){var f=s(l)?e:r,p=arguments.length<3;return f(l,n(u,4),d,p,t)}return Xy=o,Xy}var Zy,rM;function ele(){if(rM)return Zy;rM=1;var e=bo(),t=Hn(),n=ri(),r="[object String]";function s(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Zy=s,Zy}var Qy,sM;function tle(){if(sM)return Qy;sM=1;var e=KI(),t=e("length");return Qy=t,Qy}var Jy,iM;function nle(){if(iM)return Jy;iM=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=t+n+r,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+o+"]");function d(f){return u.test(f)}return Jy=d,Jy}var ev,aM;function rle(){if(aM)return ev;aM=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=t+n+r,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",y=f+"?",v="["+o+"]?",_="(?:"+b+"(?:"+[p,m,g].join("|")+")"+v+y+")*",N=v+y+_,j="(?:"+[p+u+"?",u,m,g,l].join("|")+")",k=RegExp(d+"(?="+d+")|"+j+N,"g");function C(A){for(var T=k.lastIndex=0;k.test(A);)++T;return T}return ev=C,ev}var tv,oM;function sle(){if(oM)return tv;oM=1;var e=tle(),t=nle(),n=rle();function r(s){return t(s)?n(s):e(s)}return tv=r,tv}var nv,lM;function ile(){if(lM)return nv;lM=1;var e=DN(),t=Zl(),n=$i(),r=ele(),s=sle(),o="[object Map]",l="[object Set]";function u(d){if(d==null)return 0;if(n(d))return r(d)?s(d):d.length;var f=t(d);return f==o||f==l?d.size:e(d).length}return nv=u,nv}var rv,cM;function ale(){if(cM)return rv;cM=1;var e=MN(),t=OI(),n=$N(),r=Ui(),s=Mp(),o=Hn(),l=Xl(),u=od(),d=ys(),f=ud();function p(m,g,b){var y=o(m),v=y||l(m)||f(m);if(g=r(g,4),b==null){var _=m&&m.constructor;v?b=y?new _:[]:d(m)?b=u(_)?t(s(m)):{}:b={}}return(v?e:n)(m,function(N,j,k){return g(b,N,j,k)}),b}return rv=p,rv}var sv,uM;function ole(){if(uM)return sv;uM=1;var e=Yl(),t=cd(),n=Hn(),r=e?e.isConcatSpreadable:void 0;function s(o){return n(o)||t(o)||!!(r&&o&&o[r])}return sv=s,sv}var iv,dM;function FN(){if(dM)return iv;dM=1;var e=IN(),t=ole();function n(r,s,o,l,u){var d=-1,f=r.length;for(o||(o=t),u||(u=[]);++d<f;){var p=r[d];s>0&&o(p)?s>1?n(p,s-1,o,l,u):e(u,p):l||(u[u.length]=p)}return u}return iv=n,iv}var av,fM;function lle(){if(fM)return av;fM=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return av=e,av}var ov,hM;function t9(){if(hM)return ov;hM=1;var e=lle(),t=Math.max;function n(r,s,o){return s=t(s===void 0?r.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var p=Array(s+1);++u<s;)p[u]=l[u];return p[s]=o(f),e(r,this,p)}}return ov=n,ov}var lv,pM;function cle(){if(pM)return lv;pM=1;var e=zN(),t=vI(),n=wo(),r=t?function(s,o){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return lv=r,lv}var cv,mM;function ule(){if(mM)return cv;mM=1;var e=800,t=16,n=Date.now;function r(s){var o=0,l=0;return function(){var u=n(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}return cv=r,cv}var uv,gM;function n9(){if(gM)return uv;gM=1;var e=cle(),t=ule(),n=t(e);return uv=n,uv}var dv,xM;function Ip(){if(xM)return dv;xM=1;var e=wo(),t=t9(),n=n9();function r(s,o){return n(t(s,o,e),s+"")}return dv=r,dv}var fv,bM;function r9(){if(bM)return fv;bM=1;function e(t,n,r,s){for(var o=t.length,l=r+(s?1:-1);s?l--:++l<o;)if(n(t[l],l,t))return l;return-1}return fv=e,fv}var hv,yM;function dle(){if(yM)return hv;yM=1;function e(t){return t!==t}return hv=e,hv}var pv,vM;function fle(){if(vM)return pv;vM=1;function e(t,n,r){for(var s=r-1,o=t.length;++s<o;)if(t[s]===n)return s;return-1}return pv=e,pv}var mv,wM;function hle(){if(wM)return mv;wM=1;var e=r9(),t=dle(),n=fle();function r(s,o,l){return o===o?n(s,o,l):e(s,t,l)}return mv=r,mv}var gv,_M;function ple(){if(_M)return gv;_M=1;var e=hle();function t(n,r){var s=n==null?0:n.length;return!!s&&e(n,r,0)>-1}return gv=t,gv}var xv,NM;function mle(){if(NM)return xv;NM=1;function e(t,n,r){for(var s=-1,o=t==null?0:t.length;++s<o;)if(r(n,t[s]))return!0;return!1}return xv=e,xv}var bv,SM;function gle(){if(SM)return bv;SM=1;function e(){}return bv=e,bv}var yv,kM;function xle(){if(kM)return yv;kM=1;var e=AI(),t=gle(),n=UN(),r=1/0,s=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return yv=s,yv}var vv,EM;function ble(){if(EM)return vv;EM=1;var e=BI(),t=ple(),n=mle(),r=$I(),s=xle(),o=UN(),l=200;function u(d,f,p){var m=-1,g=t,b=d.length,y=!0,v=[],_=v;if(p)y=!1,g=n;else if(b>=l){var N=f?null:s(d);if(N)return o(N);y=!1,g=r,_=new e}else _=f?[]:v;e:for(;++m<b;){var j=d[m],k=f?f(j):j;if(j=p||j!==0?j:0,y&&k===k){for(var C=_.length;C--;)if(_[C]===k)continue e;f&&_.push(k),v.push(j)}else g(_,k,p)||(_!==v&&_.push(k),v.push(j))}return v}return vv=u,vv}var wv,jM;function s9(){if(jM)return wv;jM=1;var e=$i(),t=ri();function n(r){return t(r)&&e(r)}return wv=n,wv}var _v,CM;function yle(){if(CM)return _v;CM=1;var e=FN(),t=Ip(),n=ble(),r=s9(),s=t(function(o){return n(e(o,1,r,!0))});return _v=s,_v}var Nv,TM;function vle(){if(TM)return Nv;TM=1;var e=Op();function t(n,r){return e(r,function(s){return n[s]})}return Nv=t,Nv}var Sv,AM;function i9(){if(AM)return Sv;AM=1;var e=vle(),t=Aa();function n(r){return r==null?[]:e(r,t(r))}return Sv=n,Sv}var kv,MM;function vs(){if(MM)return kv;MM=1;var e;if(typeof CN=="function")try{e={clone:joe(),constant:zN(),each:zI(),filter:YI(),has:XI(),isArray:Hn(),isEmpty:Zoe(),isFunction:od(),isUndefined:ZI(),keys:Aa(),map:JI(),reduce:e9(),size:ile(),transform:ale(),union:yle(),values:i9()}}catch{}return e||(e=window._),kv=e,kv}var Ev,RM;function HN(){if(RM)return Ev;RM=1;var e=vs();Ev=s;var t="\0",n="\0",r="";function s(p){this._isDirected=e.has(p,"directed")?p.directed:!0,this._isMultigraph=e.has(p,"multigraph")?p.multigraph:!1,this._isCompound=e.has(p,"compound")?p.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(p){return this._label=p,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(p){return e.isFunction(p)||(p=e.constant(p)),this._defaultNodeLabelFn=p,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return e.keys(this._nodes)},s.prototype.sources=function(){var p=this;return e.filter(this.nodes(),function(m){return e.isEmpty(p._in[m])})},s.prototype.sinks=function(){var p=this;return e.filter(this.nodes(),function(m){return e.isEmpty(p._out[m])})},s.prototype.setNodes=function(p,m){var g=arguments,b=this;return e.each(p,function(y){g.length>1?b.setNode(y,m):b.setNode(y)}),this},s.prototype.setNode=function(p,m){return e.has(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=m),this):(this._nodes[p]=arguments.length>1?m:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=n,this._children[p]={},this._children[n][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)},s.prototype.node=function(p){return this._nodes[p]},s.prototype.hasNode=function(p){return e.has(this._nodes,p)},s.prototype.removeNode=function(p){var m=this;if(e.has(this._nodes,p)){var g=function(b){m.removeEdge(m._edgeObjs[b])};delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],e.each(this.children(p),function(b){m.setParent(b)}),delete this._children[p]),e.each(e.keys(this._in[p]),g),delete this._in[p],delete this._preds[p],e.each(e.keys(this._out[p]),g),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this},s.prototype.setParent=function(p,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(m))m=n;else{m+="";for(var g=m;!e.isUndefined(g);g=this.parent(g))if(g===p)throw new Error("Setting "+m+" as parent of "+p+" would create a cycle");this.setNode(m)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=m,this._children[m][p]=!0,this},s.prototype._removeFromParentsChildList=function(p){delete this._children[this._parent[p]][p]},s.prototype.parent=function(p){if(this._isCompound){var m=this._parent[p];if(m!==n)return m}},s.prototype.children=function(p){if(e.isUndefined(p)&&(p=n),this._isCompound){var m=this._children[p];if(m)return e.keys(m)}else{if(p===n)return this.nodes();if(this.hasNode(p))return[]}},s.prototype.predecessors=function(p){var m=this._preds[p];if(m)return e.keys(m)},s.prototype.successors=function(p){var m=this._sucs[p];if(m)return e.keys(m)},s.prototype.neighbors=function(p){var m=this.predecessors(p);if(m)return e.union(m,this.successors(p))},s.prototype.isLeaf=function(p){var m;return this.isDirected()?m=this.successors(p):m=this.neighbors(p),m.length===0},s.prototype.filterNodes=function(p){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var g=this;e.each(this._nodes,function(v,_){p(_)&&m.setNode(_,v)}),e.each(this._edgeObjs,function(v){m.hasNode(v.v)&&m.hasNode(v.w)&&m.setEdge(v,g.edge(v))});var b={};function y(v){var _=g.parent(v);return _===void 0||m.hasNode(_)?(b[v]=_,_):_ in b?b[_]:y(_)}return this._isCompound&&e.each(m.nodes(),function(v){m.setParent(v,y(v))}),m},s.prototype.setDefaultEdgeLabel=function(p){return e.isFunction(p)||(p=e.constant(p)),this._defaultEdgeLabelFn=p,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return e.values(this._edgeObjs)},s.prototype.setPath=function(p,m){var g=this,b=arguments;return e.reduce(p,function(y,v){return b.length>1?g.setEdge(y,v,m):g.setEdge(y,v),v}),this},s.prototype.setEdge=function(){var p,m,g,b,y=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(p=v.v,m=v.w,g=v.name,arguments.length===2&&(b=arguments[1],y=!0)):(p=v,m=arguments[1],g=arguments[3],arguments.length>2&&(b=arguments[2],y=!0)),p=""+p,m=""+m,e.isUndefined(g)||(g=""+g);var _=u(this._isDirected,p,m,g);if(e.has(this._edgeLabels,_))return y&&(this._edgeLabels[_]=b),this;if(!e.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(m),this._edgeLabels[_]=y?b:this._defaultEdgeLabelFn(p,m,g);var N=d(this._isDirected,p,m,g);return p=N.v,m=N.w,Object.freeze(N),this._edgeObjs[_]=N,o(this._preds[m],p),o(this._sucs[p],m),this._in[m][_]=N,this._out[p][_]=N,this._edgeCount++,this},s.prototype.edge=function(p,m,g){var b=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g);return this._edgeLabels[b]},s.prototype.hasEdge=function(p,m,g){var b=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g);return e.has(this._edgeLabels,b)},s.prototype.removeEdge=function(p,m,g){var b=arguments.length===1?f(this._isDirected,arguments[0]):u(this._isDirected,p,m,g),y=this._edgeObjs[b];return y&&(p=y.v,m=y.w,delete this._edgeLabels[b],delete this._edgeObjs[b],l(this._preds[m],p),l(this._sucs[p],m),delete this._in[m][b],delete this._out[p][b],this._edgeCount--),this},s.prototype.inEdges=function(p,m){var g=this._in[p];if(g){var b=e.values(g);return m?e.filter(b,function(y){return y.v===m}):b}},s.prototype.outEdges=function(p,m){var g=this._out[p];if(g){var b=e.values(g);return m?e.filter(b,function(y){return y.w===m}):b}},s.prototype.nodeEdges=function(p,m){var g=this.inEdges(p,m);if(g)return g.concat(this.outEdges(p,m))};function o(p,m){p[m]?p[m]++:p[m]=1}function l(p,m){--p[m]||delete p[m]}function u(p,m,g,b){var y=""+m,v=""+g;if(!p&&y>v){var _=y;y=v,v=_}return y+r+v+r+(e.isUndefined(b)?t:b)}function d(p,m,g,b){var y=""+m,v=""+g;if(!p&&y>v){var _=y;y=v,v=_}var N={v:y,w:v};return b&&(N.name=b),N}function f(p,m){return u(p,m.v,m.w,m.name)}return Ev}var jv,OM;function wle(){return OM||(OM=1,jv="2.1.8"),jv}var Cv,DM;function _le(){return DM||(DM=1,Cv={Graph:HN(),version:wle()}),Cv}var Tv,LM;function Nle(){if(LM)return Tv;LM=1;var e=vs(),t=HN();Tv={write:n,read:o};function n(l){var u={options:{directed:l.isDirected(),multigraph:l.isMultigraph(),compound:l.isCompound()},nodes:r(l),edges:s(l)};return e.isUndefined(l.graph())||(u.value=e.clone(l.graph())),u}function r(l){return e.map(l.nodes(),function(u){var d=l.node(u),f=l.parent(u),p={v:u};return e.isUndefined(d)||(p.value=d),e.isUndefined(f)||(p.parent=f),p})}function s(l){return e.map(l.edges(),function(u){var d=l.edge(u),f={v:u.v,w:u.w};return e.isUndefined(u.name)||(f.name=u.name),e.isUndefined(d)||(f.value=d),f})}function o(l){var u=new t(l.options).setGraph(l.value);return e.each(l.nodes,function(d){u.setNode(d.v,d.value),d.parent&&u.setParent(d.v,d.parent)}),e.each(l.edges,function(d){u.setEdge({v:d.v,w:d.w,name:d.name},d.value)}),u}return Tv}var Av,IM;function Sle(){if(IM)return Av;IM=1;var e=vs();Av=t;function t(n){var r={},s=[],o;function l(u){e.has(r,u)||(r[u]=!0,o.push(u),e.each(n.successors(u),l),e.each(n.predecessors(u),l))}return e.each(n.nodes(),function(u){o=[],l(u),o.length&&s.push(o)}),s}return Av}var Mv,PM;function a9(){if(PM)return Mv;PM=1;var e=vs();Mv=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var s=this._keyIndices;if(n=String(n),!e.has(s,n)){var o=this._arr,l=o.length;return s[n]=l,o.push({key:n,priority:r}),this._decrease(l),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var s=this._keyIndices[n];if(r>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[s].priority+" New: "+r);this._arr[s].priority=r,this._decrease(s)},t.prototype._heapify=function(n){var r=this._arr,s=2*n,o=s+1,l=n;s<r.length&&(l=r[s].priority<r[l].priority?s:l,o<r.length&&(l=r[o].priority<r[l].priority?o:l),l!==n&&(this._swap(n,l),this._heapify(l)))},t.prototype._decrease=function(n){for(var r=this._arr,s=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<s));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var s=this._arr,o=this._keyIndices,l=s[n],u=s[r];s[n]=u,s[r]=l,o[u.key]=n,o[l.key]=r},Mv}var Rv,zM;function o9(){if(zM)return Rv;zM=1;var e=vs(),t=a9();Rv=r;var n=e.constant(1);function r(o,l,u,d){return s(o,String(l),u||n,d||function(f){return o.outEdges(f)})}function s(o,l,u,d){var f={},p=new t,m,g,b=function(y){var v=y.v!==m?y.v:y.w,_=f[v],N=u(y),j=g.distance+N;if(N<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+N);j<_.distance&&(_.distance=j,_.predecessor=m,p.decrease(v,j))};for(o.nodes().forEach(function(y){var v=y===l?0:Number.POSITIVE_INFINITY;f[y]={distance:v},p.add(y,v)});p.size()>0&&(m=p.removeMin(),g=f[m],g.distance!==Number.POSITIVE_INFINITY);)d(m).forEach(b);return f}return Rv}var Ov,BM;function kle(){if(BM)return Ov;BM=1;var e=o9(),t=vs();Ov=n;function n(r,s,o){return t.transform(r.nodes(),function(l,u){l[u]=e(r,u,s,o)},{})}return Ov}var Dv,$M;function l9(){if($M)return Dv;$M=1;var e=vs();Dv=t;function t(n){var r=0,s=[],o={},l=[];function u(d){var f=o[d]={onStack:!0,lowlink:r,index:r++};if(s.push(d),n.successors(d).forEach(function(g){e.has(o,g)?o[g].onStack&&(f.lowlink=Math.min(f.lowlink,o[g].index)):(u(g),f.lowlink=Math.min(f.lowlink,o[g].lowlink))}),f.lowlink===f.index){var p=[],m;do m=s.pop(),o[m].onStack=!1,p.push(m);while(d!==m);l.push(p)}}return n.nodes().forEach(function(d){e.has(o,d)||u(d)}),l}return Dv}var Lv,UM;function Ele(){if(UM)return Lv;UM=1;var e=vs(),t=l9();Lv=n;function n(r){return e.filter(t(r),function(s){return s.length>1||s.length===1&&r.hasEdge(s[0],s[0])})}return Lv}var Iv,qM;function jle(){if(qM)return Iv;qM=1;var e=vs();Iv=n;var t=e.constant(1);function n(s,o,l){return r(s,o||t,l||function(u){return s.outEdges(u)})}function r(s,o,l){var u={},d=s.nodes();return d.forEach(function(f){u[f]={},u[f][f]={distance:0},d.forEach(function(p){f!==p&&(u[f][p]={distance:Number.POSITIVE_INFINITY})}),l(f).forEach(function(p){var m=p.v===f?p.w:p.v,g=o(p);u[f][m]={distance:g,predecessor:f}})}),d.forEach(function(f){var p=u[f];d.forEach(function(m){var g=u[m];d.forEach(function(b){var y=g[f],v=p[b],_=g[b],N=y.distance+v.distance;N<_.distance&&(_.distance=N,_.predecessor=v.predecessor)})})}),u}return Iv}var Pv,FM;function c9(){if(FM)return Pv;FM=1;var e=vs();Pv=t,t.CycleException=n;function t(r){var s={},o={},l=[];function u(d){if(e.has(o,d))throw new n;e.has(s,d)||(o[d]=!0,s[d]=!0,e.each(r.predecessors(d),u),delete o[d],l.push(d))}if(e.each(r.sinks(),u),e.size(s)!==r.nodeCount())throw new n;return l}function n(){}return n.prototype=new Error,Pv}var zv,HM;function Cle(){if(HM)return zv;HM=1;var e=c9();zv=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return zv}var Bv,GM;function u9(){if(GM)return Bv;GM=1;var e=vs();Bv=t;function t(r,s,o){e.isArray(s)||(s=[s]);var l=(r.isDirected()?r.successors:r.neighbors).bind(r),u=[],d={};return e.each(s,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,o==="post",d,l,u)}),u}function n(r,s,o,l,u,d){e.has(l,s)||(l[s]=!0,o||d.push(s),e.each(u(s),function(f){n(r,f,o,l,u,d)}),o&&d.push(s))}return Bv}var $v,VM;function Tle(){if(VM)return $v;VM=1;var e=u9();$v=t;function t(n,r){return e(n,r,"post")}return $v}var Uv,WM;function Ale(){if(WM)return Uv;WM=1;var e=u9();Uv=t;function t(n,r){return e(n,r,"pre")}return Uv}var qv,KM;function Mle(){if(KM)return qv;KM=1;var e=vs(),t=HN(),n=a9();qv=r;function r(s,o){var l=new t,u={},d=new n,f;function p(g){var b=g.v===f?g.w:g.v,y=d.priority(b);if(y!==void 0){var v=o(g);v<y&&(u[b]=f,d.decrease(b,v))}}if(s.nodeCount()===0)return l;e.each(s.nodes(),function(g){d.add(g,Number.POSITIVE_INFINITY),l.setNode(g)}),d.decrease(s.nodes()[0],0);for(var m=!1;d.size()>0;){if(f=d.removeMin(),e.has(u,f))l.setEdge(f,u[f]);else{if(m)throw new Error("Input graph is not connected: "+s);m=!0}s.nodeEdges(f).forEach(p)}return l}return qv}var Fv,YM;function Rle(){return YM||(YM=1,Fv={components:Sle(),dijkstra:o9(),dijkstraAll:kle(),findCycles:Ele(),floydWarshall:jle(),isAcyclic:Cle(),postorder:Tle(),preorder:Ale(),prim:Mle(),tarjan:l9(),topsort:c9()}),Fv}var Hv,XM;function Ole(){if(XM)return Hv;XM=1;var e=_le();return Hv={Graph:e.Graph,json:Nle(),alg:Rle(),version:e.version},Hv}var Gv,ZM;function zs(){if(ZM)return Gv;ZM=1;var e;if(typeof CN=="function")try{e=Ole()}catch{}return e||(e=window.graphlib),Gv=e,Gv}var Vv,QM;function Dle(){if(QM)return Vv;QM=1;var e=LI(),t=1,n=4;function r(s){return e(s,t|n)}return Vv=r,Vv}var Wv,JM;function Pp(){if(JM)return Wv;JM=1;var e=Kl(),t=$i(),n=Cp(),r=ys();function s(o,l,u){if(!r(u))return!1;var d=typeof l;return(d=="number"?t(u)&&n(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return Wv=s,Wv}var Kv,eR;function Lle(){if(eR)return Kv;eR=1;var e=Ip(),t=Kl(),n=Pp(),r=vo(),s=Object.prototype,o=s.hasOwnProperty,l=e(function(u,d){u=Object(u);var f=-1,p=d.length,m=p>2?d[2]:void 0;for(m&&n(d[0],d[1],m)&&(p=1);++f<p;)for(var g=d[f],b=r(g),y=-1,v=b.length;++y<v;){var _=b[y],N=u[_];(N===void 0||t(N,s[_])&&!o.call(u,_))&&(u[_]=g[_])}return u});return Kv=l,Kv}var Yv,tR;function Ile(){if(tR)return Yv;tR=1;var e=Ui(),t=$i(),n=Aa();function r(s){return function(o,l,u){var d=Object(o);if(!t(o)){var f=e(l,3);o=n(o),l=function(m){return f(d[m],m,d)}}var p=s(o,l,u);return p>-1?d[f?o[p]:p]:void 0}}return Yv=r,Yv}var Xv,nR;function Ple(){if(nR)return Xv;nR=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Xv=t,Xv}var Zv,rR;function zle(){if(rR)return Zv;rR=1;var e=Ple(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Zv=n,Zv}var Qv,sR;function Ble(){if(sR)return Qv;sR=1;var e=zle(),t=ys(),n=Ql(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=o.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):s.test(f)?r:+f}return Qv=d,Qv}var Jv,iR;function d9(){if(iR)return Jv;iR=1;var e=Ble(),t=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var o=s<0?-1:1;return o*n}return s===s?s:0}return Jv=r,Jv}var e1,aR;function $le(){if(aR)return e1;aR=1;var e=d9();function t(n){var r=e(n),s=r%1;return r===r?s?r-s:r:0}return e1=t,e1}var t1,oR;function Ule(){if(oR)return t1;oR=1;var e=r9(),t=Ui(),n=$le(),r=Math.max;function s(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:n(u);return f<0&&(f=r(d+f,0)),e(o,t(l,3),f)}return t1=s,t1}var n1,lR;function qle(){if(lR)return n1;lR=1;var e=Ile(),t=Ule(),n=e(t);return n1=n,n1}var r1,cR;function f9(){if(cR)return r1;cR=1;var e=FN();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return r1=t,r1}var s1,uR;function Fle(){if(uR)return s1;uR=1;var e=BN(),t=II(),n=vo();function r(s,o){return s==null?s:e(s,t(o),n)}return s1=r,s1}var i1,dR;function Hle(){if(dR)return i1;dR=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return i1=e,i1}var a1,fR;function Gle(){if(fR)return a1;fR=1;var e=Ep(),t=$N(),n=Ui();function r(s,o){var l={};return o=n(o,3),t(s,function(u,d,f){e(l,d,o(u,d,f))}),l}return a1=r,a1}var o1,hR;function GN(){if(hR)return o1;hR=1;var e=Ql();function t(n,r,s){for(var o=-1,l=n.length;++o<l;){var u=n[o],d=r(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,p=u}return p}return o1=t,o1}var l1,pR;function Vle(){if(pR)return l1;pR=1;function e(t,n){return t>n}return l1=e,l1}var c1,mR;function Wle(){if(mR)return c1;mR=1;var e=GN(),t=Vle(),n=wo();function r(s){return s&&s.length?e(s,n,t):void 0}return c1=r,c1}var u1,gR;function h9(){if(gR)return u1;gR=1;var e=Ep(),t=Kl();function n(r,s,o){(o!==void 0&&!t(r[s],o)||o===void 0&&!(s in r))&&e(r,s,o)}return u1=n,u1}var d1,xR;function Kle(){if(xR)return d1;xR=1;var e=bo(),t=Mp(),n=ri(),r="[object Object]",s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,d=l.call(Object);function f(p){if(!n(p)||e(p)!=r)return!1;var m=t(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return d1=f,d1}var f1,bR;function p9(){if(bR)return f1;bR=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return f1=e,f1}var h1,yR;function Yle(){if(yR)return h1;yR=1;var e=ld(),t=vo();function n(r){return e(r,t(r))}return h1=n,h1}var p1,vR;function Xle(){if(vR)return p1;vR=1;var e=h9(),t=NI(),n=RI(),r=SI(),s=DI(),o=cd(),l=Hn(),u=s9(),d=Xl(),f=od(),p=ys(),m=Kle(),g=ud(),b=p9(),y=Yle();function v(_,N,j,k,C,A,T){var M=b(_,j),z=b(N,j),$=T.get(z);if($){e(_,j,$);return}var D=A?A(M,z,j+"",_,N,T):void 0,I=D===void 0;if(I){var F=l(z),K=!F&&d(z),B=!F&&!K&&g(z);D=z,F||K||B?l(M)?D=M:u(M)?D=r(M):K?(I=!1,D=t(z,!0)):B?(I=!1,D=n(z,!0)):D=[]:m(z)||o(z)?(D=M,o(M)?D=y(M):(!p(M)||f(M))&&(D=s(z))):I=!1}I&&(T.set(z,D),C(D,z,k,A,T),T.delete(z)),e(_,j,D)}return p1=v,p1}var m1,wR;function Zle(){if(wR)return m1;wR=1;var e=kp(),t=h9(),n=BN(),r=Xle(),s=ys(),o=vo(),l=p9();function u(d,f,p,m,g){d!==f&&n(f,function(b,y){if(g||(g=new e),s(b))r(d,f,y,p,u,m,g);else{var v=m?m(l(d,y),b,y+"",d,f,g):void 0;v===void 0&&(v=b),t(d,y,v)}},o)}return m1=u,m1}var g1,_R;function Qle(){if(_R)return g1;_R=1;var e=Ip(),t=Pp();function n(r){return e(function(s,o){var l=-1,u=o.length,d=u>1?o[u-1]:void 0,f=u>2?o[2]:void 0;for(d=r.length>3&&typeof d=="function"?(u--,d):void 0,f&&t(o[0],o[1],f)&&(d=u<3?void 0:d,u=1),s=Object(s);++l<u;){var p=o[l];p&&r(s,p,l,d)}return s})}return g1=n,g1}var x1,NR;function Jle(){if(NR)return x1;NR=1;var e=Zle(),t=Qle(),n=t(function(r,s,o){e(r,s,o)});return x1=n,x1}var b1,SR;function m9(){if(SR)return b1;SR=1;function e(t,n){return t<n}return b1=e,b1}var y1,kR;function ece(){if(kR)return y1;kR=1;var e=GN(),t=m9(),n=wo();function r(s){return s&&s.length?e(s,n,t):void 0}return y1=r,y1}var v1,ER;function tce(){if(ER)return v1;ER=1;var e=GN(),t=Ui(),n=m9();function r(s,o){return s&&s.length?e(s,t(o,2),n):void 0}return v1=r,v1}var w1,jR;function nce(){if(jR)return w1;jR=1;var e=Us(),t=function(){return e.Date.now()};return w1=t,w1}var _1,CR;function rce(){if(CR)return _1;CR=1;var e=jp(),t=Dp(),n=Cp(),r=ys(),s=dd();function o(l,u,d,f){if(!r(l))return l;u=t(u,l);for(var p=-1,m=u.length,g=m-1,b=l;b!=null&&++p<m;){var y=s(u[p]),v=d;if(y==="__proto__"||y==="constructor"||y==="prototype")return l;if(p!=g){var _=b[y];v=f?f(_,y,b):void 0,v===void 0&&(v=r(_)?_:n(u[p+1])?[]:{})}e(b,y,v),b=b[y]}return l}return _1=o,_1}var N1,TR;function sce(){if(TR)return N1;TR=1;var e=Lp(),t=rce(),n=Dp();function r(s,o,l){for(var u=-1,d=o.length,f={};++u<d;){var p=o[u],m=e(s,p);l(m,p)&&t(f,n(p,s),m)}return f}return N1=r,N1}var S1,AR;function ice(){if(AR)return S1;AR=1;var e=sce(),t=WI();function n(r,s){return e(r,s,function(o,l){return t(r,l)})}return S1=n,S1}var k1,MR;function ace(){if(MR)return k1;MR=1;var e=f9(),t=t9(),n=n9();function r(s){return n(t(s,void 0,e),s+"")}return k1=r,k1}var E1,RR;function oce(){if(RR)return E1;RR=1;var e=ice(),t=ace(),n=t(function(r,s){return r==null?{}:e(r,s)});return E1=n,E1}var j1,OR;function lce(){if(OR)return j1;OR=1;var e=Math.ceil,t=Math.max;function n(r,s,o,l){for(var u=-1,d=t(e((s-r)/(o||1)),0),f=Array(d);d--;)f[l?d:++u]=r,r+=o;return f}return j1=n,j1}var C1,DR;function cce(){if(DR)return C1;DR=1;var e=lce(),t=Pp(),n=d9();function r(s){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=n(o),l===void 0?(l=o,o=0):l=n(l),u=u===void 0?o<l?1:-1:n(u),e(o,l,u,s)}}return C1=r,C1}var T1,LR;function uce(){if(LR)return T1;LR=1;var e=cce(),t=e();return T1=t,T1}var A1,IR;function dce(){if(IR)return A1;IR=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return A1=e,A1}var M1,PR;function fce(){if(PR)return M1;PR=1;var e=Ql();function t(n,r){if(n!==r){var s=n!==void 0,o=n===null,l=n===n,u=e(n),d=r!==void 0,f=r===null,p=r===r,m=e(r);if(!f&&!m&&!u&&n>r||u&&d&&p&&!f&&!m||o&&d&&p||!s&&p||!l)return 1;if(!o&&!u&&!m&&n<r||m&&s&&l&&!o&&!u||f&&s&&l||!d&&l||!p)return-1}return 0}return M1=t,M1}var R1,zR;function hce(){if(zR)return R1;zR=1;var e=fce();function t(n,r,s){for(var o=-1,l=n.criteria,u=r.criteria,d=l.length,f=s.length;++o<d;){var p=e(l[o],u[o]);if(p){if(o>=f)return p;var m=s[o];return p*(m=="desc"?-1:1)}}return n.index-r.index}return R1=t,R1}var O1,BR;function pce(){if(BR)return O1;BR=1;var e=Op(),t=Lp(),n=Ui(),r=QI(),s=dce(),o=Tp(),l=hce(),u=wo(),d=Hn();function f(p,m,g){m.length?m=e(m,function(v){return d(v)?function(_){return t(_,v.length===1?v[0]:v)}:v}):m=[u];var b=-1;m=e(m,o(n));var y=r(p,function(v,_,N){var j=e(m,function(k){return k(v)});return{criteria:j,index:++b,value:v}});return s(y,function(v,_){return l(v,_,g)})}return O1=f,O1}var D1,$R;function mce(){if($R)return D1;$R=1;var e=FN(),t=pce(),n=Ip(),r=Pp(),s=n(function(o,l){if(o==null)return[];var u=l.length;return u>1&&r(o,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return D1=s,D1}var L1,UR;function gce(){if(UR)return L1;UR=1;var e=GI(),t=0;function n(r){var s=++t;return e(r)+s}return L1=n,L1}var I1,qR;function xce(){if(qR)return I1;qR=1;function e(t,n,r){for(var s=-1,o=t.length,l=n.length,u={};++s<o;){var d=s<l?n[s]:void 0;r(u,t[s],d)}return u}return I1=e,I1}var P1,FR;function bce(){if(FR)return P1;FR=1;var e=jp(),t=xce();function n(r,s){return t(r||[],s||[],e)}return P1=n,P1}var z1,HR;function gn(){if(HR)return z1;HR=1;var e;if(typeof CN=="function")try{e={cloneDeep:Dle(),constant:zN(),defaults:Lle(),each:zI(),filter:YI(),find:qle(),flatten:f9(),forEach:PI(),forIn:Fle(),has:XI(),isUndefined:ZI(),last:Hle(),map:JI(),mapValues:Gle(),max:Wle(),merge:Jle(),min:ece(),minBy:tce(),now:nce(),pick:oce(),range:uce(),reduce:e9(),sortBy:mce(),uniqueId:gce(),values:i9(),zipObject:bce()}}catch{}return e||(e=window._),z1=e,z1}var B1,GR;function yce(){if(GR)return B1;GR=1,B1=e;function e(){var r={};r._next=r._prev=r,this._sentinel=r}e.prototype.dequeue=function(){var r=this._sentinel,s=r._prev;if(s!==r)return t(s),s},e.prototype.enqueue=function(r){var s=this._sentinel;r._prev&&r._next&&t(r),r._next=s._next,s._next._prev=r,s._next=r,r._prev=s},e.prototype.toString=function(){for(var r=[],s=this._sentinel,o=s._prev;o!==s;)r.push(JSON.stringify(o,n)),o=o._prev;return"["+r.join(", ")+"]"};function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,s){if(r!=="_next"&&r!=="_prev")return s}return B1}var $1,VR;function vce(){if(VR)return $1;VR=1;var e=gn(),t=zs().Graph,n=yce();$1=s;var r=e.constant(1);function s(f,p){if(f.nodeCount()<=1)return[];var m=u(f,p||r),g=o(m.graph,m.buckets,m.zeroIdx);return e.flatten(e.map(g,function(b){return f.outEdges(b.v,b.w)}),!0)}function o(f,p,m){for(var g=[],b=p[p.length-1],y=p[0],v;f.nodeCount();){for(;v=y.dequeue();)l(f,p,m,v);for(;v=b.dequeue();)l(f,p,m,v);if(f.nodeCount()){for(var _=p.length-2;_>0;--_)if(v=p[_].dequeue(),v){g=g.concat(l(f,p,m,v,!0));break}}}return g}function l(f,p,m,g,b){var y=b?[]:void 0;return e.forEach(f.inEdges(g.v),function(v){var _=f.edge(v),N=f.node(v.v);b&&y.push({v:v.v,w:v.w}),N.out-=_,d(p,m,N)}),e.forEach(f.outEdges(g.v),function(v){var _=f.edge(v),N=v.w,j=f.node(N);j.in-=_,d(p,m,j)}),f.removeNode(g.v),y}function u(f,p){var m=new t,g=0,b=0;e.forEach(f.nodes(),function(_){m.setNode(_,{v:_,in:0,out:0})}),e.forEach(f.edges(),function(_){var N=m.edge(_.v,_.w)||0,j=p(_),k=N+j;m.setEdge(_.v,_.w,k),b=Math.max(b,m.node(_.v).out+=j),g=Math.max(g,m.node(_.w).in+=j)});var y=e.range(b+g+3).map(function(){return new n}),v=g+1;return e.forEach(m.nodes(),function(_){d(y,v,m.node(_))}),{graph:m,buckets:y,zeroIdx:v}}function d(f,p,m){m.out?m.in?f[m.out-m.in+p].enqueue(m):f[f.length-1].enqueue(m):f[0].enqueue(m)}return $1}var U1,WR;function wce(){if(WR)return U1;WR=1;var e=gn(),t=vce();U1={run:n,undo:s};function n(o){var l=o.graph().acyclicer==="greedy"?t(o,u(o)):r(o);e.forEach(l,function(d){var f=o.edge(d);o.removeEdge(d),f.forwardName=d.name,f.reversed=!0,o.setEdge(d.w,d.v,f,e.uniqueId("rev"))});function u(d){return function(f){return d.edge(f).weight}}}function r(o){var l=[],u={},d={};function f(p){e.has(d,p)||(d[p]=!0,u[p]=!0,e.forEach(o.outEdges(p),function(m){e.has(u,m.w)?l.push(m):f(m.w)}),delete u[p])}return e.forEach(o.nodes(),f),l}function s(o){e.forEach(o.edges(),function(l){var u=o.edge(l);if(u.reversed){o.removeEdge(l);var d=u.forwardName;delete u.reversed,delete u.forwardName,o.setEdge(l.w,l.v,u,d)}})}return U1}var q1,KR;function Lr(){if(KR)return q1;KR=1;var e=gn(),t=zs().Graph;q1={addDummyNode:n,simplify:r,asNonCompoundGraph:s,successorWeights:o,predecessorWeights:l,intersectRect:u,buildLayerMatrix:d,normalizeRanks:f,removeEmptyRanks:p,addBorderNode:m,maxRank:g,partition:b,time:y,notime:v};function n(_,N,j,k){var C;do C=e.uniqueId(k);while(_.hasNode(C));return j.dummy=N,_.setNode(C,j),C}function r(_){var N=new t().setGraph(_.graph());return e.forEach(_.nodes(),function(j){N.setNode(j,_.node(j))}),e.forEach(_.edges(),function(j){var k=N.edge(j.v,j.w)||{weight:0,minlen:1},C=_.edge(j);N.setEdge(j.v,j.w,{weight:k.weight+C.weight,minlen:Math.max(k.minlen,C.minlen)})}),N}function s(_){var N=new t({multigraph:_.isMultigraph()}).setGraph(_.graph());return e.forEach(_.nodes(),function(j){_.children(j).length||N.setNode(j,_.node(j))}),e.forEach(_.edges(),function(j){N.setEdge(j,_.edge(j))}),N}function o(_){var N=e.map(_.nodes(),function(j){var k={};return e.forEach(_.outEdges(j),function(C){k[C.w]=(k[C.w]||0)+_.edge(C).weight}),k});return e.zipObject(_.nodes(),N)}function l(_){var N=e.map(_.nodes(),function(j){var k={};return e.forEach(_.inEdges(j),function(C){k[C.v]=(k[C.v]||0)+_.edge(C).weight}),k});return e.zipObject(_.nodes(),N)}function u(_,N){var j=_.x,k=_.y,C=N.x-j,A=N.y-k,T=_.width/2,M=_.height/2;if(!C&&!A)throw new Error("Not possible to find intersection inside of the rectangle");var z,$;return Math.abs(A)*T>Math.abs(C)*M?(A<0&&(M=-M),z=M*C/A,$=M):(C<0&&(T=-T),z=T,$=T*A/C),{x:j+z,y:k+$}}function d(_){var N=e.map(e.range(g(_)+1),function(){return[]});return e.forEach(_.nodes(),function(j){var k=_.node(j),C=k.rank;e.isUndefined(C)||(N[C][k.order]=j)}),N}function f(_){var N=e.min(e.map(_.nodes(),function(j){return _.node(j).rank}));e.forEach(_.nodes(),function(j){var k=_.node(j);e.has(k,"rank")&&(k.rank-=N)})}function p(_){var N=e.min(e.map(_.nodes(),function(A){return _.node(A).rank})),j=[];e.forEach(_.nodes(),function(A){var T=_.node(A).rank-N;j[T]||(j[T]=[]),j[T].push(A)});var k=0,C=_.graph().nodeRankFactor;e.forEach(j,function(A,T){e.isUndefined(A)&&T%C!==0?--k:k&&e.forEach(A,function(M){_.node(M).rank+=k})})}function m(_,N,j,k){var C={width:0,height:0};return arguments.length>=4&&(C.rank=j,C.order=k),n(_,"border",C,N)}function g(_){return e.max(e.map(_.nodes(),function(N){var j=_.node(N).rank;if(!e.isUndefined(j))return j}))}function b(_,N){var j={lhs:[],rhs:[]};return e.forEach(_,function(k){N(k)?j.lhs.push(k):j.rhs.push(k)}),j}function y(_,N){var j=e.now();try{return N()}finally{console.log(_+" time: "+(e.now()-j)+"ms")}}function v(_,N){return N()}return q1}var F1,YR;function _ce(){if(YR)return F1;YR=1;var e=gn(),t=Lr();F1={run:n,undo:s};function n(o){o.graph().dummyChains=[],e.forEach(o.edges(),function(l){r(o,l)})}function r(o,l){var u=l.v,d=o.node(u).rank,f=l.w,p=o.node(f).rank,m=l.name,g=o.edge(l),b=g.labelRank;if(p!==d+1){o.removeEdge(l);var y,v,_;for(_=0,++d;d<p;++_,++d)g.points=[],v={width:0,height:0,edgeLabel:g,edgeObj:l,rank:d},y=t.addDummyNode(o,"edge",v,"_d"),d===b&&(v.width=g.width,v.height=g.height,v.dummy="edge-label",v.labelpos=g.labelpos),o.setEdge(u,y,{weight:g.weight},m),_===0&&o.graph().dummyChains.push(y),u=y;o.setEdge(u,f,{weight:g.weight},m)}}function s(o){e.forEach(o.graph().dummyChains,function(l){var u=o.node(l),d=u.edgeLabel,f;for(o.setEdge(u.edgeObj,d);u.dummy;)f=o.successors(l)[0],o.removeNode(l),d.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(d.x=u.x,d.y=u.y,d.width=u.width,d.height=u.height),l=f,u=o.node(l)})}return F1}var H1,XR;function $h(){if(XR)return H1;XR=1;var e=gn();H1={longestPath:t,slack:n};function t(r){var s={};function o(l){var u=r.node(l);if(e.has(s,l))return u.rank;s[l]=!0;var d=e.min(e.map(r.outEdges(l),function(f){return o(f.w)-r.edge(f).minlen}));return(d===Number.POSITIVE_INFINITY||d===void 0||d===null)&&(d=0),u.rank=d}e.forEach(r.sources(),o)}function n(r,s){return r.node(s.w).rank-r.node(s.v).rank-r.edge(s).minlen}return H1}var G1,ZR;function g9(){if(ZR)return G1;ZR=1;var e=gn(),t=zs().Graph,n=$h().slack;G1=r;function r(u){var d=new t({directed:!1}),f=u.nodes()[0],p=u.nodeCount();d.setNode(f,{});for(var m,g;s(d,u)<p;)m=o(d,u),g=d.hasNode(m.v)?n(u,m):-n(u,m),l(d,u,g);return d}function s(u,d){function f(p){e.forEach(d.nodeEdges(p),function(m){var g=m.v,b=p===g?m.w:g;!u.hasNode(b)&&!n(d,m)&&(u.setNode(b,{}),u.setEdge(p,b,{}),f(b))})}return e.forEach(u.nodes(),f),u.nodeCount()}function o(u,d){return e.minBy(d.edges(),function(f){if(u.hasNode(f.v)!==u.hasNode(f.w))return n(d,f)})}function l(u,d,f){e.forEach(u.nodes(),function(p){d.node(p).rank+=f})}return G1}var V1,QR;function Nce(){if(QR)return V1;QR=1;var e=gn(),t=g9(),n=$h().slack,r=$h().longestPath,s=zs().alg.preorder,o=zs().alg.postorder,l=Lr().simplify;V1=u,u.initLowLimValues=m,u.initCutValues=d,u.calcCutValue=p,u.leaveEdge=b,u.enterEdge=y,u.exchangeEdges=v;function u(k){k=l(k),r(k);var C=t(k);m(C),d(C,k);for(var A,T;A=b(C);)T=y(C,k,A),v(C,k,A,T)}function d(k,C){var A=o(k,k.nodes());A=A.slice(0,A.length-1),e.forEach(A,function(T){f(k,C,T)})}function f(k,C,A){var T=k.node(A),M=T.parent;k.edge(A,M).cutvalue=p(k,C,A)}function p(k,C,A){var T=k.node(A),M=T.parent,z=!0,$=C.edge(A,M),D=0;return $||(z=!1,$=C.edge(M,A)),D=$.weight,e.forEach(C.nodeEdges(A),function(I){var F=I.v===A,K=F?I.w:I.v;if(K!==M){var B=F===z,G=C.edge(I).weight;if(D+=B?G:-G,N(k,A,K)){var U=k.edge(A,K).cutvalue;D+=B?-U:U}}}),D}function m(k,C){arguments.length<2&&(C=k.nodes()[0]),g(k,{},1,C)}function g(k,C,A,T,M){var z=A,$=k.node(T);return C[T]=!0,e.forEach(k.neighbors(T),function(D){e.has(C,D)||(A=g(k,C,A,D,T))}),$.low=z,$.lim=A++,M?$.parent=M:delete $.parent,A}function b(k){return e.find(k.edges(),function(C){return k.edge(C).cutvalue<0})}function y(k,C,A){var T=A.v,M=A.w;C.hasEdge(T,M)||(T=A.w,M=A.v);var z=k.node(T),$=k.node(M),D=z,I=!1;z.lim>$.lim&&(D=$,I=!0);var F=e.filter(C.edges(),function(K){return I===j(k,k.node(K.v),D)&&I!==j(k,k.node(K.w),D)});return e.minBy(F,function(K){return n(C,K)})}function v(k,C,A,T){var M=A.v,z=A.w;k.removeEdge(M,z),k.setEdge(T.v,T.w,{}),m(k),d(k,C),_(k,C)}function _(k,C){var A=e.find(k.nodes(),function(M){return!C.node(M).parent}),T=s(k,A);T=T.slice(1),e.forEach(T,function(M){var z=k.node(M).parent,$=C.edge(M,z),D=!1;$||($=C.edge(z,M),D=!0),C.node(M).rank=C.node(z).rank+(D?$.minlen:-$.minlen)})}function N(k,C,A){return k.hasEdge(C,A)}function j(k,C,A){return A.low<=C.lim&&C.lim<=A.lim}return V1}var W1,JR;function Sce(){if(JR)return W1;JR=1;var e=$h(),t=e.longestPath,n=g9(),r=Nce();W1=s;function s(d){switch(d.graph().ranker){case"network-simplex":u(d);break;case"tight-tree":l(d);break;case"longest-path":o(d);break;default:u(d)}}var o=t;function l(d){t(d),n(d)}function u(d){r(d)}return W1}var K1,e3;function kce(){if(e3)return K1;e3=1;var e=gn();K1=t;function t(s){var o=r(s);e.forEach(s.graph().dummyChains,function(l){for(var u=s.node(l),d=u.edgeObj,f=n(s,o,d.v,d.w),p=f.path,m=f.lca,g=0,b=p[g],y=!0;l!==d.w;){if(u=s.node(l),y){for(;(b=p[g])!==m&&s.node(b).maxRank<u.rank;)g++;b===m&&(y=!1)}if(!y){for(;g<p.length-1&&s.node(b=p[g+1]).minRank<=u.rank;)g++;b=p[g]}s.setParent(l,b),l=s.successors(l)[0]}})}function n(s,o,l,u){var d=[],f=[],p=Math.min(o[l].low,o[u].low),m=Math.max(o[l].lim,o[u].lim),g,b;g=l;do g=s.parent(g),d.push(g);while(g&&(o[g].low>p||m>o[g].lim));for(b=g,g=u;(g=s.parent(g))!==b;)f.push(g);return{path:d.concat(f.reverse()),lca:b}}function r(s){var o={},l=0;function u(d){var f=l;e.forEach(s.children(d),u),o[d]={low:f,lim:l++}}return e.forEach(s.children(),u),o}return K1}var Y1,t3;function Ece(){if(t3)return Y1;t3=1;var e=gn(),t=Lr();Y1={run:n,cleanup:l};function n(u){var d=t.addDummyNode(u,"root",{},"_root"),f=s(u),p=e.max(e.values(f))-1,m=2*p+1;u.graph().nestingRoot=d,e.forEach(u.edges(),function(b){u.edge(b).minlen*=m});var g=o(u)+1;e.forEach(u.children(),function(b){r(u,d,m,g,p,f,b)}),u.graph().nodeRankFactor=m}function r(u,d,f,p,m,g,b){var y=u.children(b);if(!y.length){b!==d&&u.setEdge(d,b,{weight:0,minlen:f});return}var v=t.addBorderNode(u,"_bt"),_=t.addBorderNode(u,"_bb"),N=u.node(b);u.setParent(v,b),N.borderTop=v,u.setParent(_,b),N.borderBottom=_,e.forEach(y,function(j){r(u,d,f,p,m,g,j);var k=u.node(j),C=k.borderTop?k.borderTop:j,A=k.borderBottom?k.borderBottom:j,T=k.borderTop?p:2*p,M=C!==A?1:m-g[b]+1;u.setEdge(v,C,{weight:T,minlen:M,nestingEdge:!0}),u.setEdge(A,_,{weight:T,minlen:M,nestingEdge:!0})}),u.parent(b)||u.setEdge(d,v,{weight:0,minlen:m+g[b]})}function s(u){var d={};function f(p,m){var g=u.children(p);g&&g.length&&e.forEach(g,function(b){f(b,m+1)}),d[p]=m}return e.forEach(u.children(),function(p){f(p,1)}),d}function o(u){return e.reduce(u.edges(),function(d,f){return d+u.edge(f).weight},0)}function l(u){var d=u.graph();u.removeNode(d.nestingRoot),delete d.nestingRoot,e.forEach(u.edges(),function(f){var p=u.edge(f);p.nestingEdge&&u.removeEdge(f)})}return Y1}var X1,n3;function jce(){if(n3)return X1;n3=1;var e=gn(),t=Lr();X1=n;function n(s){function o(l){var u=s.children(l),d=s.node(l);if(u.length&&e.forEach(u,o),e.has(d,"minRank")){d.borderLeft=[],d.borderRight=[];for(var f=d.minRank,p=d.maxRank+1;f<p;++f)r(s,"borderLeft","_bl",l,d,f),r(s,"borderRight","_br",l,d,f)}}e.forEach(s.children(),o)}function r(s,o,l,u,d,f){var p={width:0,height:0,rank:f,borderType:o},m=d[o][f-1],g=t.addDummyNode(s,"border",p,l);d[o][f]=g,s.setParent(g,u),m&&s.setEdge(m,g,{weight:1})}return X1}var Z1,r3;function Cce(){if(r3)return Z1;r3=1;var e=gn();Z1={adjust:t,undo:n};function t(f){var p=f.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&r(f)}function n(f){var p=f.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&o(f),(p==="lr"||p==="rl")&&(u(f),r(f))}function r(f){e.forEach(f.nodes(),function(p){s(f.node(p))}),e.forEach(f.edges(),function(p){s(f.edge(p))})}function s(f){var p=f.width;f.width=f.height,f.height=p}function o(f){e.forEach(f.nodes(),function(p){l(f.node(p))}),e.forEach(f.edges(),function(p){var m=f.edge(p);e.forEach(m.points,l),e.has(m,"y")&&l(m)})}function l(f){f.y=-f.y}function u(f){e.forEach(f.nodes(),function(p){d(f.node(p))}),e.forEach(f.edges(),function(p){var m=f.edge(p);e.forEach(m.points,d),e.has(m,"x")&&d(m)})}function d(f){var p=f.x;f.x=f.y,f.y=p}return Z1}var Q1,s3;function Tce(){if(s3)return Q1;s3=1;var e=gn();Q1=t;function t(n){var r={},s=e.filter(n.nodes(),function(f){return!n.children(f).length}),o=e.max(e.map(s,function(f){return n.node(f).rank})),l=e.map(e.range(o+1),function(){return[]});function u(f){if(!e.has(r,f)){r[f]=!0;var p=n.node(f);l[p.rank].push(f),e.forEach(n.successors(f),u)}}var d=e.sortBy(s,function(f){return n.node(f).rank});return e.forEach(d,u),l}return Q1}var J1,i3;function Ace(){if(i3)return J1;i3=1;var e=gn();J1=t;function t(r,s){for(var o=0,l=1;l<s.length;++l)o+=n(r,s[l-1],s[l]);return o}function n(r,s,o){for(var l=e.zipObject(o,e.map(o,function(g,b){return b})),u=e.flatten(e.map(s,function(g){return e.sortBy(e.map(r.outEdges(g),function(b){return{pos:l[b.w],weight:r.edge(b).weight}}),"pos")}),!0),d=1;d<o.length;)d<<=1;var f=2*d-1;d-=1;var p=e.map(new Array(f),function(){return 0}),m=0;return e.forEach(u.forEach(function(g){var b=g.pos+d;p[b]+=g.weight;for(var y=0;b>0;)b%2&&(y+=p[b+1]),b=b-1>>1,p[b]+=g.weight;m+=g.weight*y})),m}return J1}var ew,a3;function Mce(){if(a3)return ew;a3=1;var e=gn();ew=t;function t(n,r){return e.map(r,function(s){var o=n.inEdges(s);if(o.length){var l=e.reduce(o,function(u,d){var f=n.edge(d),p=n.node(d.v);return{sum:u.sum+f.weight*p.order,weight:u.weight+f.weight}},{sum:0,weight:0});return{v:s,barycenter:l.sum/l.weight,weight:l.weight}}else return{v:s}})}return ew}var tw,o3;function Rce(){if(o3)return tw;o3=1;var e=gn();tw=t;function t(s,o){var l={};e.forEach(s,function(d,f){var p=l[d.v]={indegree:0,in:[],out:[],vs:[d.v],i:f};e.isUndefined(d.barycenter)||(p.barycenter=d.barycenter,p.weight=d.weight)}),e.forEach(o.edges(),function(d){var f=l[d.v],p=l[d.w];!e.isUndefined(f)&&!e.isUndefined(p)&&(p.indegree++,f.out.push(l[d.w]))});var u=e.filter(l,function(d){return!d.indegree});return n(u)}function n(s){var o=[];function l(f){return function(p){p.merged||(e.isUndefined(p.barycenter)||e.isUndefined(f.barycenter)||p.barycenter>=f.barycenter)&&r(f,p)}}function u(f){return function(p){p.in.push(f),--p.indegree===0&&s.push(p)}}for(;s.length;){var d=s.pop();o.push(d),e.forEach(d.in.reverse(),l(d)),e.forEach(d.out,u(d))}return e.map(e.filter(o,function(f){return!f.merged}),function(f){return e.pick(f,["vs","i","barycenter","weight"])})}function r(s,o){var l=0,u=0;s.weight&&(l+=s.barycenter*s.weight,u+=s.weight),o.weight&&(l+=o.barycenter*o.weight,u+=o.weight),s.vs=o.vs.concat(s.vs),s.barycenter=l/u,s.weight=u,s.i=Math.min(o.i,s.i),o.merged=!0}return tw}var nw,l3;function Oce(){if(l3)return nw;l3=1;var e=gn(),t=Lr();nw=n;function n(o,l){var u=t.partition(o,function(v){return e.has(v,"barycenter")}),d=u.lhs,f=e.sortBy(u.rhs,function(v){return-v.i}),p=[],m=0,g=0,b=0;d.sort(s(!!l)),b=r(p,f,b),e.forEach(d,function(v){b+=v.vs.length,p.push(v.vs),m+=v.barycenter*v.weight,g+=v.weight,b=r(p,f,b)});var y={vs:e.flatten(p,!0)};return g&&(y.barycenter=m/g,y.weight=g),y}function r(o,l,u){for(var d;l.length&&(d=e.last(l)).i<=u;)l.pop(),o.push(d.vs),u++;return u}function s(o){return function(l,u){return l.barycenter<u.barycenter?-1:l.barycenter>u.barycenter?1:o?u.i-l.i:l.i-u.i}}return nw}var rw,c3;function Dce(){if(c3)return rw;c3=1;var e=gn(),t=Mce(),n=Rce(),r=Oce();rw=s;function s(u,d,f,p){var m=u.children(d),g=u.node(d),b=g?g.borderLeft:void 0,y=g?g.borderRight:void 0,v={};b&&(m=e.filter(m,function(A){return A!==b&&A!==y}));var _=t(u,m);e.forEach(_,function(A){if(u.children(A.v).length){var T=s(u,A.v,f,p);v[A.v]=T,e.has(T,"barycenter")&&l(A,T)}});var N=n(_,f);o(N,v);var j=r(N,p);if(b&&(j.vs=e.flatten([b,j.vs,y],!0),u.predecessors(b).length)){var k=u.node(u.predecessors(b)[0]),C=u.node(u.predecessors(y)[0]);e.has(j,"barycenter")||(j.barycenter=0,j.weight=0),j.barycenter=(j.barycenter*j.weight+k.order+C.order)/(j.weight+2),j.weight+=2}return j}function o(u,d){e.forEach(u,function(f){f.vs=e.flatten(f.vs.map(function(p){return d[p]?d[p].vs:p}),!0)})}function l(u,d){e.isUndefined(u.barycenter)?(u.barycenter=d.barycenter,u.weight=d.weight):(u.barycenter=(u.barycenter*u.weight+d.barycenter*d.weight)/(u.weight+d.weight),u.weight+=d.weight)}return rw}var sw,u3;function Lce(){if(u3)return sw;u3=1;var e=gn(),t=zs().Graph;sw=n;function n(s,o,l){var u=r(s),d=new t({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(f){return s.node(f)});return e.forEach(s.nodes(),function(f){var p=s.node(f),m=s.parent(f);(p.rank===o||p.minRank<=o&&o<=p.maxRank)&&(d.setNode(f),d.setParent(f,m||u),e.forEach(s[l](f),function(g){var b=g.v===f?g.w:g.v,y=d.edge(b,f),v=e.isUndefined(y)?0:y.weight;d.setEdge(b,f,{weight:s.edge(g).weight+v})}),e.has(p,"minRank")&&d.setNode(f,{borderLeft:p.borderLeft[o],borderRight:p.borderRight[o]}))}),d}function r(s){for(var o;s.hasNode(o=e.uniqueId("_root")););return o}return sw}var iw,d3;function Ice(){if(d3)return iw;d3=1;var e=gn();iw=t;function t(n,r,s){var o={},l;e.forEach(s,function(u){for(var d=n.parent(u),f,p;d;){if(f=n.parent(d),f?(p=o[f],o[f]=d):(p=l,l=d),p&&p!==d){r.setEdge(p,d);return}d=f}})}return iw}var aw,f3;function Pce(){if(f3)return aw;f3=1;var e=gn(),t=Tce(),n=Ace(),r=Dce(),s=Lce(),o=Ice(),l=zs().Graph,u=Lr();aw=d;function d(g){var b=u.maxRank(g),y=f(g,e.range(1,b+1),"inEdges"),v=f(g,e.range(b-1,-1,-1),"outEdges"),_=t(g);m(g,_);for(var N=Number.POSITIVE_INFINITY,j,k=0,C=0;C<4;++k,++C){p(k%2?y:v,k%4>=2),_=u.buildLayerMatrix(g);var A=n(g,_);A<N&&(C=0,j=e.cloneDeep(_),N=A)}m(g,j)}function f(g,b,y){return e.map(b,function(v){return s(g,v,y)})}function p(g,b){var y=new l;e.forEach(g,function(v){var _=v.graph().root,N=r(v,_,y,b);e.forEach(N.vs,function(j,k){v.node(j).order=k}),o(v,y,N.vs)})}function m(g,b){e.forEach(b,function(y){e.forEach(y,function(v,_){g.node(v).order=_})})}return aw}var ow,h3;function zce(){if(h3)return ow;h3=1;var e=gn(),t=zs().Graph,n=Lr();ow={positionX:y,findType1Conflicts:r,findType2Conflicts:s,addConflict:l,hasConflict:u,verticalAlignment:d,horizontalCompaction:f,alignCoordinates:g,findSmallestWidthAlignment:m,balance:b};function r(N,j){var k={};function C(A,T){var M=0,z=0,$=A.length,D=e.last(T);return e.forEach(T,function(I,F){var K=o(N,I),B=K?N.node(K).order:$;(K||I===D)&&(e.forEach(T.slice(z,F+1),function(G){e.forEach(N.predecessors(G),function(U){var Y=N.node(U),W=Y.order;(W<M||B<W)&&!(Y.dummy&&N.node(G).dummy)&&l(k,U,G)})}),z=F+1,M=B)}),T}return e.reduce(j,C),k}function s(N,j){var k={};function C(T,M,z,$,D){var I;e.forEach(e.range(M,z),function(F){I=T[F],N.node(I).dummy&&e.forEach(N.predecessors(I),function(K){var B=N.node(K);B.dummy&&(B.order<$||B.order>D)&&l(k,K,I)})})}function A(T,M){var z=-1,$,D=0;return e.forEach(M,function(I,F){if(N.node(I).dummy==="border"){var K=N.predecessors(I);K.length&&($=N.node(K[0]).order,C(M,D,F,z,$),D=F,z=$)}C(M,D,M.length,$,T.length)}),M}return e.reduce(j,A),k}function o(N,j){if(N.node(j).dummy)return e.find(N.predecessors(j),function(k){return N.node(k).dummy})}function l(N,j,k){if(j>k){var C=j;j=k,k=C}var A=N[j];A||(N[j]=A={}),A[k]=!0}function u(N,j,k){if(j>k){var C=j;j=k,k=C}return e.has(N[j],k)}function d(N,j,k,C){var A={},T={},M={};return e.forEach(j,function(z){e.forEach(z,function($,D){A[$]=$,T[$]=$,M[$]=D})}),e.forEach(j,function(z){var $=-1;e.forEach(z,function(D){var I=C(D);if(I.length){I=e.sortBy(I,function(U){return M[U]});for(var F=(I.length-1)/2,K=Math.floor(F),B=Math.ceil(F);K<=B;++K){var G=I[K];T[D]===D&&$<M[G]&&!u(k,D,G)&&(T[G]=D,T[D]=A[D]=A[G],$=M[G])}}})}),{root:A,align:T}}function f(N,j,k,C,A){var T={},M=p(N,j,k,A),z=A?"borderLeft":"borderRight";function $(F,K){for(var B=M.nodes(),G=B.pop(),U={};G;)U[G]?F(G):(U[G]=!0,B.push(G),B=B.concat(K(G))),G=B.pop()}function D(F){T[F]=M.inEdges(F).reduce(function(K,B){return Math.max(K,T[B.v]+M.edge(B))},0)}function I(F){var K=M.outEdges(F).reduce(function(G,U){return Math.min(G,T[U.w]-M.edge(U))},Number.POSITIVE_INFINITY),B=N.node(F);K!==Number.POSITIVE_INFINITY&&B.borderType!==z&&(T[F]=Math.max(T[F],K))}return $(D,M.predecessors.bind(M)),$(I,M.successors.bind(M)),e.forEach(C,function(F){T[F]=T[k[F]]}),T}function p(N,j,k,C){var A=new t,T=N.graph(),M=v(T.nodesep,T.edgesep,C);return e.forEach(j,function(z){var $;e.forEach(z,function(D){var I=k[D];if(A.setNode(I),$){var F=k[$],K=A.edge(F,I);A.setEdge(F,I,Math.max(M(N,D,$),K||0))}$=D})}),A}function m(N,j){return e.minBy(e.values(j),function(k){var C=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;return e.forIn(k,function(T,M){var z=_(N,M)/2;C=Math.max(T+z,C),A=Math.min(T-z,A)}),C-A})}function g(N,j){var k=e.values(j),C=e.min(k),A=e.max(k);e.forEach(["u","d"],function(T){e.forEach(["l","r"],function(M){var z=T+M,$=N[z],D;if($!==j){var I=e.values($);D=M==="l"?C-e.min(I):A-e.max(I),D&&(N[z]=e.mapValues($,function(F){return F+D}))}})})}function b(N,j){return e.mapValues(N.ul,function(k,C){if(j)return N[j.toLowerCase()][C];var A=e.sortBy(e.map(N,C));return(A[1]+A[2])/2})}function y(N){var j=n.buildLayerMatrix(N),k=e.merge(r(N,j),s(N,j)),C={},A;e.forEach(["u","d"],function(M){A=M==="u"?j:e.values(j).reverse(),e.forEach(["l","r"],function(z){z==="r"&&(A=e.map(A,function(F){return e.values(F).reverse()}));var $=(M==="u"?N.predecessors:N.successors).bind(N),D=d(N,A,k,$),I=f(N,A,D.root,D.align,z==="r");z==="r"&&(I=e.mapValues(I,function(F){return-F})),C[M+z]=I})});var T=m(N,C);return g(C,T),b(C,N.graph().align)}function v(N,j,k){return function(C,A,T){var M=C.node(A),z=C.node(T),$=0,D;if($+=M.width/2,e.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":D=-M.width/2;break;case"r":D=M.width/2;break}if(D&&($+=k?D:-D),D=0,$+=(M.dummy?j:N)/2,$+=(z.dummy?j:N)/2,$+=z.width/2,e.has(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":D=z.width/2;break;case"r":D=-z.width/2;break}return D&&($+=k?D:-D),D=0,$}}function _(N,j){return N.node(j).width}return ow}var lw,p3;function Bce(){if(p3)return lw;p3=1;var e=gn(),t=Lr(),n=zce().positionX;lw=r;function r(o){o=t.asNonCompoundGraph(o),s(o),e.forEach(n(o),function(l,u){o.node(u).x=l})}function s(o){var l=t.buildLayerMatrix(o),u=o.graph().ranksep,d=0;e.forEach(l,function(f){var p=e.max(e.map(f,function(m){return o.node(m).height}));e.forEach(f,function(m){o.node(m).y=d+p/2}),d+=p+u})}return lw}var cw,m3;function $ce(){if(m3)return cw;m3=1;var e=gn(),t=wce(),n=_ce(),r=Sce(),s=Lr().normalizeRanks,o=kce(),l=Lr().removeEmptyRanks,u=Ece(),d=jce(),f=Cce(),p=Pce(),m=Bce(),g=Lr(),b=zs().Graph;cw=y;function y(H,Z){var Q=Z&&Z.debugTiming?g.time:g.notime;Q("layout",function(){var ie=Q("  buildLayoutGraph",function(){return $(H)});Q("  runLayout",function(){v(ie,Q)}),Q("  updateInputGraph",function(){_(H,ie)})})}function v(H,Z){Z("    makeSpaceForEdgeLabels",function(){D(H)}),Z("    removeSelfEdges",function(){X(H)}),Z("    acyclic",function(){t.run(H)}),Z("    nestingGraph.run",function(){u.run(H)}),Z("    rank",function(){r(g.asNonCompoundGraph(H))}),Z("    injectEdgeLabelProxies",function(){I(H)}),Z("    removeEmptyRanks",function(){l(H)}),Z("    nestingGraph.cleanup",function(){u.cleanup(H)}),Z("    normalizeRanks",function(){s(H)}),Z("    assignRankMinMax",function(){F(H)}),Z("    removeEdgeLabelProxies",function(){K(H)}),Z("    normalize.run",function(){n.run(H)}),Z("    parentDummyChains",function(){o(H)}),Z("    addBorderSegments",function(){d(H)}),Z("    order",function(){p(H)}),Z("    insertSelfEdges",function(){L(H)}),Z("    adjustCoordinateSystem",function(){f.adjust(H)}),Z("    position",function(){m(H)}),Z("    positionSelfEdges",function(){q(H)}),Z("    removeBorderNodes",function(){W(H)}),Z("    normalize.undo",function(){n.undo(H)}),Z("    fixupEdgeLabelCoords",function(){U(H)}),Z("    undoCoordinateSystem",function(){f.undo(H)}),Z("    translateGraph",function(){B(H)}),Z("    assignNodeIntersects",function(){G(H)}),Z("    reversePoints",function(){Y(H)}),Z("    acyclic.undo",function(){t.undo(H)})}function _(H,Z){e.forEach(H.nodes(),function(Q){var ie=H.node(Q),ee=Z.node(Q);ie&&(ie.x=ee.x,ie.y=ee.y,Z.children(Q).length&&(ie.width=ee.width,ie.height=ee.height))}),e.forEach(H.edges(),function(Q){var ie=H.edge(Q),ee=Z.edge(Q);ie.points=ee.points,e.has(ee,"x")&&(ie.x=ee.x,ie.y=ee.y)}),H.graph().width=Z.graph().width,H.graph().height=Z.graph().height}var N=["nodesep","edgesep","ranksep","marginx","marginy"],j={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},k=["acyclicer","ranker","rankdir","align"],C=["width","height"],A={width:0,height:0},T=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function $(H){var Z=new b({multigraph:!0,compound:!0}),Q=O(H.graph());return Z.setGraph(e.merge({},j,P(Q,N),e.pick(Q,k))),e.forEach(H.nodes(),function(ie){var ee=O(H.node(ie));Z.setNode(ie,e.defaults(P(ee,C),A)),Z.setParent(ie,H.parent(ie))}),e.forEach(H.edges(),function(ie){var ee=O(H.edge(ie));Z.setEdge(ie,e.merge({},M,P(ee,T),e.pick(ee,z)))}),Z}function D(H){var Z=H.graph();Z.ranksep/=2,e.forEach(H.edges(),function(Q){var ie=H.edge(Q);ie.minlen*=2,ie.labelpos.toLowerCase()!=="c"&&(Z.rankdir==="TB"||Z.rankdir==="BT"?ie.width+=ie.labeloffset:ie.height+=ie.labeloffset)})}function I(H){e.forEach(H.edges(),function(Z){var Q=H.edge(Z);if(Q.width&&Q.height){var ie=H.node(Z.v),ee=H.node(Z.w),re={rank:(ee.rank-ie.rank)/2+ie.rank,e:Z};g.addDummyNode(H,"edge-proxy",re,"_ep")}})}function F(H){var Z=0;e.forEach(H.nodes(),function(Q){var ie=H.node(Q);ie.borderTop&&(ie.minRank=H.node(ie.borderTop).rank,ie.maxRank=H.node(ie.borderBottom).rank,Z=e.max(Z,ie.maxRank))}),H.graph().maxRank=Z}function K(H){e.forEach(H.nodes(),function(Z){var Q=H.node(Z);Q.dummy==="edge-proxy"&&(H.edge(Q.e).labelRank=Q.rank,H.removeNode(Z))})}function B(H){var Z=Number.POSITIVE_INFINITY,Q=0,ie=Number.POSITIVE_INFINITY,ee=0,re=H.graph(),ue=re.marginx||0,ge=re.marginy||0;function J(ae){var pe=ae.x,ve=ae.y,xe=ae.width,Se=ae.height;Z=Math.min(Z,pe-xe/2),Q=Math.max(Q,pe+xe/2),ie=Math.min(ie,ve-Se/2),ee=Math.max(ee,ve+Se/2)}e.forEach(H.nodes(),function(ae){J(H.node(ae))}),e.forEach(H.edges(),function(ae){var pe=H.edge(ae);e.has(pe,"x")&&J(pe)}),Z-=ue,ie-=ge,e.forEach(H.nodes(),function(ae){var pe=H.node(ae);pe.x-=Z,pe.y-=ie}),e.forEach(H.edges(),function(ae){var pe=H.edge(ae);e.forEach(pe.points,function(ve){ve.x-=Z,ve.y-=ie}),e.has(pe,"x")&&(pe.x-=Z),e.has(pe,"y")&&(pe.y-=ie)}),re.width=Q-Z+ue,re.height=ee-ie+ge}function G(H){e.forEach(H.edges(),function(Z){var Q=H.edge(Z),ie=H.node(Z.v),ee=H.node(Z.w),re,ue;Q.points?(re=Q.points[0],ue=Q.points[Q.points.length-1]):(Q.points=[],re=ee,ue=ie),Q.points.unshift(g.intersectRect(ie,re)),Q.points.push(g.intersectRect(ee,ue))})}function U(H){e.forEach(H.edges(),function(Z){var Q=H.edge(Z);if(e.has(Q,"x"))switch((Q.labelpos==="l"||Q.labelpos==="r")&&(Q.width-=Q.labeloffset),Q.labelpos){case"l":Q.x-=Q.width/2+Q.labeloffset;break;case"r":Q.x+=Q.width/2+Q.labeloffset;break}})}function Y(H){e.forEach(H.edges(),function(Z){var Q=H.edge(Z);Q.reversed&&Q.points.reverse()})}function W(H){e.forEach(H.nodes(),function(Z){if(H.children(Z).length){var Q=H.node(Z),ie=H.node(Q.borderTop),ee=H.node(Q.borderBottom),re=H.node(e.last(Q.borderLeft)),ue=H.node(e.last(Q.borderRight));Q.width=Math.abs(ue.x-re.x),Q.height=Math.abs(ee.y-ie.y),Q.x=re.x+Q.width/2,Q.y=ie.y+Q.height/2}}),e.forEach(H.nodes(),function(Z){H.node(Z).dummy==="border"&&H.removeNode(Z)})}function X(H){e.forEach(H.edges(),function(Z){if(Z.v===Z.w){var Q=H.node(Z.v);Q.selfEdges||(Q.selfEdges=[]),Q.selfEdges.push({e:Z,label:H.edge(Z)}),H.removeEdge(Z)}})}function L(H){var Z=g.buildLayerMatrix(H);e.forEach(Z,function(Q){var ie=0;e.forEach(Q,function(ee,re){var ue=H.node(ee);ue.order=re+ie,e.forEach(ue.selfEdges,function(ge){g.addDummyNode(H,"selfedge",{width:ge.label.width,height:ge.label.height,rank:ue.rank,order:re+ ++ie,e:ge.e,label:ge.label},"_se")}),delete ue.selfEdges})})}function q(H){e.forEach(H.nodes(),function(Z){var Q=H.node(Z);if(Q.dummy==="selfedge"){var ie=H.node(Q.e.v),ee=ie.x+ie.width/2,re=ie.y,ue=Q.x-ee,ge=ie.height/2;H.setEdge(Q.e,Q.label),H.removeNode(Z),Q.label.points=[{x:ee+2*ue/3,y:re-ge},{x:ee+5*ue/6,y:re-ge},{x:ee+ue,y:re},{x:ee+5*ue/6,y:re+ge},{x:ee+2*ue/3,y:re+ge}],Q.label.x=Q.x,Q.label.y=Q.y}})}function P(H,Z){return e.mapValues(e.pick(H,Z),Number)}function O(H){var Z={};return e.forEach(H,function(Q,ie){Z[ie.toLowerCase()]=Q}),Z}return cw}var uw,g3;function Uce(){if(g3)return uw;g3=1;var e=gn(),t=Lr(),n=zs().Graph;uw={debugOrdering:r};function r(s){var o=t.buildLayerMatrix(s),l=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(s.nodes(),function(u){l.setNode(u,{label:u}),l.setParent(u,"layer"+s.node(u).rank)}),e.forEach(s.edges(),function(u){l.setEdge(u.v,u.w,{},u.name)}),e.forEach(o,function(u,d){var f="layer"+d;l.setNode(f,{rank:"same"}),e.reduce(u,function(p,m){return l.setEdge(p,m,{style:"invis"}),m})}),l}return uw}var dw,x3;function qce(){return x3||(x3=1,dw="0.8.5"),dw}var fw,b3;function Fce(){return b3||(b3=1,fw={graphlib:zs(),layout:$ce(),debug:Uce(),util:{time:Lr().time,notime:Lr().notime},version:qce()}),fw}var Hce=Fce();const y3=El(Hce),i_={pending:{bg:"#1f2937",border:"#4b5563",text:"#d1d5db",dot:"#9ca3af"},in_progress:{bg:"#1e1b4b",border:"#6366f1",text:"#a5b4fc",dot:"#818cf8"},blocked:{bg:"#422006",border:"#d97706",text:"#fcd34d",dot:"#f59e0b"},completed:{bg:"#052e16",border:"#22c55e",text:"#86efac",dot:"#4ade80"},failed:{bg:"#450a0a",border:"#ef4444",text:"#fca5a5",dot:"#f87171"}},Gce={pending:"Pending",in_progress:"In Progress",blocked:"Blocked",completed:"Completed",failed:"Failed"};function Vce(e,t,n="TB"){const r=new y3.graphlib.Graph;r.setDefaultEdgeLabel(()=>({})),r.setGraph({rankdir:n,nodesep:60,ranksep:80,marginx:20,marginy:20});const s=240,o=60;return e.forEach(u=>{r.setNode(u.id,{width:s,height:o})}),t.forEach(u=>{r.setEdge(u.source,u.target)}),y3.layout(r),{nodes:e.map(u=>{const d=r.node(u.id);return{...u,position:{x:d.x-s/2,y:d.y-o/2}}}),edges:t}}function Wce({data:e}){const t=An(),n=i_[e.status]||i_.pending,r=S.useCallback(s=>{s.stopPropagation(),t(`/tasks/${e.taskId}`)},[e.taskId,t]);return a.jsxs("div",{onClick:r,className:"cursor-pointer transition-all duration-150 hover:scale-105 hover:shadow-lg",style:{background:n.bg,border:`1.5px solid ${n.border}`,borderRadius:10,padding:"10px 14px",minWidth:200,maxWidth:260},children:[a.jsx(kl,{type:"target",position:$e.Top,style:{background:n.border,width:8,height:8}}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("div",{style:{background:n.dot,width:8,height:8,borderRadius:"50%",flexShrink:0}}),a.jsx("span",{className:"text-xs font-medium",style:{color:n.text},children:Gce[e.status]}),e.priority!=null&&e.priority>0&&a.jsxs("span",{className:"text-[10px] text-gray-500 ml-auto",children:["P",e.priority]})]}),a.jsx("p",{className:"text-sm font-medium truncate",style:{color:"#e5e7eb"},title:e.label,children:e.label}),a.jsx(kl,{type:"source",position:$e.Bottom,style:{background:n.border,width:8,height:8}})]})}const Kce={taskNode:Wce};function Yce({graph:e,taskStatuses:t,className:n=""}){const{layoutedNodes:r,layoutedEdges:s,graphHeight:o}=S.useMemo(()=>{const l=(b,y)=>(t==null?void 0:t.get(b))??y,u=(e.nodes||[]).map(b=>({id:b.id,type:"taskNode",position:{x:0,y:0},data:{label:b.title||"Untitled",status:l(b.id,b.status),priority:b.priority,taskId:b.id}})),d=(e.edges||[]).map((b,y)=>{var j;const v=e.nodes.find(k=>k.id===b.from),_=v?l(v.id,v.status):"pending",N=((j=i_[_])==null?void 0:j.border)||"#4b5563";return{id:`e-${y}`,source:b.from,target:b.to,animated:_==="in_progress",style:{stroke:N,strokeWidth:2},markerEnd:{type:Ou.ArrowClosed,color:N,width:16,height:16}}}),{nodes:f,edges:p}=Vce(u,d,"TB"),m=f.reduce((b,y)=>Math.max(b,y.position.y),0),g=Math.max(300,Math.min(700,m+140));return{layoutedNodes:f,layoutedEdges:p,graphHeight:g}},[e,t]);return r.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks to display"}):a.jsx("div",{className:n,style:{height:o},children:a.jsxs(tae,{nodes:r,edges:s,nodeTypes:Kce,fitView:!0,fitViewOptions:{padding:.2},minZoom:.3,maxZoom:1.5,proOptions:{hideAttribution:!0},nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,children:[a.jsx(aae,{color:"#374151",gap:20,size:1}),a.jsx(hae,{showInteractive:!1,className:"dep-graph-controls"})]})})}function Xce(){const{planId:e}=uo(),t=An(),[n,r]=S.useState(null),[s,o]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState([]),[p,m]=S.useState(null),[g,b]=S.useState(!0),[y,v]=Ol(),_=ns(),N=Xr(),j=Xr(),k=Dl(),C=Ir(),A=At(g_),T=Ve(fo),M=Ve(ja),z=Ve(Ca),[$,D]=S.useState(null),[I,F]=S.useState(!1),[K,B]=S.useState(0),[G,U]=S.useState(0),[Y,W]=S.useState(!1);S.useEffect(()=>{async function ee(){if(!e)return;const re=!n;re&&b(!0);try{const[ue,ge,J,ae]=await Promise.all([Ct.get(e),Ot.list({plan_id:e,limit:100}),Ct.listConstraints(e),Ct.getDependencyGraph(e).catch(()=>null)]),pe=ue.plan||ue;r(pe),o(ge.items||[]),u(J.items||[]),m(ae);const xe=(ue.tasks||[]).flatMap(Se=>{const ze=Se.task;return(Se.decisions||[]).map(tt=>({...tt,taskId:(ze==null?void 0:ze.id)||"",taskTitle:(ze==null?void 0:ze.title)||(ze==null?void 0:ze.description)||"Untitled task"}))});if(f(xe),pe.project_id)try{const ze=((await Tt.list()).items||[]).find(tt=>tt.id===pe.project_id);D(ze||null),ze&&A(ze.id)}catch{D(null)}else D(null)}catch(ue){console.error("Failed to fetch plan:",ue)}finally{re&&b(!1)}}ee()},[e,T,M,z]);const X=S.useCallback(async(ee,re)=>{const ue=s.find(ge=>ge.id===ee);o(ge=>ge.map(J=>J.id===ee?{...J,status:re}:J));try{await Ot.update(ee,{status:re}),C.success("Status updated")}catch(ge){ue&&o(J=>J.map(ae=>ae.id===ee?ue:ae)),console.error("Failed to update task status:",ge),C.error("Failed to update task status")}},[s]),L=S.useCallback(ee=>Ot.list({plan_id:e,...ee}),[e]),q=aZ({onSubmit:async ee=>{if(e){F(!0);try{const re=await Ct.createTask(e,ee);o(ue=>[...ue,re]),N.close(),C.success("Task added")}finally{F(!1)}}},loading:I}),P=dZ({onSubmit:async ee=>{if(e){F(!0);try{const re=await Ct.addConstraint(e,ee);u(ue=>[...ue,re]),j.close(),C.success("Constraint added")}finally{F(!1)}}},loading:I}),O=["overview","tasks","constraints","decisions",...p&&(p.nodes||[]).length>0?["graph"]:[]],H=Ll(O),Z=S.useMemo(()=>new Map(s.map(ee=>[ee.id,ee.status])),[s]);if(g||!n)return a.jsx(_r,{});const Q={pending:s.filter(ee=>ee.status==="pending"),in_progress:s.filter(ee=>ee.status==="in_progress"),blocked:s.filter(ee=>ee.status==="blocked"),completed:s.filter(ee=>ee.status==="completed"),failed:s.filter(ee=>ee.status==="failed")},ie=[{id:"overview",label:"Overview"},{id:"tasks",label:"Tasks",count:s.length},{id:"constraints",label:"Constraints",count:l.length},{id:"decisions",label:"Decisions",count:d.length},...p&&(p.nodes||[]).length>0?[{id:"graph",label:"Graph",count:(p.nodes||[]).length}]:[]];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(go,{title:n.title,description:n.description,status:a.jsx(Jh,{status:n.status,options:[{value:"draft",label:"Draft"},{value:"approved",label:"Approved"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],colorMap:{draft:{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},approved:{bg:"bg-blue-900/50",text:"text-blue-400",dot:"bg-blue-400"},in_progress:{bg:"bg-purple-900/50",text:"text-purple-400",dot:"bg-purple-400"},completed:{bg:"bg-green-900/50",text:"text-green-400",dot:"bg-green-400"},cancelled:{bg:"bg-red-900/50",text:"text-red-400",dot:"bg-red-400"}},onStatusChange:async ee=>{await Ct.updateStatus(n.id,ee),r({...n,status:ee}),C.success("Status updated")}}),metadata:[{label:"Priority",value:String(n.priority)},{label:"Created by",value:n.created_by},{label:"Created",value:new Date(n.created_at).toLocaleDateString()}],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>_.open({title:"Delete Plan",description:"This will permanently delete this plan and all its tasks, steps, decisions, and constraints.",onConfirm:async()=>{await Ct.delete(n.id),C.success("Plan deleted"),t("/plans")}})}],children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Project:"}),$?a.jsx(mH,{label:$.name,linkTo:`/projects/${$.slug}`,onUnlink:async()=>{await Ct.unlinkFromProject(n.id),D(null),r({...n,project_id:void 0}),C.success("Project unlinked")}}):a.jsx(it,{variant:"ghost",size:"sm",onClick:()=>k.open({title:"Link to Project",submitLabel:"Link",fetchOptions:async()=>((await Tt.list()).items||[]).map(re=>({value:re.id,label:re.name,description:re.slug})),onLink:async ee=>{await Ct.linkToProject(n.id,ee);const ue=((await Tt.list()).items||[]).find(ge=>ge.id===ee);D(ue||null),r({...n,project_id:ee}),C.success("Project linked")}}),children:"Link to Project"})]})}),a.jsx(ql,{sections:ie,activeSection:H}),a.jsx("section",{id:"overview",className:"scroll-mt-20",children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 md:gap-4",children:[a.jsx(tu,{label:"Pending",value:Q.pending.length,color:"gray"}),a.jsx(tu,{label:"In Progress",value:Q.in_progress.length,color:"blue"}),a.jsx(tu,{label:"Blocked",value:Q.blocked.length,color:"yellow"}),a.jsx(tu,{label:"Completed",value:Q.completed.length,color:"green"}),a.jsx(tu,{label:"Failed",value:Q.failed.length,color:"red"})]})}),a.jsx("section",{id:"tasks",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Lt,{children:["Tasks (",s.length,")"]}),s.length>0&&y==="list"&&a.jsx("button",{onClick:()=>{Y?U(ee=>ee+1):B(ee=>ee+1),W(!Y)},className:"p-1 text-gray-500 hover:text-gray-300 transition-colors",title:Y?"Collapse all":"Expand all",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4-4 4 4M4 10l4-4 4 4"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8l4 4 4-4M4 14l4 4 4-4"})})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{size:"sm",onClick:()=>N.open({title:"Add Task",size:"lg"}),children:"Add Task"}),a.jsx(zl,{value:y,onChange:v})]})]})}),a.jsx(nt,{children:s.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks in this plan"}):y==="kanban"?a.jsx(ML,{fetchFn:L,onTaskStatusChange:X,onTaskClick:ee=>t(`/tasks/${ee}`),refreshTrigger:M}):a.jsx("div",{className:"space-y-2",children:s.map(ee=>a.jsx(Zce,{task:ee,onStatusChange:re=>X(ee.id,re),refreshTrigger:M,expandAllSignal:K,collapseAllSignal:G},ee.id))})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsx("section",{id:"constraints",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs(Lt,{children:["Constraints (",l.length,")"]}),a.jsx(it,{size:"sm",onClick:()=>j.open({title:"Add Constraint"}),children:"Add"})]})}),a.jsx(nt,{children:l.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No constraints defined"}):a.jsx("div",{className:"space-y-2",children:l.map(ee=>a.jsx(tue,{constraint:ee,onDelete:async()=>{await Ct.deleteConstraint(ee.id),u(re=>re.filter(ue=>ue.id!==ee.id))}},ee.id))})})]})}),a.jsx("section",{id:"decisions",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs(Lt,{children:["Decisions (",d.length,")"]})}),a.jsx(nt,{children:d.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No decisions recorded"}):a.jsx("div",{className:"space-y-3",children:d.map(ee=>a.jsxs("div",{className:"p-3 bg-white/[0.06] rounded-lg overflow-hidden",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("p",{className:"font-medium text-gray-200 break-words min-w-0",children:ee.description})}),a.jsx("p",{className:"text-sm text-gray-400 break-words",children:ee.rationale}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[ee.chosen_option&&a.jsx(vt,{variant:"success",children:ee.chosen_option}),a.jsxs(ln,{to:`/tasks/${ee.taskId}`,className:"text-xs text-indigo-400 hover:text-indigo-300 transition-colors",children:[" ",ee.taskTitle]})]})]},ee.id))})})]})})]}),p&&(p.nodes||[]).length>0&&a.jsx("section",{id:"graph",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx(Lt,{children:"Dependency Graph"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(p.nodes||[]).length," tasks  ",(p.edges||[]).length," dependencies"]})]})}),a.jsx(nt,{children:a.jsx(Yce,{graph:p,taskStatuses:Z})})]})}),a.jsx(Qr,{...N.dialogProps,onSubmit:q.submit,loading:I,children:q.fields}),a.jsx(Qr,{...j.dialogProps,onSubmit:P.submit,loading:I,children:P.fields}),a.jsx(Ul,{...k.dialogProps}),a.jsx(rs,{..._.dialogProps})]})}function Zce({task:e,onStatusChange:t,refreshTrigger:n,expandAllSignal:r,collapseAllSignal:s}){const[o,l]=S.useState(!1),[u,d]=S.useState(null),[f,p]=S.useState(!1),m=e.tags||[],g=S.useCallback(async()=>{try{const _=await Ot.listSteps(e.id);d(Array.isArray(_)?_:[])}catch{d([])}},[e.id]);S.useEffect(()=>{u!==null&&g()},[n,g]),S.useEffect(()=>{r&&(u===null&&(p(!0),g().then(()=>p(!1))),l(!0))},[r]),S.useEffect(()=>{s&&l(!1)},[s]);const b=async _=>{_.preventDefault(),_.stopPropagation(),!o&&u===null&&(p(!0),await g(),p(!1)),l(!o)},y=(u==null?void 0:u.filter(_=>_.status==="completed").length)??0,v=(u==null?void 0:u.length)??0;return a.jsxs("div",{className:"bg-white/[0.06] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3",children:[a.jsx("button",{onClick:b,className:"flex-shrink-0 w-6 h-6 flex items-center justify-center text-gray-500 hover:text-gray-300 transition-colors",title:o?"Replier":"Voir les steps",children:a.jsx("svg",{className:`w-4 h-4 transition-transform duration-150 ${o?"rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),a.jsxs(ln,{to:`/tasks/${e.id}`,className:"flex-1 min-w-0 hover:text-indigo-400 transition-colors overflow-hidden",children:[a.jsx("span",{className:"font-medium text-gray-200 block truncate",children:e.title||e.description}),m.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:m.slice(0,3).map((_,N)=>a.jsx(vt,{variant:"default",children:_},`${_}-${N}`))})]}),u!==null&&v>0&&a.jsxs("span",{className:"text-xs text-gray-500 flex-shrink-0",children:[y,"/",v]}),a.jsx(EO,{status:e.status,onStatusChange:t})]}),o&&a.jsx("div",{className:"pl-11 pr-3 pb-3 space-y-1.5",children:f?a.jsx("div",{className:"text-xs text-gray-500 py-2",children:"Loading steps..."}):u&&u.length>0?u.map((_,N)=>a.jsx(eue,{step:_,index:N},_.id||N)):a.jsx("div",{className:"text-xs text-gray-500 py-1",children:"No steps"})})]})}const Qce={pending:"bg-white/[0.15]",in_progress:"bg-blue-600",completed:"bg-green-600",skipped:"bg-yellow-600"},Jce={pending:"Pending",in_progress:"In progress",completed:"Done",skipped:"Skipped"};function eue({step:e,index:t}){return a.jsxs("div",{className:"flex items-start gap-2 py-1.5 px-2 rounded bg-white/[0.03]",children:[a.jsx("div",{className:`w-5 h-5 rounded-full ${Qce[e.status]} flex items-center justify-center text-[10px] font-medium text-white flex-shrink-0 mt-0.5`,children:e.status==="completed"?"":t+1}),a.jsx("p",{className:"text-sm text-gray-300 flex-1 min-w-0",children:e.description}),a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full flex-shrink-0 ${e.status==="completed"?"bg-green-500/20 text-green-400":e.status==="in_progress"?"bg-blue-500/20 text-blue-400":e.status==="skipped"?"bg-yellow-500/20 text-yellow-400":"bg-white/[0.08] text-gray-500"}`,children:Jce[e.status]})]})}function tue({constraint:e,onDelete:t}){const n={performance:"text-yellow-400",security:"text-red-400",style:"text-purple-400",compatibility:"text-blue-400",testing:"text-green-400",other:"text-gray-400"};return a.jsxs("div",{className:"flex items-start gap-3 p-2",children:[a.jsx("span",{className:`text-xs uppercase font-medium ${n[e.constraint_type]||n.other}`,children:e.constraint_type}),a.jsx("span",{className:"text-sm text-gray-300 flex-1 min-w-0 break-words",children:e.description}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Delete constraint",children:""})]})}function tu({label:e,value:t,color:n}){const r={gray:"text-gray-400",blue:"text-blue-400",yellow:"text-yellow-400",green:"text-green-400",red:"text-red-400"};return a.jsx(Ye,{children:a.jsxs(nt,{className:"text-center py-3",children:[a.jsx("div",{className:`text-2xl font-bold ${r[n]}`,children:t}),a.jsx("div",{className:"text-xs text-gray-500",children:e})]})})}const nue=[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}];function rue(){const[e,t]=ht(Fh),[n,r]=ht(VB),[s,o]=ht(rO),l=Ve(ja),[u,d]=Ol(),[f,p]=S.useState(0),{page:m,pageSize:g,offset:b,setPage:y,paginationProps:v}=Rl(),_=An(),N=ns(),j=Ir(),k=u7();S.useEffect(()=>{if(u!=="list")return;async function B(){const G=e.length===0;G&&r(!0);try{const U={limit:g,offset:b};s!=="all"&&(U.status=s);const Y=await Ot.list(U);t(Y.items||[]),p(Y.total||0)}catch(U){console.error("Failed to fetch tasks:",U),j.error("Failed to load tasks")}finally{G&&r(!1)}}B()},[t,r,m,g,b,s,u,l]);const C=k.buildApiParams(),A=JSON.stringify(C),T=S.useCallback(B=>{const G=JSON.parse(A);return Ot.list({...G,...B})},[A]),M=S.useMemo(()=>{const B={},G=JSON.parse(A);return Object.assign(B,G),B},[A]),z=S.useMemo(()=>{const B=[];return k.filters.exclude_completed&&B.push("completed"),k.filters.exclude_failed&&B.push("failed"),B},[k.filters.exclude_completed,k.filters.exclude_failed]),$=B=>{o(B),y(1)},D=S.useCallback(async(B,G)=>{t(U=>U.map(Y=>Y.id===B?{...Y,status:G}:Y)),await Ot.update(B,{status:G}),j.success("Status updated")},[t,j]),I=S.useCallback(B=>{_(`/tasks/${B}`)},[_]),F=Il(e,B=>B.id),K=()=>{const B=F.selectionCount;N.open({title:`Delete ${B} task${B>1?"s":""}`,description:`This will permanently delete ${B} task${B>1?"s":""} and all their steps and decisions.`,onConfirm:async()=>{const G=F.selectedItems;N.setProgress({current:0,total:G.length});for(let U=0;U<G.length;U++)await Ot.delete(G[U].id),N.setProgress({current:U+1,total:G.length});t(U=>U.filter(Y=>!F.selectedIds.has(Y.id))),p(U=>U-G.length),F.clear(),j.success(`Deleted ${B} task${B>1?"s":""}`)}})};return n&&u==="list"&&e.length===0?a.jsx(_r,{}):a.jsxs(Fl,{title:"Tasks",description:"Manage tasks across all plans",actions:a.jsxs(a.Fragment,{children:[u==="list"&&a.jsx(Tn,{options:nue,value:s,onChange:B=>$(B),className:"w-full sm:w-40"}),a.jsx(zl,{value:u,onChange:d})]}),children:[u==="kanban"&&a.jsx(JQ,{filters:k.filters,onFilterChange:k.setFilter,onToggleExcludeProject:k.toggleExcludeProject,onClearFilters:k.clearFilters,activeFilterCount:k.activeFilterCount}),u==="kanban"?a.jsx(ML,{fetchFn:T,filters:M,hiddenStatuses:z,onTaskStatusChange:D,onTaskClick:I,refreshTrigger:l}):e.length===0?a.jsx(ka,{title:"No tasks found",description:f===0&&s==="all"?"Tasks will appear here when you create plans.":"No tasks match the current filters."}):a.jsxs(a.Fragment,{children:[u==="list"&&e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:F.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:F.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"space-y-3",children:e.map(B=>a.jsx(iue,{selected:F.isSelected(B.id),onToggleSelect:G=>F.toggle(B.id,G),task:B,onStatusChange:async G=>{await Ot.update(B.id,{status:G}),t(U=>U.map(Y=>Y.id===B.id?{...Y,status:G}:Y)),j.success("Status updated")},onDelete:()=>N.open({title:"Delete Task",description:"This will permanently delete this task and all its steps and decisions.",onConfirm:async()=>{await Ot.delete(B.id),t(G=>G.filter(U=>U.id!==B.id)),j.success("Task deleted")}})},B.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Pl,{...v(f)})})]}),a.jsx(Gl,{count:F.selectionCount,onDelete:K,onClear:F.clear}),a.jsx(rs,{...N.dialogProps})]})}const sue={pending:"bg-gray-400",in_progress:"bg-blue-400",blocked:"bg-yellow-400",completed:"bg-green-400",failed:"bg-red-400"};function iue({task:e,onStatusChange:t,onDelete:n,selected:r,onToggleSelect:s}){const o=e.tags||[];return a.jsx(ln,{to:`/tasks/${e.id}`,children:a.jsx(Ye,{className:`transition-colors ${r?"border-indigo-500/40 bg-indigo-500/[0.05]":"hover:border-indigo-500"}`,children:a.jsxs("div",{className:"flex",children:[s&&a.jsx(Hl,{selected:!!r,onToggle:s}),a.jsx("div",{className:`w-1 shrink-0 ${s?"":"rounded-l-xl"} ${sue[e.status]||"bg-gray-400"}`}),a.jsx("div",{className:"flex-1 min-w-0 p-3 md:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-gray-100 truncate min-w-0",children:e.title||(e.description||"").slice(0,60)}),a.jsx(EO,{status:e.status,onStatusChange:t})]}),a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-2",children:e.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-gray-500",children:[a.jsxs("span",{className:"truncate max-w-[150px] sm:max-w-[200px] md:max-w-xs",children:["Plan: ",e.plan_title]}),e.assigned_to&&a.jsxs("span",{className:"truncate max-w-[120px] sm:max-w-[180px]",children:["Assigned: ",e.assigned_to]})]}),o.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:o.map((l,u)=>a.jsx(vt,{variant:"default",children:l},`${l}-${u}`))})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:ml-4 shrink-0",children:[e.priority!==void 0&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Priority"}),a.jsx("div",{className:"text-lg font-bold text-indigo-400",children:e.priority})]}),a.jsx(mo,{actions:[{label:"Delete",variant:"danger",onClick:()=>n()}]})]})]})})]})})})}function aue(){const{taskId:e}=uo(),t=An(),n=ns(),r=Xr(),s=Xr(),o=Dl(),l=Ir(),u=Ve(ja),d=Ve(Ca),f=Ve(fo),[p,m]=S.useState(!1),[g,b]=S.useState(null),[y,v]=S.useState([]),[_,N]=S.useState([]),[j,k]=S.useState([]),[C,A]=S.useState([]),[T,M]=S.useState([]),[z,$]=S.useState(!0);S.useEffect(()=>{async function L(){if(!e)return;const q=!g;q&&$(!0);try{const P=await Ot.get(e),O=P.task||P;b(O),v(P.steps||[]),N(P.decisions||[]);const[H,Z,Q]=await Promise.all([Ot.getBlockers(e).catch(()=>({items:[]})),Ot.getBlocking(e).catch(()=>({items:[]})),Ot.getCommits(e).catch(()=>({items:[]}))]);k(H.items||[]),A(Z.items||[]),M(Q.items||[])}catch(P){console.error("Failed to fetch task:",P)}finally{q&&$(!1)}}L()},[e,u,d,f]);const D=oZ({onSubmit:async L=>{if(e){m(!0);try{const q=await Ot.addStep(e,L);v(P=>[...P,q]),r.close(),l.success("Step added")}finally{m(!1)}}},loading:p}),I=lZ({onSubmit:async L=>{if(e){m(!0);try{const q=await Ot.addDecision(e,L);N(P=>[...P,q]),s.close(),l.success("Decision added")}finally{m(!1)}}},loading:p}),K=Ll(["steps","dependencies","decisions"]);if(z||!g)return a.jsx(_r,{});const B=g.tags||[],G=g.acceptance_criteria||[],U=g.affected_files||[],Y=y.filter(L=>L.status==="completed").length,W=y.length>0?Y/y.length*100:0,X=[{id:"steps",label:"Steps",count:y.length},{id:"dependencies",label:"Dependencies",count:j.length+C.length},{id:"decisions",label:"Decisions",count:_.length}];return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(go,{title:g.title||"Task",description:g.description,status:a.jsx(Jh,{status:g.status,options:[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],colorMap:{pending:{bg:"bg-white/[0.08]",text:"text-gray-200",dot:"bg-gray-400"},in_progress:{bg:"bg-blue-900/50",text:"text-blue-400",dot:"bg-blue-400"},blocked:{bg:"bg-yellow-900/50",text:"text-yellow-400",dot:"bg-yellow-400"},completed:{bg:"bg-green-900/50",text:"text-green-400",dot:"bg-green-400"},failed:{bg:"bg-red-900/50",text:"text-red-400",dot:"bg-red-400"}},onStatusChange:async L=>{await Ot.update(g.id,{status:L}),b({...g,status:L}),l.success("Status updated")}}),metadata:[...g.priority!==void 0?[{label:"Priority",value:String(g.priority)}]:[],...g.assigned_to?[{label:"Assigned to",value:g.assigned_to}]:[],...g.estimated_complexity?[{label:"Est. complexity",value:String(g.estimated_complexity)}]:[],...g.actual_complexity?[{label:"Actual complexity",value:String(g.actual_complexity)}]:[]],overflowActions:[{label:"Delete",variant:"danger",onClick:()=>n.open({title:"Delete Task",description:"This will permanently delete this task and all its steps and decisions.",onConfirm:async()=>{await Ot.delete(g.id),l.success("Task deleted"),t("/tasks")}})}],children:B.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:B.map((L,q)=>a.jsx(vt,{children:L},`${L}-${q}`))})}),a.jsx(ql,{sections:X,activeSection:K}),a.jsx("section",{id:"steps",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsxs(Dt,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Lt,{children:["Steps (",y.length,")"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[y.length>0&&a.jsxs("span",{className:"text-sm text-gray-400",children:[Y,"/",y.length," completed"]}),a.jsx(it,{size:"sm",onClick:()=>r.open({title:"Add Step"}),children:"Add Step"})]})]}),y.length>0&&a.jsx(Is,{value:W,size:"sm",className:"mt-2"})]}),a.jsx(nt,{children:y.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No steps defined"}):a.jsx("div",{className:"space-y-2",children:y.map((L,q)=>a.jsx(oue,{step:L,index:q,onStatusChange:async P=>{await Ot.updateStep(L.id,P),v(O=>O.map(H=>H.id===L.id?{...H,status:P}:H)),l.success("Step status updated")},onDelete:async()=>{await Ot.deleteStep(L.id),v(P=>P.filter(O=>O.id!==L.id)),l.success("Step deleted")}},L.id||q))})})]})}),G.length>0&&a.jsx("section",{id:"criteria",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsx(Lt,{children:"Acceptance Criteria"})}),a.jsx(nt,{children:a.jsx("ul",{className:"space-y-2",children:G.map((L,q)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[a.jsx("span",{className:"text-indigo-400 mt-0.5 shrink-0",children:""}),a.jsx("span",{className:"break-words min-w-0",children:L})]},q))})})]})}),a.jsx("section",{id:"dependencies",className:"scroll-mt-20",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Lt,{children:["Blocked By (",j.length,")"]}),a.jsx(it,{size:"sm",onClick:()=>o.open({title:"Add Dependency",submitLabel:"Add",fetchOptions:async()=>{const L=await Ot.list({limit:100}),q=new Set([e,...j.map(P=>P.id)]);return(L.items||[]).filter(P=>!q.has(P.id)).map(P=>({value:P.id,label:P.title||P.description||"Untitled",description:P.status}))},onLink:async L=>{await Ot.addDependencies(e,[L]);const q=await Ot.getBlockers(e).catch(()=>({items:[]}));k(q.items||[]),l.success("Dependency added")}}),children:"Add"})]})}),a.jsx(nt,{children:j.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No blockers"}):a.jsx("div",{className:"space-y-2",children:j.map(L=>a.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white/[0.06] rounded",children:[a.jsx(ln,{to:`/tasks/${L.id}`,className:"text-gray-200 truncate min-w-0 hover:text-indigo-400 transition-colors",children:L.title||L.description}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(gh,{status:L.status}),a.jsx("button",{onClick:async()=>{await Ot.removeDependency(e,L.id),k(q=>q.filter(P=>P.id!==L.id)),l.success("Dependency removed")},className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Remove dependency",children:""})]})]},L.id))})})]}),a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs(Lt,{children:["Blocking (",C.length,")"]})}),a.jsx(nt,{children:C.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Not blocking any tasks"}):a.jsx("div",{className:"space-y-2",children:C.map(L=>a.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white/[0.06] rounded",children:[a.jsx(ln,{to:`/tasks/${L.id}`,className:"text-gray-200 truncate min-w-0 hover:text-indigo-400 transition-colors",children:L.title||L.description}),a.jsx(gh,{status:L.status})]},L.id))})})]})]})}),a.jsx("section",{id:"decisions",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Lt,{children:["Decisions (",_.length,")"]}),a.jsx(it,{size:"sm",onClick:()=>s.open({title:"Add Decision",size:"lg"}),children:"Add Decision"})]})}),a.jsx(nt,{children:_.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No decisions recorded"}):a.jsx("div",{className:"space-y-3",children:_.map((L,q)=>a.jsx(lue,{decision:L},L.id||q))})})]})}),U.length>0&&a.jsx("section",{id:"files",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsx(Lt,{children:"Affected Files"})}),a.jsx(nt,{children:a.jsx("div",{className:"space-y-1",children:U.map((L,q)=>a.jsx("div",{className:"font-mono text-sm text-gray-300 p-1 truncate",title:L,children:L},`${L}-${q}`))})})]})}),T.length>0&&a.jsx("section",{id:"commits",className:"scroll-mt-20",children:a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs(Lt,{children:["Commits (",T.length,")"]})}),a.jsx(nt,{children:a.jsx("div",{className:"space-y-2",children:T.map(L=>a.jsx("div",{className:"p-2 bg-white/[0.06] rounded",children:a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:"font-mono text-xs text-indigo-400 shrink-0",children:L.sha.slice(0,7)}),a.jsx("span",{className:"text-gray-200 truncate min-w-0",children:L.message})]})},L.sha))})})]})}),a.jsx(Qr,{...r.dialogProps,onSubmit:D.submit,loading:p,children:D.fields}),a.jsx(Qr,{...s.dialogProps,onSubmit:I.submit,loading:p,children:I.fields}),a.jsx(Ul,{...o.dialogProps}),a.jsx(rs,{...n.dialogProps})]})}function oue({step:e,index:t,onStatusChange:n,onDelete:r}){const s={pending:"bg-white/[0.15]",in_progress:"bg-blue-600",completed:"bg-green-600",skipped:"bg-yellow-600"};return a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/[0.06] rounded-lg",children:[a.jsx("div",{className:`w-6 h-6 rounded-full shrink-0 ${s[e.status]} flex items-center justify-center text-xs font-medium text-white`,children:e.status==="completed"?"":t+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-gray-200 break-words",children:e.description}),e.verification&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1 break-words",children:["Verification: ",e.verification]})]}),a.jsx(K7,{status:e.status,onStatusChange:n}),a.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-400 text-sm px-1",title:"Delete step",children:""})]})}function lue({decision:e}){const t=e.alternatives||[];return a.jsxs("div",{className:"p-3 bg-white/[0.06] rounded-lg overflow-hidden",children:[a.jsx("p",{className:"font-medium text-gray-200 mb-1 break-words",children:e.description}),a.jsx("p",{className:"text-sm text-gray-400 mb-2 break-words",children:e.rationale}),t.length>0&&a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Alternatives: ",t.join(", ")]}),e.chosen_option&&a.jsxs(vt,{variant:"success",children:["Chosen: ",e.chosen_option]})]})}const cue=[{value:"all",label:"All Types"},{value:"guideline",label:"Guideline"},{value:"gotcha",label:"Gotcha"},{value:"pattern",label:"Pattern"},{value:"context",label:"Context"},{value:"tip",label:"Tip"},{value:"observation",label:"Observation"},{value:"assertion",label:"Assertion"}],uue=[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"needs_review",label:"Needs Review"},{value:"stale",label:"Stale"},{value:"obsolete",label:"Obsolete"},{value:"archived",label:"Archived"}];function due(){const[e,t]=ht(m_),[n,r]=ht(XB),[s,o]=ht(sO),[l,u]=ht(iO),d=Ve(dO),[f,p]=S.useState(0),{page:m,pageSize:g,offset:b,setPage:y,paginationProps:v}=Rl(),_=ns(),N=Xr(),j=Ir(),[k,C]=S.useState(!1),A=async()=>{r(!0);try{const K={limit:g,offset:b};s!=="all"&&(K.note_type=s),l!=="all"&&(K.status=l);const B=await Wc.list(K);t(B.items||[]),p(B.total||0)}catch(K){console.error("Failed to fetch notes:",K),j.error("Failed to load notes")}finally{r(!1)}},T=S.useRef(!1);S.useEffect(()=>{async function K(){const B=T.current;B||r(!0);try{const G={limit:g,offset:b};s!=="all"&&(G.note_type=s),l!=="all"&&(G.status=l);const U=await Wc.list(G);t(U.items||[]),p(U.total||0)}catch(G){console.error("Failed to fetch notes:",G),j.error("Failed to load notes")}finally{B||r(!1)}T.current=!0}K()},[t,r,m,g,b,s,l,d]);const M=K=>{o(K),y(1)},z=K=>{u(K),y(1)},$=yZ({onSubmit:async K=>{C(!0);try{await Wc.create(K),j.success("Note created"),N.close(),A()}finally{C(!1)}},loading:k}),D=()=>N.open({title:"Create Note",size:"lg"}),I=Il(e,K=>K.id),F=()=>{const K=I.selectionCount;_.open({title:`Delete ${K} note${K>1?"s":""}`,description:`This will permanently delete ${K} note${K>1?"s":""}.`,onConfirm:async()=>{const B=I.selectedItems;_.setProgress({current:0,total:B.length});for(let G=0;G<B.length;G++)await Wc.delete(B[G].id),_.setProgress({current:G+1,total:B.length});t(G=>G.filter(U=>!I.selectedIds.has(U.id))),p(G=>G-B.length),I.clear(),j.success(`Deleted ${K} note${K>1?"s":""}`)}})};return n?a.jsx(_r,{}):a.jsxs(Fl,{title:"Knowledge Notes",description:"Capture knowledge and decisions",actions:a.jsxs(a.Fragment,{children:[a.jsx(Tn,{options:cue,value:s,onChange:K=>M(K),className:"w-full sm:w-36"}),a.jsx(Tn,{options:uue,value:l,onChange:K=>z(K),className:"w-full sm:w-36"}),a.jsx(it,{onClick:D,children:"Create Note"})]}),children:[e.length===0?a.jsx(ka,{title:"No notes found",description:f===0&&s==="all"&&l==="all"?"Knowledge notes capture important patterns, gotchas, and guidelines.":"No notes match the current filters."}):a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("button",{onClick:I.toggleAll,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors",children:I.isAllSelected?"Deselect All":"Select All"})}),a.jsx("div",{className:"space-y-4",children:e.map(K=>a.jsx(fue,{selected:I.isSelected(K.id),onToggleSelect:B=>I.toggle(K.id,B),note:K,onDelete:()=>_.open({title:"Delete Note",description:"This note will be permanently deleted.",onConfirm:async()=>{await Wc.delete(K.id),t(B=>B.filter(G=>G.id!==K.id)),j.success("Note deleted")}})},K.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Pl,{...v(f)})})]}),a.jsx(Gl,{count:I.selectionCount,onDelete:F,onClear:I.clear}),a.jsx(Qr,{...N.dialogProps,onSubmit:$.submit,loading:k,children:$.fields}),a.jsx(rs,{..._.dialogProps})]})}function fue({note:e,onDelete:t,selected:n,onToggleSelect:r}){const s=e.tags||[],o=e.anchors||[],l={guideline:"border-l-blue-500",gotcha:"border-l-red-500",pattern:"border-l-purple-500",context:"border-l-gray-500",tip:"border-l-green-500",observation:"border-l-yellow-500",assertion:"border-l-orange-500"};return a.jsx(Ye,{className:`border-l-4 ${l[e.note_type]||"border-l-gray-500"} transition-colors ${n?"border-l-indigo-500 bg-indigo-500/[0.05]":""}`,children:a.jsxs("div",{className:"flex",children:[r&&a.jsx(Hl,{selected:!!n,onToggle:r}),a.jsxs(nt,{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(vt,{variant:"default",children:e.note_type}),a.jsx(G7,{status:e.status}),a.jsx(V7,{importance:e.importance})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(e.staleness_score||0)>.5&&a.jsxs("span",{className:"text-xs text-yellow-500",children:["Staleness: ",((e.staleness_score||0)*100).toFixed(0),"%"]}),a.jsx(mo,{actions:[{label:"Delete",variant:"danger",onClick:()=>t()}]})]})]}),a.jsx("p",{className:"text-gray-200 whitespace-pre-wrap break-words overflow-hidden overflow-wrap-anywhere",children:e.content}),s.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:s.map((u,d)=>a.jsx(vt,{variant:"default",children:u},`${u}-${d}`))}),o.length>0&&a.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Linked to ",o.length," ",o.length===1?"entity":"entities"]}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-gray-500",children:[a.jsxs("span",{children:["Created by ",e.created_by]}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),e.last_confirmed_at&&a.jsxs("span",{children:["Last confirmed: ",new Date(e.last_confirmed_at).toLocaleDateString()]})]})]})]})})}function hue(){const[e,t]=S.useState(""),[n,r]=S.useState([]),[s,o]=S.useState(null),[l,u]=S.useState(!1),[d,f]=S.useState("search"),p=async()=>{if(e.trim()){u(!0);try{const g=await WE.search(e);r(Array.isArray(g)?g:[])}catch(g){console.error("Search failed:",g)}finally{u(!1)}}},m=async()=>{u(!0);try{const g=await WE.getArchitecture();o(g)}catch(g){console.error("Failed to load architecture:",g)}finally{u(!1)}};return a.jsxs("div",{className:"pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 md:mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-100",children:"Code Explorer"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(it,{variant:d==="search"?"primary":"secondary",onClick:()=>f("search"),children:"Search"}),a.jsx(it,{variant:d==="architecture"?"primary":"secondary",onClick:()=>{f("architecture"),s||m()},children:"Architecture"})]})]}),d==="search"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(Ye,{children:a.jsx(nt,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Y7,{value:e,onChange:g=>t(g.target.value),onKeyDown:g=>g.key==="Enter"&&p(),placeholder:"Search code semantically...",className:"flex-1"}),a.jsx(it,{onClick:p,loading:l,children:"Search"})]})})}),l?a.jsx(_r,{}):n.length===0?a.jsx(ka,{title:"No results",description:"Enter a search query to find code across your projects."}):a.jsx("div",{className:"space-y-4",children:n.map(g=>a.jsx(Ye,{children:a.jsxs(nt,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-mono text-sm text-indigo-400 truncate flex-1 mr-4",children:g.document.path}),a.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[a.jsx("span",{className:"text-xs text-gray-500 capitalize",children:g.document.language}),a.jsxs("span",{className:"text-xs text-green-400",children:[(g.score*100).toFixed(0),"% match"]})]})]}),g.document.docstrings&&a.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:g.document.docstrings}),g.document.symbols&&g.document.symbols.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Symbols:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.document.symbols.slice(0,10).map(b=>a.jsx("span",{className:"px-2 py-0.5 bg-white/[0.08] rounded text-xs text-gray-300 font-mono",children:b},b)),g.document.symbols.length>10&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",g.document.symbols.length-10," more"]})]})]}),g.document.signatures&&g.document.signatures.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Signatures:"}),a.jsxs("pre",{className:"bg-gray-900 p-2 rounded text-xs text-gray-300 overflow-x-auto max-h-32",children:[a.jsx("code",{children:g.document.signatures.slice(0,5).join(`
`)}),g.document.signatures.length>5&&a.jsxs("span",{className:"text-gray-500",children:[`
`,"... +",g.document.signatures.length-5," more"]})]})]})]})},g.document.id))})]}),d==="architecture"&&a.jsx("div",{className:"space-y-6",children:l?a.jsx(_r,{}):s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 md:gap-4",children:[a.jsxs("div",{className:"p-4 bg-white/[0.06] rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:s.total_files.toLocaleString()}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total Files"})]}),a.jsxs("div",{className:"p-4 bg-white/[0.06] rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:s.languages.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Languages"})]}),a.jsxs("div",{className:"p-4 bg-white/[0.06] rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-amber-400",children:s.key_files.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Key Files"})]}),a.jsxs("div",{className:"p-4 bg-white/[0.06] rounded-lg text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:s.modules.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Modules"})]})]}),a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsx(Lt,{children:"Key Files"})}),a.jsx(nt,{children:(s.key_files||[]).length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No data available"}):a.jsx("div",{className:"space-y-2",children:s.key_files.map(g=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/[0.06] rounded",children:[a.jsx("span",{className:"font-mono text-sm text-gray-200 truncate flex-1 mr-4",children:g.path}),a.jsxs("div",{className:"flex gap-4 text-sm shrink-0",children:[a.jsxs("span",{className:"text-indigo-400",children:[g.dependents," dependents"]}),a.jsxs("span",{className:"text-green-400",children:[g.imports," imports"]})]})]},g.path))})})]}),a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsx(Lt,{children:"Languages"})}),a.jsx(nt,{children:(s.languages||[]).length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No languages detected"}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:s.languages.map(g=>a.jsxs("div",{className:"p-3 bg-white/[0.06] rounded text-center",children:[a.jsx("div",{className:"text-lg font-bold text-indigo-400",children:g.file_count}),a.jsx("div",{className:"text-sm text-gray-400 capitalize",children:g.language})]},g.language))})})]})]}):a.jsx(ka,{title:"Architecture not loaded",description:"Click the Architecture tab to load the codebase overview."})})]})}const pue=["entry_point","core_logic","data_model","trait_contract","api_surface","support"],v3={entry_point:{label:"Entry Points",color:"text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20"},core_logic:{label:"Core Logic",color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/20"},data_model:{label:"Data Models",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20"},trait_contract:{label:"Trait Contracts",color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/20"},api_surface:{label:"API Surface",color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20"},support:{label:"Support",color:"text-gray-400",bg:"bg-gray-500/10",border:"border-gray-500/20"}},w3={label:"Other",color:"text-gray-500",bg:"bg-gray-500/10",border:"border-gray-500/20"};function mue({type:e}){const t="w-4 h-4 shrink-0";switch(e){case"function":return a.jsx("svg",{className:`${t} text-yellow-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})});case"file":return a.jsx("svg",{className:`${t} text-gray-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})});case"struct":case"enum":return a.jsx("svg",{className:`${t} text-emerald-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})});case"trait":return a.jsx("svg",{className:`${t} text-purple-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})});default:return a.jsx("svg",{className:`${t} text-gray-500`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-2.25-1.313M21 7.5v2.25m0-2.25l-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3l2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75l2.25-1.313M12 21.75V19.5m0 2.25l-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"})})}}function gue(){const{id:e}=uo(),t=An(),n=ns(),r=Ir(),[s,o]=S.useState(null),[l,u]=S.useState(!0);S.useEffect(()=>{async function m(){if(e){u(!0);try{const g=await mh.get(e);o(g)}catch(g){console.error("Failed to fetch feature graph:",g)}finally{u(!1)}}}m()},[e]);const d=S.useMemo(()=>{if(!(s!=null&&s.entities))return new Map;const m=new Map;for(const g of s.entities){const b=g.role||"unknown",y=m.get(b)||[];y.push(g),m.set(b,y)}return m},[s]),f=S.useMemo(()=>{const m=[];for(const g of pue)d.has(g)&&m.push(g);for(const g of d.keys())m.includes(g)||m.push(g);return m},[d]);if(l||!s)return a.jsx(_r,{});const p=s.entities.length;return a.jsxs("div",{className:"pt-6 space-y-6",children:[a.jsx(go,{title:s.name,description:s.description,overflowActions:[{label:"Delete",variant:"danger",onClick:()=>n.open({title:"Delete Feature Graph",description:`Delete "${s.name}"? This will remove the feature graph and all its entity associations. This cannot be undone.`,onConfirm:async()=>{await mh.delete(s.id),r.success("Feature graph deleted"),t(-1)}})}]}),a.jsx(Ye,{children:a.jsxs(nt,{className:"pt-5",children:[a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.06]",children:[a.jsx("span",{className:"text-2xl font-bold text-gray-200",children:p}),a.jsx("span",{className:"text-xs text-gray-500",children:"Total entities"})]}),f.map(m=>{var y;const g=v3[m]||w3,b=((y=d.get(m))==null?void 0:y.length)||0;return a.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${g.bg} border ${g.border}`,children:[a.jsx("span",{className:`text-lg font-bold ${g.color}`,children:b}),a.jsx("span",{className:"text-xs text-gray-400",children:g.label})]},m)})]}),s.entry_function&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:"Built from"}),a.jsx("code",{className:"px-1.5 py-0.5 rounded bg-indigo-500/10 text-indigo-400 font-mono text-xs",children:s.entry_function}),s.build_depth!=null&&a.jsxs("span",{children:["depth ",s.build_depth]})]})]})}),f.map(m=>{const g=v3[m]||w3,b=d.get(m)||[];return a.jsxs(Ye,{children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lt,{className:g.color,children:g.label}),a.jsx(vt,{variant:"default",children:b.length})]})}),a.jsx(nt,{children:a.jsx("div",{className:"space-y-1",children:b.map((y,v)=>a.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 rounded-md hover:bg-white/[0.04] transition-colors",children:[a.jsx(mue,{type:y.entity_type}),a.jsx("span",{className:"text-sm text-gray-200 font-mono truncate min-w-0 flex-1",children:y.name||y.entity_id}),a.jsx(vt,{variant:"default",className:"shrink-0 text-[10px]",children:y.entity_type})]},`${y.entity_type}-${y.entity_id}-${v}`))})})]},m)}),p===0&&a.jsx(Ye,{children:a.jsx(nt,{className:"pt-5",children:a.jsx("p",{className:"text-gray-500 text-sm text-center py-8",children:"No entities in this feature graph"})})}),a.jsx(rs,{...n.dialogProps})]})}const nu=[{label:"Infrastructure",icon:bue},{label:"Authentication",icon:yue},{label:"Chat AI",icon:vue},{label:"Launch",icon:wue}];function xue({children:e,onNext:t,onPrev:n,onFinish:r,nextDisabled:s=!1,nextLabel:o,hideNav:l=!1,freeNavigation:u=!1,showClose:d=!1}){const[f,p]=ht(hO),m=An(),g=NO(),b=f===0,y=f===nu.length-1,v=()=>{n?n():p(j=>Math.max(0,j-1))},_=()=>{y&&r?r():t?t():p(j=>Math.min(nu.length-1,j+1))},N=()=>{m("/",{replace:!0})};return a.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden text-white",style:{backgroundColor:"var(--surface-base)"},children:[a.jsx("div",{className:"border-b border-white/[0.06] px-6 py-4",onMouseDown:g,children:a.jsxs("div",{className:"mx-auto flex max-w-3xl items-center gap-3",children:[a.jsx("img",{src:"/logo-32.png",alt:"Project Orchestrator",className:"h-10 w-10 rounded-xl"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Project Orchestrator"}),a.jsx("p",{className:"text-xs text-gray-500",children:d?"Configuration":"Initial Setup"})]}),d&&a.jsxs("button",{onClick:N,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm text-gray-400 transition hover:bg-white/[0.06] hover:text-white",title:"Back to app",children:[a.jsx(Nue,{}),a.jsx("span",{className:"hidden sm:inline",children:"Close"})]})]})}),a.jsx("div",{className:"border-b border-white/[0.06] px-6 py-5",children:a.jsx("div",{className:"mx-auto max-w-3xl",children:a.jsx("nav",{className:"flex items-center justify-between",children:nu.map((j,k)=>{const C=j.icon,A=k===f,T=k<f,M=u&&k!==f,z=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium transition ${A?"bg-indigo-600 text-white":T?"bg-indigo-600/20 text-indigo-400":"bg-white/[0.06] text-gray-500"}`,children:T?a.jsx(_ue,{}):a.jsx(C,{})}),a.jsx("span",{className:`hidden text-sm font-medium sm:block ${A?"text-white":T?"text-indigo-400":"text-gray-500"} ${M?"group-hover:text-white":""}`,children:j.label})]});return a.jsxs("div",{className:"flex flex-1 items-center",children:[M?a.jsx("button",{onClick:()=>p(k),className:"group flex items-center gap-2.5 rounded-lg px-1 py-1 -mx-1 transition hover:bg-white/[0.04]",children:z}):a.jsx("div",{className:"flex items-center gap-2.5",children:z}),k<nu.length-1&&a.jsx("div",{className:`mx-3 h-px flex-1 ${T?"bg-indigo-600/40":"bg-white/[0.06]"}`})]},j.label)})})})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-8",children:a.jsx("div",{className:"mx-auto max-w-2xl",children:e})}),!l&&a.jsx("div",{className:"border-t border-white/[0.06] px-6 py-4",children:a.jsxs("div",{className:"mx-auto flex max-w-2xl items-center justify-between",children:[a.jsx("button",{onClick:v,disabled:b,className:"rounded-lg px-4 py-2 text-sm font-medium text-gray-400 transition hover:text-white disabled:opacity-30 disabled:cursor-not-allowed",children:"Previous"}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Step ",f+1," of ",nu.length]}),a.jsx("button",{onClick:_,disabled:s,className:"rounded-lg bg-indigo-600 px-5 py-2 text-sm font-medium text-white transition hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o||(y?"Finish":"Next")})]})})]})}function bue(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 14.25h13.5m-13.5 0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3 0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z"})})}function yue(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}function vue(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})})}function wue(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})})}function _ue(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}function Nue(){return a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function x9(){const[e,t]=ht(qu),n=r=>t(s=>({...s,...r}));return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Infrastructure"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Choose how to run the required services (Neo4j, MeiliSearch & NATS)."})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsx(_3,{active:e.infraMode==="docker",onClick:()=>n({infraMode:"docker"}),title:"Docker (recommended)",description:"Automatically start Neo4j, MeiliSearch, and NATS in Docker containers. Requires Docker Desktop.",icon:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-2.25-1.313M21 7.5v2.25m0-2.25l-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3l2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75l2.25-1.313M12 21.75V19.5m0 2.25l-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"})})}),a.jsx(_3,{active:e.infraMode==="external",onClick:()=>n({infraMode:"external"}),title:"External servers",description:"Connect to existing Neo4j, MeiliSearch, and NATS instances running elsewhere.",icon:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})})})]}),e.infraMode==="external"&&a.jsxs("div",{className:"space-y-6 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Neo4j Connection"}),a.jsx(hw,{service:"neo4j",url:e.neo4jUri})]}),a.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[a.jsx(va,{label:"URI",value:e.neo4jUri,onChange:r=>n({neo4jUri:r}),placeholder:"bolt://localhost:7687"}),a.jsx(va,{label:"User",value:e.neo4jUser,onChange:r=>n({neo4jUser:r}),placeholder:"neo4j"}),a.jsx(va,{label:"Password",type:"password",value:e.neo4jPassword,onChange:r=>n({neo4jPassword:r}),placeholder:e.hasNeo4jPassword?"(unchanged)":"Enter password",hint:e.hasNeo4jPassword?"A password is already configured  leave blank to keep it":void 0,className:"sm:col-span-2"})]})]}),a.jsxs("div",{className:"border-t border-white/[0.06] pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"MeiliSearch Connection"}),a.jsx(hw,{service:"meilisearch",url:e.meilisearchUrl})]}),a.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[a.jsx(va,{label:"URL",value:e.meilisearchUrl,onChange:r=>n({meilisearchUrl:r}),placeholder:"http://localhost:7700"}),a.jsx(va,{label:"API Key",type:"password",value:e.meilisearchKey,onChange:r=>n({meilisearchKey:r}),placeholder:e.hasMeilisearchKey?"(unchanged)":"Master key",hint:e.hasMeilisearchKey?"A key is already configured  leave blank to keep it":void 0})]})]}),e.natsEnabled&&a.jsxs("div",{className:"border-t border-white/[0.06] pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"NATS Connection"}),a.jsx(hw,{service:"nats",url:e.natsUrl||"nats://localhost:4222"})]}),a.jsx("div",{className:"mt-3",children:a.jsx(va,{label:"URL",value:e.natsUrl,onChange:r=>n({natsUrl:r}),placeholder:"nats://localhost:4222"})})]})]}),e.infraMode==="docker"&&a.jsx("div",{className:"rounded-xl border border-indigo-500/20 bg-indigo-500/5 p-5",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),a.jsxs("div",{className:"text-sm text-gray-300",children:[a.jsx("p",{className:"font-medium text-indigo-400",children:"Docker mode"}),a.jsxs("p",{className:"mt-1",children:[e.natsEnabled?"Neo4j, MeiliSearch, and NATS will be started automatically as Docker containers.":"Neo4j and MeiliSearch will be started automatically as Docker containers."," ","Make sure Docker Desktop is running on your machine."]}),a.jsxs("p",{className:"mt-2 text-gray-500",children:["Ports: Neo4j (7474, 7687)  MeiliSearch (7700)",e.natsEnabled&&a.jsx(a.Fragment,{children:"  NATS (4222)"})," "," API (",e.serverPort,")"]})]})]})}),a.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] p-5",children:a.jsxs("label",{className:"flex cursor-pointer items-start gap-3",children:[a.jsx("input",{type:"checkbox",checked:e.natsEnabled,onChange:r=>n({natsEnabled:r.target.checked}),className:"mt-0.5 h-4 w-4 rounded border-white/20 bg-white/[0.04] text-indigo-600 focus:ring-indigo-500/30 focus:ring-offset-0 accent-indigo-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable real-time events (NATS)"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enables live updates via NATS pub/sub. Required for multi-instance deployments and real-time synchronization between the desktop app, web UI, and MCP server."}),!e.natsEnabled&&a.jsx("p",{className:"mt-1.5 text-xs text-amber-400/70",children:"Without NATS, events are only broadcast in-process. Changes made in one instance won't appear in others until refresh."})]})]})}),a.jsxs("div",{children:[a.jsx(va,{label:"API Server Port",type:"number",value:String(e.serverPort),onChange:r=>n({serverPort:parseInt(r)||6600}),placeholder:"6600",className:"max-w-[200px]"}),a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Port for the backend API server."})]}),a.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] p-5",children:a.jsxs("label",{className:"flex cursor-pointer items-start gap-3",children:[a.jsx("input",{type:"checkbox",checked:e.serveFrontend,onChange:r=>n({serveFrontend:r.target.checked}),className:"mt-0.5 h-4 w-4 rounded border-white/20 bg-white/[0.04] text-indigo-600 focus:ring-indigo-500/30 focus:ring-offset-0 accent-indigo-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Serve frontend on API port"}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Enable to access the web UI at"," ",a.jsxs("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:["http://localhost:",e.serverPort]})," ","from any browser. Useful for accessing the app from other devices on the same network."]})]})]})}),e.serveFrontend&&a.jsxs("div",{children:[a.jsx(va,{label:"Public URL (optional)",value:e.publicUrl,onChange:r=>n({publicUrl:r}),placeholder:"https://myapp.example.com",hint:"If you use a reverse proxy (e.g. Cloudflare Tunnel, ngrok, ffs.dev), enter the public URL here. Used for OAuth callbacks and CORS."}),e.publicUrl.trim()&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-lg border border-indigo-500/20 bg-indigo-500/[0.06] px-4 py-2.5",children:[a.jsx("svg",{className:"h-4 w-4 shrink-0 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 003 12c0-1.605.42-3.113 1.157-4.418"})}),a.jsxs("span",{className:"text-xs text-indigo-300",children:["Local:"," ",a.jsxs("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:["http://localhost:",e.serverPort]})," "," Public:"," ",a.jsx("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:e.publicUrl.trim().replace(/\/+$/,"")})]})]})]})]})}function _3({active:e,onClick:t,title:n,description:r,icon:s}){return a.jsxs("button",{onClick:t,className:`flex flex-col items-start gap-3 rounded-xl border p-5 text-left transition ${e?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12] hover:bg-white/[0.04]"}`,children:[a.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${e?"bg-indigo-600 text-white":"bg-white/[0.06] text-gray-400"}`,children:s}),a.jsxs("div",{children:[a.jsx("div",{className:`text-sm font-medium ${e?"text-white":"text-gray-300"}`,children:n}),a.jsx("div",{className:"mt-1 text-xs text-gray-500",children:r})]})]})}function va({label:e,value:t,onChange:n,placeholder:r,type:s="text",className:o,hint:l}){return a.jsxs("div",{className:o,children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:e}),a.jsx("input",{type:s,value:t,onChange:u=>n(u.target.value),placeholder:r,className:"w-full rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-2 text-sm text-white placeholder-gray-600 transition focus:border-indigo-500/50 focus:outline-none focus:ring-1 focus:ring-indigo-500/30"}),l&&a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:l})]})}function hw({service:e,url:t}){const[n,r]=S.useState("idle"),s=async()=>{if(!(!_n||!t.trim())){r("testing");try{const{invoke:o}=await hr(async()=>{const{invoke:u}=await import("./core-DhEqZVGG.js");return{invoke:u}},[]),l=await o("test_connection",{service:e,url:t});r(l?"success":"failure")}catch{r("failure")}setTimeout(()=>r("idle"),4e3)}};return _n?a.jsxs("button",{type:"button",onClick:s,disabled:n==="testing",className:"flex items-center gap-1.5 rounded-lg px-2.5 py-1 text-xs font-medium transition hover:bg-white/[0.06] disabled:opacity-50",title:`Test ${e} connection`,children:[n==="testing"&&a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"h-3.5 w-3.5 animate-spin text-gray-400",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a.jsx("span",{className:"text-gray-400",children:"Testing..."})]}),n==="idle"&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-3.5 w-3.5 text-gray-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12 20.5h.008v.008H12V20.5z"})}),a.jsx("span",{className:"text-gray-500",children:"Test"})]}),n==="success"&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-3.5 w-3.5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),a.jsx("span",{className:"text-emerald-400",children:"Connected"})]}),n==="failure"&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-3.5 w-3.5 text-red-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),a.jsx("span",{className:"text-red-400",children:"Failed"})]})]}):null}function Sue(){const[e,t]=ht(qu),n=s=>t(o=>({...o,...s})),r=[{value:"none",label:"No authentication",description:"Open access  best for local development or trusted networks."},{value:"password",label:"Password",description:"Create a root account with email and password."},{value:"oidc",label:"OIDC / OAuth",description:"Use Google, Microsoft, Okta, or any OpenID Connect provider."}];return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Authentication"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Configure how users will sign in to the application."})]}),a.jsx("div",{className:"space-y-3",children:r.map(s=>a.jsxs("label",{className:`flex cursor-pointer items-start gap-3 rounded-xl border p-4 transition ${e.authMode===s.value?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12]"}`,children:[a.jsx("input",{type:"radio",name:"authMode",value:s.value,checked:e.authMode===s.value,onChange:()=>n({authMode:s.value}),className:"mt-0.5 h-4 w-4 accent-indigo-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:s.label}),a.jsx("div",{className:"mt-0.5 text-xs text-gray-500",children:s.description})]})]},s.value))}),e.authMode==="none"&&a.jsx("div",{className:"rounded-xl border border-amber-500/20 bg-amber-500/5 p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0 text-amber-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),a.jsxs("div",{className:"text-sm text-gray-300",children:[a.jsx("p",{className:"font-medium text-amber-400",children:"Security notice"}),a.jsx("p",{className:"mt-1",children:"Without authentication, anyone with network access to this server can view and modify all data. Only use this mode for local development."})]})]})}),e.authMode==="password"&&a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Root Account"}),a.jsx(Na,{label:"Email",type:"email",value:e.rootEmail,onChange:s=>n({rootEmail:s}),placeholder:"admin@example.com"}),a.jsx(Na,{label:"Password",type:"password",value:e.rootPassword,onChange:s=>n({rootPassword:s}),placeholder:"Minimum 8 characters"}),a.jsx("p",{className:"text-xs text-gray-500",children:"This will be the initial administrator account. You can add more users later."})]}),e.authMode==="oidc"&&a.jsxs(a.Fragment,{children:[a.jsx(jue,{config:e,update:n}),a.jsx(Cue,{config:e,update:n}),a.jsx(Tue,{config:e})]}),e.authMode==="oidc"&&a.jsx(Aue,{config:e,update:n})]})}const kue=["google","microsoft","okta","auth0","keycloak","custom"],Eue={google:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),microsoft:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("rect",{x:"1",y:"1",width:"10",height:"10"}),a.jsx("rect",{x:"13",y:"1",width:"10",height:"10"}),a.jsx("rect",{x:"1",y:"13",width:"10",height:"10"}),a.jsx("rect",{x:"13",y:"13",width:"10",height:"10"})]}),okta:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",fillOpacity:"0.3"}),a.jsx("circle",{cx:"12",cy:"12",r:"5"})]}),auth0:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.2 2H6.8L2 12l4.8 10h10.4L22 12 17.2 2zM12 16a4 4 0 110-8 4 4 0 010 8z"})}),keycloak:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),custom:a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})};function jue({config:e,update:t}){const n=r=>{const s=vu[r],o={oidcProvider:r,oidcProviderName:s.label==="Custom"?"":s.label};s.discoveryUrl?o.oidcDiscoveryUrl=s.discoveryUrl:r!==e.oidcProvider&&(o.oidcDiscoveryUrl=""),r!==e.oidcProvider&&(o.oidcTenant="",o.oidcAuthEndpoint="",o.oidcTokenEndpoint="",o.oidcUserinfoEndpoint=""),t(o)};return a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"OIDC Provider"}),a.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:kue.map(r=>{const s=vu[r],o=e.oidcProvider===r;return a.jsxs("button",{onClick:()=>n(r),className:`flex items-start gap-3 rounded-xl border p-4 text-left transition ${o?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12] hover:bg-white/[0.04]"}`,children:[a.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg ${o?"bg-indigo-600 text-white":"bg-white/[0.06] text-gray-400"}`,children:Eue[r]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:`text-sm font-medium ${o?"text-white":"text-gray-300"}`,children:s.label}),a.jsx("div",{className:"mt-0.5 text-xs text-gray-500",children:s.description})]})]},r)})})]})}function Cue({config:e,update:t}){const n=vu[e.oidcProvider],r=!n.discoveryUrl&&e.oidcProvider!=="custom",s=e.oidcProvider==="keycloak",[o,l]=S.useState("idle"),[u,d]=S.useState(""),[f,p]=S.useState(null),m=S.useCallback(y=>!n.discoveryTemplate||!y.trim()?"":s?n.discoveryTemplate.replace("{tenant}",y.trim().replace(/\/+$/,"")):n.discoveryTemplate.replace("{tenant}",y.trim()),[n.discoveryTemplate,s]),g=y=>{const v={oidcTenant:y},_=m(y);_&&(v.oidcDiscoveryUrl=_),t(v)},b=S.useCallback(async()=>{const y=e.oidcDiscoveryUrl.trim();if(y){l("fetching"),d(""),p(null);try{let v;if(_n){const{invoke:_}=await hr(async()=>{const{invoke:N}=await import("./core-DhEqZVGG.js");return{invoke:N}},[]);v=await _("verify_oidc_discovery",{url:y}),v={issuer:v.issuer,authorization_endpoint:v.authorizationEndpoint||v.authorization_endpoint,token_endpoint:v.tokenEndpoint||v.token_endpoint,userinfo_endpoint:v.userinfoEndpoint||v.userinfo_endpoint}}else{const _=await fetch(y);if(!_.ok)throw new Error(`HTTP ${_.status}: ${_.statusText}`);v=await _.json()}if(!v.authorization_endpoint||!v.token_endpoint)throw new Error("Invalid discovery document: missing required endpoints");p(v),l("success"),t({oidcAuthEndpoint:v.authorization_endpoint||"",oidcTokenEndpoint:v.token_endpoint||"",oidcUserinfoEndpoint:v.userinfo_endpoint||""})}catch(v){l("error"),d(v instanceof Error?v.message:"Failed to fetch discovery document")}}},[e.oidcDiscoveryUrl,t]);return a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[r&&a.jsxs("div",{children:[a.jsx(Na,{label:n.tenantLabel||"Tenant",value:e.oidcTenant,onChange:g,placeholder:n.tenantPlaceholder||""}),s&&a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Enter the full server URL. You may need to edit the realm name in the discovery URL below."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:"Discovery URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:e.oidcDiscoveryUrl,onChange:y=>t({oidcDiscoveryUrl:y.target.value}),placeholder:"https://.../.well-known/openid-configuration",className:"flex-1 rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-2 text-sm text-white placeholder-gray-600 transition focus:border-indigo-500/50 focus:outline-none focus:ring-1 focus:ring-indigo-500/30"}),a.jsx("button",{onClick:b,disabled:!e.oidcDiscoveryUrl.trim()||o==="fetching",className:"flex shrink-0 items-center gap-1.5 rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-2 text-xs font-medium text-gray-300 transition hover:bg-white/[0.08] disabled:cursor-not-allowed disabled:opacity-50",children:o==="fetching"?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"h-3.5 w-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Verifying..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Verify"]})})]}),n.discoveryUrl&&a.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["Pre-filled for ",n.label,". Click Verify to confirm it's reachable."]})]}),o==="success"&&f&&a.jsxs("div",{className:"rounded-lg border border-emerald-500/20 bg-emerald-500/[0.06] p-3",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-1.5",children:[a.jsx("svg",{className:"h-4 w-4 text-emerald-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["Discovery successful",f.issuer&&a.jsxs(a.Fragment,{children:["  Issuer: ",f.issuer]})]})]}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Authorization:"})," ",a.jsx("code",{className:"text-emerald-300/70",children:f.authorization_endpoint})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Token:"})," ",a.jsx("code",{className:"text-emerald-300/70",children:f.token_endpoint})]}),f.userinfo_endpoint&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Userinfo:"})," ",a.jsx("code",{className:"text-emerald-300/70",children:f.userinfo_endpoint})]})]})]}),o==="error"&&a.jsxs("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2 text-xs text-red-400",children:[a.jsx("span",{className:"font-medium",children:"Discovery failed:"})," ",u]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsx(Na,{label:"Provider Name",value:e.oidcProviderName,onChange:y=>t({oidcProviderName:y}),placeholder:"Google, Okta, Auth0...",hint:"Display name shown on the login page"}),a.jsx(Na,{label:"Scopes",value:e.oidcScopes,onChange:y=>t({oidcScopes:y}),placeholder:"openid email profile",hint:"Space-separated list of OIDC scopes"})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsx(Na,{label:"Client ID",value:e.oidcClientId,onChange:y=>t({oidcClientId:y}),placeholder:"your-client-id"}),a.jsx(Na,{label:"Client Secret",type:"password",value:e.oidcClientSecret,onChange:y=>t({oidcClientSecret:y}),placeholder:e.hasOidcSecret?"(unchanged)":"your-client-secret",hint:e.hasOidcSecret?"A secret is already configured  leave blank to keep it":void 0})]}),n.consoleUrl&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Get your credentials from"," ",a.jsxs(Di,{href:n.consoleUrl,className:"text-indigo-400 underline hover:text-indigo-300",children:[n.label," developer console"]}),"."]})]})}function Tue({config:e}){const t=`http://localhost:${e.serverPort}`,n=e.publicUrl.trim().replace(/\/+$/,""),r=!!n;return a.jsx("div",{className:"rounded-xl border border-indigo-500/20 bg-indigo-500/[0.04] p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("p",{className:"text-sm font-medium text-indigo-300",children:"Configure your OAuth provider with these URLs"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Add the following values in your provider's console. The redirect URI must match exactly."}),r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"rounded-lg border border-amber-500/20 bg-amber-500/[0.04] px-3 py-2",children:a.jsxs("p",{className:"text-xs text-amber-300",children:["Register ",a.jsx("strong",{children:"BOTH"})," redirect URIs below to support desktop + web access."]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(sl,{label:"Redirect URI (web)",value:`${n}/auth/callback`}),a.jsx(sl,{label:"Redirect URI (desktop)",value:`${t}/auth/callback`})]}),a.jsxs("div",{className:"space-y-2 border-t border-white/[0.06] pt-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Authorized JavaScript origins:"}),a.jsx(sl,{label:"JavaScript origin (web)",value:n}),a.jsx(sl,{label:"JavaScript origin (desktop)",value:t})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(sl,{label:"Authorized redirect URI",value:`${t}/auth/callback`}),a.jsx(sl,{label:"Authorized JavaScript origin",value:t})]}),e.oidcProvider==="google"&&a.jsxs("p",{className:"text-xs text-gray-500",children:["For Google: Go to"," ",a.jsx(Di,{href:"https://console.cloud.google.com/apis/credentials",className:"text-indigo-400 underline hover:text-indigo-300",children:"console.cloud.google.com/apis/credentials"})," "," edit your OAuth 2.0 Client ID  paste these URLs."]}),e.oidcProvider==="microsoft"&&a.jsxs("p",{className:"text-xs text-gray-500",children:["For Microsoft: Go to"," ",a.jsx(Di,{href:"https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps",className:"text-indigo-400 underline hover:text-indigo-300",children:"Azure Portal  App registrations"})," "," select your app  Authentication  add the redirect URI."]})]})]})})}function Aue({config:e,update:t}){const n=e.allowedEmails.split(`
`).map(l=>l.trim()).filter(Boolean),r=e.allowedEmailDomain.trim(),s=[];n.length>0&&s.push(`${n.length} user${n.length>1?"s":""} whitelisted`),r&&s.push(`all @${r} emails`);const o=s.length>0?s.join(" + "):null;return a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-white/[0.06] text-gray-400",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Who can access your instance?"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"By default anyone who authenticates can access the app. Restrict access by domain or individual email."})]})]}),a.jsxs("div",{children:[a.jsx(Na,{label:"Allowed email domain",value:e.allowedEmailDomain,onChange:l=>t({allowedEmailDomain:l}),placeholder:"example.com"}),r&&a.jsxs("p",{className:"mt-1.5 text-xs text-indigo-400/80",children:["Only ",a.jsxs("span",{className:"font-medium",children:["@",r]})," emails will be allowed to sign in."]})]}),r&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-px flex-1 bg-white/[0.06]"}),a.jsx("span",{className:"text-[10px] font-medium uppercase tracking-widest text-gray-600",children:"or"}),a.jsx("div",{className:"h-px flex-1 bg-white/[0.06]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:"Individual emails"}),a.jsx(Mue,{emails:n,onChange:l=>t({allowedEmails:l.join(`
`)})}),r&&n.length>0&&a.jsxs("p",{className:"mt-1.5 text-xs text-gray-600",children:["A user is allowed if their email matches the domain ",a.jsx("span",{className:"font-medium text-gray-500",children:"or"})," is in the list above."]})]}),a.jsx("div",{className:`rounded-lg px-3 py-2 text-xs ${o?"border border-indigo-500/20 bg-indigo-500/[0.04] text-indigo-300":"border border-white/[0.04] bg-white/[0.01] text-gray-600"}`,children:o?a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx("svg",{className:"h-3.5 w-3.5 shrink-0",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}),"Access restricted: ",o]}):"No restrictions  all authenticated users have access"})]})}function Mue({emails:e,onChange:t}){const[n,r]=S.useState(""),[s,o]=S.useState(""),l=p=>{const m=p.trim().toLowerCase();if(m){if(!m.includes("@")||!m.includes(".")){o("Invalid email address");return}if(e.includes(m)){o("Email already added");return}o(""),t([...e,m]),r("")}},u=p=>{t(e.filter((m,g)=>g!==p))},d=p=>{p.key==="Enter"||p.key===","?(p.preventDefault(),l(n)):p.key==="Backspace"&&!n&&e.length>0&&u(e.length-1)},f=p=>{const m=p.clipboardData.getData("text");if(m.includes(`
`)||m.includes(",")){p.preventDefault();const b=m.split(/[,\n]/).map(y=>y.trim().toLowerCase()).filter(y=>y&&y.includes("@")).filter(y=>!e.includes(y));b.length>0&&t([...e,...b]),r("")}};return a.jsxs("div",{children:[a.jsx("div",{className:"min-h-[42px] rounded-lg border border-white/[0.1] bg-white/[0.04] px-2 py-1.5 transition focus-within:border-indigo-500/50 focus-within:ring-1 focus-within:ring-indigo-500/30",children:a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.map((p,m)=>a.jsxs("span",{className:"flex items-center gap-1 rounded-md bg-white/[0.08] px-2 py-0.5 text-xs text-gray-300",children:[p,a.jsx("button",{type:"button",onClick:()=>u(m),className:"ml-0.5 rounded p-0.5 text-gray-500 transition hover:bg-white/[0.1] hover:text-gray-300",children:a.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]},p)),a.jsx("input",{type:"email",value:n,onChange:p=>{r(p.target.value),o("")},onKeyDown:d,onPaste:f,onBlur:()=>{n.trim()&&l(n)},placeholder:e.length===0?"alice@gmail.com, bob@company.org...":"Add email...",className:"min-w-[120px] flex-1 border-none bg-transparent px-1 py-0.5 text-sm text-white placeholder-gray-600 outline-none"})]})}),s&&a.jsx("p",{className:"mt-1 text-xs text-red-400",children:s}),!s&&a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Type an email and press Enter. Paste a comma or newline-separated list to add multiple."})]})}function sl({label:e,value:t}){const[n,r]=S.useState(!1),s=()=>{navigator.clipboard.writeText(t).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(()=>{})};return a.jsxs("div",{className:"rounded-lg bg-white/[0.04] p-3",children:[a.jsx("div",{className:"mb-1 text-xs font-medium text-gray-400",children:e}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 break-all text-xs text-indigo-300",children:t}),a.jsx("button",{type:"button",onClick:s,className:"shrink-0 rounded-md p-1.5 text-gray-500 transition hover:bg-white/[0.06] hover:text-gray-300",title:"Copy to clipboard",children:n?a.jsx("svg",{className:"h-3.5 w-3.5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}):a.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9.75a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})})})]})]})}function Na({label:e,value:t,onChange:n,placeholder:r,type:s="text",className:o,hint:l}){return a.jsxs("div",{className:o,children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:e}),a.jsx("input",{type:s,value:t,onChange:u=>n(u.target.value),placeholder:r,className:"w-full rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-2 text-sm text-white placeholder-gray-600 transition focus:border-indigo-500/50 focus:outline-none focus:ring-1 focus:ring-indigo-500/30"}),l&&a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:l})]})}const Rue=[{value:"sonnet-4-5",label:"Claude Sonnet 4.5",description:"Fast & capable  best for most tasks"},{value:"opus-4-5",label:"Claude Opus 4.5",description:"Most intelligent  complex reasoning"},{value:"opus-4-6",label:"Claude Opus 4.6",description:"Latest & most powerful"}],Oue=[{value:"bypassPermissions",label:"Bypass",description:"All tools auto-approved  no permission prompts"},{value:"default",label:"Default",description:"Asks approval for file edits and shell commands"},{value:"acceptEdits",label:"Accept Edits",description:"File edits auto-approved, shell commands need approval"},{value:"plan",label:"Plan Only",description:"Read-only mode  Claude can read but not modify files"}];function Due(){const[e,t]=ht(qu),[n,r]=S.useState(!1),s=d=>t(f=>({...f,...d})),o=S.useCallback(async()=>{if(r(!0),!_n){s({claudeCodeDetected:!1});return}try{const{invoke:d}=await hr(async()=>{const{invoke:p}=await import("./core-DhEqZVGG.js");return{invoke:p}},[]),f=await d("detect_claude_code");s({claudeCodeDetected:f})}catch{s({claudeCodeDetected:!1})}},[]),l=S.useCallback(async()=>{if(_n){s({mcpSetupStatus:"configuring",mcpSetupMessage:""});try{const{invoke:d}=await hr(async()=>{const{invoke:p}=await import("./core-DhEqZVGG.js");return{invoke:p}},[]),f=await d("setup_claude_code",{serverUrl:`http://localhost:${e.serverPort}/mcp/sse`});if(f.success){const p=f.method==="already_configured"?"already_configured":"configured";s({mcpSetupStatus:p,mcpSetupMessage:f.message})}else s({mcpSetupStatus:"error",mcpSetupMessage:f.message})}catch(d){s({mcpSetupStatus:"error",mcpSetupMessage:d instanceof Error?d.message:"Unknown error"})}}},[e.serverPort]),u=e.mcpSetupStatus==="configured"||e.mcpSetupStatus==="already_configured";return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Chat AI"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Configure the built-in AI chat assistant. These settings are optional and can be changed later."})]}),a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-3 block text-xs font-medium text-gray-400",children:"Default Model"}),a.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:Rue.map(d=>a.jsxs("button",{onClick:()=>s({chatModel:d.value}),className:`flex flex-col items-start gap-1.5 rounded-xl border p-4 text-left transition ${e.chatModel===d.value?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12] hover:bg-white/[0.04]"}`,children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${e.chatModel===d.value?"text-white":"text-gray-300"}`,children:d.label}),e.chatModel===d.value&&a.jsx("svg",{className:"h-4 w-4 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})]}),a.jsx("span",{className:"text-xs text-gray-500",children:d.description})]},d.value))}),a.jsx("p",{className:"mt-3 text-xs text-gray-500",children:"The model used for AI chat sessions. Requires a Claude Code CLI installation."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:"Max Concurrent Sessions"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:1,max:10,value:e.chatMaxSessions,onChange:d=>s({chatMaxSessions:parseInt(d.target.value)}),className:"h-2 flex-1 cursor-pointer appearance-none rounded-lg bg-white/[0.1] accent-indigo-600"}),a.jsx("span",{className:"w-8 text-center text-sm font-medium text-white",children:e.chatMaxSessions})]}),a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Maximum number of AI chat sessions that can run simultaneously."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1.5 block text-xs font-medium text-gray-400",children:"Max Turns per Message"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:1,max:500,value:e.chatMaxTurns,onChange:d=>s({chatMaxTurns:parseInt(d.target.value)}),className:"h-2 flex-1 cursor-pointer appearance-none rounded-lg bg-white/[0.1] accent-indigo-600"}),a.jsx("span",{className:"w-10 text-center text-sm font-medium text-white",children:e.chatMaxTurns})]}),a.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Maximum number of agentic turns (tool calls) the AI can take per message."})]})]}),a.jsx("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-400",children:"Permission Mode"}),a.jsx("p",{className:"mb-3 text-xs text-gray-500",children:"Controls whether Claude asks for your approval before executing tools like file edits and shell commands."}),a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:Oue.map(d=>a.jsxs("button",{onClick:()=>s({chatPermissionMode:d.value}),className:`flex flex-col items-start gap-1.5 rounded-xl border p-4 text-left transition ${e.chatPermissionMode===d.value?"border-indigo-500/50 bg-indigo-500/10":"border-white/[0.06] bg-white/[0.02] hover:border-white/[0.12] hover:bg-white/[0.04]"}`,children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${e.chatPermissionMode===d.value?"text-white":"text-gray-300"}`,children:d.label}),e.chatPermissionMode===d.value&&a.jsx("svg",{className:"h-4 w-4 text-indigo-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})]}),a.jsx("span",{className:"text-xs text-gray-500",children:d.description})]},d.value))})]})}),a.jsxs("div",{className:"space-y-4 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Claude Code CLI"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The chat feature requires Claude Code to be installed on this machine. Click detect to check if it's available."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[e.claudeCodeDetected&&a.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-emerald-400",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Detected"]}),n&&!e.claudeCodeDetected&&a.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-amber-400",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),"Not found"]}),a.jsx("button",{onClick:o,className:"rounded-lg border border-white/[0.1] bg-white/[0.04] px-3 py-1.5 text-xs font-medium text-gray-300 transition hover:bg-white/[0.08]",children:"Detect"})]})]}),a.jsxs("div",{className:"border-t border-white/[0.06] pt-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"MCP Server Configuration"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Configure Claude Code to use Project Orchestrator as an MCP server. This enables Claude Code to access your projects, plans, and knowledge graph."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[u&&a.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-emerald-400",children:[a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.mcpSetupStatus==="already_configured"?"Already configured":"Configured"]}),a.jsx("button",{onClick:l,disabled:e.mcpSetupStatus==="configuring"||u,className:"rounded-lg border border-white/[0.1] bg-indigo-600/20 px-3 py-1.5 text-xs font-medium text-indigo-300 transition hover:bg-indigo-600/30 disabled:cursor-not-allowed disabled:opacity-50",children:e.mcpSetupStatus==="configuring"?a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsxs("svg",{className:"h-3 w-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Configuring"]}):"Configure MCP"})]})]}),e.mcpSetupStatus==="error"&&a.jsx("div",{className:"mt-3 rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2 text-xs text-red-400",children:e.mcpSetupMessage}),u&&e.mcpSetupMessage&&a.jsx("div",{className:"mt-3 rounded-lg border border-emerald-500/20 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-400",children:e.mcpSetupMessage})]})]}),a.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("svg",{className:"mt-0.5 h-5 w-5 shrink-0 text-gray-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["These settings can be changed at any time in"," ",a.jsx("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:"config.yaml"}),". If you don't use the AI chat feature, you can skip this step. You can also configure the MCP server later by running"," ",a.jsx("code",{className:"rounded bg-white/[0.06] px-1 py-0.5 text-gray-400",children:"orchestrator setup-claude"}),"."]})]})})]})}function Lue(){const e=Ve(qu),t=At(x_),[n,r]=S.useState("review"),[s,o]=S.useState(""),[l,u]=S.useState(""),d=async()=>{if(r("generating"),u(""),!_n){r("generated"),o("(web mode  config.yaml must be created manually on the server)");return}try{const{invoke:p}=await hr(async()=>{const{invoke:g}=await import("./core-DhEqZVGG.js");return{invoke:g}},[]),m=await p("generate_config",{config:e});o(m),t(!0),r("generated")}catch(p){u(p instanceof Error?p.message:String(p)),r("error")}},f=async()=>{if(_n){r("restarting");try{const{invoke:p}=await hr(async()=>{const{invoke:m}=await import("./core-DhEqZVGG.js");return{invoke:m}},[]);await p("restart_app")}catch(p){u(`Failed to restart: ${p instanceof Error?p.message:String(p)}`),r("error")}}};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Launch"}),a.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Review your configuration and generate the config file."})]}),a.jsxs("div",{className:"space-y-3 rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Configuration Summary"}),a.jsx(Vr,{label:"Infrastructure",value:e.infraMode==="docker"?"Docker (automatic)":"External servers"}),e.infraMode==="external"&&a.jsxs(a.Fragment,{children:[a.jsx(Vr,{label:"Neo4j",value:e.neo4jUri}),a.jsx(Vr,{label:"MeiliSearch",value:e.meilisearchUrl})]}),a.jsx(Vr,{label:"NATS",value:e.natsEnabled?e.infraMode==="docker"?"Enabled (Docker)":`Enabled (${e.natsUrl||"nats://localhost:4222"})`:"Disabled"}),a.jsx(Vr,{label:"API Port",value:String(e.serverPort)}),e.publicUrl.trim()&&a.jsx(Vr,{label:"Public URL",value:e.publicUrl.trim().replace(/\/+$/,"")}),a.jsx("div",{className:"border-t border-white/[0.04] pt-2"}),a.jsx(Vr,{label:"Authentication",value:e.authMode==="none"?"Disabled":e.authMode==="password"?`Password (${e.rootEmail||"no email set"})`:`OIDC (${e.oidcProviderName||"Custom"})`}),(e.allowedEmailDomain||e.allowedEmails)&&a.jsx(Vr,{label:"Access",value:[e.allowedEmailDomain?`@${e.allowedEmailDomain}`:"",e.allowedEmails?`${e.allowedEmails.split(`
`).filter(Boolean).length} email(s)`:""].filter(Boolean).join(" + ")}),!(e.allowedEmailDomain||e.allowedEmails)&&e.authMode!=="none"&&a.jsx(Vr,{label:"Access",value:"No restrictions"}),a.jsx("div",{className:"border-t border-white/[0.04] pt-2"}),a.jsx(Vr,{label:"Chat Model",value:e.chatModel}),a.jsx(Vr,{label:"Max Sessions",value:String(e.chatMaxSessions)}),a.jsx(Vr,{label:"Max Turns",value:String(e.chatMaxTurns)}),a.jsx(Vr,{label:"Permissions",value:e.chatPermissionMode==="bypassPermissions"?"Bypass (all auto-approved)":e.chatPermissionMode==="default"?"Default (ask for edits & shell)":e.chatPermissionMode==="acceptEdits"?"Accept Edits (ask for shell only)":"Plan Only (read-only)"})]}),n==="generated"&&a.jsx("div",{className:"rounded-xl border border-emerald-500/20 bg-emerald-500/[0.06] p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-emerald-500/20 text-emerald-400",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-emerald-300",children:"Configuration saved!"}),s&&a.jsx("p",{className:"text-xs text-emerald-400/70 break-all font-mono",children:s}),a.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"The application needs to restart to apply the new configuration."})]})]})}),n==="error"&&a.jsx("div",{className:"rounded-xl border border-red-500/20 bg-red-500/[0.06] p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-red-500/20 text-red-400",children:a.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-red-300",children:"Configuration failed"}),a.jsx("p",{className:"text-xs text-red-400/70",children:l})]})]})}),n==="restarting"&&a.jsx("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02] p-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("svg",{className:"h-5 w-5 animate-spin text-indigo-400",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),a.jsx("span",{className:"text-sm text-gray-400",children:"Restarting application..."})]})}),a.jsxs("div",{className:"flex justify-center gap-4",children:[n==="review"&&a.jsxs("button",{onClick:d,className:"flex items-center gap-2 rounded-xl bg-indigo-600 px-8 py-3 text-sm font-medium text-white transition hover:bg-indigo-500",children:[a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})}),"Generate Config & Save"]}),n==="generating"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[a.jsxs("svg",{className:"h-5 w-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Generating configuration..."]}),n==="generated"&&_n&&a.jsxs("button",{onClick:f,className:"flex items-center gap-2 rounded-xl bg-emerald-600 px-8 py-3 text-sm font-medium text-white transition hover:bg-emerald-500",children:[a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182M2.985 19.644l3.181-3.183"})}),"Restart Application"]}),n==="error"&&a.jsx("button",{onClick:()=>r("review"),className:"flex items-center gap-2 rounded-xl bg-gray-700 px-8 py-3 text-sm font-medium text-white transition hover:bg-gray-600",children:"Try Again"})]}),a.jsx(Pue,{})]})}function Vr({label:e,value:t}){return a.jsxs("div",{className:"flex items-center justify-between py-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:e}),a.jsx("span",{className:"text-xs font-medium text-gray-300",children:t})]})}const Iue=[{title:"Backend (Rust)",icon:"",deps:[{name:"tokio",license:"MIT"},{name:"tokio-stream",license:"MIT"},{name:"futures",license:"MIT / Apache-2.0"},{name:"axum",license:"MIT"},{name:"tower",license:"MIT"},{name:"tower-http",license:"MIT"},{name:"serde",license:"MIT / Apache-2.0"},{name:"serde_json",license:"MIT / Apache-2.0"},{name:"serde_yaml",license:"MIT / Apache-2.0"},{name:"neo4rs",license:"MIT"},{name:"meilisearch-sdk",license:"MIT"},{name:"tree-sitter",license:"MIT"},{name:"tree-sitter-rust",license:"MIT"},{name:"tree-sitter-typescript",license:"MIT"},{name:"tree-sitter-python",license:"MIT"},{name:"tree-sitter-go",license:"MIT"},{name:"tree-sitter-java",license:"MIT"},{name:"tree-sitter-c",license:"MIT"},{name:"tree-sitter-cpp",license:"MIT"},{name:"tree-sitter-ruby",license:"MIT"},{name:"tree-sitter-php",license:"MIT"},{name:"tree-sitter-kotlin-ng",license:"MIT"},{name:"tree-sitter-swift",license:"MIT"},{name:"tree-sitter-bash",license:"MIT"},{name:"clap",license:"MIT / Apache-2.0"},{name:"tracing",license:"MIT"},{name:"tracing-subscriber",license:"MIT"},{name:"anyhow",license:"MIT / Apache-2.0"},{name:"thiserror",license:"MIT / Apache-2.0"},{name:"uuid",license:"MIT / Apache-2.0"},{name:"chrono",license:"MIT / Apache-2.0"},{name:"walkdir",license:"Unlicense / MIT"},{name:"glob",license:"MIT / Apache-2.0"},{name:"sha2",license:"MIT / Apache-2.0"},{name:"hex",license:"MIT / Apache-2.0"},{name:"async-trait",license:"MIT / Apache-2.0"},{name:"reqwest",license:"MIT / Apache-2.0"},{name:"nexus-claude",license:"MIT"},{name:"jsonwebtoken",license:"MIT"},{name:"bcrypt",license:"MIT"},{name:"flate2",license:"MIT / Apache-2.0"},{name:"tar",license:"MIT / Apache-2.0"},{name:"zip",license:"MIT"},{name:"dirs",license:"MIT / Apache-2.0"},{name:"async-nats",license:"Apache-2.0"},{name:"dotenvy",license:"MIT"},{name:"urlencoding",license:"MIT"},{name:"notify",license:"CC0-1.0"},{name:"rust-embed",license:"MIT"},{name:"mime_guess",license:"MIT"}]},{title:"Frontend (JavaScript)",icon:"",deps:[{name:"react",license:"MIT"},{name:"react-dom",license:"MIT"},{name:"react-router-dom",license:"MIT"},{name:"@xyflow/react",license:"MIT"},{name:"dagre",license:"MIT"},{name:"@dnd-kit/core",license:"MIT"},{name:"@dnd-kit/sortable",license:"MIT"},{name:"@dnd-kit/utilities",license:"MIT"},{name:"react-markdown",license:"MIT"},{name:"rehype-highlight",license:"MIT"},{name:"remark-gfm",license:"MIT"},{name:"jotai",license:"MIT"},{name:"vite",license:"MIT"},{name:"tailwindcss",license:"MIT"},{name:"typescript",license:"Apache-2.0"}]},{title:"Desktop (Tauri)",icon:"",deps:[{name:"tauri",license:"MIT / Apache-2.0"},{name:"tauri-plugin-shell",license:"MIT / Apache-2.0"},{name:"tauri-plugin-updater",license:"MIT / Apache-2.0"},{name:"tauri-plugin-opener",license:"MIT / Apache-2.0"},{name:"@tauri-apps/api",license:"MIT / Apache-2.0"},{name:"@tauri-apps/plugin-updater",license:"MIT / Apache-2.0"},{name:"@cloudworxx/tauri-plugin-mac-rounded-corners",license:"MIT"},{name:"bollard",license:"Apache-2.0"},{name:"cocoa",license:"MIT / Apache-2.0"},{name:"objc",license:"MIT"}]}];function Pue(){const[e,t]=S.useState(!1);return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-white/[0.02]",children:[a.jsxs("button",{onClick:()=>t(!e),className:"flex w-full items-center justify-between px-6 py-4 text-left transition hover:bg-white/[0.02]",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Credits & Licenses"}),a.jsx("p",{className:"mt-0.5 text-xs text-gray-500",children:"MIT AND BUSL-1.1   2026 FFS SAS"})]}),a.jsx("svg",{className:`h-4 w-4 shrink-0 text-gray-500 transition-transform ${e?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),e&&a.jsx("div",{className:"space-y-4 border-t border-white/[0.04] px-6 pb-6 pt-4",children:Iue.map(n=>a.jsxs("div",{children:[a.jsxs("h4",{className:"mb-2 text-xs font-medium text-gray-400",children:[n.icon," ",n.title]}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0.5",children:n.deps.map(r=>a.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[a.jsx("span",{className:"truncate text-[11px] text-gray-400",children:r.name}),a.jsx("span",{className:"ml-2 shrink-0 text-[10px] text-gray-600",children:r.license})]},r.name))})]},n.title))})]})}const zue=[x9,Sue,Due,Lue];function Bue(){const e=Ve(hO),t=At(x_),n=At(qu),r=An(),s=Ve(pO),o=Ve(ro),l=Ve(Al),[u,d]=S.useState(!s),[f,p]=S.useState(s);if(S.useEffect(()=>{if(s)return;let b=!1;return w_().then(y=>{if(!b){if(y===!0){t(!0),r("/",{replace:!0});return}d(!1)}}),()=>{b=!0}},[r,t,s]),S.useEffect(()=>{if(!s)return;let b=!1;return(async()=>{try{if(_n){const{invoke:y}=await hr(async()=>{const{invoke:j}=await import("./core-DhEqZVGG.js");return{invoke:j}},[]),v=await y("read_config");if(b)return;const _=v.oidcProvider||"custom",N=Object.keys(vu).includes(_)?_:"custom";n(j=>{var k;return{...j,infraMode:v.infraMode==="external"?"external":"docker",neo4jUri:v.neo4jUri||j.neo4jUri,neo4jUser:v.neo4jUser||j.neo4jUser,neo4jPassword:v.neo4jPassword||"",meilisearchUrl:v.meilisearchUrl||j.meilisearchUrl,meilisearchKey:v.meilisearchKey||"",natsUrl:v.natsUrl||j.natsUrl,natsEnabled:v.natsEnabled??j.natsEnabled,serverPort:v.serverPort||j.serverPort,serveFrontend:v.serveFrontend??j.serveFrontend,publicUrl:v.publicUrl||"",authMode:["none","password","oidc"].includes(v.authMode)?v.authMode:j.authMode,rootEmail:v.rootEmail||"",rootPassword:"",oidcProvider:N,oidcTenant:"",oidcDiscoveryUrl:v.oidcDiscoveryUrl||"",oidcClientId:v.oidcClientId||"",oidcClientSecret:"",oidcProviderName:v.oidcProviderName||((k=vu[N])==null?void 0:k.label)||"",oidcScopes:v.oidcScopes||j.oidcScopes,oidcAuthEndpoint:v.oidcAuthEndpoint||"",oidcTokenEndpoint:v.oidcTokenEndpoint||"",oidcUserinfoEndpoint:v.oidcUserinfoEndpoint||"",allowedEmailDomain:v.allowedEmailDomain||"",allowedEmails:v.allowedEmails||"",chatModel:v.chatModel||j.chatModel,chatMaxSessions:v.chatMaxSessions||j.chatMaxSessions,chatMaxTurns:v.chatMaxTurns||j.chatMaxTurns,chatPermissionMode:["default","acceptEdits","bypassPermissions","plan"].includes(v.chatPermissionMode)?v.chatPermissionMode:j.chatPermissionMode,hasOidcSecret:v.hasOidcSecret||!1,hasNeo4jPassword:v.hasNeo4jPassword||!1,hasMeilisearchKey:v.hasMeilisearchKey||!1}})}}catch(y){console.warn("Failed to read existing config:",y)}finally{b||p(!1)}})(),()=>{b=!0}},[s,n]),s&&!u&&!f&&!(_n||o==="none"||(l==null?void 0:l.is_root)===!0))return r("/",{replace:!0}),null;if(u||f)return a.jsx("div",{className:"flex min-h-0 flex-1 items-center justify-center",style:{backgroundColor:"var(--surface-base)"},children:a.jsx(wr,{size:"lg"})});const m=zue[e]||x9,g=e===3;return a.jsx(xue,{hideNav:g,freeNavigation:s,showClose:s,children:a.jsx(m,{})})}function $ue(){return q7(),a.jsx(bu,{})}function Uue(){S.useEffect(()=>{if(!_n)return;let e;return(async()=>{try{const{enableModernWindowStyle:t,cleanupRoundedCorners:n}=await hr(async()=>{const{enableModernWindowStyle:r,cleanupRoundedCorners:s}=await import("./index-Z9hZp5N5.js");return{enableModernWindowStyle:r,cleanupRoundedCorners:s}},__vite__mapDeps([3,1,0,2]));await t({cornerRadius:10}),e=n}catch{}})(),()=>e==null?void 0:e()},[])}function que(){return Uue(),a.jsx(LB,{children:a.jsx(nB,{children:a.jsx("div",{className:"tauri-window flex h-dvh flex-col overflow-hidden",children:a.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[a.jsx(XX,{}),a.jsx(ZX,{}),a.jsx(M8,{children:a.jsxs(wn,{element:a.jsx($ue,{}),children:[a.jsx(wn,{path:"/login",element:a.jsx(eZ,{})}),a.jsx(wn,{path:"/auth/callback",element:a.jsx(tZ,{})}),a.jsx(wn,{path:"/setup",element:a.jsx(Bue,{})}),a.jsx(wn,{element:a.jsx(WX,{}),children:a.jsx(wn,{element:a.jsx(VX,{}),children:a.jsxs(wn,{path:"/",element:a.jsx(DX,{}),children:[a.jsx(wn,{index:!0,element:a.jsx(P3,{to:"/workspaces",replace:!0})}),a.jsx(wn,{path:"workspaces",element:a.jsx(vZ,{})}),a.jsx(wn,{path:"workspaces/:slug",element:a.jsx(_Z,{})}),a.jsx(wn,{path:"milestones",element:a.jsx(lJ,{})}),a.jsx(wn,{path:"milestones/:milestoneId",element:a.jsx(pJ,{})}),a.jsx(wn,{path:"project-milestones/:milestoneId",element:a.jsx(mJ,{})}),a.jsx(wn,{path:"projects",element:a.jsx(gJ,{})}),a.jsx(wn,{path:"projects/:slug",element:a.jsx(bJ,{})}),a.jsx(wn,{path:"plans",element:a.jsx(vJ,{})}),a.jsx(wn,{path:"plans/:planId",element:a.jsx(Xce,{})}),a.jsx(wn,{path:"tasks",element:a.jsx(rue,{})}),a.jsx(wn,{path:"tasks/:taskId",element:a.jsx(aue,{})}),a.jsx(wn,{path:"notes",element:a.jsx(due,{})}),a.jsx(wn,{path:"code",element:a.jsx(hue,{})}),a.jsx(wn,{path:"feature-graphs/:id",element:a.jsx(gue,{})})]})})})]})})]})})})})}window.__TAURI_INTERNALS__&&document.documentElement.classList.add("tauri");Az.createRoot(document.getElementById("root")).render(a.jsx(S.StrictMode,{children:a.jsx(que,{})}));
